var Ws=Object.defineProperty,Hs=Object.defineProperties;var Gs=Object.getOwnPropertyDescriptors;var ua=Object.getOwnPropertySymbols;var Zs=Object.prototype.hasOwnProperty,Js=Object.prototype.propertyIsEnumerable;var to=(e,t,n)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))Zs.call(t,n)&&to(e,n,t[n]);if(ua)for(var n of ua(t))Js.call(t,n)&&to(e,n,t[n]);return e},Fe=(e,t)=>Hs(e,Gs(t));var bt=(e,t,n)=>(to(e,typeof t!="symbol"?t+"":t,n),n);import{d as Lt,s as qt,c as Qs,l as N,r as E,b as Xs,e as Ys,f as xs,g as ed,h as td,i as nd,j as ld,k as od,B as ca,p as un,n as ad,o as id,q as rd,t as K,u as Y,v as F,w as c,y as m,z as C,A as s,C as o,D as ge,E as S,F as w,G as ot,H as be,I as st,J as kt,K as Dt,L as _t,M as $e,N as x,O as De,P as R,Q as Mt,R as ue,S as Be,T as Qe,U as et,V as pt,W as P,X as Xn,Y as Yt,Z as at,_ as I,$ as pa,a0 as sd,a1 as ae,a2 as Ht,a3 as Gt,a4 as Yn,a5 as we,a6 as ze,a7 as W,a8 as Xe,a9 as Ye,aa as cn,ab as dd,ac as ud,ad as cd,ae as no,af as ma,ag as fa,ah as _a,ai as At,aj as lo,ak as bl,al as va,am as ya,an as wl,ao as kl,ap as pd,aq as md,ar as xt,as as ha,at as $l,au as ga,av as fd,aw as _d,ax as $t,ay as vd,az as yd,aA as hd,aB as ba,aC as gd,aD as We,aE as ht,aF as wa,aG as bd,aH as Tt,aI as oo,aJ as wd,aK as Ut,aL as ao,aM as ka,aN as Sl,aO as $a,aP as io,aQ as kd,aR as Sa,aS as $d,aT as Sd,aU as Cd,aV as Vd,aW as Fd,aX as Ad,aY as Id,aZ as Ed,a_ as Dd,a$ as Td,b0 as Pd,b1 as Od,b2 as Ld,b3 as jd,b4 as Rd,b5 as Ca,b6 as Md,b7 as Va,b8 as Cl,b9 as Ud,ba as xn,bb as Nd,bc as Bd,bd as qd,be as zd,bf as Kd,bg as Wd,bh as Hd,bi as Gd,bj as Zd,bk as Jd,bl as Fa,bm as Qd,bn as Xd,bo as Yd,bp as xd,bq as eu,br as jt,bs as tu,bt as Aa,bu as bn,bv as nu,bw as lu,bx as jn,by as Ia,bz as Zt,bA as ou,bB as au,bC as iu,bD as ro,bE as Ea,bF as ru,bG as su,bH as du,bI as uu,bJ as cu,bK as pu,bL as mu,bM as fu,bN as _u}from"./vendor.ef99adf3.js";import{u as Ke,a as pn,d as wn,b as rt,g as St,S as vu,A as yu,E as hu,c as gu,e as Vl,f as Ct,h as qe,i as Fl,j as Al}from"./use-sync.7a0e9d8b.js";const bu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}};bu();const wu="9.8.0",Vt=Lt({id:"appStore",state:()=>({sidebarOpen:window.innerWidth>=1430,notificationsDrawerOpen:!1,fullScreen:!1,hydrated:!1,hydrating:!1,error:null,authenticated:!1,accessTokenExpiry:0,basemap:"OpenStreetMap"})}),ku="modulepreload",Da={},$u="",U=function(t,n){return!n||n.length===0?t():Promise.all(n.map(l=>{if(l=`${$u}${l}`,l in Da)return;Da[l]=!0;const a=l.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":ku,a||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),a)return new Promise((r,u)=>{i.addEventListener("load",r),i.addEventListener("error",u)})})).then(()=>t())},Su=qt([]),Ta=qt([]);function Il(){return{displays:Ta,displaysRaw:Su}}function el(e){return e?Ta.value.find(({id:t})=>t===e):void 0}const Cu=qt([]),Pa=qt([]);function kn(){return{interfaces:Pa,interfacesRaw:Cu}}function Pt(e){return e?Pa.value.find(({id:t})=>t===e):void 0}const Vu=qt([]),Oa=qt([]);function tl(){return{panels:Oa,panelsRaw:Vu}}function La(e){return e?Oa.value.find(({id:t})=>t===e):void 0}const Fu=qt([]),ja=qt([]);function $n(){return{layouts:ja,layoutsRaw:Fu}}function Ra(e){return e?ja.value.find(({id:t})=>t===e):void 0}const Au=qt([]),Iu=qt([]);function El(){return{modules:Iu,modulesRaw:Au}}var Eu={"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}},"bg-BG":{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"cs-CZ":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"de-DE":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"fr-FR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"it-IT":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ms-MY":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"nl-NL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pl-PL":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"pt-BR":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"ru-RU":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}}},Du={"en-US":{currency:{style:"currency",currency:"USD",notation:"standard"},decimal:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2},percent:{style:"percent",useGrouping:!1}}},k={identifier:"Identifier",avatar:"Avatar",application:"Application",default_provider:"Default",published:"Published",draft:"Draft",archived:"Archived",modules:"Modules",module_bar:"Module Bar",reset_width:"Reset Width",tile_size:"Tile Size",edit_field:"Edit Field",conditions:"Conditions",maps:"Maps",switch_user:"Switch User",item_creation:"Item Creation",item_revision:"Item Revision",enter_a_name:"Enter a Name...",duplicate_field:"Duplicate Field",half_width:"Half Width",full_width:"Full Width",group:"Group",export_items:"Export Items",and:"And",or:"Or",fill_width:"Fill Width",field_name_translations:"Field Name Translations",enter_password_to_enable_tfa:"Enter your password to enable Two-Factor Authentication",add_field:"Add Field",role_name:"Role Name",branch:"Branch",leaf:"Leaf",indeterminate:"Indeterminate",edit_collection:"Edit Collection",exclusive:"Exclusive",children:"Children",db_only_click_to_configure:"Database Only: Click to Configure",show_active_items:"Show Active Items",show_archived_items:"Show Archived Items",show_all_items:"Show All Items",edited:"Value Edited",required:"Required",required_for_app_access:"Required for App Access",requires_value:"Requires value",create_preset:"Create Preset",create_panel:"Create Panel",create_role:"Create Role",create_user:"Create User",delete_panel:"Delete Panel",create_webhook:"Create Webhook",create_translation_string:"Create Translation String",translation_string_key_placeholder:"Translation string key...",translation_string_translations_placeholder:"Add a new translation",edit_translation_string:"Edit Translation String",delete_translation_string_copy:'Are you sure you want to delete the translation string "{key}"? This action can not be undone.',invite_users:"Invite Users",invite:"Invite",email_already_invited:'Email "{email}" has already been invited',subject:"Subject",inbox:"Inbox",emails:"Emails",connection_excellent:"Excellent Connection",connection_good:"Good Connection",connection_fair:"Fair Connection",connection_poor:"Poor Connection",primary:"Primary",rename_folder:"Rename Folder",delete_folder:"Delete Folder",prefix:"Prefix",suffix:"Suffix",reset_bookmark:"Reset Bookmark",update_bookmark:"Update Bookmark",delete_bookmark:"Delete Bookmark",delete_bookmark_copy:'Are you sure you want to delete the "{bookmark}" bookmark? This action cannot be undone.',delete_personal_bookmark:"Delete Personal Bookmark",delete_role_bookmark:"Delete Role Bookmark",delete_global_bookmark:"Delete Global Bookmark",logoutReason:{SIGN_OUT:"Signed out",SESSION_EXPIRED:"Session expired"},public_label:"Public",public_description:"Controls what API data is available without authenticating.",admin_description:"Initial administrative role with unrestricted App/API access.",not_allowed:"Not Allowed",directus_version:"Directus Version",node_version:"Node Version",node_uptime:"Node Uptime",os_type:"OS Type",os_version:"OS Version",os_uptime:"OS Uptime",os_totalmem:"OS Memory",archive:"Archive",archive_confirm:"Are you sure you want to archive this item?",archive_confirm_count:"No Items Selected | Are you sure you want to archive this item? | Are you sure you want to archive these {count} items?",reset_system_permissions_to:"Reset System Permissions to:",reset_system_permissions_copy:"This action will overwrite any custom permissions you may have applied to the system collections. Are you sure?",the_following_are_minimum_permissions:'The following are minimum permissions required when "App Access" is enabled. You can extend permissions beyond this, but not below.',app_access_minimum:"App Access Minimum",recommended_defaults:"Recommended Defaults",unarchive:"Unarchive",unarchive_confirm:"Are you sure you want to unarchive this item?",nested_files_folders_will_be_moved:"Nested files and folders will be moved one level up.",validation_errors_notice:"The following fields have invalid values:",validationError:{eq:"Value has to be {valid}",neq:"Value can't be {invalid}",in:"Value has to be one of {valid}",nin:"Value can't be one of {invalid}",contains:"Value has to contain {substring}",ncontains:"Value can't contain {substring}",gt:"Value has to be greater than {valid}",gte:"Value has to be greater than or equal to {valid}",lt:"Value has to be less than {valid}",lte:"Value has to be less than or equal to {valid}",empty:"Value has to be empty",nempty:"Value can't be empty",null:"Value has to be null",nnull:"Value can't be null",required:"Value is required",unique:"Value has to be unique",regex:"Value doesn't have the correct format"},all_access:"All Access",no_access:"No Access",use_custom:"Use Custom",nullable:"Nullable",allow_null_value:"Allow NULL value",allow_multiple:"Allow Multiple",allow_multiple_to_be_open:"Allow Multiple to be Opened",enter_value_to_replace_nulls:"Please enter a new value to replace any NULLs currently within this field.",field_standard:"Standard",field_presentation:"Presentation & Aliases",field_file:"Single File",field_files:"Multiple Files",field_m2o:"M2O Relationship",field_m2a:"M2A Relationship",field_o2m:"O2M Relationship",field_m2m:"M2M Relationship",field_translations:"Translations",field_group:"Field Group",item_permissions:"Item Permissions",field_permissions:"Field Permissions",field_validation:"Field Validation",field_presets:"Field Presets",permissions_for_role:"Items the {role} Role can {action}.",fields_for_role:"Fields the {role} Role can {action}.",validation_for_role:"Field {action} rules the {role} Role must obey.",presets_for_role:"Field value defaults for the {role} Role.",presentation_and_aliases:"Presentation & Aliases",revision_post_create:"Here is what this item looked like when it was created.",revision_post_update:"Here is what this item looked like after the update.",changes_made:"Below are the specific changes made in this revision.",no_relational_data:"Keep in mind that relational data is not included here.",hide_field:"Hide Field",hide_field_on_detail:"Hide Field on Detail",show_field_on_detail:"Show Field on Detail",delete_field:"Delete Field",fields_and_layout:"Fields & Layout",field_create_success:'Created Field: "{field}"',field_update_success:'Updated Field: "{field}"',duplicate_where_to:"Where would you like to duplicate this field to?",language:"Language",language_placeholder:"Select a language...",aggregate_function:"Aggregate Function",aggregate_precision:"Aggregate Precision",group_aggregation:"Group Aggregation",group_precision:"Group Precision",global:"Global",admins_have_all_permissions:"Admins have all permissions",camera:"Camera",show_zero:"Show Zero",create_in_advanced_field_creation_mode:"Create Field in Advanced Mode",continue_in_advanced_field_creation_mode:"Continue in Advanced Field Creation Mode",validation:"Validation",sum:"Sum",sum_distinct:"Sum Distinct",avg:"Average",avg_distinct:"Average Distinct",count:"Count",count_distinct:"Count Distinct",min:"Min",max:"Max",exposure:"Exposure",shutter:"Shutter",iso:"ISO",focal_length:"Focal Length",schema_setup_key:"This field's database column name and API key",create_field:"Create Field",creating_new_field:"New Field ({collection})",field_in_collection:"{field} ({collection})",reset_page_preferences:"Reset Page Preferences",hidden_field:"Hidden Field",hidden_on_detail:"Hidden on Detail",disabled_editing_value:"Disable editing value",key:"Key",alias:"Alias",bigInteger:"Big Integer",boolean:"Boolean",date:"Date",date_range:"Date Range",datetime:"DateTime",dateTime:"DateTime",precision:"Precision",decimal:"Decimal",float:"Float",integer:"Integer",json:"JSON",xml:"XML",string:"String",text:"Text",time:"Time",timestamp:"Timestamp",uuid:"UUID",hash:"Hash",geometry:"Geometry (All)","geometry.Point":"Point","geometry.LineString":"LineString","geometry.Polygon":"Polygon","geometry.MultiPoint":"MultiPoint","geometry.MultiLineString":"MultiLineString","geometry.MultiPolygon":"MultiPolygon",not_available_for_type:"Not Available for this Type",create_translations:"Create Translations",auto_refresh:"Auto Refresh",refresh_interval:"Refresh Interval",no_refresh:"Do not refresh",refresh_interval_seconds:"Refresh Instantly | Every Second | Every {seconds} Seconds",refresh_interval_minutes:"Every Minute | Every {minutes} Minutes",auto_generate:"Auto-Generate",this_will_auto_setup_fields_relations:"This will automatically setup all required fields and relations.",click_here:"Click here",to_manually_setup_translations:"to manually setup translations.",click_to_manage_translated_fields:"There are no translated fields yet. Click here to create them. | There is one translated field. Click here to manage it. | There are {count} translated fields. Click here to manage them.",fields_group:"Fields Group",no_collections_found:"No collections found.",new_data_alert:"The following will be created within your Data Model:",search_collection:"Search Collection...",new_field:"New Field",new_collection:"New Collection",add_m2o_to_collection:'Add M2O to "{collection}"',add_o2m_to_collection:'Add O2M to "{collection}"',add_m2m_to_collection:'Add M2M to "{collection}"',choose_a_type:"Choose a Type...",determined_by_relationship:"Determined by Relationship",add_note:"Add a helpful note for users...",add_link:"Add Link",custom_link:"Custom Link",default_value:"Default Value",standard_field:"Standard Field",single_file:"Single File",multiple_files:"Multiple Files",m2o_relationship:"Many to One Relationship",o2m_relationship:"One to Many Relationship",m2m_relationship:"Many to Many Relationship",m2a_relationship:"Many to Any Relationship",invalid_item:"Invalid Item",next:"Next",field_name:"Field Name",translations:"Translations",no_translations:"No Translations",note:"Note",enter_a_value:"Enter a value...",enter_a_placeholder:"Enter a placeholder...",length:"Length",soft_length:"Soft Limit",precision_scale:"Precision & Scale",readonly:"Readonly",unique:"Unique",updated_on:"Updated On",updated_by:"Updated By",primary_key:"Primary Key",foreign_key:"Foreign Key",finish_setup:"Finish Setup",dismiss:"Dismiss",raw_value:"Raw value",copy_raw_value:"Copy Raw Value",copy_raw_value_success:"Copied",copy_raw_value_fail:"Copy Failed",paste_raw_value:"Paste Raw Value",paste_raw_value_success:"Pasted",paste_raw_value_fail:"Paste Failed",view_raw_value:"View Raw Value",edit_raw_value:"Edit Raw Value",enter_raw_value:"Enter raw value...",clear_value:"Clear Value",clear_changes:"Clear Changes",reset_to_default:"Reset to Default",undo_changes:"Undo Changes",notifications:"Notifications",show_all_activity:"Show All Activity",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",confirm_revert:"Confirm Revert",confirm_revert_body:"This will revert the item to the selected state.",display:"Display",settings_update_success:"Settings updated",title:"Title",revision_delta_created:"Created",revision_delta_created_externally:"Created Externally",revision_delta_updated:"Updated 1 Field | Updated {count} Fields",revision_delta_deleted:"Deleted",revision_delta_reverted:"Reverted",revision_delta_other:"Revision",revision_delta_by:"{date} by {user}",private_user:"Private User",creation_preview:"Creation Preview",revision_preview:"Revision Preview",updates_made:"Updates Made",leave_comment:"Leave a comment...",post_comment_success:"Comment posted",item_create_success:"Item Created | Items Created",item_update_success:"Item Updated | Items Updated",item_delete_success:"Item Deleted | Items Deleted",this_collection:"This Collection",related_collection:"Related Collection",related_collections:"Related Collections",translations_collection:"Translation Collection",languages_collection:"Languages Collection",import_data_input_placeholder:"CSV or JSON...",import_data_button:"Start Import",import_data_indeterminate:"Importing Data...",import_data_success:"Data successfully imported from {filename}",import_data_error:"This file's data structure doesn't match the collection.",label_import:"Import",label_export:"Export",import_export:"Import / Export",format:"Format",last_page:"Last Page",last_access:"Last Access",fill_template:"Fill with Template Value",a_unique_table_name:"A unique table name...",a_unique_column_name:"A unique column name...",enable_custom_values:"Enable custom values",submit:"Submit",move_to_folder:"Move to Folder",move:"Move",system:"System",add_field_related:"Add Field to Related Collection",interface_label:"Interface",today:"Today",yesterday:"Yesterday",delete_comment:"Delete Comment",delete_share:"Delete Share",functions:{year:"Year",month:"Month",week:"Week",day:"Day",weekday:"Weekday",hour:"Hour",minute:"Minute",second:"Second",count:"Count"},"date-fns_date":"PPP","date-fns_time":"h:mm:ss a","date-fns_time_no_seconds":"h:mm a","date-fns_time_24hour":"HH:mm:ss","date-fns_time_no_seconds_24hour":"HH:mm","date-fns_date_short":"MMM d, u","date-fns_time_short":"h:mma","date-fns_date_short_no_year":"MMM d",minutes:"Minutes",hours:"Hours",month:"Month",year:"Year",select_all:"Select All",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},drag_mode:"Drag Mode",cancel_crop:"Cancel Crop",original:"Original",url:"URL",import_label:"Import",file_details:"File Details",dimensions:"Dimensions",size:"Size",created:"Created",modified:"Modified",checksum:"Checksum",owner:"Owner",edited_by:"Edited by",folder:"Folder",zoom:"Zoom",download:"Download",open:"Open",open_in_new_window:"Open in New Window",open_folder:'Open "{folder}" folder',foreground_color:"Foreground Color",background_color:"Background Color",upload_from_device:"Upload File from Device",choose_from_library:"Choose File from Library",import_from_url:"Import File from URL",replace_from_device:"Replace File from Device",replace_from_library:"Replace File from Library",replace_from_url:"Replace File from URL",no_file_selected:"No File Selected",download_file:"Download File",open_file_in_tab:"Open file in new tab",start_export:"Start Export",not_available_for_local_downloads:"Not available for local downloads",exporting_all_items_in_collection:"Exporting all {total} items within {collection}.",exporting_limited_items_in_collection:"Exporting {limit} out of {total} items within {collection}.",exporting_no_items_to_export:"No items to export. Adjust the exporting configuration below.",exporting_download_hint:"Once completed, this {format} file will automatically be downloaded to your device.",exporting_batch_hint:"This export will be processed in batches, and once completed, the {format} file will be saved to the File Library.",exporting_batch_hint_forced:"Due to the large number of items, this export must be processed in batches, and once completed, the {format} file will be saved to the File Library.",collection_key:"Collection Key",name:"Name",primary_key_field:"Primary Key Field",type:"Type",creating_new_collection:"Creating New Collection",created_by:"Created By",created_on:"Created On",creating_collection_info:"Name the collection and setup its unique \u201Ckey\u201D field...",creating_collection_system:"Enable and rename any of these optional fields.",auto_increment_integer:"Auto-incremented integer",generated_uuid:"Generated UUID",manual_string:"Manually entered string",save_and_create_new:"Save and Create New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",add_existing:"Add Existing",creating_items:"Creating Items",enable_create_button:"Enable Create Button",selecting_items:"Selecting Items",enable_select_button:"Enable Select Button",comments:"Comments",no_comments:"No Comments Yet",click_to_expand:"Click to Expand",select_item:"Select Item",no_items:"No items",search_items:"Search items...",disabled:"Disabled",information:"Information",report_bug:"Report Bug",request_feature:"Request Feature",interface_not_found:'Interface "{interface}" not found.',reset_interface:"Reset Interface",display_not_found:'Display "{display}" not found.',reset_display:"Reset Display","list-m2a":"Builder (M2A)",item_count:"No Items | One Item | {count} Items",no_items_copy:"There are no items in this collection yet.",file_count:"No Files | One File | {count} Files",no_files_copy:"There are no files here.",user_count:"No Users | One User | {count} Users",no_users_copy:"There are no users in this role yet.",webhooks_count:"No Webhooks | One Webhook | {count} Webhooks",no_webhooks_copy:"No webhooks have been configured yet. Get started by creating one below.",no_notifications:"No Notifications",no_notifications_copy:"You're all caught up!",activity_log:"Activity Log",all_items:"All Items",any:"Any",csv:"CSV",no_collections:"No Collections",create_collection:"Create Collection",no_collections_copy_admin:"You don\u2019t have any Collections yet. Click the button below to get started.",no_collections_copy:"You don\u2019t have any Collections yet. Please contact your system administrator.",relationship_not_setup:"The relationship hasn't been configured correctly",display_template_not_setup:"The display template option is misconfigured",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection",select_a_field:"Select a Field",active:"Active",move_to:"Move To...",copy:"Copy",copy_to:"Copy To...",no_other_dashboards_copy:"You don't have any other Dashboards yet.",inactive:"Inactive",users:"Users",activity:"Activity",activity_item:"Activity Item",action:"Action",ip_address:"IP Address",user_agent:"User Agent",webhooks:"Webhooks",decimals:"Decimals",value_decimals:"Value Decimals",min_value:"Min Value",max_value:"Max Value",automatic:"Automatic",field_width:"Field Width",add_filter:"Add Filter",upper_limit:"Upper limit...",lower_limit:"Lower limit...",user_directory:"User Directory",documentation:"Documentation",sidebar:"Sidebar",duration:"Duration",charset:"Charset",second:"second",file_moved:"File Moved",collection_created:"Collection Created",modified_on:"Modified On",card_size:"Card Size",sort_field:"Sort Field",add_sort_field:"Add Sort Field",sort:"Sort",status:"Status",remove:"Remove",toggle_manual_sorting:"Toggle Manual Sorting",bookmark_doesnt_exist:"Bookmark Doesn't Exist",bookmark_doesnt_exist_copy:"The bookmark you're trying to open couldn't be found.",bookmark_doesnt_exist_cta:"Return to collection",select_an_item:"Select an item...",edit:"Edit",enabled:"Enabled",disable_tfa:"Disable 2FA",tfa_scan_code:"Scan the code in your authenticator app to finish setting up 2FA",enter_otp_to_disable_tfa:"Enter the OTP to disable 2FA",create_account:"Create Account",account_created_successfully:"Account Created Successfully",auto_fill:"Auto Fill",corresponding_field:"Corresponding Field",errors:{COLLECTION_NOT_FOUND:"Collection doesn't exist",FIELD_NOT_FOUND:"Field not found",FORBIDDEN:"Forbidden",INVALID_CREDENTIALS:"Wrong username or password",INVALID_OTP:"Wrong one-time password",INVALID_PAYLOAD:"Invalid payload",INVALID_QUERY:"Invalid query",ITEM_LIMIT_REACHED:"Item limit reached",ITEM_NOT_FOUND:"Item not found",ROUTE_NOT_FOUND:"Not found",RECORD_NOT_UNIQUE:"Duplicate value detected",USER_SUSPENDED:"User Suspended",CONTAINS_NULL_VALUES:"Field contains null values",UNPROCESSABLE_ENTITY:"Unprocessable entity",INTERNAL_SERVER_ERROR:"Unexpected Error",NOT_NULL_VIOLATION:"Value can't be null",ILLEGAL_ASSET_TRANSFORMATION:"Image source too large to preview",VALUE_TOO_LONG:"Value is too long",VALUE_OUT_OF_RANGE:"Value is out of range",INVALID_FOREIGN_KEY:"Invalid foreign key",UNKNOWN:"Unexpected Error"},security:"Security",value_hashed:"Value Securely Hashed",bookmark_name:"Bookmark name...",create_bookmark:"Create Bookmark",edit_bookmark:"Edit Bookmark",edit_personal_bookmark:"Edit Personal Bookmark",edit_role_bookmark:"Edit Role Bookmark",edit_global_bookmark:"Edit Global Bookmark",cannot_edit_role_bookmarks:"Can't Edit Role Bookmarks",cannot_edit_global_bookmarks:"Can't Edit Global Bookmarks",bookmarks:"Bookmarks",presets:"Presets",unexpected_error:"Unexpected Error",unexpected_error_copy:"An unexpected error has occurred. Please try again later.",copy_details:"Copy Details",no_app_access:"No App Access",no_app_access_copy:"This user isn't allowed to use the admin app.",password_reset_sent:"We've sent you a secure link to reset your password",password_reset_successful:"Password successfully reset",back:"Back",filter:"Filter",editing_image:"Editing Image",square:"Square",free:"Free",flip_horizontal:"Flip Horizontal",flip_vertical:"Flip Vertical",aspect_ratio:"Aspect Ratio",rotate:"Rotate",all_users:"All Users",delete_collection:"Delete Collection",update_collection_success:"Updated Collection",delete_collection_success:"Deleted Collection",make_collection_visible:"Make Collection Visible",make_collection_hidden:"Make Collection Hidden",make_folder_visible:"Make Folder Visible",make_folder_hidden:"Make Folder Hidden",goto_collection_content:"View Content",start_end_of_count_items:"{start}-{end} of {count} items",start_end_of_count_filtered_items:"{start}-{end} of {count} filtered items",one_item:"1 item",one_filtered_item:"1 filtered item",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This will delete the collection and all items in it. This action is permanent.",delete_folder_are_you_sure:"Are you sure you want to delete this folder? Nested folders and collections will be moved to the top most level.",collections_shown:"Collections Shown",visible_collections:"Visible Collections",hidden_collections:"Hidden Collections",show_hidden_collections:"Show Hidden Collections",hide_hidden_collections:"Hide Hidden Collections",show_header:"Show Header",unmanaged_collections:"Unconfigured Collections",system_collections:"System Collections",placeholder:"Placeholder",icon_left:"Icon Left",icon_right:"Icon Right",count_other_revisions:"{count} Other Revisions",font:"Font",sans_serif:"Sans Serif",serif:"Serif",monospace:"Monospace",divider:"Divider",color:"Color",circle:"Circle",empty_item:"Empty Item",log_in_with:"Log In with {provider}",conditional_styles:"Conditional Styles",advanced_settings:"Advanced Settings",advanced_filter:"Advanced Filter",delete_advanced_filter:"Delete Filter",change_advanced_filter_operator:"Change Operator",operators:{eq:"Equals",neq:"Doesn't equal",lt:"Less than",gt:"Greater than",lte:"Less than or equal to",gte:"Greater than or equal to",in:"Is one of",nin:"Is not one of",null:"Is null",nnull:"Isn't null",contains:"Contains",ncontains:"Doesn't contain",starts_with:"Starts with",nstarts_with:"Doesn't start with",ends_with:"Ends with",nends_with:"Doesn't end with",between:"Is between",nbetween:"Isn't between",empty:"Is empty",nempty:"Isn't empty",all:"Contains these keys",has:"Contains some of these keys",intersects:"Intersects",nintersects:"Doesn't intersect",intersects_bbox:"Intersects bounding box",nintersects_bbox:"Doesn't intersect bounding box",regex:"Matches RegExp"},custom_validation_message:"Custom Validation Message",loading:"Loading...",drop_to_upload:"Drop to Upload",item:"Item",items:"Items",upload_file:"Upload File",upload_file_indeterminate:"Uploading File...",upload_file_success:"File Uploaded",upload_files_indeterminate:"Uploading files {done}/{total}",upload_files_success:"{count} Files Uploaded",upload_pending:"Upload Pending",drag_file_here:"Drag & Drop a File Here",click_to_browse:"Click to Browse",interface_options:"Interface Options",layout_options:"Layout Options",rows:"Rows",columns:"Columns",collection_setup:"Collection Setup",optional_system_fields:"Optional System Fields",value_unique:"Value has to be unique",all_activity:"All Activity",create_item:"Create Item",display_template:"Display Template",language_display_template:"Language Display Template",translations_display_template:"Translations Display Template",n_items_selected:"No Items Selected | 1 Item Selected | {n} Items Selected",per_page:"Per Page",all_files:"All Files",my_files:"My Files",recent_files:"Recent Files",create_folder:"Create Folder",edit_folder:"Edit Folder",folder_name:"Folder Name...",folder_key:"Folder Key...",add_file:"Add File",replace_file:"Replace File",no_results:"No Results",no_results_copy:"Adjust or clear search filters to see results.",clear_filters:"Clear Filters",saves_automatically:"Saves Automatically",role:"Role",edit_role:"Edit Role",rule:"Rule",user:"User",no_presets:"No Presets",no_presets_copy:"No presets or bookmarks have been saved yet.",no_presets_cta:"Add Preset",presets_only:"Presets Only",create:"Create",on_create:"On Create",on_update:"On Update",read:"Read",update:"Update",select_fields:"Select Fields",format_text:"Format Text",format_value:"Format Value",abbreviate_value:"Abbreviate Value",operator:"Operator",bold:"Bold",toggle:"Toggle",icon_on:"Icon On",icon_off:"Icon Off",label:"Label",insights:"Insights",dashboard:"Dashboard",panel:"Panel",panel_options:"Panel Options",panel_header:"Panel Header",panel_name_placeholder:"Name this panel...",panel_note_placeholder:"Optional details about this panel...",panel_delete_confirm:"Are you sure you want to delete this panel? This action can not be undone.",dashboard_delete_confirm:"Are you sure you want to delete this dashboard? This action can not be undone.",edit_dashboard:"Edit Dashboard",delete_dashboard:"Delete Dashboard",visible:"Visible",prefix_placeholder:"Text before value...",suffix_placeholder:"Text after value...",decimals_placeholder:"Number of decimal places...",no_dashboards:"No Dashboards",no_dashboards_copy:"You don\u2019t have any Dashboards yet.",no_data:"No Data",create_dashboard:"Create Dashboard",dashboard_name:"Dashboard Name",full_screen:"Full Screen",full_text_search:"Full-Text Search",edit_panels:"Edit Panels",center_align:"Center Align",left_align:"Left Align",right_align:"Right Align",fit_to_screen:"Fit to Screen",image_url:"Image Url",alt_text:"Alternative Text",media:"Media",quality:"Quality",width:"Width",height:"Height",source:"Source",url_placeholder:"Enter an url...",display_text:"Display Text",display_text_placeholder:"Enter a display text...",interface_group_text_and_numbers:"Text & Numbers",interface_group_selection:"Selection",interface_group_relational:"Relational",interface_group_presentation:"Presentation",interface_group_groups:"Groups",interface_group_other:"Other",tooltip:"Tooltip",tooltip_placeholder:"Enter a tooltip...",unlimited:"Unlimited",open_link_in:"Open link in",new_tab:"New tab",current_tab:"Current tab",save_image:"Save Image",save_media:"Save Media",wysiwyg_options:{aligncenter:"Align Center",alignjustify:"Align Justify",alignleft:"Align Left",alignnone:"Align None",alignright:"Align Right",forecolor:"Foreground Color",backcolor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",codeblock:"Code",blockquote:"Blockquote",bullist:"Bullet List",numlist:"Numbered List",hr:"Horizontal Rule",link:"Add/Edit Link",unlink:"Remove Link",media:"Add/Edit Media",image:"Add/Edit Image",copy:"Copy",cut:"Cut",paste:"Paste",heading:"Heading",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",fontselect:"Select Font",fontsizeselect:"Select Font Size",indent:"Indent",outdent:"Outdent",undo:"Undo",redo:"Redo",remove:"Remove",removeformat:"Remove Format",selectall:"Select All",table:"Table",visualaid:"View invisible elements",source_code:"Edit Source Code",fullscreen:"Full Screen",directionality:"Directionality"},dropdown:"Dropdown",choices:"Choices",choices_option_configured_incorrectly:"Choices configured incorrectly",deselect:"Deselect",deselect_all:"Deselect All",other:"Other...",adding_user:"Adding User",unknown_user:"Unknown User",creating_in:"Creating Item in {collection}",editing_in:"Editing Item in {collection}",viewing_in:"Viewing Item in {collection}",creating_unit:"Creating {unit}",editing_unit:"Editing {unit}",editing_in_batch:"Batch Editing {count} Items",no_options_available:"No options available",settings_data_model:"Data Model",settings_permissions:"Roles & Permissions",settings_project:"Project Settings",settings_webhooks:"Webhooks",settings_presets:"Presets & Bookmarks",settings_translation_strings:"Translation Strings",one_or_more_options_are_missing:"One or more options are missing",scope:"Scope",select:"Select...",layout:"Layout",tree_view:"Tree View",changes_are_permanent:"Changes are permanent",preset_name_placeholder:"Serves as default when empty...",preset_search_placeholder:"Search query...",editing_preset:"Editing Preset",layout_preview:"Layout Preview",layout_setup:"Layout Setup",unsaved_changes:"Unsaved Changes",unsaved_changes_copy:"Are you sure you want to leave this page?",discard_changes:"Discard Changes",discard_all_changes:"Discard All Changes",discard_changes_copy:"Are you sure you want to discard all the changes made?",show_x_axis:"Show X Axis",show_y_axis:"Show Y Axis",keep_editing:"Keep Editing",page_help_collections_overview:"**Collections Overview** \u2014 List of all collections you have access to.",page_help_collections_collection:"**Browse Items** \u2014 Lists all {collection} items you have access to. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_collections_item:"**Item Detail** \u2014 A form for viewing and managing this item. This sidebar also contains a full history of revisions, and embedded comments.",page_help_activity_collection:"**Browse Activity** \u2014 A comprehensive listing of all your user's system and content activity.",page_help_docs_global:"**Documentation Overview** \u2014 Docs tailored specifically to this project's version and schema.",page_help_files_collection:"**File Library** \u2014 Lists all file assets uploaded to this project. Customize layout, filters, and sorting to tailor your view, and even save bookmarks of these different configurations for quick access.",page_help_files_item:"**File Detail** \u2014 A form for managing file metadata, editing the original asset, and updating access settings.",page_help_settings_project:"**Project Settings** \u2014 Your project's global configuration options.",page_help_settings_datamodel_collections:"**Data Model: Collections** \u2014 Lists all collections available. This includes visible, hidden, and system collections, as well as unmanaged database tables that can be added.",page_help_settings_datamodel_fields:"**Data Model: Collection** \u2014 A form for managing this collection and its fields.",page_help_settings_roles_collection:"**Browse Roles** \u2014 Lists the Admin, Public and custom User Roles.",page_help_settings_roles_item:"**Role Detail** \u2014 Manage a role's permissions and other settings.",page_help_settings_presets_collection:"**Browse Presets** \u2014 Lists all presets in the project, including: user, role, and global bookmarks, as well as default views.",page_help_settings_presets_item:"**Preset Detail** \u2014 A form for managing bookmarks and default collection presets.",page_help_settings_webhooks_collection:"**Browse Webhooks** \u2014 Lists all webhooks within the project.",page_help_settings_webhooks_item:"**Webhook Detail** \u2014 A form for creating and managing project webhooks.",page_help_settings_translation_strings_collection:"**Browse Translation Strings** \u2014 Lists all translation strings within the project.",page_help_users_collection:"**User Directory** \u2014 Lists all system users within this project.",page_help_users_item:"**User Detail** \u2014 Manage your account information, or view the details of other users.",page_help_insights_overview:"**Insights** \u2014 List of dashboards you have access to.",page_help_insights_dashboard:"**Dashboard** \u2014 Workspace for managing one or more panels",activity_feed:"Activity Feed",add_new:"Add New",create_new:"Create New",all:"All",none:"None",no_layout_collection_selected_yet:"No layout/collection selected yet",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",cancel:"Cancel",no_upscale:"Don't upscale images",collection:"Collection",collections:"Collections",content:"Content",singleton:"Singleton",singleton_label:"Treat as single object",system_fields_locked:"System fields are locked and can't be edited",directus_collection:{directus_activity:"Accountability logs for all events",directus_collections:"Additional collection configuration and metadata",directus_dashboards:"Dashboards within the Insights module",directus_fields:"Additional field configuration and metadata",directus_files:"Metadata for all managed file assets",directus_folders:"Provides virtual directories for files",directus_migrations:"What version of the database you're using",directus_panels:"Individual panels within Insights dashboards",directus_permissions:"Access permissions for each role",directus_notifications:"Notifications sent to users",directus_presets:"Presets for collection defaults and bookmarks",directus_relations:"Relationship configuration and metadata",directus_revisions:"Data snapshots for all activity",directus_roles:"Permission groups for system users",directus_sessions:"User session information",directus_settings:"Project configuration options",directus_shares:"Tracks externally shared items",directus_users:"System users for the platform",directus_webhooks:"Configuration for event-based HTTP requests"},fields:{directus_activity:{item:"Item Primary Key",action:"Action",collection:"Collection",timestamp:"Action On",user:"Action By",comment:"Comment",user_agent:"User Agent",ip:"IP Address",revisions:"Revisions"},directus_collections:{collection:"Collection",icon:"Icon",note:"Note",color:"Color",display_template:"Display Template",hidden:"Hidden",singleton:"Singleton",translations:"Collection Naming Translations",archive_app_filter:"Archive App Filter",archive_value:"Archive Value",unarchive_value:"Unarchive Value",sort_field:"Sort Field",accountability:"Activity & Revision Tracking",archive_field:"Archive Field",item_duplication_fields:"Item Duplication Fields"},directus_files:{$thumbnail:"Thumbnail",title:"Title",description:"Description",tags:"Tags",location:"Location",storage:"Storage",filename_disk:"Filename (Disk)",filename_download:"Filename (Download)",metadata:"Metadata",type:"Mime Type",filesize:"Filesize",modified_by:"Modified By",modified_on:"Modified On",created_on:"Created On",created_by:"Created By",embed:"Embed",uploaded_by:"Uploaded By",folder:"Folder",width:"Width",uploaded_on:"Uploaded On",height:"Height",charset:"Charset",duration:"Duration"},directus_users:{first_name:"First Name",last_name:"Last Name",email:"Email",password:"Password",avatar:"Avatar",location:"Location",title:"Title",description:"Description",tags:"Tags",user_preferences:"User Preferences",language:"Language",theme:"Theme",theme_auto:"Automatic (Based on System)",theme_light:"Light Mode",theme_dark:"Dark Mode",tfa_secret:"Two-Factor Authentication",admin_options:"Admin Options",status:"Status",status_draft:"Draft",status_invited:"Invited",status_active:"Active",status_suspended:"Suspended",status_archived:"Archived",role:"Role",token:"Token",token_placeholder:"Enter a secure access token...",provider:"Provider",external_identifier:"External Identifier",last_page:"Last Page",last_access:"Last Access",email_notifications:"Email Notifications"},directus_settings:{jpg:"JPEG",png:"PNG",webP:"WebP",tiff:"Tiff",mapping:"Mapping",basemaps:"Basemaps",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",attribution:"Attribution",attribution_placeholder:"\xA9 OpenStreetMap contributors",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",additional_transforms:"Additional Transformations",project_name:"Project Name",project_descriptor:"Project Descriptor",project_url:"Project URL",project_color:"Project Color",project_logo:"Project Logo",default_language:"Default Language",branding:"Branding & Style",public_foreground:"Public Foreground",public_background:"Public Background",public_note:"Public Note",auth_password_policy:"Auth Password Policy",auth_login_attempts:"Auth Login Attempts",files_and_thumbnails:"Files & Storage",storage_default_folder:"Default Folder",storage_asset_presets:"Transformation Presets",storage_asset_transform:"Allowed Transformations",overrides:"App Overrides",custom_css:"Custom CSS",module_bar:"Module Bar",transformations_all:"Allow all transformations",transformations_none:"Disable transformations",transformations_presets:"Limit transformations to presets below"},directus_shares:{name:"Name",role:"Role",password:"Password",date_start:"Date Start",date_end:"Date End",max_uses:"Max Uses",times_used:"Times Used"},directus_fields:{collection:"Collection Name",icon:"Collection Icon",note:"Note",hidden:"Hidden",singleton:"Singleton",translation:"Field Name Translations",display_template:"Template"},directus_roles:{name:"Role Name",icon:"Role Icon",description:"Description",app_access:"App Access",admin_access:"Admin Access",ip_access:"IP Access",enforce_tfa:"Require 2FA",users:"Users in Role",module_list:"Module Navigation"},directus_webhooks:{name:"Name",method:"Method",status:"Status",data:"Data",header:"Header",value:"Value",headers:"Request Headers",data_label:"Send Event Data",triggers:"Triggers",actions:"Actions",collections:"Collections"}},field_options:{directus_settings:{project_name_placeholder:"My project...",project_color_note:"Login & Logo Background",project_logo_note:"White 40x40 SVG/PNG",public_note_placeholder:"A short, public message that supports markdown formatting...",security_divider_title:"Security",auth_password_policy:{none_text:"None \u2013 Not Recommended",weak_text:"Weak \u2013 Minimum 8 Characters",strong_text:"Strong \u2013 Upper / Lowercase / Numbers / Special"},storage_asset_presets:{fit_label:"Fit",upscaling:"Upscaling",fit:{contain_text:"Contain (preserve aspect ratio)",cover_text:"Cover (forces exact size)",fit_text:"Fit inside",outside_text:"Fit outside"}},additional_transforms:"Additional Transformations",transforms_note:"The Sharp method name and its arguments. See https://sharp.pixelplumbing.com/api-constructor for more information.",mapbox_key:"Mapbox Access Token",mapbox_placeholder:"pk.eyJ1Ijo.....",basemaps:"Basemaps",basemaps_name_placeholder:"Enter the basemap name...",basemaps_raster:"Raster",basemaps_tile:"Raster TileJSON",basemaps_style:"Mapbox Style",files_divider_title:"Files & Thumbnails",overrides_divider_title:"App Overrides"},directus_activity:{login:"Login",create:"Create",update:"Update",delete:"Delete"},directus_collections:{track_activity_revisions:"Track Activity & Revisions",only_track_activity:"Only Track Activity",do_not_track_anything:"Do Not Track Anything",collection_setup:"Collection Setup",note_placeholder:"A description of this collection...",hidden_label:"Hide within the App",singleton:"Treat as single object",language:"Language",translation:"Translation",translation_placeholder:"Enter a translation...",collection_name:"Collection Name",singular_unit:"Singular Unit",plural_unit:"Plural Unit",archive_divider:"Archive",archive_field_placeholder:"Choose a field...",archive_app_filter:"Enable App Archive Filter",archive_value:"Value set when archiving...",unarchive_value:"Value set when unarchiving...",sort_divider:"Sort",sort_field:"Choose a field...",accountability_divider:"Accountability",duplication_divider:"Duplication"},directus_files:{title:"A unique title...",description:"An optional description...",location:"An optional location...",storage_divider:"File Naming",filename_disk:"Name on disk storage...",filename_download:"Name when downloading..."},directus_roles:{name:"The unique name for this role...",description:"A description of this role...",ip_access:"Add allowed IP addresses, leave empty to allow all...",fields:{icon_name:"Icon",name_name:"Name",name_placeholder:"Enter a title...",link_name:"Link",link_placeholder:"Relative or absolute URL..."},collections_name:"Collections",collections_addLabel:"Add Collection..."},directus_users:{preferences_divider:"User Preferences",dropdown_auto:"Automatic (Based on System)",dropdown_light:"Light Mode",dropdown_dark:"Dark Mode",admin_divider:"Admin Options",status_dropdown_draft:"Draft",status_dropdown_invited:"Invited",status_dropdown_active:"Active",status_dropdown_suspended:"Suspended",status_dropdown_archived:"Archived",token:"Enter a secure access token..."},directus_webhooks:{status_options_active:"Active",status_options_inactive:"Inactive",data_label:"Send Event Data",triggers_divider:"Triggers",actions_create:"Create",actions_update:"Update",actions_delete:"Delete",actions_login:"Login",headers:{header:"Header",value:"Value",add:"Add Header"}}},no_fields_in_collection:'There are no fields in "{collection}" yet',no_value:"No value",do_nothing:"Do Nothing",generate_and_save_uuid:"Generate and Save UUID",save_current_user_id:"Save Current User ID",save_current_user_role:"Save Current User Role",save_current_datetime:"Save Current Date/Time",always_open:"Always Open",start_open:"Start Open",start_collapsed:"Start Collapsed",block:"Block",inline:"Inline",comment:"Comment",shares:"Shares",unlimited_usage:"Unlimited usage",uses_left:"No uses left | 1 use left | {n} uses left",no_shares:"No shares to show",new_share:"New Share",expired:"Expired",upcoming:"Upcoming",share:"Share",share_item:"Share Item",shared_with_you:"An item has been shared with you",shared_enter_passcode:"Enter your passcode to continue...",shared_leave_blank_for_unlimited:"Leave blank for unlimited",shared_times_remaining:"This link can only be used {n} times",shared_last_remaining:"This link can only be used once",shared_uses_left:"For added security, this shared page has been configured with a limited number of views. There are currently {n} views remaining, after which, the page will no longer be accessible.",share_access_page:"Access Shared Page",share_access_not_found:"This shared page either does not exist or has already exceeded the maximum number of allowed uses.",share_access_not_found_desc:"Please contact an authorized user of this project to request access.",share_access_not_found_title:"Unknown Share Page",share_copy_link:"Copy Link",share_copy_link_success:"Link Copied",share_copy_link_error:"Unable to Copy Link",share_send_link:"Send Link",relational_triggers:"Relational Triggers",referential_action_field_label_m2o:"On Delete of {collection}...",referential_action_field_label_o2m:"On Deselect of {collection}...",referential_action_no_action:"Prevent the deletion",referential_action_cascade:"Delete the {collection} item (cascade)",referential_action_set_null:"Nullify the {field} field",referential_action_set_default:"Set {field} to its default value",choose_action:"Choose Action",continue_label:"Continue",continue_as:"{name} is currently authenticated. If you recognize this account, press continue.",editing_role:"{role} Role",creating_webhook:"Creating Webhook",default_label:"Default",delete_label:"Delete",delete_are_you_sure:"This action is permanent and can not be undone. Are you sure you would like to proceed?",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',description:"Description",done:"Done",duplicate:"Duplicate",limit:"Limit",email:"Email",embed:"Embed",fallback_icon:"Fallback Icon",field:"Field | Fields",file:"File",file_library:"File Library",forgot_password:"Forgot Password",hidden:"Hidden",hidden_in_group:"Hidden in {group}",icon:"Icon",info:"Info",normal:"Normal",success:"Success",warning:"Warning",danger:"Danger",colors:{purple:"Purple",blue:"Blue",green:"Green",yellow:"Yellow",orange:"Orange",red:"Red",black:"Black",gray:"Gray",white:"White"},junction_collection:"Junction Collection",latency:"Latency",login:"Log in",my_activity:"My Activity",not_authenticated:"Not Authenticated",authenticated:"Authenticated",options:"Options",otp:"One-Time Password",password:"Password",permissions:"Permissions",relationship:"Relationship",reset:"Reset",reset_password:"Reset Password",revisions:"Revisions",no_revisions:"No Revisions Yet",revert:"Revert",save:"Save",schema:"Schema",search:"Search",select_existing:"Select Existing",select_field_type:"Select a field type",select_interface:"Select an interface",settings:"Settings",sign_in:"Sign In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",something_went_wrong:"Something went wrong.",sort_direction:"Sort Direction",export_location:"Export Location",export_started:"Export Started",export_started_copy:"Your export has started. You'll be notified when it's ready to download.",sort_asc:"Sort Ascending",sort_desc:"Sort Descending",template:"Template",require_value_to_be_set:"Require value to be set",translation:"Translation",translation_placeholder:"Enter a translation...",value:"Value",view_project:"View Project",weeks:{},report_error:"Report Error",start:"Start",interfaces:{filter:{name:"Filter",description:"Configure a filter object.",add_filter:"Add Filter",add_group:"And / Or group",add_value:"Add Value",logic_type_and:"AND",logic_type_or:"OR",all:"All",any:"Any",and:"and",of_the_following:"of the following",no_rules:"No configured rules",change_value:"Click to change value",placeholder:"Drag rules here"},fields:{name:"Fields"},"group-accordion":{name:"Accordion",description:"Display fields or groups as accordion sections",start:"Start",all_closed:"All Closed",first_opened:"First Opened",all_opened:"All Opened",accordion_mode:"Accordion Mode",max_one_section_open:"Max 1 Section Open"},"presentation-links":{"presentation-links":"Button Links",links:"Links",description:"Configurable link buttons for launching dynamic URLs",style:"Style",primary:"Primary",link:"Links",button:"Buttons",error:"Cannot perform action"},"select-multiple-checkbox":{checkboxes:"Checkboxes",description:"Choose between multiple options via checkboxes",allow_other:"Allow Other",show_more:"Show {count} more",items_shown:"Items Shown"},"select-multiple-checkbox-tree":{name:"Checkboxes (Tree)",description:"Choose between multiple options via nested checkboxes",value_combining:"Value Combining",value_combining_note:"Controls what value is stored when nested selections are made.",show_all:"Show All",show_selected:"Show Selected"},"input-code":{code:"Code",description:"Write or share code snippets",line_number:"Line Number",line_wrapping:"Line Wrapping",placeholder:"Enter code here..."},"system-collection":{collection:"Collection",description:"Select between existing collections",include_system_collections:"Include System Collections"},"system-collections":{collections:"Collections",description:"Select between existing collections",include_system_collections:"Include System Collections"},"select-color":{color:"Color",description:"Enter or select a color value",placeholder:"Choose a color...",preset_colors:"Preset Colors",opacity:"Opacity",preset_colors_add_label:"Add new color...",name_placeholder:"Enter color name..."},datetime:{datetime:"Datetime",description:"Enter dates and times",include_seconds:"Include Seconds",set_to_now:"Set to Now",use_24:"Use 24-Hour Format",placeholder:"Choose a datetime..."},"system-display-template":{"display-template":"Display Template",description:"Mix static text and dynamic field values",collection_field:"Collection field",collection_field_not_setup:"The collection field option is misconfigured",select_a_collection:"Select a Collection"},"presentation-divider":{divider:"Divider",description:"Label and divide fields into sections",title_placeholder:"Enter a title, or leave blank to only show a line...",inline_title:"Inline Title",inline_title_label:"Show title inside line",margin_top:"Margin Top",margin_top_label:"Increase Top Margin"},"select-dropdown":{description:"Select a value from a dropdown",choices_placeholder:"Add a new choice",allow_other:"Allow Other",allow_other_label:"Allow Other Values",allow_none:"Allow None",allow_none_label:"Allow No Selection",choices_name_placeholder:"Enter a name...",choices_value_placeholder:"Enter a value..."},"select-multiple-dropdown":{"select-multiple-dropdown":"Dropdown (Multiple)",description:"Select multiple values from a dropdown"},file:{file:"File",description:"Select or upload a file"},files:{files:"Files",description:"Select or upload multiple files"},"input-hash":{hash:"Hash",description:"Enter a value to be hashed",masked:"Masked",masked_label:"Hide the true values"},"select-icon":{icon:"Icon",description:"Select an icon from a dropdown",search_for_icon:"Search for icon..."},"file-image":{image:"Image",description:"Select or upload an image",crop:"Crop to Fit",crop_label:"Crop image as needed"},"system-interface":{interface:"Interface",description:"Select an existing interface",placeholder:"Select an interface..."},"system-interface-options":{"interface-options":"Interface Options",description:"A modal for selecting options of an interface"},"list-m2m":{"many-to-many":"Many to Many",description:"Select multiple related junction items",display_template_configure_notice:"You can configure the display template after creating this field."},"select-dropdown-m2o":{"many-to-one":"Many to One",description:"Select a single related item",display_template:"Display Template"},"input-rich-text-md":{markdown:"Markdown",description:"Enter and preview markdown",edit:"Edit",preview:"Preview",editorFont:"Editor Font",previewFont:"Preview Font",customSyntax:"Custom Blocks",customSyntax_label:"Add custom syntax types",customSyntax_add:"Add custom syntax",box:"Block / Inline",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},map:{map:"Map",description:"Select a location on a map",zoom:"Zoom",geometry_type:"Geometry Type",geometry_format:"Geometry Format",default_view:"Default View",invalid_options:"Invalid options",invalid_format:"Invalid format ({format})",unexpected_geometry:"Expected {expected}, got {got}.",fit_bounds:"Fit view to data",native:"Native",geojson:"GeoJSON",lnglat:"Longitude, Latitude",wkt:"WKT",wkb:"WKB",click_to_select:"Click to select {geometry}"},"presentation-notice":{notice:"Notice",description:"Display a short notice",text:"Enter notice content here..."},"list-o2m":{"one-to-many":"One to Many",description:"Select multiple related items",no_collection:"The collection could not be found"},"system-folder":{folder:"Folder",description:"Select a folder",field_hint:"Folder for uploaded files. Does not affect existing files.",root_name:"File Library Root",system_default:"System Defaults"},"select-radio":{"radio-buttons":"Radio Buttons",description:"Select one of multiple choices"},list:{repeater:"Repeater",description:"Create multiple entries of the same structure",edit_fields:"Edit Fields",add_label:'"Create New" Label',field_name_placeholder:"Enter field name...",field_note_placeholder:"Enter field note..."},slider:{slider:"Slider",description:"Select a number using a slider",always_show_value:"Always show value"},tags:{tags:"Tags",description:"Select or add tags",whitespace:"Whitespace",hyphen:"Replace with hyphen",underscore:"Replace with underscore",remove:"Remove whitespace",capitalization:"Capitalization",uppercase:"Convert Uppercase",lowercase:"Convert Lowercase",auto_formatter:"Use Title Auto-Formatter",alphabetize:"Alphabetize",alphabetize_label:"Force Alphabetical Order",add_tags:"Add a tag and press Enter..."},input:{input:"Input",description:"Manually enter a value",trim:"Trim",trim_label:"Trim the start and end",mask:"Masked",mask_label:"Hide the real value",clear:"Cleared Value",clear_label:"Save as empty string",minimum_value:"Minimum Value",maximum_value:"Maximum Value",step_interval:"Step Interval",slug:"Slugify",slug_label:"Make entered value URL safe"},"input-multiline":{textarea:"Textarea",description:"Enter multiline plain-text"},"input-translated-string":{"input-translated-string":"Translated Strings",description:"Select or add translation string",search_placeholder:"Search...",new_translation_string:"New Translation String"},boolean:{toggle:"Toggle",description:"Switch between on and off",color_on:"Color On",color_off:"Color Off",label_placeholder:"Enter a label...",label_default:"Enabled"},translations:{display_template:"Display Template",no_collection:"No Collection",toggle_split_view:"Toggle Split View",language_field:"Language Indicator Field"},"list-o2m-tree-view":{description:"Tree view for nested recursive one-to-many items",recursive_only:"The tree view interface only works for recursive relationships."},user:{user:"User",description:"Select an existing directus user",select_mode:"Select Mode",modes:{auto:"Auto",dropdown:"Dropdown",modal:"Modal"}},"input-rich-text-html":{wysiwyg:"WYSIWYG",description:"A rich-text editor writing HTML content",toolbar:"Toolbar",custom_formats:"Custom Formats",options_override:"Options Override",folder_note:"Folder for uploaded files. Does not affect existing files.",imageToken:"Static Access Token",imageToken_label:"Static access token is appended to the assets' URL"},"input-autocomplete-api":{"input-autocomplete-api":"Autocomplete Input (API)",description:"A search typeahead for external API values.",results_path:"Results Path",value_path:"Value Path",text_path:"Text Path",trigger:"Trigger",rate:"Rate"},"group-raw":{name:"Raw Group",description:"Render the fields as-is"},"group-detail":{name:"Detail Group",description:"Render the fields as a collapsable section",show_header:"Show Group Header",header_icon:"Header Icon",header_color:"Header Color",start_open:"Start Open",start_closed:"Start Closed"}},displays:{translations:{translations:"Translations",description:"Preview translations",enable:"Enable",user_language:"Use Current User Language",default_language:"Default Language",language_field:"Language Indicator Field"},boolean:{boolean:"Boolean",description:"Display on and off states",label_on:"Label On",label_on_placeholder:"Enter an on label...",label_off:"Label Off",label_off_placeholder:"Enter an off label...",icon_on:"Icon On",icon_off:"Icon Off",color_on:"Color On",color_off:"Color Off"},collection:{collection:"Collection",description:"Display a collection",icon_label:"Show the collection's icon"},color:{color:"Color",description:"Display a colored dot",default_color:"Default Color"},datetime:{datetime:"Datetime",description:"Display values related to time",format:"Format",format_note:"The custom format accepts the __[Date Field Symbol Table](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table)__",long:"Long",short:"Short",relative:"Relative",relative_label:"Show relative time, eg: 5 minutes ago"},file:{file:"File",description:"Display files"},filesize:{filesize:"File Size",description:"Display the size of a file"},"formatted-value":{"formatted-value":"Formatted Value",description:"Display a formatted version of the text",format:"Format",format_label:"Auto format",font:"Font",font_sans_serif:"Sans serif",font_serif:"Serif",font_monospace:"Monospace",bold:"Bold",bold_label:"Use bold style",italic:"Italic",italic_label:"Use italic style",prefix:"Prefix",prefix_label:"Prepend text",suffix:"Suffix",suffix_label:"Appended Text",color:"Color",background:"Background",icon:"Icon",border:"Border",border_label:"Show border",text:"Text",text_placeholder:"Optional value override..."},"formatted-json-value":{"formatted-json-value":"Formatted JSON value",description:"Display a formatted version of the object"},icon:{icon:"Icon",description:"Display an icon",filled:"Filled",filled_label:"Use the filled variant"},image:{image:"Image",description:"Display a tiny image preview",circle:"Circle",circle_label:"Display as a circle"},labels:{labels:"Labels",description:"Display either a single or a list of labels",default_foreground:"Default Foreground",default_background:"Default Background",format_label:"Format each label",show_as_dot:"Show As Dot",choices_value_placeholder:"Enter a value...",choices_text_placeholder:"Enter a text..."},"mime-type":{"mime-type":"MIME Type",description:"Show the MIME-Type of a file",extension_only:"Extension Only",extension_only_label:"Only show the file extension"},rating:{rating:"Rating",description:"Visualize a number as stars relative to the max-value",simple:"Simple",simple_label:"Show stars in a simple format"},raw:{raw:"Raw Value"},"related-values":{"related-values":"Related Values",description:"Display relative values",display_template_configure_notice:"You can configure the display template after creating this field."},user:{user:"User",description:"Display a directus user",avatar:"Avatar",name:"Name",both:"Both",circle_label:"Show user in a circle"}},layouts:{cards:{cards:"Cards",image_source:"Image Source",image_fit:"Image Fit",crop:"Crop",contain:"Contain",title:"Title",subtitle:"Subtitle"},tabular:{tabular:"Table",spacing:"Spacing",comfortable:"Comfortable",compact:"Compact",cozy:"Cozy"},calendar:{calendar:"Calendar",start_date_field:"Start Date Field",end_date_field:"End Date Field"},map:{map:"Map",basemap:"Basemap",layers:"Layers",cluster_options:"Clustering options",cluster:"Cluster Nearby Data",cluster_radius:"Cluster radius",cluster_minpoints:"Cluster minimum size",cluster_maxzoom:"Maximum zoom for clustering",field:"Geospatial Field",invalid_geometry:"Invalid geometry",find_location:"Find location...",default_template:"Using Collection Default...",no_compatible_fields:"No compatible fields"}},panels:{metric:{name:"Metric",description:"Show a single value based on a query",field:"Field"},time_series:{name:"Time Series",description:"Render a line chart based on values over time",date_field:"Date Field",value_field:"Value Field",fill_type:"Fill Type",curve_type:"Curve Type"},label:{name:"Label",description:"Show some text"},list:{name:"List",description:"Filter and list fields from a collection"}}},Tu=k.identifier,Pu=k.avatar,Ou=k.application,Lu=k.default_provider,ju=k.published,Ru=k.draft,Mu=k.archived,Uu=k.modules,Nu=k.module_bar,Bu=k.reset_width,qu=k.tile_size,zu=k.edit_field,Ku=k.conditions,Wu=k.maps,Hu=k.switch_user,Gu=k.item_creation,Zu=k.item_revision,Ju=k.enter_a_name,Qu=k.duplicate_field,Xu=k.half_width,Yu=k.full_width,xu=k.group,ec=k.export_items,tc=k.and,nc=k.or,lc=k.fill_width,oc=k.field_name_translations,ac=k.enter_password_to_enable_tfa,ic=k.add_field,rc=k.role_name,sc=k.branch,dc=k.leaf,uc=k.indeterminate,cc=k.edit_collection,pc=k.exclusive,mc=k.children,fc=k.db_only_click_to_configure,_c=k.show_active_items,vc=k.show_archived_items,yc=k.show_all_items,hc=k.edited,gc=k.required,bc=k.required_for_app_access,wc=k.requires_value,kc=k.create_preset,$c=k.create_panel,Sc=k.create_role,Cc=k.create_user,Vc=k.delete_panel,Fc=k.create_webhook,Ac=k.create_translation_string,Ic=k.translation_string_key_placeholder,Ec=k.translation_string_translations_placeholder,Dc=k.edit_translation_string,Tc=k.delete_translation_string_copy,Pc=k.invite_users,Oc=k.invite,Lc=k.email_already_invited,jc=k.subject,Rc=k.inbox,Mc=k.emails,Uc=k.connection_excellent,Nc=k.connection_good,Bc=k.connection_fair,qc=k.connection_poor,zc=k.primary,Kc=k.rename_folder,Wc=k.delete_folder,Hc=k.prefix,Gc=k.suffix,Zc=k.reset_bookmark,Jc=k.update_bookmark,Qc=k.delete_bookmark,Xc=k.delete_bookmark_copy,Yc=k.delete_personal_bookmark,xc=k.delete_role_bookmark,ep=k.delete_global_bookmark,tp=k.logoutReason,np=k.public_label,lp=k.public_description,op=k.admin_description,ap=k.not_allowed,ip=k.directus_version,rp=k.node_version,sp=k.node_uptime,dp=k.os_type,up=k.os_version,cp=k.os_uptime,pp=k.os_totalmem,mp=k.archive,fp=k.archive_confirm,_p=k.archive_confirm_count,vp=k.reset_system_permissions_to,yp=k.reset_system_permissions_copy,hp=k.the_following_are_minimum_permissions,gp=k.app_access_minimum,bp=k.recommended_defaults,wp=k.unarchive,kp=k.unarchive_confirm,$p=k.nested_files_folders_will_be_moved,Sp=k.validation_errors_notice,Cp=k.validationError,Vp=k.all_access,Fp=k.no_access,Ap=k.use_custom,Ip=k.nullable,Ep=k.allow_null_value,Dp=k.allow_multiple,Tp=k.allow_multiple_to_be_open,Pp=k.enter_value_to_replace_nulls,Op=k.field_standard,Lp=k.field_presentation,jp=k.field_file,Rp=k.field_files,Mp=k.field_m2o,Up=k.field_m2a,Np=k.field_o2m,Bp=k.field_m2m,qp=k.field_translations,zp=k.field_group,Kp=k.item_permissions,Wp=k.field_permissions,Hp=k.field_validation,Gp=k.field_presets,Zp=k.permissions_for_role,Jp=k.fields_for_role,Qp=k.validation_for_role,Xp=k.presets_for_role,Yp=k.presentation_and_aliases,xp=k.revision_post_create,em=k.revision_post_update,tm=k.changes_made,nm=k.no_relational_data,lm=k.hide_field,om=k.hide_field_on_detail,am=k.show_field_on_detail,im=k.delete_field,rm=k.fields_and_layout,sm=k.field_create_success,dm=k.field_update_success,um=k.duplicate_where_to,cm=k.language,pm=k.language_placeholder,mm=k.aggregate_function,fm=k.aggregate_precision,_m=k.group_aggregation,vm=k.group_precision,ym=k.global,hm=k.admins_have_all_permissions,gm=k.camera,bm=k.show_zero,wm=k.create_in_advanced_field_creation_mode,km=k.continue_in_advanced_field_creation_mode,$m=k.validation,Sm=k.sum,Cm=k.sum_distinct,Vm=k.avg,Fm=k.avg_distinct,Am=k.count,Im=k.count_distinct,Em=k.min,Dm=k.max,Tm=k.exposure,Pm=k.shutter,Om=k.iso,Lm=k.focal_length,jm=k.schema_setup_key,Rm=k.create_field,Mm=k.creating_new_field,Um=k.field_in_collection,Nm=k.reset_page_preferences,Bm=k.hidden_field,qm=k.hidden_on_detail,zm=k.disabled_editing_value,Km=k.key,Wm=k.alias,Hm=k.bigInteger,Gm=k.boolean,Zm=k.date,Jm=k.date_range,Qm=k.datetime,Xm=k.dateTime,Ym=k.precision,xm=k.decimal,ef=k.float,tf=k.integer,nf=k.json,lf=k.xml,of=k.string,af=k.text,rf=k.time,sf=k.timestamp,df=k.uuid,uf=k.hash,cf=k.geometry,pf=k.not_available_for_type,mf=k.create_translations,ff=k.auto_refresh,_f=k.refresh_interval,vf=k.no_refresh,yf=k.refresh_interval_seconds,hf=k.refresh_interval_minutes,gf=k.auto_generate,bf=k.this_will_auto_setup_fields_relations,wf=k.click_here,kf=k.to_manually_setup_translations,$f=k.click_to_manage_translated_fields,Sf=k.fields_group,Cf=k.no_collections_found,Vf=k.new_data_alert,Ff=k.search_collection,Af=k.new_field,If=k.new_collection,Ef=k.add_m2o_to_collection,Df=k.add_o2m_to_collection,Tf=k.add_m2m_to_collection,Pf=k.choose_a_type,Of=k.determined_by_relationship,Lf=k.add_note,jf=k.add_link,Rf=k.custom_link,Mf=k.default_value,Uf=k.standard_field,Nf=k.single_file,Bf=k.multiple_files,qf=k.m2o_relationship,zf=k.o2m_relationship,Kf=k.m2m_relationship,Wf=k.m2a_relationship,Hf=k.invalid_item,Gf=k.next,Zf=k.field_name,Jf=k.translations,Qf=k.no_translations,Xf=k.note,Yf=k.enter_a_value,xf=k.enter_a_placeholder,e_=k.length,t_=k.soft_length,n_=k.precision_scale,l_=k.readonly,o_=k.unique,a_=k.updated_on,i_=k.updated_by,r_=k.primary_key,s_=k.foreign_key,d_=k.finish_setup,u_=k.dismiss,c_=k.raw_value,p_=k.copy_raw_value,m_=k.copy_raw_value_success,f_=k.copy_raw_value_fail,__=k.paste_raw_value,v_=k.paste_raw_value_success,y_=k.paste_raw_value_fail,h_=k.view_raw_value,g_=k.edit_raw_value,b_=k.enter_raw_value,w_=k.clear_value,k_=k.clear_changes,$_=k.reset_to_default,S_=k.undo_changes,C_=k.notifications,V_=k.show_all_activity,F_=k.page_not_found,A_=k.page_not_found_body,I_=k.confirm_revert,E_=k.confirm_revert_body,D_=k.display,T_=k.settings_update_success,P_=k.title,O_=k.revision_delta_created,L_=k.revision_delta_created_externally,j_=k.revision_delta_updated,R_=k.revision_delta_deleted,M_=k.revision_delta_reverted,U_=k.revision_delta_other,N_=k.revision_delta_by,B_=k.private_user,q_=k.creation_preview,z_=k.revision_preview,K_=k.updates_made,W_=k.leave_comment,H_=k.post_comment_success,G_=k.item_create_success,Z_=k.item_update_success,J_=k.item_delete_success,Q_=k.this_collection,X_=k.related_collection,Y_=k.related_collections,x_=k.translations_collection,ev=k.languages_collection,tv=k.import_data_input_placeholder,nv=k.import_data_button,lv=k.import_data_indeterminate,ov=k.import_data_success,av=k.import_data_error,iv=k.label_import,rv=k.label_export,sv=k.import_export,dv=k.format,uv=k.last_page,cv=k.last_access,pv=k.fill_template,mv=k.a_unique_table_name,fv=k.a_unique_column_name,_v=k.enable_custom_values,vv=k.submit,yv=k.move_to_folder,hv=k.move,gv=k.system,bv=k.add_field_related,wv=k.interface_label,kv=k.today,$v=k.yesterday,Sv=k.delete_comment,Cv=k.delete_share,Vv=k.functions,Fv=k.minutes,Av=k.hours,Iv=k.month,Ev=k.year,Dv=k.select_all,Tv=k.months,Pv=k.drag_mode,Ov=k.cancel_crop,Lv=k.original,jv=k.url,Rv=k.import_label,Mv=k.file_details,Uv=k.dimensions,Nv=k.size,Bv=k.created,qv=k.modified,zv=k.checksum,Kv=k.owner,Wv=k.edited_by,Hv=k.folder,Gv=k.zoom,Zv=k.download,Jv=k.open,Qv=k.open_in_new_window,Xv=k.open_folder,Yv=k.foreground_color,xv=k.background_color,ey=k.upload_from_device,ty=k.choose_from_library,ny=k.import_from_url,ly=k.replace_from_device,oy=k.replace_from_library,ay=k.replace_from_url,iy=k.no_file_selected,ry=k.download_file,sy=k.open_file_in_tab,dy=k.start_export,uy=k.not_available_for_local_downloads,cy=k.exporting_all_items_in_collection,py=k.exporting_limited_items_in_collection,my=k.exporting_no_items_to_export,fy=k.exporting_download_hint,_y=k.exporting_batch_hint,vy=k.exporting_batch_hint_forced,yy=k.collection_key,hy=k.name,gy=k.primary_key_field,by=k.type,wy=k.creating_new_collection,ky=k.created_by,$y=k.created_on,Sy=k.creating_collection_info,Cy=k.creating_collection_system,Vy=k.auto_increment_integer,Fy=k.generated_uuid,Ay=k.manual_string,Iy=k.save_and_create_new,Ey=k.save_and_stay,Dy=k.save_as_copy,Ty=k.add_existing,Py=k.creating_items,Oy=k.enable_create_button,Ly=k.selecting_items,jy=k.enable_select_button,Ry=k.comments,My=k.no_comments,Uy=k.click_to_expand,Ny=k.select_item,By=k.no_items,qy=k.search_items,zy=k.disabled,Ky=k.information,Wy=k.report_bug,Hy=k.request_feature,Gy=k.interface_not_found,Zy=k.reset_interface,Jy=k.display_not_found,Qy=k.reset_display,Xy=k.item_count,Yy=k.no_items_copy,xy=k.file_count,eh=k.no_files_copy,th=k.user_count,nh=k.no_users_copy,lh=k.webhooks_count,oh=k.no_webhooks_copy,ah=k.no_notifications,ih=k.no_notifications_copy,rh=k.activity_log,sh=k.all_items,dh=k.any,uh=k.csv,ch=k.no_collections,ph=k.create_collection,mh=k.no_collections_copy_admin,fh=k.no_collections_copy,_h=k.relationship_not_setup,vh=k.display_template_not_setup,yh=k.collection_field_not_setup,hh=k.select_a_collection,gh=k.select_a_field,bh=k.active,wh=k.move_to,kh=k.copy,$h=k.copy_to,Sh=k.no_other_dashboards_copy,Ch=k.inactive,Vh=k.users,Fh=k.activity,Ah=k.activity_item,Ih=k.action,Eh=k.ip_address,Dh=k.user_agent,Th=k.webhooks,Ph=k.decimals,Oh=k.value_decimals,Lh=k.min_value,jh=k.max_value,Rh=k.automatic,Mh=k.field_width,Uh=k.add_filter,Nh=k.upper_limit,Bh=k.lower_limit,qh=k.user_directory,zh=k.documentation,Kh=k.sidebar,Wh=k.duration,Hh=k.charset,Gh=k.second,Zh=k.file_moved,Jh=k.collection_created,Qh=k.modified_on,Xh=k.card_size,Yh=k.sort_field,xh=k.add_sort_field,eg=k.sort,tg=k.status,ng=k.remove,lg=k.toggle_manual_sorting,og=k.bookmark_doesnt_exist,ag=k.bookmark_doesnt_exist_copy,ig=k.bookmark_doesnt_exist_cta,rg=k.select_an_item,sg=k.edit,dg=k.enabled,ug=k.disable_tfa,cg=k.tfa_scan_code,pg=k.enter_otp_to_disable_tfa,mg=k.create_account,fg=k.account_created_successfully,_g=k.auto_fill,vg=k.corresponding_field,yg=k.errors,hg=k.security,gg=k.value_hashed,bg=k.bookmark_name,wg=k.create_bookmark,kg=k.edit_bookmark,$g=k.edit_personal_bookmark,Sg=k.edit_role_bookmark,Cg=k.edit_global_bookmark,Vg=k.cannot_edit_role_bookmarks,Fg=k.cannot_edit_global_bookmarks,Ag=k.bookmarks,Ig=k.presets,Eg=k.unexpected_error,Dg=k.unexpected_error_copy,Tg=k.copy_details,Pg=k.no_app_access,Og=k.no_app_access_copy,Lg=k.password_reset_sent,jg=k.password_reset_successful,Rg=k.back,Mg=k.filter,Ug=k.editing_image,Ng=k.square,Bg=k.free,qg=k.flip_horizontal,zg=k.flip_vertical,Kg=k.aspect_ratio,Wg=k.rotate,Hg=k.all_users,Gg=k.delete_collection,Zg=k.update_collection_success,Jg=k.delete_collection_success,Qg=k.make_collection_visible,Xg=k.make_collection_hidden,Yg=k.make_folder_visible,xg=k.make_folder_hidden,e1=k.goto_collection_content,t1=k.start_end_of_count_items,n1=k.start_end_of_count_filtered_items,l1=k.one_item,o1=k.one_filtered_item,a1=k.delete_collection_are_you_sure,i1=k.delete_folder_are_you_sure,r1=k.collections_shown,s1=k.visible_collections,d1=k.hidden_collections,u1=k.show_hidden_collections,c1=k.hide_hidden_collections,p1=k.show_header,m1=k.unmanaged_collections,f1=k.system_collections,_1=k.placeholder,v1=k.icon_left,y1=k.icon_right,h1=k.count_other_revisions,g1=k.font,b1=k.sans_serif,w1=k.serif,k1=k.monospace,$1=k.divider,S1=k.color,C1=k.circle,V1=k.empty_item,F1=k.log_in_with,A1=k.conditional_styles,I1=k.advanced_settings,E1=k.advanced_filter,D1=k.delete_advanced_filter,T1=k.change_advanced_filter_operator,P1=k.operators,O1=k.custom_validation_message,L1=k.loading,j1=k.drop_to_upload,R1=k.item,M1=k.items,U1=k.upload_file,N1=k.upload_file_indeterminate,B1=k.upload_file_success,q1=k.upload_files_indeterminate,z1=k.upload_files_success,K1=k.upload_pending,W1=k.drag_file_here,H1=k.click_to_browse,G1=k.interface_options,Z1=k.layout_options,J1=k.rows,Q1=k.columns,X1=k.collection_setup,Y1=k.optional_system_fields,x1=k.value_unique,eb=k.all_activity,tb=k.create_item,nb=k.display_template,lb=k.language_display_template,ob=k.translations_display_template,ab=k.n_items_selected,ib=k.per_page,rb=k.all_files,sb=k.my_files,db=k.recent_files,ub=k.create_folder,cb=k.edit_folder,pb=k.folder_name,mb=k.folder_key,fb=k.add_file,_b=k.replace_file,vb=k.no_results,yb=k.no_results_copy,hb=k.clear_filters,gb=k.saves_automatically,bb=k.role,wb=k.edit_role,kb=k.rule,$b=k.user,Sb=k.no_presets,Cb=k.no_presets_copy,Vb=k.no_presets_cta,Fb=k.presets_only,Ab=k.create,Ib=k.on_create,Eb=k.on_update,Db=k.read,Tb=k.update,Pb=k.select_fields,Ob=k.format_text,Lb=k.format_value,jb=k.abbreviate_value,Rb=k.operator,Mb=k.bold,Ub=k.toggle,Nb=k.icon_on,Bb=k.icon_off,qb=k.label,zb=k.insights,Kb=k.dashboard,Wb=k.panel,Hb=k.panel_options,Gb=k.panel_header,Zb=k.panel_name_placeholder,Jb=k.panel_note_placeholder,Qb=k.panel_delete_confirm,Xb=k.dashboard_delete_confirm,Yb=k.edit_dashboard,xb=k.delete_dashboard,e0=k.visible,t0=k.prefix_placeholder,n0=k.suffix_placeholder,l0=k.decimals_placeholder,o0=k.no_dashboards,a0=k.no_dashboards_copy,i0=k.no_data,r0=k.create_dashboard,s0=k.dashboard_name,d0=k.full_screen,u0=k.full_text_search,c0=k.edit_panels,p0=k.center_align,m0=k.left_align,f0=k.right_align,_0=k.fit_to_screen,v0=k.image_url,y0=k.alt_text,h0=k.media,g0=k.quality,b0=k.width,w0=k.height,k0=k.source,$0=k.url_placeholder,S0=k.display_text,C0=k.display_text_placeholder,V0=k.interface_group_text_and_numbers,F0=k.interface_group_selection,A0=k.interface_group_relational,I0=k.interface_group_presentation,E0=k.interface_group_groups,D0=k.interface_group_other,T0=k.tooltip,P0=k.tooltip_placeholder,O0=k.unlimited,L0=k.open_link_in,j0=k.new_tab,R0=k.current_tab,M0=k.save_image,U0=k.save_media,N0=k.wysiwyg_options,B0=k.dropdown,q0=k.choices,z0=k.choices_option_configured_incorrectly,K0=k.deselect,W0=k.deselect_all,H0=k.other,G0=k.adding_user,Z0=k.unknown_user,J0=k.creating_in,Q0=k.editing_in,X0=k.viewing_in,Y0=k.creating_unit,x0=k.editing_unit,e2=k.editing_in_batch,t2=k.no_options_available,n2=k.settings_data_model,l2=k.settings_permissions,o2=k.settings_project,a2=k.settings_webhooks,i2=k.settings_presets,r2=k.settings_translation_strings,s2=k.one_or_more_options_are_missing,d2=k.scope,u2=k.select,c2=k.layout,p2=k.tree_view,m2=k.changes_are_permanent,f2=k.preset_name_placeholder,_2=k.preset_search_placeholder,v2=k.editing_preset,y2=k.layout_preview,h2=k.layout_setup,g2=k.unsaved_changes,b2=k.unsaved_changes_copy,w2=k.discard_changes,k2=k.discard_all_changes,$2=k.discard_changes_copy,S2=k.show_x_axis,C2=k.show_y_axis,V2=k.keep_editing,F2=k.page_help_collections_overview,A2=k.page_help_collections_collection,I2=k.page_help_collections_item,E2=k.page_help_activity_collection,D2=k.page_help_docs_global,T2=k.page_help_files_collection,P2=k.page_help_files_item,O2=k.page_help_settings_project,L2=k.page_help_settings_datamodel_collections,j2=k.page_help_settings_datamodel_fields,R2=k.page_help_settings_roles_collection,M2=k.page_help_settings_roles_item,U2=k.page_help_settings_presets_collection,N2=k.page_help_settings_presets_item,B2=k.page_help_settings_webhooks_collection,q2=k.page_help_settings_webhooks_item,z2=k.page_help_settings_translation_strings_collection,K2=k.page_help_users_collection,W2=k.page_help_users_item,H2=k.page_help_insights_overview,G2=k.page_help_insights_dashboard,Z2=k.activity_feed,J2=k.add_new,Q2=k.create_new,X2=k.all,Y2=k.none,x2=k.no_layout_collection_selected_yet,ew=k.batch_delete_confirm,tw=k.cancel,nw=k.no_upscale,lw=k.collection,ow=k.collections,aw=k.content,iw=k.singleton,rw=k.singleton_label,sw=k.system_fields_locked,dw=k.directus_collection,uw=k.fields,cw=k.field_options,pw=k.no_fields_in_collection,mw=k.no_value,fw=k.do_nothing,_w=k.generate_and_save_uuid,vw=k.save_current_user_id,yw=k.save_current_user_role,hw=k.save_current_datetime,gw=k.always_open,bw=k.start_open,ww=k.start_collapsed,kw=k.block,$w=k.inline,Sw=k.comment,Cw=k.shares,Vw=k.unlimited_usage,Fw=k.uses_left,Aw=k.no_shares,Iw=k.new_share,Ew=k.expired,Dw=k.upcoming,Tw=k.share,Pw=k.share_item,Ow=k.shared_with_you,Lw=k.shared_enter_passcode,jw=k.shared_leave_blank_for_unlimited,Rw=k.shared_times_remaining,Mw=k.shared_last_remaining,Uw=k.shared_uses_left,Nw=k.share_access_page,Bw=k.share_access_not_found,qw=k.share_access_not_found_desc,zw=k.share_access_not_found_title,Kw=k.share_copy_link,Ww=k.share_copy_link_success,Hw=k.share_copy_link_error,Gw=k.share_send_link,Zw=k.relational_triggers,Jw=k.referential_action_field_label_m2o,Qw=k.referential_action_field_label_o2m,Xw=k.referential_action_no_action,Yw=k.referential_action_cascade,xw=k.referential_action_set_null,ek=k.referential_action_set_default,tk=k.choose_action,nk=k.continue_label,lk=k.continue_as,ok=k.editing_role,ak=k.creating_webhook,ik=k.default_label,rk=k.delete_label,sk=k.delete_are_you_sure,dk=k.delete_field_are_you_sure,uk=k.description,ck=k.done,pk=k.duplicate,mk=k.limit,fk=k.email,_k=k.embed,vk=k.fallback_icon,yk=k.field,hk=k.file,gk=k.file_library,bk=k.forgot_password,wk=k.hidden,kk=k.hidden_in_group,$k=k.icon,Sk=k.info,Ck=k.normal,Vk=k.success,Fk=k.warning,Ak=k.danger,Ik=k.colors,Ek=k.junction_collection,Dk=k.latency,Tk=k.login,Pk=k.my_activity,Ok=k.not_authenticated,Lk=k.authenticated,jk=k.options,Rk=k.otp,Mk=k.password,Uk=k.permissions,Nk=k.relationship,Bk=k.reset,qk=k.reset_password,zk=k.revisions,Kk=k.no_revisions,Wk=k.revert,Hk=k.save,Gk=k.schema,Zk=k.search,Jk=k.select_existing,Qk=k.select_field_type,Xk=k.select_interface,Yk=k.settings,xk=k.sign_in,e$=k.sign_out,t$=k.sign_out_confirm,n$=k.something_went_wrong,l$=k.sort_direction,o$=k.export_location,a$=k.export_started,i$=k.export_started_copy,r$=k.sort_asc,s$=k.sort_desc,d$=k.template,u$=k.require_value_to_be_set,c$=k.translation,p$=k.translation_placeholder,m$=k.value,f$=k.view_project,_$=k.weeks,v$=k.report_error,y$=k.start,h$=k.interfaces,g$=k.displays,b$=k.layouts,w$=k.panels,k$=Object.freeze(Object.defineProperty({__proto__:null,default:k,identifier:Tu,avatar:Pu,application:Ou,default_provider:Lu,published:ju,draft:Ru,archived:Mu,modules:Uu,module_bar:Nu,reset_width:Bu,tile_size:qu,edit_field:zu,conditions:Ku,maps:Wu,switch_user:Hu,item_creation:Gu,item_revision:Zu,enter_a_name:Ju,duplicate_field:Qu,half_width:Xu,full_width:Yu,group:xu,export_items:ec,and:tc,or:nc,fill_width:lc,field_name_translations:oc,enter_password_to_enable_tfa:ac,add_field:ic,role_name:rc,branch:sc,leaf:dc,indeterminate:uc,edit_collection:cc,exclusive:pc,children:mc,db_only_click_to_configure:fc,show_active_items:_c,show_archived_items:vc,show_all_items:yc,edited:hc,required:gc,required_for_app_access:bc,requires_value:wc,create_preset:kc,create_panel:$c,create_role:Sc,create_user:Cc,delete_panel:Vc,create_webhook:Fc,create_translation_string:Ac,translation_string_key_placeholder:Ic,translation_string_translations_placeholder:Ec,edit_translation_string:Dc,delete_translation_string_copy:Tc,invite_users:Pc,invite:Oc,email_already_invited:Lc,subject:jc,inbox:Rc,emails:Mc,connection_excellent:Uc,connection_good:Nc,connection_fair:Bc,connection_poor:qc,primary:zc,rename_folder:Kc,delete_folder:Wc,prefix:Hc,suffix:Gc,reset_bookmark:Zc,update_bookmark:Jc,delete_bookmark:Qc,delete_bookmark_copy:Xc,delete_personal_bookmark:Yc,delete_role_bookmark:xc,delete_global_bookmark:ep,logoutReason:tp,public_label:np,public_description:lp,admin_description:op,not_allowed:ap,directus_version:ip,node_version:rp,node_uptime:sp,os_type:dp,os_version:up,os_uptime:cp,os_totalmem:pp,archive:mp,archive_confirm:fp,archive_confirm_count:_p,reset_system_permissions_to:vp,reset_system_permissions_copy:yp,the_following_are_minimum_permissions:hp,app_access_minimum:gp,recommended_defaults:bp,unarchive:wp,unarchive_confirm:kp,nested_files_folders_will_be_moved:$p,validation_errors_notice:Sp,validationError:Cp,all_access:Vp,no_access:Fp,use_custom:Ap,nullable:Ip,allow_null_value:Ep,allow_multiple:Dp,allow_multiple_to_be_open:Tp,enter_value_to_replace_nulls:Pp,field_standard:Op,field_presentation:Lp,field_file:jp,field_files:Rp,field_m2o:Mp,field_m2a:Up,field_o2m:Np,field_m2m:Bp,field_translations:qp,field_group:zp,item_permissions:Kp,field_permissions:Wp,field_validation:Hp,field_presets:Gp,permissions_for_role:Zp,fields_for_role:Jp,validation_for_role:Qp,presets_for_role:Xp,presentation_and_aliases:Yp,revision_post_create:xp,revision_post_update:em,changes_made:tm,no_relational_data:nm,hide_field:lm,hide_field_on_detail:om,show_field_on_detail:am,delete_field:im,fields_and_layout:rm,field_create_success:sm,field_update_success:dm,duplicate_where_to:um,language:cm,language_placeholder:pm,aggregate_function:mm,aggregate_precision:fm,group_aggregation:_m,group_precision:vm,global:ym,admins_have_all_permissions:hm,camera:gm,show_zero:bm,create_in_advanced_field_creation_mode:wm,continue_in_advanced_field_creation_mode:km,validation:$m,sum:Sm,sum_distinct:Cm,avg:Vm,avg_distinct:Fm,count:Am,count_distinct:Im,min:Em,max:Dm,exposure:Tm,shutter:Pm,iso:Om,focal_length:Lm,schema_setup_key:jm,create_field:Rm,creating_new_field:Mm,field_in_collection:Um,reset_page_preferences:Nm,hidden_field:Bm,hidden_on_detail:qm,disabled_editing_value:zm,key:Km,alias:Wm,bigInteger:Hm,boolean:Gm,date:Zm,date_range:Jm,datetime:Qm,dateTime:Xm,precision:Ym,decimal:xm,float:ef,integer:tf,json:nf,xml:lf,string:of,text:af,time:rf,timestamp:sf,uuid:df,hash:uf,geometry:cf,not_available_for_type:pf,create_translations:mf,auto_refresh:ff,refresh_interval:_f,no_refresh:vf,refresh_interval_seconds:yf,refresh_interval_minutes:hf,auto_generate:gf,this_will_auto_setup_fields_relations:bf,click_here:wf,to_manually_setup_translations:kf,click_to_manage_translated_fields:$f,fields_group:Sf,no_collections_found:Cf,new_data_alert:Vf,search_collection:Ff,new_field:Af,new_collection:If,add_m2o_to_collection:Ef,add_o2m_to_collection:Df,add_m2m_to_collection:Tf,choose_a_type:Pf,determined_by_relationship:Of,add_note:Lf,add_link:jf,custom_link:Rf,default_value:Mf,standard_field:Uf,single_file:Nf,multiple_files:Bf,m2o_relationship:qf,o2m_relationship:zf,m2m_relationship:Kf,m2a_relationship:Wf,invalid_item:Hf,next:Gf,field_name:Zf,translations:Jf,no_translations:Qf,note:Xf,enter_a_value:Yf,enter_a_placeholder:xf,length:e_,soft_length:t_,precision_scale:n_,readonly:l_,unique:o_,updated_on:a_,updated_by:i_,primary_key:r_,foreign_key:s_,finish_setup:d_,dismiss:u_,raw_value:c_,copy_raw_value:p_,copy_raw_value_success:m_,copy_raw_value_fail:f_,paste_raw_value:__,paste_raw_value_success:v_,paste_raw_value_fail:y_,view_raw_value:h_,edit_raw_value:g_,enter_raw_value:b_,clear_value:w_,clear_changes:k_,reset_to_default:$_,undo_changes:S_,notifications:C_,show_all_activity:V_,page_not_found:F_,page_not_found_body:A_,confirm_revert:I_,confirm_revert_body:E_,display:D_,settings_update_success:T_,title:P_,revision_delta_created:O_,revision_delta_created_externally:L_,revision_delta_updated:j_,revision_delta_deleted:R_,revision_delta_reverted:M_,revision_delta_other:U_,revision_delta_by:N_,private_user:B_,creation_preview:q_,revision_preview:z_,updates_made:K_,leave_comment:W_,post_comment_success:H_,item_create_success:G_,item_update_success:Z_,item_delete_success:J_,this_collection:Q_,related_collection:X_,related_collections:Y_,translations_collection:x_,languages_collection:ev,import_data_input_placeholder:tv,import_data_button:nv,import_data_indeterminate:lv,import_data_success:ov,import_data_error:av,label_import:iv,label_export:rv,import_export:sv,format:dv,last_page:uv,last_access:cv,fill_template:pv,a_unique_table_name:mv,a_unique_column_name:fv,enable_custom_values:_v,submit:vv,move_to_folder:yv,move:hv,system:gv,add_field_related:bv,interface_label:wv,today:kv,yesterday:$v,delete_comment:Sv,delete_share:Cv,functions:Vv,minutes:Fv,hours:Av,month:Iv,year:Ev,select_all:Dv,months:Tv,drag_mode:Pv,cancel_crop:Ov,original:Lv,url:jv,import_label:Rv,file_details:Mv,dimensions:Uv,size:Nv,created:Bv,modified:qv,checksum:zv,owner:Kv,edited_by:Wv,folder:Hv,zoom:Gv,download:Zv,open:Jv,open_in_new_window:Qv,open_folder:Xv,foreground_color:Yv,background_color:xv,upload_from_device:ey,choose_from_library:ty,import_from_url:ny,replace_from_device:ly,replace_from_library:oy,replace_from_url:ay,no_file_selected:iy,download_file:ry,open_file_in_tab:sy,start_export:dy,not_available_for_local_downloads:uy,exporting_all_items_in_collection:cy,exporting_limited_items_in_collection:py,exporting_no_items_to_export:my,exporting_download_hint:fy,exporting_batch_hint:_y,exporting_batch_hint_forced:vy,collection_key:yy,name:hy,primary_key_field:gy,type:by,creating_new_collection:wy,created_by:ky,created_on:$y,creating_collection_info:Sy,creating_collection_system:Cy,auto_increment_integer:Vy,generated_uuid:Fy,manual_string:Ay,save_and_create_new:Iy,save_and_stay:Ey,save_as_copy:Dy,add_existing:Ty,creating_items:Py,enable_create_button:Oy,selecting_items:Ly,enable_select_button:jy,comments:Ry,no_comments:My,click_to_expand:Uy,select_item:Ny,no_items:By,search_items:qy,disabled:zy,information:Ky,report_bug:Wy,request_feature:Hy,interface_not_found:Gy,reset_interface:Zy,display_not_found:Jy,reset_display:Qy,item_count:Xy,no_items_copy:Yy,file_count:xy,no_files_copy:eh,user_count:th,no_users_copy:nh,webhooks_count:lh,no_webhooks_copy:oh,no_notifications:ah,no_notifications_copy:ih,activity_log:rh,all_items:sh,any:dh,csv:uh,no_collections:ch,create_collection:ph,no_collections_copy_admin:mh,no_collections_copy:fh,relationship_not_setup:_h,display_template_not_setup:vh,collection_field_not_setup:yh,select_a_collection:hh,select_a_field:gh,active:bh,move_to:wh,copy:kh,copy_to:$h,no_other_dashboards_copy:Sh,inactive:Ch,users:Vh,activity:Fh,activity_item:Ah,action:Ih,ip_address:Eh,user_agent:Dh,webhooks:Th,decimals:Ph,value_decimals:Oh,min_value:Lh,max_value:jh,automatic:Rh,field_width:Mh,add_filter:Uh,upper_limit:Nh,lower_limit:Bh,user_directory:qh,documentation:zh,sidebar:Kh,duration:Wh,charset:Hh,second:Gh,file_moved:Zh,collection_created:Jh,modified_on:Qh,card_size:Xh,sort_field:Yh,add_sort_field:xh,sort:eg,status:tg,remove:ng,toggle_manual_sorting:lg,bookmark_doesnt_exist:og,bookmark_doesnt_exist_copy:ag,bookmark_doesnt_exist_cta:ig,select_an_item:rg,edit:sg,enabled:dg,disable_tfa:ug,tfa_scan_code:cg,enter_otp_to_disable_tfa:pg,create_account:mg,account_created_successfully:fg,auto_fill:_g,corresponding_field:vg,errors:yg,security:hg,value_hashed:gg,bookmark_name:bg,create_bookmark:wg,edit_bookmark:kg,edit_personal_bookmark:$g,edit_role_bookmark:Sg,edit_global_bookmark:Cg,cannot_edit_role_bookmarks:Vg,cannot_edit_global_bookmarks:Fg,bookmarks:Ag,presets:Ig,unexpected_error:Eg,unexpected_error_copy:Dg,copy_details:Tg,no_app_access:Pg,no_app_access_copy:Og,password_reset_sent:Lg,password_reset_successful:jg,back:Rg,filter:Mg,editing_image:Ug,square:Ng,free:Bg,flip_horizontal:qg,flip_vertical:zg,aspect_ratio:Kg,rotate:Wg,all_users:Hg,delete_collection:Gg,update_collection_success:Zg,delete_collection_success:Jg,make_collection_visible:Qg,make_collection_hidden:Xg,make_folder_visible:Yg,make_folder_hidden:xg,goto_collection_content:e1,start_end_of_count_items:t1,start_end_of_count_filtered_items:n1,one_item:l1,one_filtered_item:o1,delete_collection_are_you_sure:a1,delete_folder_are_you_sure:i1,collections_shown:r1,visible_collections:s1,hidden_collections:d1,show_hidden_collections:u1,hide_hidden_collections:c1,show_header:p1,unmanaged_collections:m1,system_collections:f1,placeholder:_1,icon_left:v1,icon_right:y1,count_other_revisions:h1,font:g1,sans_serif:b1,serif:w1,monospace:k1,divider:$1,color:S1,circle:C1,empty_item:V1,log_in_with:F1,conditional_styles:A1,advanced_settings:I1,advanced_filter:E1,delete_advanced_filter:D1,change_advanced_filter_operator:T1,operators:P1,custom_validation_message:O1,loading:L1,drop_to_upload:j1,item:R1,items:M1,upload_file:U1,upload_file_indeterminate:N1,upload_file_success:B1,upload_files_indeterminate:q1,upload_files_success:z1,upload_pending:K1,drag_file_here:W1,click_to_browse:H1,interface_options:G1,layout_options:Z1,rows:J1,columns:Q1,collection_setup:X1,optional_system_fields:Y1,value_unique:x1,all_activity:eb,create_item:tb,display_template:nb,language_display_template:lb,translations_display_template:ob,n_items_selected:ab,per_page:ib,all_files:rb,my_files:sb,recent_files:db,create_folder:ub,edit_folder:cb,folder_name:pb,folder_key:mb,add_file:fb,replace_file:_b,no_results:vb,no_results_copy:yb,clear_filters:hb,saves_automatically:gb,role:bb,edit_role:wb,rule:kb,user:$b,no_presets:Sb,no_presets_copy:Cb,no_presets_cta:Vb,presets_only:Fb,create:Ab,on_create:Ib,on_update:Eb,read:Db,update:Tb,select_fields:Pb,format_text:Ob,format_value:Lb,abbreviate_value:jb,operator:Rb,bold:Mb,toggle:Ub,icon_on:Nb,icon_off:Bb,label:qb,insights:zb,dashboard:Kb,panel:Wb,panel_options:Hb,panel_header:Gb,panel_name_placeholder:Zb,panel_note_placeholder:Jb,panel_delete_confirm:Qb,dashboard_delete_confirm:Xb,edit_dashboard:Yb,delete_dashboard:xb,visible:e0,prefix_placeholder:t0,suffix_placeholder:n0,decimals_placeholder:l0,no_dashboards:o0,no_dashboards_copy:a0,no_data:i0,create_dashboard:r0,dashboard_name:s0,full_screen:d0,full_text_search:u0,edit_panels:c0,center_align:p0,left_align:m0,right_align:f0,fit_to_screen:_0,image_url:v0,alt_text:y0,media:h0,quality:g0,width:b0,height:w0,source:k0,url_placeholder:$0,display_text:S0,display_text_placeholder:C0,interface_group_text_and_numbers:V0,interface_group_selection:F0,interface_group_relational:A0,interface_group_presentation:I0,interface_group_groups:E0,interface_group_other:D0,tooltip:T0,tooltip_placeholder:P0,unlimited:O0,open_link_in:L0,new_tab:j0,current_tab:R0,save_image:M0,save_media:U0,wysiwyg_options:N0,dropdown:B0,choices:q0,choices_option_configured_incorrectly:z0,deselect:K0,deselect_all:W0,other:H0,adding_user:G0,unknown_user:Z0,creating_in:J0,editing_in:Q0,viewing_in:X0,creating_unit:Y0,editing_unit:x0,editing_in_batch:e2,no_options_available:t2,settings_data_model:n2,settings_permissions:l2,settings_project:o2,settings_webhooks:a2,settings_presets:i2,settings_translation_strings:r2,one_or_more_options_are_missing:s2,scope:d2,select:u2,layout:c2,tree_view:p2,changes_are_permanent:m2,preset_name_placeholder:f2,preset_search_placeholder:_2,editing_preset:v2,layout_preview:y2,layout_setup:h2,unsaved_changes:g2,unsaved_changes_copy:b2,discard_changes:w2,discard_all_changes:k2,discard_changes_copy:$2,show_x_axis:S2,show_y_axis:C2,keep_editing:V2,page_help_collections_overview:F2,page_help_collections_collection:A2,page_help_collections_item:I2,page_help_activity_collection:E2,page_help_docs_global:D2,page_help_files_collection:T2,page_help_files_item:P2,page_help_settings_project:O2,page_help_settings_datamodel_collections:L2,page_help_settings_datamodel_fields:j2,page_help_settings_roles_collection:R2,page_help_settings_roles_item:M2,page_help_settings_presets_collection:U2,page_help_settings_presets_item:N2,page_help_settings_webhooks_collection:B2,page_help_settings_webhooks_item:q2,page_help_settings_translation_strings_collection:z2,page_help_users_collection:K2,page_help_users_item:W2,page_help_insights_overview:H2,page_help_insights_dashboard:G2,activity_feed:Z2,add_new:J2,create_new:Q2,all:X2,none:Y2,no_layout_collection_selected_yet:x2,batch_delete_confirm:ew,cancel:tw,no_upscale:nw,collection:lw,collections:ow,content:aw,singleton:iw,singleton_label:rw,system_fields_locked:sw,directus_collection:dw,fields:uw,field_options:cw,no_fields_in_collection:pw,no_value:mw,do_nothing:fw,generate_and_save_uuid:_w,save_current_user_id:vw,save_current_user_role:yw,save_current_datetime:hw,always_open:gw,start_open:bw,start_collapsed:ww,block:kw,inline:$w,comment:Sw,shares:Cw,unlimited_usage:Vw,uses_left:Fw,no_shares:Aw,new_share:Iw,expired:Ew,upcoming:Dw,share:Tw,share_item:Pw,shared_with_you:Ow,shared_enter_passcode:Lw,shared_leave_blank_for_unlimited:jw,shared_times_remaining:Rw,shared_last_remaining:Mw,shared_uses_left:Uw,share_access_page:Nw,share_access_not_found:Bw,share_access_not_found_desc:qw,share_access_not_found_title:zw,share_copy_link:Kw,share_copy_link_success:Ww,share_copy_link_error:Hw,share_send_link:Gw,relational_triggers:Zw,referential_action_field_label_m2o:Jw,referential_action_field_label_o2m:Qw,referential_action_no_action:Xw,referential_action_cascade:Yw,referential_action_set_null:xw,referential_action_set_default:ek,choose_action:tk,continue_label:nk,continue_as:lk,editing_role:ok,creating_webhook:ak,default_label:ik,delete_label:rk,delete_are_you_sure:sk,delete_field_are_you_sure:dk,description:uk,done:ck,duplicate:pk,limit:mk,email:fk,embed:_k,fallback_icon:vk,field:yk,file:hk,file_library:gk,forgot_password:bk,hidden:wk,hidden_in_group:kk,icon:$k,info:Sk,normal:Ck,success:Vk,warning:Fk,danger:Ak,colors:Ik,junction_collection:Ek,latency:Dk,login:Tk,my_activity:Pk,not_authenticated:Ok,authenticated:Lk,options:jk,otp:Rk,password:Mk,permissions:Uk,relationship:Nk,reset:Bk,reset_password:qk,revisions:zk,no_revisions:Kk,revert:Wk,save:Hk,schema:Gk,search:Zk,select_existing:Jk,select_field_type:Qk,select_interface:Xk,settings:Yk,sign_in:xk,sign_out:e$,sign_out_confirm:t$,something_went_wrong:n$,sort_direction:l$,export_location:o$,export_started:a$,export_started_copy:i$,sort_asc:r$,sort_desc:s$,template:d$,require_value_to_be_set:u$,translation:c$,translation_placeholder:p$,value:m$,view_project:f$,weeks:_$,report_error:v$,start:y$,interfaces:h$,displays:g$,layouts:b$,panels:w$},Symbol.toStringTag,{value:"Module"}));const Ne=Qs({legacy:!1,locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":k},silentTranslationWarn:!0,datetimeFormats:Eu,numberFormats:Du}),Ma=["en-US"];function en(e){var d,i,r,u,p;const t=Ne.global.t("unexpected_error");let n=e;if(typeof e=="object"&&(n=(p=(u=(r=(i=(d=e==null?void 0:e.response)==null?void 0:d.data)==null?void 0:i.errors)==null?void 0:r[0])==null?void 0:u.extensions)==null?void 0:p.code),!e||!n===void 0)return t;const l=`errors.${n}`;return Ne.global.te(l)===!1?t:Ne.global.t(l)}function Ua(e){let t=e;return typeof e=="string"&&e.startsWith("$t:")&&(t=Ne.global.t(e.replace("$t:",""))),t}function It(e){const t=N.exports.cloneDeep(e);return Object.entries(t).forEach(([n,l])=>{l&&typeof l=="object"&&(t[n]=It(l)),l&&typeof l=="string"&&(t[n]=Ua(l))}),t}var Na={"af-ZA":"Afrikaans (South Africa)","ar-SA":"Arabic (Saudi Arabia)","bn-IN":"Bengali (India)","br-FR":"Breton (France)","bg-BG":"Bulgarian (Bulgaria)","ca-ES":"Catalan (Spain)","zh-CN":"Chinese (Simplified)","hr-HR":"Croatian (Croatia)","cs-CZ":"Czech (Czech Republic)","da-DK":"Danish (Denmark)","nl-NL":"Dutch (Netherlands)","en-CA":"English (Canada)","en-GB":"English (United Kingdom)","en-US":"English (United States)","et-EE":"Estonian (Estonia)","fo-FO":"Faroese (Faroe Islands)","fi-FI":"Finnish (Finland)","fr-CA":"French (Canada)","fr-FR":"French (France)","ka-GE":"Georgian (Georgia)","de-DE":"German (Germany)","el-GR":"Greek (Greece)","he-IL":"Hebrew (Israel)","hi-IN":"Hindi (India)","hu-HU":"Hungarian (Hungary)","is-IS":"Icelandic (Iceland)","id-ID":"Indonesian (Indonesia)","it-IT":"Italian (Italy)","ja-JP":"Japanese (Japan)","ko-KR":"Korean (Korea)","lt-LT":"Lithuanian (Lithuania)","ms-MY":"Malay (Malaysia)","mn-MN":"Mongolian (Mongolia)","no-NO":"Norwegian (Norway)","fa-IR":"Farsi (Iran)","pl-PL":"Polish (Poland)","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","ro-RO":"Romanian (Romania)","ru-RU":"Russian (Russian Federation)","sr-SP":"Serbian (Cyrillic) (Serbia and Montenegro)","sr-CS":"Serbian (Latin) (Serbia and Montenegro)","si-LK":"Sinhala (Sri Lanka)","sk-SK":"Slovak (Slovakia)","sl-SI":"Slovenian (Slovenia)","es-ES":"Spanish (Spain)","es-419":"Spanish (Latin America)","es-cl":"Spanish (Chile)","sv-SE":"Swedish (Sweden)","zh-TW":"Taiwanese Mandarin (Taiwan)","th-TH":"Thai (Thailand)","tr-TR":"Turkish (Turkey)","uk-UA":"Ukrainian (Ukraine)","vi-VN":"Vietnamese (Vietnam)"};let so;function Ie(e){var l,a,d,i,r,u,p,f,_,v;so||(so=_l());const t=((r=(i=(d=(a=(l=e.response)==null?void 0:l.data)==null?void 0:a.errors)==null?void 0:d[0])==null?void 0:i.extensions)==null?void 0:r.code)||((u=e==null?void 0:e.extensions)==null?void 0:u.code)||"UNKNOWN",n=((v=(_=(f=(p=e.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:v.message)||e.message||void 0;console.warn(e),so.add({title:Ne.global.t(`errors.${t}`),text:n,type:"error",dialog:!0,error:e})}let tn=null,Nt=null,nn=null;function nl(){tn===null&&(tn=E(!1)),nn===null&&(nn=E(null)),Nt===null&&(Nt=E(null));const e=E(!1);return{loading:tn,error:nn,translationStrings:Nt,refresh:n,updating:e,update:l,mergeTranslationStringsForLanguage:a};async function t(){if(tn!==null&&Nt!==null&&nn!==null){tn.value=!0,nn.value=null;try{const u=await pe.get("/settings",{params:{fields:["translation_strings"]}}),{translation_strings:p}=u.data.data;p&&(Nt.value=p.map(f=>{var _;return{key:f.key,translations:r((_=f.translations)!=null?_:null)}}))}catch(u){nn.value=u}finally{tn.value=!1}}}async function n(){tn!==null&&Nt!==null&&nn!==null&&(tn.value=!1,nn.value=null,await t())}async function l(u){if(tn===null||Nt===null||nn===null)return;e.value=!0;const f=d([...u]).map(_=>({key:_.key,translations:i(_.translations)}));try{const _=await pe.patch("/settings",{translation_strings:f});if(_.data.data.translation_strings){Nt.value=_.data.data.translation_strings.map(y=>{var h;return{key:y.key,translations:r((h=y.translations)!=null?h:null)}});const{currentUser:v}=He();v&&"language"in v&&v.language?a(v.language):a("en-US")}}catch(_){Ie(_)}finally{e.value=!1}}function a(u){if(!(Nt==null?void 0:Nt.value))return;const p=Nt.value.reduce((f,_)=>{if(!_.key||!_.translations)return f;const v=_.translations.find(y=>y.language===u);return!v||!v.translation?f:Fe(fe({},f),{[_.key]:v.translation})},{});Ne.global.mergeLocaleMessage(u,p)}function d(u){return[...new Map(u.map(p=>[p.key,p])).values()]}function i(u){return!u||u&&u.length===0?{}:u.reduce((p,f)=>Fe(fe({},p),{[f.language]:f.translation}),{})}function r(u){return!u||Object.keys(u).length===0?[]:Object.entries(u).map(([p,f])=>({language:p,translation:f}))}}function $$(e){switch(e){case"./translations/af-ZA.yaml":return U(()=>import("./af-ZA.71af2276.js"),[]);case"./translations/ar-SA.yaml":return U(()=>import("./ar-SA.48a35bb7.js"),[]);case"./translations/bg-BG.yaml":return U(()=>import("./bg-BG.b5eb28ac.js"),[]);case"./translations/bn-IN.yaml":return U(()=>import("./bn-IN.1385676c.js"),[]);case"./translations/br-FR.yaml":return U(()=>import("./br-FR.986ec639.js"),[]);case"./translations/ca-ES.yaml":return U(()=>import("./ca-ES.56d2029e.js"),[]);case"./translations/cs-CZ.yaml":return U(()=>import("./cs-CZ.21eb314a.js"),[]);case"./translations/da-DK.yaml":return U(()=>import("./da-DK.e857b021.js"),[]);case"./translations/de-DE.yaml":return U(()=>import("./de-DE.ec2886ab.js"),[]);case"./translations/el-GR.yaml":return U(()=>import("./el-GR.b15e80c2.js"),[]);case"./translations/en-CA.yaml":return U(()=>import("./en-CA.e43c4502.js"),[]);case"./translations/en-GB.yaml":return U(()=>import("./en-GB.0ad6cc93.js"),[]);case"./translations/en-US.yaml":return U(()=>Promise.resolve().then(function(){return k$}),void 0);case"./translations/es-419.yaml":return U(()=>import("./es-419.e287f065.js"),[]);case"./translations/es-CL.yaml":return U(()=>import("./es-CL.0d49105b.js"),[]);case"./translations/es-ES.yaml":return U(()=>import("./es-ES.e38e7128.js"),[]);case"./translations/et-EE.yaml":return U(()=>import("./et-EE.98069bd5.js"),[]);case"./translations/fa-IR.yaml":return U(()=>import("./fa-IR.1fe08a4a.js"),[]);case"./translations/fi-FI.yaml":return U(()=>import("./fi-FI.afa1b4dc.js"),[]);case"./translations/fo-FO.yaml":return U(()=>import("./fo-FO.ffe478b0.js"),[]);case"./translations/fr-CA.yaml":return U(()=>import("./fr-CA.819e1769.js"),[]);case"./translations/fr-FR.yaml":return U(()=>import("./fr-FR.e66806fc.js"),[]);case"./translations/he-IL.yaml":return U(()=>import("./he-IL.bc84c4a0.js"),[]);case"./translations/hi-IN.yaml":return U(()=>import("./hi-IN.37411d7d.js"),[]);case"./translations/hr-HR.yaml":return U(()=>import("./hr-HR.ab611e2d.js"),[]);case"./translations/hu-HU.yaml":return U(()=>import("./hu-HU.72c70fe7.js"),[]);case"./translations/id-ID.yaml":return U(()=>import("./id-ID.ca6d20b9.js"),[]);case"./translations/is-IS.yaml":return U(()=>import("./is-IS.35706417.js"),[]);case"./translations/it-IT.yaml":return U(()=>import("./it-IT.66c00a2e.js"),[]);case"./translations/ja-JP.yaml":return U(()=>import("./ja-JP.fd245edd.js"),[]);case"./translations/ka-GE.yaml":return U(()=>import("./ka-GE.0bf65322.js"),[]);case"./translations/ko-KR.yaml":return U(()=>import("./ko-KR.30f60079.js"),[]);case"./translations/ku-TR.yaml":return U(()=>import("./ku-TR.9eee23ff.js"),[]);case"./translations/lt-LT.yaml":return U(()=>import("./lt-LT.6a535ee7.js"),[]);case"./translations/mn-MN.yaml":return U(()=>import("./mn-MN.ae109212.js"),[]);case"./translations/ms-MY.yaml":return U(()=>import("./ms-MY.c32899bd.js"),[]);case"./translations/nl-NL.yaml":return U(()=>import("./nl-NL.5b0204f4.js"),[]);case"./translations/no-NO.yaml":return U(()=>import("./no-NO.60cb3308.js"),[]);case"./translations/pl-PL.yaml":return U(()=>import("./pl-PL.e4805847.js"),[]);case"./translations/pt-BR.yaml":return U(()=>import("./pt-BR.e60f90d6.js"),[]);case"./translations/pt-PT.yaml":return U(()=>import("./pt-PT.f0cdce40.js"),[]);case"./translations/ro-RO.yaml":return U(()=>import("./ro-RO.dbffee50.js"),[]);case"./translations/ru-RU.yaml":return U(()=>import("./ru-RU.dce9c3b8.js"),[]);case"./translations/si-LK.yaml":return U(()=>import("./si-LK.f9ef55b1.js"),[]);case"./translations/sk-SK.yaml":return U(()=>import("./sk-SK.5761e1d9.js"),[]);case"./translations/sl-SI.yaml":return U(()=>import("./sl-SI.5337e803.js"),[]);case"./translations/sr-CS.yaml":return U(()=>import("./sr-CS.c4a5b89f.js"),[]);case"./translations/sr-SP.yaml":return U(()=>import("./sr-SP.e7aaced7.js"),[]);case"./translations/sv-SE.yaml":return U(()=>import("./sv-SE.d698f222.js"),[]);case"./translations/th-TH.yaml":return U(()=>import("./th-TH.9bb0dc35.js"),[]);case"./translations/tr-TR.yaml":return U(()=>import("./tr-TR.a3b3e8ea.js"),[]);case"./translations/uk-UA.yaml":return U(()=>import("./uk-UA.17503b1f.js"),[]);case"./translations/vi-VN.yaml":return U(()=>import("./vi-VN.2e3953bd.js"),[]);case"./translations/zh-CN.yaml":return U(()=>import("./zh-CN.ea7e03db.js"),[]);case"./translations/zh-TW.yaml":return U(()=>import("./zh-TW.84c79b23.js"),[]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{modules:S$,modulesRaw:C$}=El(),{layouts:V$,layoutsRaw:F$}=$n(),{interfaces:A$,interfacesRaw:I$}=kn(),{panels:E$,panelsRaw:D$}=tl(),{displays:T$,displaysRaw:P$}=Il();async function uo(e){const t=Je(),n=Oe(),{mergeTranslationStringsForLanguage:l}=nl();if(Object.keys(Na).includes(e)===!1)console.warn(`"${e}" is not an available language in the Directus app.`);else{if(Ma.includes(e)===!1)try{const{default:a}=await $$(`./translations/${e}.yaml`);Ne.global.mergeLocaleMessage(e,a),Ma.push(e)}catch(a){console.warn(a)}Ne.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)}return S$.value=It(C$.value),V$.value=It(F$.value),A$.value=It(I$.value),E$.value=It(D$.value),T$.value=It(P$.value),t.translateCollections(),n.translateFields(),l(e),!0}function O$(e,t){var n;e=N.exports.clone(e);const l=/^((?:-|\+)?\d*?\.?\d+?) *?(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t.trim());if(!l||!l[1])return;const a=parseFloat(l[1]);switch(((n=l[2])!==null&&n!==void 0?n:"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return od(e,a);case"months":case"month":case"mth":case"mo":return ld(e,a);case"weeks":case"week":case"w":return nd(e,a);case"days":case"day":case"d":return td(e,a);case"hours":case"hour":case"hrs":case"hr":case"h":return ed(e,a);case"minutes":case"minute":case"mins":case"min":case"m":return xs(e,a);case"seconds":case"second":case"secs":case"sec":case"s":return Ys(e,a);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Xs(e,a);default:return}}function Rn(e,t,n){if(Array.isArray(e))return e.map(function(l,a){return N.exports.isObjectLike(l)?Rn(l,t,n):t.call(n,l,a)});if(N.exports.isObjectLike(e)){const l={};for(const a in e){const d=e[a];N.exports.isObjectLike(d)?l[a]=Rn(d,t,n):l[a]=t.call(n,d,a)}return l}else return e}const Rt=ca.extend({type:"string",base:ca.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),L$={requireAll:!1};function Ba(e,t){var n,l;e=e||{},t=N.exports.merge({},L$,t);const a={},d=Object.keys(e)[0];if(!d)throw new Error(`[generateJoi] Filter doesn't contain field key. Passed filter: ${JSON.stringify(e)}`);const i=Object.values(e)[0];if(!i)throw new Error(`[generateJoi] Filter doesn't contain filter rule. Passed filter: ${JSON.stringify(e)}`);if(((n=Object.keys(i)[0])===null||n===void 0?void 0:n.startsWith("_"))===!1)a[d]=Rt.object({[d]:Ba(i,t)});else{const r=Object.keys(i)[0],u=Object.values(i)[0],p=()=>{var y;return(y=a[d])!==null&&y!==void 0?y:Rt.any()},f=()=>{var y;return(y=a[d])!==null&&y!==void 0?y:Rt.string()},_=()=>{var y;return(y=a[d])!==null&&y!==void 0?y:Rt.number()},v=()=>{var y;return(y=a[d])!==null&&y!==void 0?y:Rt.date()};if(r==="_eq"&&(a[d]=p().equal(u)),r==="_neq"&&(a[d]=p().not(u)),r==="_contains"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().contains(u)),r==="_ncontains"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().ncontains(u)),r==="_starts_with"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().pattern(new RegExp(`^${N.exports.escapeRegExp(u)}.*`),{name:"starts_with"})),r==="_nstarts_with"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().pattern(new RegExp(`^${N.exports.escapeRegExp(u)}.*`),{name:"starts_with",invert:!0})),r==="_ends_with"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().pattern(new RegExp(`.*${N.exports.escapeRegExp(u)}$`),{name:"ends_with"})),r==="_nends_with"&&(u==null?a[d]=Rt.any().equal(!0):a[d]=f().pattern(new RegExp(`.*${N.exports.escapeRegExp(u)}$`),{name:"ends_with",invert:!0})),r==="_in"&&(a[d]=p().equal(...u)),r==="_nin"&&(a[d]=p().not(...u)),r==="_gt"){const y=u instanceof Date||Number.isNaN(Number(u));a[d]=y?v().greater(u):_().greater(Number(u))}if(r==="_gte"){const y=u instanceof Date||Number.isNaN(Number(u));a[d]=y?v().min(u):_().min(Number(u))}if(r==="_lt"){const y=u instanceof Date||Number.isNaN(Number(u));a[d]=y?v().less(u):_().less(Number(u))}if(r==="_lte"){const y=u instanceof Date||Number.isNaN(Number(u));a[d]=y?v().max(u):_().max(Number(u))}if(r==="_null"&&(a[d]=p().valid(null)),r==="_nnull"&&(a[d]=p().invalid(null)),r==="_empty"&&(a[d]=p().valid("")),r==="_nempty"&&(a[d]=p().invalid("")),r==="_between")if(u.every(y=>Number.isSafeInteger(Number(y instanceof Date?NaN:y)))){const y=u;a[d]=_().greater(y[0]).less(y[1])}else{const y=u;a[d]=v().greater(y[0]).less(y[1])}if(r==="_nbetween")if(u.every(y=>Number.isSafeInteger(Number(y instanceof Date?NaN:y)))){const y=u;a[d]=_().less(y[0]).greater(y[1])}else{const y=u;a[d]=v().less(y[0]).greater(y[1])}if(r==="_submitted"&&(a[d]=p().required()),r==="_regex")if(u==null)a[d]=Rt.any().equal(!0);else{const y=typeof u=="string"?u.startsWith("/")&&u.endsWith("/"):!1;a[d]=f().regex(new RegExp(y?u.slice(1,-1):u))}}return a[d]=(l=a[d])!==null&&l!==void 0?l:Rt.any(),t.requireAll&&(a[d]=a[d].required()),Rt.object(a).unknown()}function j$(e){return e.schema?"table":e.meta?"alias":"unknown"}function qa(e,t){const n=(t==null?void 0:t.includeValidation)?["regex"]:[];switch(e){case"binary":case"hash":case"string":case"csv":return["contains","ncontains","starts_with","nstarts_with","ends_with","nends_with","eq","neq","empty","nempty","null","nnull","in","nin",...n];case"uuid":return["eq","neq","null","nnull","in","nin"];case"json":return["null","nnull"];case"boolean":return["eq","neq","null","nnull"];case"bigInteger":case"integer":case"decimal":case"float":return["eq","neq","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"dateTime":case"date":case"time":return["eq","neq","null","nnull","lt","lte","gt","gte","between","nbetween","null","nnull","in","nin"];case"geometry":return["null","nnull","intersects","nintersects","intersects_bbox","nintersects_bbox"];default:return["contains","ncontains","eq","neq","lt","lte","gt","gte","between","nbetween","empty","nempty","null","nnull","in","nin",...n]}}function R$(e){switch(e){case"dateTime":case"timestamp":return["year","month","week","day","weekday","hour","minute","second"];case"date":return["year","month","week","day","weekday"];case"time":return["hour","minute","second"];case"json":return["count"];case"alias":return["count"];default:return[]}}function za(e){return{year:"integer",month:"integer",week:"integer",day:"integer",weekday:"integer",hour:"integer",minute:"integer",second:"integer",count:"integer"}[e]}const M$=["$NOW","$CURRENT_USER","$CURRENT_ROLE"];function U$(e){return typeof e=="string"&&M$.some(t=>e.startsWith(t))}const N$=["alias","bigInteger","boolean","date","dateTime","decimal","float","integer","json","string","text","time","timestamp","binary","uuid","hash","csv","geometry","geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","unknown"],Ka=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"],B$=["standard","file","files","m2o","o2m","m2m","m2a","presentation","translations","group"],co=/\(([^)]+)\)/;function Dl(e,t,n="and"){return e?t?{[`_${n}`]:[e,t]}:e:t}function Tl(e){return typeof e=="string"?e.split(","):Array.isArray(e)?e:[e]}function po(e,t,n={}){var l;if(e==null)return null;if(!N.exports.isObjectLike(e))return{_eq:mo(e,t,n)};const a=Object.entries(e).map(d=>q$(d,t,n));return a.length===0?{}:a.length===1?(l=a[0])!==null&&l!==void 0?l:null:{_and:a}}function q$([e,t],n,l){return["_or","_and"].includes(String(e))?{[e]:t.map(a=>po(a,n,l))}:["_in","_nin","_between","_nbetween"].includes(String(e))?{[e]:Tl(t).flatMap(a=>mo(a,n,l))}:String(e).startsWith("_")?{[e]:mo(t,n,l)}:{[e]:po(t,n,l)}}function mo(e,t,n){return e==="true"?!0:e==="false"?!1:e==="null"||e==="NULL"?null:U$(e)?z$(e,t,n):e}function z$(e,t,n){var l,a,d;if(e.startsWith("$NOW")){if(e.includes("(")&&e.includes(")")){const i=(l=e.match(co))===null||l===void 0?void 0:l[1];return i?O$(new Date,i):new Date}return new Date}if(e.startsWith("$CURRENT_USER"))return e==="$CURRENT_USER"?(a=t==null?void 0:t.user)!==null&&a!==void 0?a:null:fo(n,e,null);if(e.startsWith("$CURRENT_ROLE"))return e==="$CURRENT_ROLE"?(d=t==null?void 0:t.role)!==null&&d!==void 0?d:null:fo(n,e,null)}function fo(e,t,n){const[l,...a]=t.split("."),d=Array.isArray(e)?e.map(i=>i[l]):e==null?void 0:e[l];return a.length>0?fo(d,a.join("."),n):d!=null?d:n}const K$={year:W$,month:H$,week:G$,day:Z$,weekday:J$,hour:Q$,minute:X$,second:Y$,count:x$};function W$(e){return un(e).getUTCFullYear()}function H$(e){return un(e).getUTCMonth()+1}function G$(e){return ad(un(e))}function Z$(e){return id(un(e))}function J$(e){return rd(un(e))}function Q$(e){return un(e).getUTCHours()}function X$(e){return un(e).getUTCMinutes()}function Y$(e){return un(e).getUTCSeconds()}function x$(e){return Array.isArray(e)?e.length:null}function e8(e,t){const n=N.exports.cloneDeep(e);return l(t),n;function l(a,d){var i;for(const[r,u]of Object.entries(a)){const p=d?d+"."+r:r;if(r.startsWith("_")===!1&&N.exports.isPlainObject(u)&&l(u,p),r.includes("(")&&r.includes(")")){const f=r.split("(")[0],_=(i=r.match(co))===null||i===void 0?void 0:i[1];if(!_||!f)continue;const v=d?d+"."+_:_,y=N.exports.get(n,v);N.exports.set(n,p,K$[f](y))}}}}function Pl(e,t,n){const l=[];if(Object.keys(e)[0]==="_and"){const a=Object.values(e)[0],d=N.exports.flatten(a.map(i=>Pl(i,t,n))).filter(i=>i);l.push(...d)}else if(Object.keys(e)[0]==="_or"){const a=Object.values(e)[0],d=N.exports.flatten(a.map(r=>Pl(r,t,n)));a.length===d.length&&l.push(...d)}else{const a=e8(t,e),d=Ba(e,n),{error:i}=d.validate(a,{abortEarly:!1});i&&l.push(i)}return l}function Et(e){return e?e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email?e.email:Ne.global.t("unknown_user"):Ne.global.t("unknown_user")}const He=Lt({id:"userStore",state:()=>({currentUser:null,loading:!1,error:null}),getters:{fullName(){return this.currentUser===null||"share"in this.currentUser?null:Et(this.currentUser)},isAdmin(){var e;return((e=this.currentUser)==null?void 0:e.role.admin_access)===!0||!1}},actions:{async hydrate(){this.loading=!0;try{const e=["id","language","first_name","last_name","email","last_page","theme","avatar.id","role.admin_access","role.app_access","role.id"],{data:t}=await pe.get("/users/me",{params:{fields:e}});this.currentUser=t.data}catch(e){this.error=e}finally{this.loading=!1}},async dehydrate(){this.$reset()},async trackPage(e){const t=Xo(),n=performance.now();await pe.patch("/users/me/track/page",{last_page:e});const l=performance.now();t.save({timestamp:new Date,latency:l-n}),this.currentUser&&!("share"in this.currentUser)&&(this.currentUser.last_page=e)}}});var z=(e,t)=>{const n=e.__vccOpts||e;for(const[l,a]of t)n[l]=a;return n};const t8=K({props:{filter:{type:Object,default:null}},emits:["update:filter"],setup(e,{emit:t}){const{t:n}=Y(),l=He(),a=F(()=>{var p;return(p=l.currentUser)==null?void 0:p.id}),d=F(()=>{var p,f;return(f=Object.keys((p=e.filter)!=null?p:{})[0])!=null?f:null}),i=F(()=>{var p,f,_;return(_=(f=Object.values((p=e.filter)!=null?p:{})[0])==null?void 0:f._eq)!=null?_:null});return{t:n,currentUserID:a,setNavFilter:r,clearNavFilter:u,filterField:d,filterValue:i};function r(p,f){t("update:filter",{[p]:{_eq:f}})}function u(){t("update:filter",null)}}});function n8(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list");return m(),C(v,{nav:""},{default:s(()=>[o(f,{clickable:"",active:!e.filterField,onClick:e.clearNavFilter},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"access_time"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("all_activity")},null,8,["text"])]),_:1})]),_:1},8,["active","onClick"]),o(f,{clickable:"",active:e.filterField==="user"&&e.filterValue===e.currentUserID,onClick:t[0]||(t[0]=y=>e.setNavFilter("user",e.currentUserID))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"face"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("my_activity")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(_),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="create",onClick:t[1]||(t[1]=y=>e.setNavFilter("action","create"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"add"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("create")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="update",onClick:t[2]||(t[2]=y=>e.setNavFilter("action","update"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"check"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("update")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="delete",onClick:t[3]||(t[3]=y=>e.setNavFilter("action","delete"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"clear"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("delete_label")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="comment",onClick:t[4]||(t[4]=y=>e.setNavFilter("action","comment"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"chat_bubble_outline"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("comment")},null,8,["text"])]),_:1})]),_:1},8,["active"]),o(f,{clickable:"",active:e.filterField==="action"&&e.filterValue==="login",onClick:t[5]||(t[5]=y=>e.setNavFilter("action","login"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"login"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("login")},null,8,["text"])]),_:1})]),_:1},8,["active"])]),_:1})}var l8=z(t8,[["render",n8]]);function Mn(e,t=E(null),n=!1){const l=Pn(),a=He(),d=E(!1),i=F(()=>t.value?!!l.getBookmark(t.value):!1),r=E({});M();const u=E(!0),p=F(()=>r.value.user===a.currentUser.id),f=async j=>{if(n)return;d.value=!0;const B=await l.savePreset(j||r.value);return r.value=Fe(fe({},r.value),{id:B.id,user:B.user}),u.value=!0,d.value=!1,B},_=N.exports.debounce(async()=>{f()},450);function v(){if(i.value){const j=l.getBookmark(Number(t.value));u.value=N.exports.isEqual(r.value,j)}else _()}function y(j,B){r.value=N.exports.assign({},r.value,j),B?f():v()}ge([e,t],()=>{M()}),l.$subscribe(()=>{M()});const h=F({get(){var j;return((j=r.value.layout_options)==null?void 0:j[b.value])||null},set(j){const{layout_options:B}=r.value;y({layout_options:N.exports.assign({},B,{[b.value]:j})})}}),g=F({get(){var j;return((j=r.value.layout_query)==null?void 0:j[b.value])||null},set(j){const{layout_query:B}=r.value;y({layout_query:N.exports.assign({},B,{[b.value]:j})})}}),b=F({get:()=>r.value.layout||"tabular",set:j=>y({layout:j})}),$=F({get:()=>{var j;return(j=r.value.filter)!=null?j:null},set:j=>y({filter:j})}),A=F({get:()=>r.value.refresh_interval||null,set:j=>y({refresh_interval:j})}),V=F({get:()=>r.value.search||null,set:j=>y({search:j})}),T=F({get:()=>{var j;return((j=r.value)==null?void 0:j.bookmark)||null},set:j=>y({bookmark:j},!0)});return{bookmarkExists:i,layout:b,layoutOptions:h,layoutQuery:g,filter:$,search:V,refreshInterval:A,savePreset:f,saveCurrentAsBookmark:L,bookmarkTitle:T,resetPreset:O,bookmarkSaved:u,bookmarkIsMine:p,busy:d,clearLocalSave:D,localPreset:r};function D(){const j=l.getBookmark(Number(t.value));j&&(r.value=fe({},j)),u.value=!0}async function O(){y({layout_query:null,layout_options:null,layout:"tabular",filter:null,search:null,refresh_interval:null},!0)}function M(){const j={layout:"tabular"};t.value===null?N.exports.assign(j,l.getPresetForCollection(e.value)):i.value&&N.exports.assign(j,l.getBookmark(Number(t.value))),r.value=j}async function L(j){const B=fe(fe({},r.value),j);return B.id&&delete B.id,B.user=a.currentUser.id,await f(B)}}const o8=K({props:{modelValue:{type:String,default:"tabular"}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),{layouts:l}=$n(),a=F(()=>{var i;return(i=Ra(e.modelValue))!=null?i:Ra("tabular")}),d=Ke(e,"modelValue",t);return{t:n,currentLayout:a,layouts:l,layout:d}}}),a8={class:"layout-options"},i8={class:"field"},r8={class:"type-label"};function s8(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-select"),u=c("sidebar-detail");return m(),C(u,{icon:"layers",title:e.t("layout_options")},{default:s(()=>[S("div",a8,[S("div",i8,[S("div",r8,w(e.t("layout")),1),o(r,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=p=>e.layout=p),items:e.layouts,"item-text":"name","item-value":"id","item-icon":"icon"},ot({_:2},[e.currentLayout.icon?{name:"prepend",fn:s(()=>[o(i,{name:e.currentLayout.icon},null,8,["name"])])}:void 0]),1032,["modelValue","items"])]),be(e.$slots,"default",{},void 0,!0)])]),_:3},8,["title"])}var Un=z(o8,[["render",s8],["__scopeId","data-v-4f5e1a28"]]);function Wa(e){return e==null||e===void 0}function Jt(e){return e!=null}function Sn(e){const t=E(0),n=E(0),l=new ResizeObserver(([a])=>{t.value=a.contentRect.width,n.value=a.contentRect.height});return st(()=>{const a=kt(e)?e.value:e;Jt(a)&&l.observe(a)}),Dt(()=>{l.disconnect()}),{width:t,height:n}}const d8=K({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),a=E(e.modelValue!==null),d=E(!1),i=E(!1),r=_t("main-element"),u=E(),{width:p}=Sn(r),{width:f}=Sn(u);ge([p,f],()=>{var V;if(!u.value)return;const g=u.value.parentElement,b=g.offsetWidth-4;f.value>b?u.value.style.borderTopLeftRadius=f.value>b+22?22+"px":f.value-b+"px":u.value.style.borderTopLeftRadius="0px";const $=(V=r==null?void 0:r.value)==null?void 0:V.firstElementChild;if(!$)return;const A=g.getBoundingClientRect().right-($.getBoundingClientRect().left+Number(window.getComputedStyle($).paddingLeft.replace("px","")));u.value.style.maxWidth=A>b?`${String(A)}px`:"0px"},{immediate:!0}),ge(a,g=>{g===!0&&l.value!==null&&l.value.focus()});const _=F(()=>{if(!e.filter)return 0;let g=[];return b(e.filter),g.length;function b($){for(const[A,V]of Object.entries($))A==="_and"||A==="_or"?V.forEach(b):A.startsWith("_")?g.push(A):N.exports.isObject(V)&&b(V)}});return{t:n,active:a,disable:y,input:l,emitValue:h,activeFilterCount:_,filterActive:d,onClickOutside:v,filterBorder:i,filterElement:u};function v(g){return!(g.path||g.composedPath()).some($=>{var A;return(A=$==null?void 0:$.classList)==null?void 0:A.contains("v-menu-content")})}function y(){a.value=!1,d.value=!1}function h(){var b;if(!l.value)return;const g=(b=l.value)==null?void 0:b.value;t("update:modelValue",g)}}}),u8=["value","placeholder"],c8={ref:"filterElement",class:"filter"};function p8(e,t,n,l,a,d){const i=c("v-icon"),r=c("interface-system-filter"),u=c("transition-expand"),p=c("v-badge"),f=$e("tooltip"),_=$e("click-outside");return m(),C(p,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:s(()=>[x(S("div",{class:ue(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[7]||(t[7]=v=>e.active=!0)},[x(o(i,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[f,e.active?null:e.t("search"),void 0,{bottom:!0}]]),S("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onInput:t[0]||(t[0]=(...v)=>e.emitValue&&e.emitValue(...v)),onPaste:t[1]||(t[1]=(...v)=>e.emitValue&&e.emitValue(...v))},null,40,u8),e.modelValue?(m(),C(i,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:t[2]||(t[2]=De(v=>e.$emit("update:modelValue",null),["stop"]))})):R("",!0),x(o(i,{clickable:"",class:"icon-filter",name:"filter_list",onClick:t[3]||(t[3]=v=>e.filterActive=!e.filterActive)},null,512),[[f,e.t("filter"),void 0,{bottom:!0}]]),o(u,{onBeforeEnter:t[5]||(t[5]=v=>e.filterBorder=!0),onAfterLeave:t[6]||(t[6]=v=>e.filterBorder=!1)},{default:s(()=>[x(S("div",c8,[o(r,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[4]||(t[4]=v=>e.$emit("update:filter",v))},null,8,["value","collection-name"])],512),[[Mt,e.filterActive]])]),_:1})],2),[[_,{handler:e.disable,middleware:e.onClickOutside}]])]),_:1},8,["value","disabled"])}var Cn=z(d8,[["render",p8],["__scopeId","data-v-e2cc7c6e"]]);const m8=K({name:"ActivityCollection",components:{ActivityNavigation:l8,LayoutSidebarDetail:Un,SearchInput:Cn},props:{primaryKey:{type:String,default:null}},setup(){const{t:e}=Y(),{layout:t,layoutOptions:n,layoutQuery:l,filter:a,search:d}=Mn(E("directus_activity")),{breadcrumb:i}=p(),{layoutWrapper:r}=pn(t),u=E(null);return{t:e,breadcrumb:i,layout:t,layoutWrapper:r,layoutOptions:n,layoutQuery:l,search:d,filter:a,roleFilter:u,mergeFilters:Dl};function p(){return{breadcrumb:F(()=>[{name:e("collection",2),to:"/content"}])}}}}),f8={class:"page-description"};function _8(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("search-input"),p=c("activity-navigation"),f=c("v-info"),_=c("router-view"),v=c("sidebar-detail"),y=c("layout-sidebar-detail"),h=c("private-view"),g=$e("md");return m(),C(Be(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[4]||(t[4]=b=>e.layoutOptions=b),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[5]||(t[5]=b=>e.layoutQuery=b),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,"show-select":"none",collection:"directus_activity"},{default:s(({layoutState:b})=>[o(h,{title:e.t("activity_feed")},{"title-outer:prepend":s(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(i,{name:"access_time"})]),_:1})]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.layout}`),Qe(et(b)),null,16))]),actions:s(()=>[o(u,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=$=>e.search=$),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=$=>e.filter=$),collection:"directus_activity"},null,8,["modelValue","filter"])]),navigation:s(()=>[o(p,{filter:e.roleFilter,"onUpdate:filter":t[2]||(t[2]=$=>e.roleFilter=$)},null,8,["filter"])]),sidebar:s(()=>[o(v,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",f8,null,512),[[g,e.t("page_help_activity_collection")]])]),_:1},8,["title"]),o(y,{modelValue:e.layout,"onUpdate:modelValue":t[3]||(t[3]=$=>e.layout=$)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout}`),Qe(et(b)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout}`),Qe(et(b)),null,16))]),default:s(()=>[(m(),C(Be(`layout-${e.layout}`),pt(b,{class:"layout"}),{"no-results":s(()=>[o(f,{title:e.t("no_results"),icon:"search",center:""},{default:s(()=>[P(w(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":s(()=>[o(f,{title:e.t("item_count",0),icon:"access_time",center:""},{default:s(()=>[P(w(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)),o(_,{name:"detail","primary-key":e.primaryKey},null,8,["primary-key"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","filter-user","filter-system","search"])}var v8=z(m8,[["render",_8],["__scopeId","data-v-40e36dc2"]]);const Ha=Symbol();function Vn(){const e=E(!1);let t;const n=new Promise(a=>{t=a});return st(()=>{e.value=!0}),Xn(()=>(e.value=!1,n)),Yt(Ha,l),e;function l(){t()}}function y8(){return _t(Ha,void 0)}const h8=K({name:"ActivityDetail",props:{primaryKey:{type:String,required:!0}},setup(e){const{t,te:n}=Y(),l=at(),a=Vn(),d=E(),i=E(!1),r=E(null),u=F(()=>{if(!(!d.value||d.value.collection.startsWith("directus_")))return`/content/${d.value.collection}/${encodeURIComponent(d.value.item)}`});return ge(()=>e.primaryKey,p,{immediate:!0}),{t,isOpen:a,item:d,loading:i,error:r,close:f,openItemLink:u,userName:Et};async function p(){i.value=!0;try{const _=await pe.get(`/activity/${e.primaryKey}`,{params:{fields:["user.id","user.email","user.first_name","user.last_name","action","timestamp","ip","user_agent","collection","item"]}});d.value=_.data.data,d.value&&(n(`field_options.directus_activity.${d.value.action}`)&&(d.value.action=t(`field_options.directus_activity.${d.value.action}`)),d.value.timestamp=new Date(d.value.timestamp).toLocaleString(Ne.global.locale.value))}catch(_){r.value=_}finally{i.value=!1}}function f(){l.push("/activity")}}}),g8={key:1,class:"content"},b8={key:2,class:"content"},w8={class:"type-label"},k8={class:"type-label"},$8={class:"type-label"},S8={class:"type-label"},C8={class:"type-label"},V8={class:"type-label"},F8={class:"type-label"};function A8(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("v-notice"),u=c("user-popover"),p=c("v-icon"),f=c("v-button"),_=c("v-drawer"),v=$e("tooltip");return m(),C(_,{"model-value":e.isOpen,title:e.t("activity_item"),"onUpdate:modelValue":e.close,onCancel:e.close},{actions:s(()=>[e.openItemLink?x((m(),C(f,{key:0,to:e.openItemLink,icon:"",rounded:""},{default:s(()=>[o(p,{name:"launch"})]),_:1},8,["to"])),[[v,e.t("open"),void 0,{bottom:!0}]]):R("",!0),x(o(f,{to:"/activity",icon:"",rounded:""},{default:s(()=>[o(p,{name:"check"})]),_:1},512),[[v,e.t("done"),void 0,{bottom:!0}]])]),default:s(()=>[e.loading?(m(),C(i,{key:0,indeterminate:""})):e.error?(m(),I("div",g8,[o(r,{type:"danger"},{default:s(()=>[P(w(e.error),1)]),_:1})])):(m(),I("div",b8,[S("p",w8,w(e.t("user"))+":",1),e.item.user?(m(),C(u,{key:0,user:e.item.user.id},{default:s(()=>[P(w(e.userName(e.item.user)),1)]),_:1},8,["user"])):R("",!0),S("p",k8,w(e.t("action"))+":",1),S("p",null,w(e.item.action),1),S("p",$8,w(e.t("date"))+":",1),S("p",null,w(e.item.timestamp),1),S("p",S8,w(e.t("ip_address"))+":",1),S("p",null,w(e.item.ip),1),S("p",C8,w(e.t("user_agent"))+":",1),S("p",null,w(e.item.user_agent),1),S("p",V8,w(e.t("collection"))+":",1),S("p",null,w(e.item.collection),1),S("p",F8,w(e.t("item"))+":",1),S("p",null,w(e.item.item),1)]))]),_:1},8,["model-value","title","onUpdate:modelValue","onCancel"])}var I8=z(h8,[["render",A8],["__scopeId","data-v-4615f290"]]),E8=wn({id:"activity",hidden:!0,name:"$t:activity",icon:"notifications",routes:[{name:"activity-collection",path:"",component:v8,props:!0,children:[{name:"activity-item",path:":primaryKey",components:{detail:I8}}]}]}),D8=Object.freeze(Object.defineProperty({__proto__:null,default:E8},Symbol.toStringTag,{value:"Module"}));function _o(e,t){const n=new URLSearchParams(e.split("?")[1]||"");for(const[l,a]of Object.entries(t))n.set(l,a);return e.split("?")[0]+"?"+n}const mn=()=>pa(sd);mn.displayName="router-passthrough";let vo,Nn;function Ga(e){const t=Je();return Nn||(Nn=E(t.collections.filter(n=>{var l,a;return((l=n.meta)==null?void 0:l.collapse)==="open"||((a=n.meta)==null?void 0:a.collapse)==="locked"}).map(({collection:n})=>n))),vo===void 0&&(vo=E(!1)),ge(e,n=>{var d;if(n===null)return;let l=t.getCollection(n);const a=[];for(;(d=l==null?void 0:l.meta)==null?void 0:d.group;)Nn.value.includes(l.meta.group)===!1&&a.push(l.meta.group),l=t.getCollection(l.meta.group);Nn.value=[...Nn.value,...a]},{immediate:!0}),{showHidden:vo,activeGroups:Nn}}const T8=K({props:{icon:{type:String,default:"label"},color:{type:String,default:"var(--foreground-normal)"},name:{type:String,required:!0},search:{type:String,default:null}}});function P8(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-text-overflow"),p=c("v-list-item-content");return m(),I(ae,null,[o(r,null,{default:s(()=>{var f;return[o(i,{name:(f=e.icon)!=null?f:"label",color:e.color},null,8,["name","color"])]}),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.name,highlight:e.search},null,8,["text","highlight"])]),_:1})],64)}var O8=z(T8,[["render",P8]]);const L8=K({props:{bookmark:{type:Object,required:!0}},setup(e){const{t}=Y(),n=at(),l=Ht(),{currentUser:a,isAdmin:d}=He(),i=Pn(),r=F(()=>e.bookmark.user===a.id),u=F(()=>r.value||d),p=F(()=>e.bookmark.user&&!e.bookmark.role?"personal":!e.bookmark.user&&e.bookmark.role?"role":"global"),{editActive:f,editValue:_,editSave:v,editSaving:y,editCancel:h}=A(),{deleteActive:g,deleteSave:b,deleteSaving:$}=V();return{t,isMine:r,hasPermission:u,scope:p,editActive:f,editValue:_,editSave:v,editSaving:y,editCancel:h,deleteActive:g,deleteSave:b,deleteSaving:$};function A(){var j,B,q,G;const T=E(!1),D=Gt({name:e.bookmark.bookmark,icon:(B=(j=e.bookmark)==null?void 0:j.icon)!=null?B:"bookmark_outline",color:(G=(q=e.bookmark)==null?void 0:q.color)!=null?G:null}),O=E(!1);return{editActive:T,editValue:D,editSave:M,editSaving:O,editCancel:L};async function M(){O.value=!0;try{await i.savePreset(Fe(fe({},e.bookmark),{bookmark:D.name,icon:D.icon,color:D.color})),T.value=!1}catch(Q){Ie(Q)}finally{O.value=!1}}function L(){var Q,ce,J,oe;T.value=!1,D.name=e.bookmark.bookmark,D.icon=(ce=(Q=e.bookmark)==null?void 0:Q.icon)!=null?ce:"bookmark_outline",D.color=(oe=(J=e.bookmark)==null?void 0:J.color)!=null?oe:null}}function V(){const T=E(!1),D=E(!1);return{deleteActive:T,deleteSave:O,deleteSaving:D};async function O(){var M;D.value=!0;try{let L=null;((M=l.query)==null?void 0:M.bookmark)&&+l.query.bookmark===e.bookmark.id&&(L=`/content/${e.bookmark.collection}`),await i.delete([e.bookmark.id]),T.value=!1,L&&n.replace(L)}catch(L){Ie(L)}finally{D.value=!1}}}}}),j8={class:"fields"};function R8(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=c("v-card-title"),h=c("v-input"),g=c("interface-select-icon"),b=c("interface-select-color"),$=c("v-card-text"),A=c("v-button"),V=c("v-card-actions"),T=c("v-card"),D=c("v-dialog"),O=$e("tooltip");return m(),C(f,{to:`/content/${e.bookmark.collection}?bookmark=${e.bookmark.id}`,query:"",class:"bookmark",clickable:"",onContextmenu:t[9]||(t[9]=De(()=>{},["stop"]))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.bookmark.icon,color:e.bookmark.color},null,8,["name","color"])]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.bookmark.bookmark},null,8,["text"])]),_:1}),o(v,{placement:"bottom-start","show-arrow":""},{activator:s(({toggle:M})=>[x(o(i,{name:e.hasPermission?"more_vert":"lock",clickable:e.hasPermission,small:"",class:"ctx-toggle",onClick:De(L=>e.hasPermission?M():null,["prevent"])},null,8,["name","clickable","onClick"]),[[O,!e.hasPermission&&e.t(`cannot_edit_${e.scope}_bookmarks`),void 0,{bottom:!0}]])]),default:s(()=>[o(_,null,{default:s(()=>[o(f,{clickable:"",to:e.scope!=="personal"?`/settings/presets/${e.bookmark.id}`:void 0,onClick:t[0]||(t[0]=M=>e.scope==="personal"?e.editActive=!0:void 0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"edit",outline:""})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t(`edit_${e.scope}_bookmark`)},null,8,["text"])]),_:1})]),_:1},8,["to"]),o(f,{clickable:"",class:"danger",onClick:t[1]||(t[1]=M=>e.deleteActive=!0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete",outline:""})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t(`delete_${e.scope}_bookmark`)},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1}),o(D,{modelValue:e.editActive,"onUpdate:modelValue":t[5]||(t[5]=M=>e.editActive=M),persistent:"",onEsc:e.editCancel},{default:s(()=>[o(T,null,{default:s(()=>[o(y,null,{default:s(()=>[P(w(e.t("edit_personal_bookmark")),1)]),_:1}),o($,null,{default:s(()=>[S("div",j8,[o(h,{modelValue:e.editValue.name,"onUpdate:modelValue":t[2]||(t[2]=M=>e.editValue.name=M),class:"full",autofocus:"",onKeyup:Yn(e.editSave,["enter"])},null,8,["modelValue","onKeyup"]),o(g,{width:"half",value:e.editValue.icon,onInput:t[3]||(t[3]=M=>e.editValue.icon=M)},null,8,["value"]),o(b,{width:"half",value:e.editValue.color,onInput:t[4]||(t[4]=M=>e.editValue.color=M)},null,8,["value"])])]),_:1}),o(V,null,{default:s(()=>[o(A,{secondary:"",onClick:e.editCancel},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(A,{disabled:e.editValue.name===null,loading:e.editSaving,onClick:e.editSave},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),o(D,{modelValue:e.deleteActive,"onUpdate:modelValue":t[7]||(t[7]=M=>e.deleteActive=M),persistent:"",onEsc:t[8]||(t[8]=M=>e.deleteActive=!1)},{default:s(()=>[o(T,null,{default:s(()=>[o(y,null,{default:s(()=>[P(w(e.t("delete_bookmark_copy",{bookmark:e.bookmark.bookmark})),1)]),_:1}),o(V,null,{default:s(()=>[o(A,{secondary:"",onClick:t[6]||(t[6]=M=>e.deleteActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(A,{loading:e.deleteSaving,kind:"danger",onClick:e.deleteSave},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["to"])}var M8=z(L8,[["render",R8],["__scopeId","data-v-6bf76906"]]);const U8=K({name:"NavigationItem",components:{NavigationItemContent:O8,NavigationBookmark:M8},props:{collection:{type:Object,required:!0},showHidden:{type:Boolean,default:!1},search:{type:String,default:null}},setup(e){const{t}=Y(),{isAdmin:n}=He(),l=Je(),a=Pn(),d=F(()=>_(e.collection)),i=F(()=>v(e.collection)),r=F(()=>d.value.length>0||i.value.length>0),u=F(()=>e.collection.schema?`/content/${e.collection.collection}`:""),p=F(()=>{if(!e.search||e.search.length<3)return!0;const y=e.search.toLowerCase();return g(e.collection)||h(d.value,i.value);function h($,A){return $.some(V=>{const T=_(V),D=v(V);return g(V)||h(T,D)})||A.some(V=>b(V))}function g($){return $.collection.includes(y)||$.name.toLowerCase().includes(y)}function b($){var A;return(A=$.bookmark)==null?void 0:A.toLowerCase().includes(y)}}),f=F(()=>n);return{childCollections:d,childBookmarks:i,isGroup:r,to:u,matchesSearch:p,isAdmin:n,t,hasContextMenu:f};function _(y){let h=l.collections.filter(g=>{var b;return((b=g.meta)==null?void 0:b.group)===y.collection});return e.showHidden===!1&&(h=h.filter(g=>{var b;return((b=g.meta)==null?void 0:b.hidden)!==!0})),N.exports.orderBy(h,["meta.sort","collection"])}function v(y){return a.bookmarks.filter(h=>h.collection===y.collection)}}});function N8(e,t,n,l,a,d){var A,V;const i=c("navigation-item-content"),r=c("navigation-item",!0),u=c("navigation-bookmark"),p=c("v-list-group"),f=c("v-list-item"),_=c("v-icon"),v=c("v-list-item-icon"),y=c("v-text-overflow"),h=c("v-list-item-content"),g=c("v-list"),b=c("v-menu"),$=$e("context-menu");return m(),I(ae,null,[e.isGroup&&e.matchesSearch?x((m(),C(p,{key:0,to:e.to,scope:"content-navigation",value:e.collection.collection,query:"","arrow-placement":((A=e.collection.meta)==null?void 0:A.collapse)==="locked"?!1:"after"},{activator:s(()=>{var T,D;return[o(i,{search:e.search,name:e.collection.name,icon:(T=e.collection.meta)==null?void 0:T.icon,color:(D=e.collection.meta)==null?void 0:D.color},null,8,["search","name","icon","color"])]}),default:s(()=>[(m(!0),I(ae,null,we(e.childCollections,T=>(m(),C(r,{key:T.collection,collection:T,search:e.search},null,8,["collection","search"]))),128)),(m(!0),I(ae,null,we(e.childBookmarks,T=>(m(),C(u,{key:T.id,bookmark:T},null,8,["bookmark"]))),128))]),_:1},8,["to","value","arrow-placement"])),[[$,"contextMenu"]]):e.matchesSearch?x((m(),C(f,{key:1,to:e.to,value:e.collection.collection,class:ue({hidden:(V=e.collection.meta)==null?void 0:V.hidden}),query:""},{default:s(()=>{var T,D;return[o(i,{search:e.search,name:e.collection.name,icon:(T=e.collection.meta)==null?void 0:T.icon,color:(D=e.collection.meta)==null?void 0:D.color},null,8,["search","name","icon","color"])]}),_:1},8,["to","value","class"])),[[$,e.hasContextMenu?"contextMenu":null]]):R("",!0),e.hasContextMenu?(m(),C(b,{key:2,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:s(()=>[o(g,null,{default:s(()=>[e.isAdmin?(m(),C(f,{key:0,clickable:"",to:`/settings/data-model/${e.collection.collection}`},{default:s(()=>[o(v,null,{default:s(()=>[o(_,{name:"list_alt"})]),_:1}),o(h,null,{default:s(()=>[o(y,{text:e.t("edit_collection")},null,8,["text"])]),_:1})]),_:1},8,["to"])):R("",!0)]),_:1})]),_:1},512)):R("",!0)],64)}var B8=z(U8,[["render",N8],["__scopeId","data-v-3a890f15"]]);const q8=K({components:{NavigationItem:B8},props:{currentCollection:{type:String,default:null}},setup(e){const{t}=Y(),{currentCollection:n}=ze(e),{activeGroups:l,showHidden:a}=Ga(n),d=E(""),i=Je(),r=F(()=>{const _=a.value?i.allCollections:i.visibleCollections;return N.exports.orderBy(_.filter(v=>{var y;return N.exports.isNil((y=v==null?void 0:v.meta)==null?void 0:y.group)}),["meta.sort","collection"])}),u=F(()=>i.visibleCollections.length>5),p=F(()=>i.visibleCollections.length>20),f=F(()=>i.allCollections.length>i.visibleCollections.length);return{t,activeGroups:l,showHidden:a,rootItems:r,dense:u,search:d,showSearch:p,hasHiddenCollections:f}}}),z8={class:"content-navigation-wrapper"},K8={key:0,class:"search-input"};function W8(e,t,n,l,a,d){const i=c("v-input"),r=c("navigation-item"),u=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),v=c("v-list-item"),y=c("v-menu"),h=c("v-list"),g=$e("context-menu");return m(),I("div",z8,[e.showSearch?(m(),I("div",K8,[o(i,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=b=>e.search=b),type:"search",placeholder:e.t("search_collection")},null,8,["modelValue","placeholder"])])):R("",!0),x(o(h,{modelValue:e.activeGroups,"onUpdate:modelValue":t[2]||(t[2]=b=>e.activeGroups=b),scope:"content-navigation",class:"content-navigation",tabindex:"-1",nav:"",mandatory:!1,dense:e.dense},{default:s(()=>[(m(!0),I(ae,null,we(e.rootItems,b=>(m(),C(r,{key:b.collection,"show-hidden":e.showHidden,collection:b,search:e.search},null,8,["show-hidden","collection","search"]))),128)),e.hasHiddenCollections?(m(),C(y,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:s(()=>[o(v,{clickable:"",onClick:t[1]||(t[1]=b=>e.showHidden=!e.showHidden)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:e.showHidden?"visibility_off":"visibility"},null,8,["name"])]),_:1}),o(_,null,{default:s(()=>[o(f,{text:e.showHidden?e.t("hide_hidden_collections"):e.t("show_hidden_collections")},null,8,["text"])]),_:1})]),_:1})]),_:1},512)):R("",!0)]),_:1},8,["modelValue","dense"]),[[g,"contextMenu"]])])}var Ol=z(q8,[["render",W8],["__scopeId","data-v-970f0324"]]);const H8=K({components:{ContentNavigation:Ol},setup(){const{t:e}=Y();return{t:e}}}),G8={class:"not-found"};function Z8(e,t,n,l,a,d){const i=c("content-navigation"),r=c("v-info"),u=c("private-view");return m(),C(u,{title:e.t("page_not_found")},{navigation:s(()=>[o(i)]),default:s(()=>[S("div",G8,[o(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var yo=z(H8,[["render",Z8],["__scopeId","data-v-cc545b6a"]]);const J8=K({props:{collection:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),l=E(e.archive),a=[{text:t("show_active_items"),value:null},{text:t("show_archived_items"),value:"archived"},{text:t("show_all_items"),value:"all"}],d=F(()=>l.value!==null);return ge(()=>l.value,()=>{l.value===null?n.push(`/content/${e.collection}`):n.push(`/content/${e.collection}?${l.value}`)}),{t,active:d,selectedItem:l,items:a}}}),Q8={class:"fields"},X8={class:"field full"};function Y8(e,t,n,l,a,d){const i=c("v-radio"),r=c("sidebar-detail");return m(),C(r,{icon:"archive",title:e.t("archive"),badge:e.active},{default:s(()=>[S("div",Q8,[S("div",X8,[(m(!0),I(ae,null,we(e.items,u=>(m(),C(i,{key:u.value,value:u.value,label:u.text,"model-value":e.selectedItem,"onUpdate:modelValue":t[0]||(t[0]=p=>e.selectedItem=p)},null,8,["value","label","model-value"]))),128))])])]),_:1},8,["title","badge"])}var x8=z(J8,[["render",Y8],["__scopeId","data-v-4f18ad5e"]]);const e3=K({props:{modelValue:{type:Number,default:null}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n}=Y(),l=F({get(){return e.modelValue},set(r){t("update:modelValue",r)}}),a=E(null);ge(l,r=>{a.value!==null&&clearInterval(a.value),r!==null&&r>0&&(a.value=setInterval(()=>{t("refresh")},r*1e3))},{immediate:!0});const d=F(()=>[null,10,30,60,300].map(u=>u===null?{text:n("no_refresh"),value:null}:u>=60&&u%60==0?{text:n("refresh_interval_minutes",{minutes:u/60},u/60),value:u}:{text:n("refresh_interval_seconds",{seconds:u},u),value:u})),i=F(()=>l.value!==null);return{t:n,active:i,interval:l,items:d}}}),t3={class:"fields"},n3={class:"field full"},l3={class:"type-label"};function o3(e,t,n,l,a,d){const i=c("v-select"),r=c("sidebar-detail");return m(),C(r,{icon:e.active?"sync":"sync_disabled",title:e.t("auto_refresh"),badge:e.active},{default:s(()=>[S("div",t3,[S("div",n3,[S("p",l3,w(e.t("refresh_interval")),1),o(i,{modelValue:e.interval,"onUpdate:modelValue":t[0]||(t[0]=u=>e.interval=u),items:e.items},null,8,["modelValue","items"])])])]),_:1},8,["icon","title","badge"])}var Za=z(e3,[["render",o3],["__scopeId","data-v-3c22b9bc"]]);function Ze(){const t=window.location.pathname.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}function a3(){const t=window.location.href.split("/"),n=t.indexOf("admin");return t.slice(0,n).join("/")+"/"}let ho;function ct(e){ho||(ho=_l()),ho.add(e)}var i3={"audio/aac":"aac","application/x-abiword":"abw","application/x-freearc":"arc","video/x-msvideo":"avi","application/vnd.amazon.ebook":"azw","application/octet-stream":"file","image/bmp":"bmp","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-csh":"csh","text/css":"css","text/csv":"csv","application/msword":"doc","application/sql":"sql","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/gzip":"gz","image/gif":"gif","text/html":"html","image/vnd.microsoft.icon":"ico","text/calendar":"ics","application/java-archive":"jar","image/jpeg":"jpg","text/javascript":"js","application/json":"json","application/ld+json":"jsonld","audio/midi audio/x-midi":"midi","audio/mpeg":"mp3","video/mpeg":"mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","audio/opus":"opus","font/otf":"otf","image/png":"png","application/pdf":"pdf","application/x-httpd-php":"php","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.rar":"rar","application/rtf":"rtf","application/x-sh":"sh","image/svg+xml":"svg","application/x-shockwave-flash":"swf","application/x-tar":"tar","image/tiff":"tiff","video/mp2t":"ts","font/ttf":"ttf","text/plain":"txt","application/vnd.visio":"vsd","audio/wav":"wav","audio/webm":"weba","video/webm":"webm","image/webp":"webp","font/woff":"woff","font/woff2":"woff2","application/xhtml+xml":"xhtml","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/xml":"xml","application/vnd.mozilla.xul+xml":"xul","application/zip":"zip","video/3gpp":"3gp","video/3gpp2":"3g2","audio/3gpp":"3gp","audio/3gpp2":"3g2","application/x-7z-compressed":"7z"},r3={"application/vnd.hzn-3d-crossword":"3D Crossword Plugin","video/3gpp":"3GP","video/3gpp2":"3GP2","application/vnd.mseq":"3GPP MSEQ File","application/vnd.3m.post-it-notes":"3M Post It Notes","application/vnd.3gpp.pic-bw-large":"3rd Generation Partnership Project - Pic Large","application/vnd.3gpp.pic-bw-small":"3rd Generation Partnership Project - Pic Small","application/vnd.3gpp.pic-bw-var":"3rd Generation Partnership Project - Pic Var","application/vnd.3gpp2.tcap":"3rd Generation Partnership Project - Transaction Capabilities Application Part","application/x-7z-compressed":"7-Zip","application/x-abiword":"AbiWord","application/x-ace-compressed":"Ace Archive","application/vnd.americandynamics.acc":"Active Content Compression","application/vnd.acucobol":"ACU Cobol","application/vnd.acucorp":"ACU Cobol","audio/adpcm":"Adaptive differential pulse-code modulation","application/x-authorware-bin":"Adobe (Macropedia) Authorware - Binary File","application/x-authorware-map":"Adobe (Macropedia) Authorware - Map","application/x-authorware-seg":"Adobe (Macropedia) Authorware - Segment File","application/vnd.adobe.air-application-installer-package+zip":"Adobe AIR Application","application/x-shockwave-flash":"Adobe Flash","application/vnd.adobe.fxp":"Adobe Flex Project","application/pdf":"PDF","application/sql":"SQL","application/vnd.cups-ppd":"Adobe PostScript Printer Description File Format","application/x-director":"Adobe Shockwave Player","application/vnd.adobe.xdp+xml":"Adobe XML Data Package","application/vnd.adobe.xfdf":"Adobe XML Forms Data Format","audio/x-aac":"Advanced Audio Coding (AAC)","application/vnd.ahead.space":"Ahead AIR Application","application/vnd.airzip.filesecure.azf":"AirZip FileSECURE","application/vnd.airzip.filesecure.azs":"AirZip FileSECURE","application/vnd.amazon.ebook":"Amazon Kindle eBook format","application/vnd.amiga.ami":"AmigaDE","application/andrew-inset":"Andrew Toolkit","application/vnd.android.package-archive":"Android Package Archive","application/vnd.anser-web-certificate-issue-initiation":"ANSER-WEB Terminal Client - Certificate Issue","application/vnd.anser-web-funds-transfer-initiation":"ANSER-WEB Terminal Client - Web Funds Transfer","application/vnd.antix.game-component":"Antix Game Player","application/x-apple-diskimage":"Apple Disk Image","application/vnd.apple.installer+xml":"Apple Installer Package","application/applixware":"Applixware","application/vnd.hhe.lesson-player":"Archipelago Lesson Player","application/vnd.aristanetworks.swi":"Arista Networks Software Image","text/x-asm":"Assembler Source File","application/atomcat+xml":"Atom Publishing Protocol","application/atomsvc+xml":"Atom Publishing Protocol Service Document","application/atom+xml":"Atom Syndication Format","application/pkix-attr-cert":"Attribute Certificate","audio/x-aiff":"AIFF","video/x-msvideo":"AVI","application/vnd.audiograph":"Audiograph","image/vnd.dxf":"AutoCAD DXF","model/vnd.dwf":"Autodesk Design Web Format (DWF)","text/plain-bas":"BAS Partitur Format","application/x-bcpio":"Binary CPIO Archive","application/octet-stream":"Binary Data","image/bmp":"Bitmap Image","application/x-bittorrent":"BitTorrent","application/vnd.rim.cod":"Blackberry COD File","application/vnd.blueice.multipass":"Blueice Research Multipass","application/vnd.bmi":"BMI Drawing Data Interchange","application/x-sh":"Bourne Shell Script","image/prs.btif":"BTIF","application/vnd.businessobjects":"BusinessObjects","application/x-bzip":"Bzip Archive","application/x-bzip2":"Bzip2 Archive","application/x-csh":"C Shell Script","text/x-c":"C Source File","application/vnd.chemdraw+xml":"CambridgeSoft Chem Draw","text/css":"Cascading Style Sheets (CSS)","chemical/x-cdx":"ChemDraw eXchange file","chemical/x-cml":"Chemical Markup Language","chemical/x-csml":"Chemical Style Markup Language","application/vnd.contact.cmsg":"CIM Database","application/vnd.claymore":"Claymore Data Files","application/vnd.clonk.c4group":"Clonk Game","image/vnd.dvb.subtitle":"Close Captioning - Subtitle","application/cdmi-capability":"Cloud Data Management Interface (CDMI) - Capability","application/cdmi-container":"Cloud Data Management Interface (CDMI) - Contaimer","application/cdmi-domain":"Cloud Data Management Interface (CDMI) - Domain","application/cdmi-object":"Cloud Data Management Interface (CDMI) - Object","application/cdmi-queue":"Cloud Data Management Interface (CDMI) - Queue","application/vnd.cluetrust.cartomobile-config":"ClueTrust CartoMobile - Config","application/vnd.cluetrust.cartomobile-config-pkg":"ClueTrust CartoMobile - Config Package","image/x-cmu-raster":"CMU Image","model/vnd.collada+xml":"COLLADA","text/csv":"CSV","application/mac-compactpro":"Compact Pro","application/vnd.wap.wmlc":"Compiled Wireless Markup Language (WMLC)","image/cgm":"Computer Graphics Metafile","x-conference/x-cooltalk":"CoolTalk","image/x-cmx":"Corel Metafile Exchange (CMX)","application/vnd.xara":"CorelXARA","application/vnd.cosmocaller":"CosmoCaller","application/x-cpio":"CPIO Archive","application/vnd.crick.clicker":"CrickSoftware - Clicker","application/vnd.crick.clicker.keyboard":"CrickSoftware - Clicker - Keyboard","application/vnd.crick.clicker.palette":"CrickSoftware - Clicker - Palette","application/vnd.crick.clicker.template":"CrickSoftware - Clicker - Template","application/vnd.crick.clicker.wordbank":"CrickSoftware - Clicker - Wordbank","application/vnd.criticaltools.wbs+xml":"Critical Tools - PERT Chart EXPERT","application/vnd.rig.cryptonote":"CryptoNote","chemical/x-cif":"Crystallographic Interchange Format","chemical/x-cmdf":"CrystalMaker Data Format","application/cu-seeme":"CU-SeeMe","application/prs.cww":"CU-Writer","text/vnd.curl":"Curl - Applet","text/vnd.curl.dcurl":"Curl - Detached Applet","text/vnd.curl.mcurl":"Curl - Manifest File","text/vnd.curl.scurl":"Curl - Source Code","application/vnd.curl.car":"CURL Applet","application/vnd.curl.pcurl":"CURL Applet","application/vnd.yellowriver-custom-menu":"CustomMenu","application/dssc+der":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/dssc+xml":"Data Structure for the Security Suitability of Cryptographic Algorithms","application/x-debian-package":"Debian Package","audio/vnd.dece.audio":"DECE Audio","image/vnd.dece.graphic":"DECE Graphic","video/vnd.dece.hd":"DECE High Definition Video","video/vnd.dece.mobile":"DECE Mobile Video","video/vnd.uvvu.mp4":"DECE MP4","video/vnd.dece.pd":"DECE PD Video","video/vnd.dece.sd":"DECE SD Video","video/vnd.dece.video":"DECE Video","application/x-dvi":"DVI","application/vnd.fdsn.seed":"Digital Siesmograph Networks - SEED Datafiles","application/x-dtbook+xml":"Digital Talking Book","application/x-dtbresource+xml":"Digital Talking Book - Resource File","application/vnd.dvb.ait":"Digital Video Broadcasting","application/vnd.dvb.service":"Digital Video Broadcasting","audio/vnd.digital-winds":"Digital Winds Music","image/vnd.djvu":"DjVu","application/xml-dtd":"Document Type Definition","application/vnd.dolby.mlp":"Dolby Meridian Lossless Packing","application/x-doom":"Doom Video Game","application/vnd.dpgraph":"DPGraph","audio/vnd.dra":"DRA Audio","application/vnd.dreamfactory":"DreamFactory","audio/vnd.dts":"DTS Audio","audio/vnd.dts.hd":"DTS High Definition Audio","image/vnd.dwg":"DWG Drawing","application/vnd.dynageo":"DynaGeo","application/ecmascript":"ECMAScript","application/vnd.ecowin.chart":"EcoWin Chart","image/vnd.fujixerox.edmics-mmr":"EDMICS 2000","image/vnd.fujixerox.edmics-rlc":"EDMICS 2000","application/exi":"Efficient XML Interchange","application/vnd.proteus.magazine":"EFI Proteus","application/epub+zip":"Electronic Publication","message/rfc822":"Email Message","application/vnd.enliven":"Enliven Viewer","application/vnd.is-xpr":"Express by Infoseek","image/vnd.xiff":"eXtended Image File Format (XIFF)","application/vnd.xfdl":"Extensible Forms Description Language","application/emma+xml":"Extensible MultiModal Annotation","application/vnd.ezpix-album":"EZPix Secure Photo Album","application/vnd.ezpix-package":"EZPix Secure Photo Album","image/vnd.fst":"FAST Search & Transfer ASA","video/vnd.fvt":"FAST Search & Transfer ASA","image/vnd.fastbidsheet":"FastBid Sheet","application/vnd.denovo.fcselayout-link":"FCS Express Layout Link","video/x-f4v":"Flash Video","video/x-flv":"Flash Video","image/vnd.fpx":"FlashPix","image/vnd.net-fpx":"FlashPix","text/vnd.fmi.flexstor":"FLEXSTOR","video/x-fli":"FLI/FLC Animation Format","application/vnd.fluxtime.clip":"FluxTime Clip","application/vnd.fdf":"Forms Data Format","text/x-fortran":"Fortran Source File","application/vnd.mif":"FrameMaker Interchange Format","application/vnd.framemaker":"FrameMaker Normal Format","image/x-freehand":"FreeHand MX","application/vnd.fsc.weblaunch":"Friendly Software Corporation","application/vnd.frogans.fnc":"Frogans Player","application/vnd.frogans.ltf":"Frogans Player","application/vnd.fujixerox.ddd":"Fujitsu - Xerox 2D CAD Data","application/vnd.fujixerox.docuworks":"Fujitsu - Xerox DocuWorks","application/vnd.fujixerox.docuworks.binder":"Fujitsu - Xerox DocuWorks Binder","application/vnd.fujitsu.oasys":"Fujitsu Oasys","application/vnd.fujitsu.oasys2":"Fujitsu Oasys","application/vnd.fujitsu.oasys3":"Fujitsu Oasys","application/vnd.fujitsu.oasysgp":"Fujitsu Oasys","application/vnd.fujitsu.oasysprs":"Fujitsu Oasys","application/x-futuresplash":"FutureSplash Animator","application/vnd.fuzzysheet":"FuzzySheet","image/g3fax":"G3 Fax Image","application/vnd.gmx":"GameMaker ActiveX","model/vnd.gtw":"Gen-Trix Studio","application/vnd.genomatix.tuxedo":"Genomatix Tuxedo Framework","application/vnd.geogebra.file":"GeoGebra","application/vnd.geogebra.tool":"GeoGebra","model/vnd.gdl":"Geometric Description Language (GDL)","application/vnd.geometry-explorer":"GeoMetry Explorer","application/vnd.geonext":"GEONExT and JSXGraph","application/vnd.geoplan":"GeoplanW","application/vnd.geospace":"GeospacW","application/x-font-ghostscript":"Ghostscript Font","application/x-font-bdf":"Glyph Bitmap Distribution Format","application/x-gtar":"GNU Tar Files","application/x-texinfo":"GNU Texinfo Document","application/x-gnumeric":"Gnumeric","application/vnd.google-earth.kml+xml":"Google Earth - KML","application/vnd.google-earth.kmz":"Google Earth - Zipped KML","application/vnd.grafeq":"GrafEq","image/gif":"GIF","text/vnd.graphviz":"Graphviz","application/vnd.groove-account":"Groove - Account","application/vnd.groove-help":"Groove - Help","application/vnd.groove-identity-message":"Groove - Identity Message","application/vnd.groove-injector":"Groove - Injector","application/vnd.groove-tool-message":"Groove - Tool Message","application/vnd.groove-tool-template":"Groove - Tool Template","application/vnd.groove-vcard":"Groove - Vcard","video/h261":"H.261","video/h263":"H.263","video/h264":"H.264","application/vnd.hp-hpid":"Hewlett Packard Instant Delivery","application/vnd.hp-hps":"Hewlett-Packard's WebPrintSmart","application/x-hdf":"Hierarchical Data Format","audio/vnd.rip":"Hit'n'Mix","application/vnd.hbci":"Homebanking Computer Interface (HBCI)","application/vnd.hp-jlyt":"HP Indigo Digital Press - Job Layout Languate","application/vnd.hp-pcl":"HP Printer Command Language","application/vnd.hp-hpgl":"HP-GL/2 and HP RTL","application/vnd.yamaha.hv-script":"HV Script","application/vnd.yamaha.hv-dic":"HV Voice Dictionary","application/vnd.yamaha.hv-voice":"HV Voice Parameter","application/vnd.hydrostatix.sof-data":"Hydrostatix Master Suite","application/hyperstudio":"Hyperstudio","application/vnd.hal+xml":"Hypertext Application Language","text/html":"HTML","application/vnd.ibm.rights-management":"IBM DB2 Rights Manager","application/vnd.ibm.secure-container":"IBM Electronic Media Management System - Secure Container","text/calendar":"iCalendar","application/vnd.iccprofile":"ICC profile","image/x-icon":"Icon Image","application/vnd.igloader":"igLoader","image/ief":"Image Exchange Format","application/vnd.immervision-ivp":"ImmerVision PURE Players","application/vnd.immervision-ivu":"ImmerVision PURE Players","application/reginfo+xml":"IMS Networks","text/vnd.in3d.3dml":"In3D - 3DML","text/vnd.in3d.spot":"In3D - 3DML","model/iges":"Initial Graphics Exchange Specification (IGES)","application/vnd.intergeo":"Interactive Geometry Software","application/vnd.cinderella":"Interactive Geometry Software Cinderella","application/vnd.intercon.formnet":"Intercon FormNet","application/vnd.isac.fcs":"International Society for Advancement of Cytometry","application/ipfix":"Internet Protocol Flow Information Export","application/pkix-cert":"Internet Public Key Infrastructure - Certificate","application/pkixcmp":"Internet Public Key Infrastructure - Certificate Management Protocole","application/pkix-crl":"Internet Public Key Infrastructure - Certificate Revocation Lists","application/pkix-pkipath":"Internet Public Key Infrastructure - Certification Path","application/vnd.insors.igm":"IOCOM Visimeet","application/vnd.ipunplugged.rcprofile":"IP Unplugged Roaming Client","application/vnd.irepository.package+xml":"iRepository / Lucidoc Editor","text/vnd.sun.j2me.app-descriptor":"J2ME App Descriptor","application/java-archive":"Java Archive","application/java-vm":"Java Bytecode File","application/x-java-jnlp-file":"Java Network Launching Protocol","application/java-serialized-object":"Java Serialized Object","text/x-java-source,java":"Java Source File","application/javascript":"JavaScript","application/json":"JSON","application/vnd.joost.joda-archive":"Joda Archive","video/jpm":"JPG","image/jpeg":"JPG","image/x-citrix-jpeg":"JPG","image/pjpeg":"JPG","video/jpeg":"JPGVideo","application/vnd.kahootz":"Kahootz","application/vnd.chipnuts.karaoke-mmd":"Karaoke on Chipnuts Chipsets","application/vnd.kde.karbon":"KDE KOffice Office Suite - Karbon","application/vnd.kde.kchart":"KDE KOffice Office Suite - KChart","application/vnd.kde.kformula":"KDE KOffice Office Suite - Kformula","application/vnd.kde.kivio":"KDE KOffice Office Suite - Kivio","application/vnd.kde.kontour":"KDE KOffice Office Suite - Kontour","application/vnd.kde.kpresenter":"KDE KOffice Office Suite - Kpresenter","application/vnd.kde.kspread":"KDE KOffice Office Suite - Kspread","application/vnd.kde.kword":"KDE KOffice Office Suite - Kword","application/vnd.kenameaapp":"Kenamea App","application/vnd.kidspiration":"Kidspiration","application/vnd.kinar":"Kinar Applications","application/vnd.kodak-descriptor":"Kodak Storyshare","application/vnd.las.las+xml":"Laser App Enterprise","application/x-latex":"LaTeX","application/vnd.llamagraphics.life-balance.desktop":"Life Balance - Desktop Edition","application/vnd.llamagraphics.life-balance.exchange+xml":"Life Balance - Exchange Format","application/vnd.jam":"Lightspeed Audio Lab","application/vnd.lotus-1-2-3":"Lotus 1-2-3","application/vnd.lotus-approach":"Lotus Approach","application/vnd.lotus-freelance":"Lotus Freelance","application/vnd.lotus-notes":"Lotus Notes","application/vnd.lotus-organizer":"Lotus Organizer","application/vnd.lotus-screencam":"Lotus Screencam","application/vnd.lotus-wordpro":"Lotus Wordpro","audio/vnd.lucent.voice":"Lucent Voice","audio/x-mpegurl":"M3U (Multimedia Playlist)","video/x-m4v":"M4v","application/mac-binhex40":"Macintosh BinHex 4.0","application/vnd.macports.portpkg":"MacPorts Port System","application/vnd.osgeo.mapguide.package":"MapGuide DBXML","application/marc":"MARC Formats","application/marcxml+xml":"MARC21 XML Schema","application/mxf":"Material Exchange Format","application/vnd.wolfram.player":"Mathematica Notebook Player","application/mathematica":"Mathematica Notebooks","application/mathml+xml":"Mathematical Markup Language","application/mbox":"Mbox database files","application/vnd.medcalcdata":"MedCalc","application/mediaservercontrol+xml":"Media Server Control Markup Language","application/vnd.mediastation.cdkey":"MediaRemote","application/vnd.mfer":"Medical Waveform Encoding Format","application/vnd.mfmp":"Melody Format for Mobile Platform","model/mesh":"Mesh Data Type","application/mads+xml":"Metadata Authority  Description Schema","application/mets+xml":"Metadata Encoding and Transmission Standard","application/mods+xml":"Metadata Object Description Schema","application/metalink4+xml":"Metalink","application/vnd.mcd":"Micro CADAM Helix D&D","application/vnd.micrografx.flo":"Micrografx","application/vnd.micrografx.igx":"Micrografx iGrafx Professional","application/vnd.eszigno3+xml":"MICROSEC e-Szign\xA2","application/x-msaccess":"Access","video/x-ms-asf":"MS ASF","application/x-msdownload":"MS App","application/vnd.ms-artgalry":"MS Artgalry","application/vnd.ms-cab-compressed":"MS Cabinet File","application/vnd.ms-ims":"MS Class Server","application/x-ms-application":"MS ClickOnce","application/x-msclip":"MS Clipboard Clip","image/vnd.ms-modi":"MS Document Imaging Format","application/vnd.ms-fontobject":"MS Embedded OpenType","application/vnd.ms-excel":"Excel","application/vnd.ms-excel.addin.macroenabled.12":"MS Excel - Add-In File","application/vnd.ms-excel.sheet.binary.macroenabled.12":"MS Excel - Binary Workbook","application/vnd.ms-excel.template.macroenabled.12":"MS Excel - Macro-Enabled Template File","application/vnd.ms-excel.sheet.macroenabled.12":"MS Excel - Macro-Enabled Workbook","application/vnd.ms-htmlhelp":"MS Html Help File","application/x-mscardfile":"MS Information Card","application/vnd.ms-lrm":"MS Learning Resource Module","application/x-msmediaview":"MS MediaView","application/x-msmoney":"MS Money","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MS Office - OOXML - Presentation","application/vnd.openxmlformats-officedocument.presentationml.slide":"MS Office - OOXML - Presentation (Slide)","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MS Office - OOXML - Presentation (Slideshow)","application/vnd.openxmlformats-officedocument.presentationml.template":"MS Office - OOXML - Presentation Template","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MS Office - OOXML - Spreadsheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MS Office - OOXML - Spreadsheet Template","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MS Office - OOXML - Word Document","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MS Office - OOXML - Word Document Template","application/x-msbinder":"MS Office Binder","application/vnd.ms-officetheme":"MS Office System Release Theme","application/onenote":"OneNote","audio/vnd.ms-playready.media.pya":"MS PlayReady Ecosystem","video/vnd.ms-playready.media.pyv":"MS PlayReady Ecosystem Video","application/vnd.ms-powerpoint":"PowerPoint","application/vnd.ms-powerpoint.addin.macroenabled.12":"PowerPoint - Add-in file","application/vnd.ms-powerpoint.slide.macroenabled.12":"PowerPoint - Macro-Enabled Open XML Slide","application/vnd.ms-powerpoint.presentation.macroenabled.12":"PowerPoint - Macro-Enabled Presentation File","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"PowerPoint - Macro-Enabled Slide Show File","application/vnd.ms-powerpoint.template.macroenabled.12":"PowerPoint - Macro-Enabled Template File","application/vnd.ms-project":"MS Project","application/x-mspublisher":"MS Publisher","application/x-msschedule":"MS Schedule+","application/x-silverlight-app":"MS Silverlight","application/vnd.ms-pki.stl":"MS Trust UI Provider - Certificate Trust Link","application/vnd.ms-pki.seccat":"MS Trust UI Provider - Security Catalog","application/vnd.visio":"Visio","application/vnd.visio2013":"Visio 2013","video/x-ms-wm":"MS Windows Media","audio/x-ms-wma":"WMA","audio/x-ms-wax":"MS Windows Media Audio Redirector","video/x-ms-wmx":"MS Windows Media Audio/Video Playlist","application/x-ms-wmd":"MS Windows Media Player Download Package","application/vnd.ms-wpl":"MS Windows Media Player Playlist","application/x-ms-wmz":"MS Windows Media Player Skin Package","video/x-ms-wmv":"WMV","video/x-ms-wvx":"MS Windows Media Video Playlist","application/x-msmetafile":"MS Windows Metafile","application/x-msterminal":"MS Windows Terminal Services","application/msword":"Word","application/vnd.ms-word.document.macroenabled.12":"MS Word - Macro-Enabled Document","application/vnd.ms-word.template.macroenabled.12":"MS Word - Macro-Enabled Template","application/x-mswrite":"MS Wordpad","application/vnd.ms-works":"MS Works","application/x-ms-xbap":"MS XAML Browser Application","application/vnd.ms-xpsdocument":"MS XML Paper Specification","audio/midi":"MIDI","application/vnd.ibm.minipay":"MiniPay","application/vnd.ibm.modcap":"MO:DCA-P","application/vnd.jcp.javame.midlet-rms":"Mobile Information Device Profile","application/vnd.tmobile-livetv":"MobileTV","application/x-mobipocket-ebook":"Mobipocket","application/vnd.mobius.mbk":"Mobius Management Systems - Basket file","application/vnd.mobius.dis":"Mobius Management Systems - Distribution Database","application/vnd.mobius.plc":"Mobius Management Systems - Policy Definition Language File","application/vnd.mobius.mqy":"Mobius Management Systems - Query File","application/vnd.mobius.msl":"Mobius Management Systems - Script Language","application/vnd.mobius.txf":"Mobius Management Systems - Topic Index File","application/vnd.mobius.daf":"Mobius Management Systems - UniversalArchive","text/vnd.fly":"mod_fly / fly.cgi","application/vnd.mophun.certificate":"Mophun Certificate","application/vnd.mophun.application":"Mophun VM","video/mj2":"Motion JPEG 2000","audio/mpeg":"MPEG Audio","video/vnd.mpegurl":"MPEG Url","video/mpeg":"MPEG","application/mp21":"MPEG-21","audio/mp4":"MP4 Audio","video/mp4":"MP4 Video","application/mp4":"MP4","application/vnd.apple.mpegurl":"Multimedia Playlist Unicode","application/vnd.musician":"MUsical Score Interpreted Code Invented for the ASCII designation of Notation","application/vnd.muvee.style":"Muvee Automatic Video Editing","application/xv+xml":"MXML","application/vnd.nokia.n-gage.data":"N-Gage Game Data","application/vnd.nokia.n-gage.symbian.install":"N-Gage Game Installer","application/x-dtbncx+xml":"Navigation Control file for XML (for ePub)","application/x-netcdf":"Network Common Data Form (NetCDF)","application/vnd.neurolanguage.nlu":"neuroLanguage","application/vnd.dna":"New Moon Liftoff/DNA","application/vnd.noblenet-directory":"NobleNet Directory","application/vnd.noblenet-sealer":"NobleNet Sealer","application/vnd.noblenet-web":"NobleNet Web","application/vnd.nokia.radio-preset":"Nokia Radio Application - Preset","application/vnd.nokia.radio-presets":"Nokia Radio Application - Preset","text/n3":"Notation3","application/vnd.novadigm.edm":"Novadigm's RADIA and EDM products","application/vnd.novadigm.edx":"Novadigm's RADIA and EDM products","application/vnd.novadigm.ext":"Novadigm's RADIA and EDM products","application/vnd.flographit":"NpGraphIt","audio/vnd.nuera.ecelp4800":"Nuera ECELP 4800","audio/vnd.nuera.ecelp7470":"Nuera ECELP 7470","audio/vnd.nuera.ecelp9600":"Nuera ECELP 9600","application/oda":"Office Document Architecture","application/ogg":"Ogg","audio/ogg":"Ogg Audio","video/ogg":"Ogg Video","application/vnd.oma.dd2+xml":"OMA Download Agents","application/vnd.oasis.opendocument.text-web":"Open Document Text Web","application/oebps-package+xml":"Open eBook Publication Structure","application/vnd.intu.qbo":"Open Financial Exchange","application/vnd.openofficeorg.extension":"Open Office Extension","application/vnd.yamaha.openscoreformat":"Open Score Format","audio/webm":"WebM Audio","video/webm":"WebM Video","application/vnd.oasis.opendocument.chart":"OpenDocument Chart","application/vnd.oasis.opendocument.chart-template":"OpenDocument Chart Template","application/vnd.oasis.opendocument.database":"OpenDocument Database","application/vnd.oasis.opendocument.formula":"OpenDocument Formula","application/vnd.oasis.opendocument.formula-template":"OpenDocument Formula Template","application/vnd.oasis.opendocument.graphics":"OpenDocument Graphics","application/vnd.oasis.opendocument.graphics-template":"OpenDocument Graphics Template","application/vnd.oasis.opendocument.image":"OpenDocument Image","application/vnd.oasis.opendocument.image-template":"OpenDocument Image Template","application/vnd.oasis.opendocument.presentation":"OpenDocument Presentation","application/vnd.oasis.opendocument.presentation-template":"OpenDocument Presentation Template","application/vnd.oasis.opendocument.spreadsheet":"OpenDocument Spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template":"OpenDocument Spreadsheet Template","application/vnd.oasis.opendocument.text":"OpenDocument Text","application/vnd.oasis.opendocument.text-master":"OpenDocument Text Master","application/vnd.oasis.opendocument.text-template":"OpenDocument Text Template","image/ktx":"OpenGL Textures (KTX)","application/vnd.sun.xml.calc":"OpenOffice - Calc (Spreadsheet)","application/vnd.sun.xml.calc.template":"OpenOffice - Calc Template (Spreadsheet)","application/vnd.sun.xml.draw":"OpenOffice - Draw (Graphics)","application/vnd.sun.xml.draw.template":"OpenOffice - Draw Template (Graphics)","application/vnd.sun.xml.impress":"OpenOffice - Impress (Presentation)","application/vnd.sun.xml.impress.template":"OpenOffice - Impress Template (Presentation)","application/vnd.sun.xml.math":"OpenOffice - Math (Formula)","application/vnd.sun.xml.writer":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.global":"OpenOffice - Writer (Text - HTML)","application/vnd.sun.xml.writer.template":"OpenOffice - Writer Template (Text - HTML)","application/x-font-otf":"OpenType Font File","application/vnd.yamaha.openscoreformat.osfpvg+xml":"OSFPVG","application/vnd.osgi.dp":"OSGi Deployment Package","application/vnd.palm":"PalmOS Data","text/x-pascal":"Pascal Source File","application/vnd.pawaafile":"PawaaFILE","application/vnd.hp-pclxl":"PCL 6 Enhanced (Formely PCL XL)","application/vnd.picsel":"Pcsel eFIF File","image/x-pcx":"PCX Image","image/vnd.adobe.photoshop":"Photoshop Document","application/pics-rules":"PICSRules","image/x-pict":"PICT Image","application/x-chat":"pIRCh","application/pkcs10":"PKCS #10 - Certification Request Standard","application/x-pkcs12":"PKCS #12 - Personal Information Exchange Syntax Standard","application/pkcs7-mime":"PKCS #7 - Cryptographic Message Syntax Standard","application/pkcs7-signature":"PKCS #7 - Cryptographic Message Syntax Standard","application/x-pkcs7-certreqresp":"PKCS #7 - Cryptographic Message Syntax Standard (Certificate Request Response)","application/x-pkcs7-certificates":"PKCS #7 - Cryptographic Message Syntax Standard (Certificates)","application/pkcs8":"PKCS #8 - Private-Key Information Syntax Standard","application/vnd.pocketlearn":"PocketLearn Viewers","image/x-portable-anymap":"Portable Anymap Image","image/x-portable-bitmap":"Portable Bitmap Format","application/x-font-pcf":"Portable Compiled Format","application/font-tdpfr":"Portable Font Resource","application/x-chess-pgn":"Portable Game Notation (Chess Games)","image/x-portable-graymap":"Portable Graymap Format","image/png":"PNG","image/x-citrix-png":"PNG","image/x-png":"PNG","image/x-portable-pixmap":"Portable Pixmap Format","application/pskc+xml":"Portable Symmetric Key Container","application/vnd.ctc-posml":"PosML","application/postscript":"PostScript","application/x-font-type1":"PostScript Fonts","application/vnd.powerbuilder6":"PowerBuilder","application/pgp-encrypted":"Pretty Good Privacy","application/pgp-signature":"Pretty Good Privacy - Signature","application/vnd.previewsystems.box":"Preview Systems ZipLock/VBox","application/vnd.pvi.ptid1":"Princeton Video Image","application/pls+xml":"Pronunciation Lexicon Specification","application/vnd.pg.format":"Proprietary P&G Standard Reporting System","application/vnd.pg.osasli":"Proprietary P&G Standard Reporting System","text/prs.lines.tag":"PRS Lines Tag","application/x-font-linux-psf":"PSF Fonts","application/vnd.publishare-delta-tree":"PubliShare Objects","application/vnd.pmi.widget":"Qualcomm's Plaza Mobile Internet","application/vnd.quark.quarkxpress":"QuarkXpress","application/vnd.epson.esf":"QUASS Stream Player","application/vnd.epson.msf":"QUASS Stream Player","application/vnd.epson.ssf":"QUASS Stream Player","application/vnd.epson.quickanime":"QuickAnime Player","application/vnd.intu.qfx":"Quicken","video/quicktime":"Quicktime Video","application/x-rar-compressed":"RAR Archive","audio/x-pn-realaudio":"Real Audio Sound","audio/x-pn-realaudio-plugin":"Real Audio Sound","application/rsd+xml":"Really Simple Discovery","application/vnd.rn-realmedia":"RealMedia","application/vnd.realvnc.bed":"RealVNC","application/vnd.recordare.musicxml":"Recordare Applications","application/vnd.recordare.musicxml+xml":"Recordare Applications","application/relax-ng-compact-syntax":"Relax NG Compact Syntax","application/vnd.data-vision.rdz":"RemoteDocs R-Viewer","application/rdf+xml":"Resource Description Framework","application/vnd.cloanto.rp9":"RetroPlatform Player","application/vnd.jisp":"RhymBox","application/rtf":"Rich Text","text/richtext":"Rich Text","application/vnd.route66.link66+xml":"ROUTE 66 Location Based Services","application/rss+xml":"RSS","application/shf+xml":"S Hexdump Format","application/vnd.sailingtracker.track":"SailingTracker","image/svg+xml":"SVG","application/vnd.sus-calendar":"ScheduleUs","application/sru+xml":"Search/Retrieve via URL Response Format","application/set-payment-initiation":"Secure Electronic Transaction - Payment","application/set-registration-initiation":"Secure Electronic Transaction - Registration","application/vnd.sema":"Secured eMail","application/vnd.semd":"Secured eMail","application/vnd.semf":"Secured eMail","application/vnd.seemail":"SeeMail","application/x-font-snf":"Server Normal Format","application/scvp-vp-request":"Server-Based Certificate Validation Protocol - Validation Policies - Request","application/scvp-vp-response":"Server-Based Certificate Validation Protocol - Validation Policies - Response","application/scvp-cv-request":"Server-Based Certificate Validation Protocol - Validation Request","application/scvp-cv-response":"Server-Based Certificate Validation Protocol - Validation Response","application/sdp":"Session Description Protocol","text/x-setext":"Setext","video/x-sgi-movie":"SGI Movie","application/vnd.shana.informed.formdata":"Shana Informed Filler","application/vnd.shana.informed.formtemplate":"Shana Informed Filler","application/vnd.shana.informed.interchange":"Shana Informed Filler","application/vnd.shana.informed.package":"Shana Informed Filler","application/thraud+xml":"Sharing Transaction Fraud Data","application/x-shar":"Shell Archive","image/x-rgb":"Silicon Graphics RGB Bitmap","application/vnd.epson.salt":"SimpleAnimeLite Player","application/vnd.accpac.simply.aso":"Simply Accounting","application/vnd.accpac.simply.imp":"Simply Accounting - Data Import","application/vnd.simtech-mindmapper":"SimTech MindMapper","application/vnd.commonspace":"Sixth Floor Media - CommonSpace","application/vnd.yamaha.smaf-audio":"SMAF Audio","application/vnd.smaf":"SMAF File","application/vnd.yamaha.smaf-phrase":"SMAF Phrase","application/vnd.smart.teacher":"SMART Technologies Apps","application/vnd.svd":"SourceView Document","application/sparql-query":"SPARQL - Query","application/sparql-results+xml":"SPARQL - Results","application/srgs":"Speech Recognition Grammar Specification","application/srgs+xml":"Speech Recognition Grammar Specification - XML","application/ssml+xml":"Speech Synthesis Markup Language","application/vnd.koan":"SSEYO Koan Play File","text/sgml":"SGML","application/vnd.stardivision.calc":"StarOffice - Calc","application/vnd.stardivision.draw":"StarOffice - Draw","application/vnd.stardivision.impress":"StarOffice - Impress","application/vnd.stardivision.math":"StarOffice - Math","application/vnd.stardivision.writer":"StarOffice - Writer","application/vnd.stardivision.writer-global":"StarOffice - Writer  (Global)","application/vnd.stepmania.stepchart":"StepMania","application/x-stuffit":"Stuffit Archive","application/x-stuffitx":"Stuffit Archive","application/vnd.solent.sdkm+xml":"SudokuMagic","application/vnd.olpc-sugar":"Sugar Linux Application Bundle","audio/basic":"Sun Audio - Au file format","application/vnd.wqd":"SundaHus WQ","application/vnd.symbian.install":"Symbian Install Package","application/smil+xml":"Synchronized Multimedia Integration Language","application/vnd.syncml+xml":"SyncML","application/vnd.syncml.dm+wbxml":"SyncML - Device Management","application/vnd.syncml.dm+xml":"SyncML - Device Management","application/x-sv4cpio":"System V Release 4 CPIO Archive","application/x-sv4crc":"System V Release 4 CPIO Checksum Data","application/sbml+xml":"Systems Biology Markup Language","text/tab-separated-values":"Tab Seperated Values","image/tiff":"TIFF","application/vnd.tao.intent-module-archive":"Tao Intent","application/x-tar":"Tar File","application/x-tcl":"Tcl Script","application/x-tex":"TeX","application/x-tex-tfm":"TeX Font Metric","application/tei+xml":"Text Encoding and Interchange","text/plain":"Text","application/vnd.spotfire.dxp":"TIBCO Spotfire","application/vnd.spotfire.sfs":"TIBCO Spotfire","application/timestamped-data":"Time Stamped Data Envelope","application/vnd.trid.tpt":"TRI Systems Config","application/vnd.triscape.mxs":"Triscape Map Explorer","text/troff":"troff","application/vnd.trueapp":"True BASIC","application/x-font-ttf":"TrueType Font","text/turtle":"Turtle (Terse RDF Triple Language)","application/vnd.umajin":"UMAJIN","application/vnd.uoml+xml":"Unique Object Markup Language","application/vnd.unity":"Unity 3d","application/vnd.ufdl":"Universal Forms Description Language","text/uri-list":"URI Resolution Services","application/vnd.uiq.theme":"User Interface Quartz - Theme (Symbian)","application/x-ustar":"Ustar (Uniform Standard Tape Archive)","text/x-uuencode":"UUEncode","text/x-vcalendar":"vCalendar","text/x-vcard":"vCard","application/x-cdlink":"Video CD","application/vnd.vsf":"Viewport+","model/vrml":"Virtual Reality Modeling Language","application/vnd.vcx":"VirtualCatalog","model/vnd.mts":"Virtue MTS","model/vnd.vtu":"Virtue VTU","application/vnd.visionary":"Visionary","video/vnd.vivo":"Vivo","application/ccxml+xml,":"Voice Browser Call Control","application/voicexml+xml":"VoiceXML","application/x-wais-source":"WAIS Source","application/vnd.wap.wbxml":"WAP Binary XML (WBXML)","image/vnd.wap.wbmp":"WBMP","audio/x-wav":"WAV","application/davmount+xml":"Web Distributed Authoring and Versioning","application/x-font-woff":"WOFF","application/wspolicy+xml":"Web Services Policy","image/webp":"WebP","application/vnd.webturbo":"WebTurbo","application/widget":"Widget Packaging and XML Configuration","application/winhlp":"WinHelp","text/vnd.wap.wml":"WML","text/vnd.wap.wmlscript":"WMLScript","application/vnd.wap.wmlscriptc":"WMLScript","application/vnd.wordperfect":"Wordperfect","application/vnd.wt.stf":"Worldtalk","application/wsdl+xml":"WSDL","image/x-xbitmap":"X BitMap","image/x-xpixmap":"X PixMap","image/x-xwindowdump":"X Window Dump","application/x-x509-ca-cert":"X.509 Certificate","application/x-xfig":"Xfig","application/xhtml+xml":"XHTML","application/xml":"XML","application/xcap-diff+xml":"XML Configuration Access Protocol - XCAP Diff","application/xenc+xml":"XML Encryption Syntax and Processing","application/patch-ops-error+xml":"XML Patch Framework","application/resource-lists+xml":"XML Resource Lists","application/rls-services+xml":"XML Resource Lists","application/resource-lists-diff+xml":"XML Resource Lists Diff","application/xslt+xml":"XML Transformations","application/xop+xml":"XML-Binary Optimized Packaging","application/x-xpinstall":"XPInstall - Mozilla","application/xspf+xml":"XSPF - XML Shareable Playlist Format","application/vnd.mozilla.xul+xml":"XUL - XML User Interface Language","chemical/x-xyz":"XYZ File Format","text/yaml":"YAML","application/yang":"YANG Data Modeling Language","application/yin+xml":"YIN (YANG - XML)","application/vnd.zul":"Z.U.L. Geometry","application/zip":"Zip Archive","application/vnd.handheld-entertainment+xml":"ZVUE Media Manager","application/vnd.zzazz.deck+xml":"Zzazz Deck"};function Bn(e,t=!1){return t?i3[e]||null:r3[e]||null}const s3=K({name:"FolderPickerListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}}}),d3={class:"folder-picker-list-item"};function u3(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-picker-list-item",!0),_=c("v-list-group");return m(),I("div",d3,[e.folder.children.length===0?(m(),C(p,{key:0,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[0]||(t[0]=v=>e.clickHandler(e.folder.id))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(u,null,{default:s(()=>[P(w(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),C(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[1]||(t[1]=v=>e.clickHandler(e.folder.id))},{activator:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(u,null,{default:s(()=>[P(w(e.folder.name),1)]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.folder.children,v=>(m(),C(f,{key:v.id,folder:v,"current-folder":e.currentFolder,"click-handler":e.clickHandler,disabled:e.disabledFolders.includes(v.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))])}var c3=z(s3,[["render",u3]]);const p3=K({components:{FolderPickerListItem:c3},props:{disabledFolders:{type:Array,default:()=>[]},modelValue:{type:String,default:null}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=E(!1),l=E([]),a=F(()=>{return l.value.filter(y=>y.parent===null).map(y=>Fe(fe({},y),{children:v(y)}));function v(y){return l.value.filter(h=>h.parent===y.id).map(h=>Fe(fe({},h),{children:v(h)}))}}),d=[],i=l.value.find(v=>v.id===e.modelValue);i&&i.parent&&_(i.parent);const r=["root"];for(const v of d)r.includes(v)===!1&&r.push(v);const u=F(()=>l.value.find(v=>v.id===e.modelValue)||{}),p=E(r);return f(),{t,loading:n,folders:l,tree:a,selectedFolder:u,openFolders:p};async function f(){if(!(l.value.length>0)){n.value=!0;try{const v=await pe.get("/folders",{params:{limit:-1,sort:"name"}});l.value=v.data.data}catch(v){Ie(v)}finally{n.value=!1}}}function _(v){if(!l.value)return;d.push(v);const y=l.value.find(h=>h.id===v);y&&y.parent&&_(y.parent)}}}),m3={key:1,class:"folder-picker"};function f3(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-icon"),u=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("folder-picker-list-item"),_=c("v-list-group"),v=c("v-item-group"),y=c("v-list");return e.loading?(m(),C(i,{key:0})):(m(),I("div",m3,[o(y,null,{default:s(()=>[o(v,{modelValue:e.openFolders,"onUpdate:modelValue":t[1]||(t[1]=h=>e.openFolders=h),scope:"folder-picker",multiple:""},{default:s(()=>[o(_,{"disable-groupable-parent":"",clickable:"",active:e.modelValue===null,scope:"folder-picker",value:"root",onClick:t[0]||(t[0]=h=>e.$emit("update:modelValue",null))},{activator:s(()=>[o(u,null,{default:s(()=>[o(r,{name:"folder_special",outline:""})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("file_library")),1)]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.tree,h=>(m(),C(f,{key:h.id,folder:h,"current-folder":e.modelValue,"click-handler":g=>e.$emit("update:modelValue",g),disabled:e.disabledFolders.includes(h.id),"disabled-folders":e.disabledFolders},null,8,["folder","current-folder","click-handler","disabled","disabled-folders"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),_:1})]))}var Ll=z(p3,[["render",f3],["__scopeId","data-v-aeea4842"]]);function zt(e){return e.startsWith("directus_")?`/${e.substring(9)}`:`/items/${e}`}const _3=e=>(Xe("data-v-06731b52"),e=e(),Ye(),e),v3={class:"fields"},y3={class:"field full"},h3={key:0,class:"uploading"},g3={class:"type-text"},b3={key:0},w3={class:"type-label"},k3={key:0,class:"extension"},$3=_3(()=>S("label",{for:"import-file",class:"import-file-label"},null,-1)),S3={class:"field full"},C3={class:"field full"},V3={class:"export-fields"},F3={class:"field half-left"},A3={class:"type-label"},I3={class:"field half-right"},E3={class:"type-label"},D3={class:"field half-left"},T3={class:"type-label"},P3={class:"field half-right"},O3={class:"type-label"},L3={class:"field half-left"},j3={class:"type-label"},R3={class:"field half-right"},M3={class:"type-label"},U3={class:"field full"},N3={class:"type-label"},B3={class:"field full"},q3={class:"type-label"},z3={class:"field full"},K3={class:"type-label"},W3=K({props:{collection:null,layoutQuery:{default:void 0},filter:{default:void 0},search:{default:void 0}},emits:["refresh"],setup(e,{emit:t}){var ee,ne,te,Z,se;const n=e,{t:l,n:a}=Y(),{collection:d}=ze(n),i=E(null),r=E(null),{uploading:u,progress:p,importing:f,uploadFile:_}=J(),v=E(!1),y=F(()=>r.value===null?null:Bn(r.value.type,!0)),{primaryKeyField:h,fields:g,info:b}=rt(d),$=Gt({limit:(ne=(ee=n.layoutQuery)==null?void 0:ee.limit)!=null?ne:25,filter:n.filter,search:n.search,fields:(se=(te=n.layoutQuery)==null?void 0:te.fields)!=null?se:(Z=g.value)==null?void 0:Z.map(X=>X.field),sort:`${h.value.field}`});ge(()=>n.layoutQuery,()=>{var X;((X=n.layoutQuery)==null?void 0:X.sort)&&(Array.isArray(n.layoutQuery.sort)?$.sort=n.layoutQuery.sort[0]:$.sort=n.layoutQuery.sort)},{immediate:!0});const A=E("csv"),V=E("download"),T=E(),D=F(()=>{var re;return((re=$.limit)!=null?re:O.value)>=2500});ge(()=>$.limit,()=>{D.value&&(V.value="files")});const O=E(),M=E(!1),L=N.exports.debounce(async()=>{M.value=!0;try{const X=await pe.get(zt(d.value),{params:Fe(fe({},$),{aggregate:{count:["*"]}})}).then(re=>{var ve,H;if((H=(ve=re.data.data)==null?void 0:ve[0])==null?void 0:H.count)return Number(re.data.data[0].count)});O.value=X}finally{M.value=!1}},250);L(),ge($,()=>{L()});const j=F({get(){return $.sort.startsWith("-")?"DESC":"ASC"},set(X){X==="ASC"?$.sort.startsWith("-")&&($.sort=$.sort.substring(1)):$.sort.startsWith("-")===!1&&($.sort=`-${$.sort}`)}}),B=F({get(){return $.sort.startsWith("-")?$.sort.substring(1):$.sort},set(X){$.sort=X}}),q=E(!1);function G(X){var ve;const re=(ve=X.target)==null?void 0:ve.files;re&&re.length>0&&(r.value=re.item(0))}function Q(){i.value&&(i.value.value=""),r.value=null}function ce(){_(r.value)}function J(){const X=E(!1),re=E(!1),ve=E(0);return{uploading:X,progress:ve,importing:re,uploadFile:H};async function H(le){X.value=!0,re.value=!1,ve.value=0;const ie=new FormData;ie.append("file",le);try{await pe.post(`/utils/import/${d.value}`,ie,{onUploadProgress:de=>{const ye=Math.floor(de.loaded*100/de.total);ve.value=ye,re.value=ye===100}}),Q(),t("refresh"),ct({title:l("import_data_success",{filename:le.name})})}catch{ct({title:l("import_data_error"),type:"error"})}finally{X.value=!1,re.value=!1,ve.value=0}}}function oe(){V.value==="download"?_e():me()}function _e(){const X=d.value.startsWith("directus_")?`${d.value.substring(9)}`:`items/${d.value}`,re=Ze()+X;let ve={access_token:pe.defaults.headers.common.Authorization.substring(7),export:A.value};$.sort&&(ve.sort=$.sort),$.fields&&(ve.fields=$.fields),$.limit&&(ve.limit=$.limit),$.search&&(ve.search=$.search),$.filter&&(ve.filter=$.filter),$.search&&(ve.search=$.search);const H=pe.getUri({url:re,params:ve});window.open(H)}async function me(){q.value=!0;try{await pe.post(`/utils/export/${d.value}`,{query:Fe(fe({},$),{sort:[$.sort]}),format:A.value,file:{folder:T.value}}),v.value=!1,ct({title:l("export_started"),text:l("export_started_copy"),type:"success",icon:"file_download"})}catch(X){Ie(X)}finally{q.value=!1}}return(X,re)=>{const ve=c("v-progress-linear"),H=c("v-icon"),le=c("v-input"),ie=c("v-button"),de=c("v-divider"),ye=c("v-select"),he=c("v-notice"),Se=c("interface-system-field"),Ce=c("interface-system-filter"),Ae=c("interface-system-fields"),Le=c("v-drawer"),Ge=c("sidebar-detail"),lt=$e("tooltip");return m(),C(Ge,{icon:"import_export",title:W(l)("import_export")},{default:s(()=>[S("div",v3,[S("div",y3,[W(u)||W(f)?(m(),I("div",h3,[S("div",g3,[S("span",null,w(W(f)?W(l)("import_data_indeterminate"):W(l)("upload_file_indeterminate")),1),W(f)?R("",!0):(m(),I("span",b3,w(W(p))+"%",1))]),o(ve,{indeterminate:W(f),value:W(p),rounded:""},null,8,["indeterminate","value"])])):(m(),I(ae,{key:1},[S("p",w3,w(W(l)("label_import")),1),o(le,{clickable:""},{prepend:s(()=>[S("div",{class:ue(["preview",{"has-file":r.value}])},[W(y)?(m(),I("span",k3,w(W(y)),1)):(m(),C(H,{key:1,name:"folder_open"}))],2)]),input:s(()=>[S("input",{id:"import-file",ref:(Me,Ve)=>{Ve.fileInput=Me,i.value=Me},type:"file",accept:"text/csv, application/json",hidden:"",onChange:G},null,544),$3,S("span",{class:ue(["import-file-text",{"no-file":!r.value}])},w(r.value?r.value.name:W(l)("import_data_input_placeholder")),3)]),append:s(()=>[r.value?x((m(),C(H,{key:0,class:"deselect",name:"close",onClick:De(Q,["stop"])},null,8,["onClick"])),[[lt,W(l)("deselect")]]):(m(),C(H,{key:1,name:"attach_file"}))]),_:1})],64))]),S("div",S3,[o(ie,{small:"","full-width":"",disabled:!r.value,loading:W(u)||W(f),onClick:ce},{default:s(()=>[P(w(W(l)("import_data_button")),1)]),_:1},8,["disabled","loading"])]),o(de),S("div",C3,[o(ie,{small:"","full-width":"",onClick:re[0]||(re[0]=Me=>v.value=!0)},{default:s(()=>[P(w(W(l)("export_items")),1)]),_:1})])]),o(Le,{modelValue:v.value,"onUpdate:modelValue":re[10]||(re[10]=Me=>v.value=Me),title:W(l)("export_items"),icon:"import_export",persistent:"",onEsc:re[11]||(re[11]=Me=>v.value=!1),onCancel:re[12]||(re[12]=Me=>v.value=!1)},{actions:s(()=>[x(o(ie,{rounded:"",icon:"",loading:q.value,onClick:oe},{default:s(()=>[o(H,{name:V.value==="download"?"download":"start"},null,8,["name"])]),_:1},8,["loading"]),[[lt,V.value==="download"?W(l)("download_file"):W(l)("start_export"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",V3,[S("div",F3,[S("p",A3,w(W(l)("format")),1),o(ye,{modelValue:A.value,"onUpdate:modelValue":re[1]||(re[1]=Me=>A.value=Me),items:[{text:W(l)("csv"),value:"csv"},{text:W(l)("json"),value:"json"},{text:W(l)("xml"),value:"xml"}]},null,8,["modelValue","items"])]),S("div",I3,[S("p",E3,w(W(l)("limit")),1),o(le,{modelValue:W($).limit,"onUpdate:modelValue":re[2]||(re[2]=Me=>W($).limit=Me),type:"number",placeholder:W(l)("unlimited")},null,8,["modelValue","placeholder"])]),S("div",D3,[S("p",T3,w(W(l)("export_location")),1),o(ye,{modelValue:V.value,"onUpdate:modelValue":re[3]||(re[3]=Me=>V.value=Me),disabled:W(D),items:[{value:"download",text:W(l)("download_file")},{value:"files",text:W(l)("file_library")}]},null,8,["modelValue","disabled","items"])]),S("div",P3,[S("p",O3,w(W(l)("folder")),1),V.value==="files"?(m(),C(Ll,{key:0,modelValue:T.value,"onUpdate:modelValue":re[4]||(re[4]=Me=>T.value=Me)},null,8,["modelValue"])):(m(),C(he,{key:1},{default:s(()=>[P(w(W(l)("not_available_for_local_downloads")),1)]),_:1}))]),o(he,{class:"full",type:W(D)?"warning":"normal"},{default:s(()=>{var Me,Ve;return[S("div",null,[S("p",null,[O.value===0?(m(),I(ae,{key:0},[P(w(W(l)("exporting_no_items_to_export")),1)],64)):!W($).limit||O.value&&W($).limit>O.value?(m(),I(ae,{key:1},[P(w(W(l)("exporting_all_items_in_collection",{total:O.value?W(a)(O.value):"??",collection:(Me=W(b))==null?void 0:Me.name})),1)],64)):O.value&&O.value>W($).limit?(m(),I(ae,{key:2},[P(w(W(l)("exporting_limited_items_in_collection",{limit:W($).limit?W(a)(W($).limit):"??",total:O.value?W(a)(O.value):"??",collection:(Ve=W(b))==null?void 0:Ve.name})),1)],64)):R("",!0)]),S("p",null,[W(D)?(m(),I(ae,{key:0},[P(w(W(l)("exporting_batch_hint_forced",{format:A.value})),1)],64)):V.value==="files"?(m(),I(ae,{key:1},[P(w(W(l)("exporting_batch_hint",{format:A.value})),1)],64)):(m(),I(ae,{key:2},[P(w(W(l)("exporting_download_hint",{format:A.value})),1)],64))])])]}),_:1},8,["type"]),o(de),S("div",L3,[S("p",j3,w(W(l)("sort_field")),1),o(Se,{value:W(B),collection:W(d),"allow-primary-key":"",onInput:re[5]||(re[5]=Me=>B.value=Me)},null,8,["value","collection"])]),S("div",R3,[S("p",M3,w(W(l)("sort_direction")),1),o(ye,{modelValue:W(j),"onUpdate:modelValue":re[6]||(re[6]=Me=>kt(j)?j.value=Me:null),items:[{value:"ASC",text:W(l)("sort_asc")},{value:"DESC",text:W(l)("sort_desc")}]},null,8,["modelValue","items"])]),S("div",U3,[S("p",N3,w(W(l)("full_text_search")),1),o(le,{modelValue:W($).search,"onUpdate:modelValue":re[7]||(re[7]=Me=>W($).search=Me),placeholder:W(l)("search")},null,8,["modelValue","placeholder"])]),S("div",B3,[S("p",q3,w(W(l)("filter")),1),o(Ce,{value:W($).filter,"collection-name":W(d),onInput:re[8]||(re[8]=Me=>W($).filter=Me)},null,8,["value","collection-name"])]),S("div",z3,[S("p",K3,w(W(l)("field",2)),1),o(Ae,{value:W($).fields,"collection-name":W(d),onInput:re[9]||(re[9]=Me=>W($).fields=Me)},null,8,["value","collection-name"])])])]),_:1},8,["modelValue","title"])]),_:1},8,["title"])}}});var Ja=z(W3,[["__scopeId","data-v-06731b52"]]);const H3=K({props:{modelValue:{type:Boolean,default:!1},saving:{type:Boolean,default:!1}},emits:["save","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=Gt({name:null,icon:"bookmark_outline",color:null});return{t:n,bookmarkValue:l,setIcon:a,setColor:d,cancel:i};function a(r){l.icon=r}function d(r){l.color=r}function i(){l.name=null,l.icon="bookmark_outline",l.color=null,t("update:modelValue",!1)}}}),G3={class:"fields"};function Z3(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-input"),u=c("interface-select-icon"),p=c("interface-select-color"),f=c("v-card-text"),_=c("v-button"),v=c("v-card-actions"),y=c("v-card"),h=c("v-dialog");return m(),C(h,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=g=>e.$emit("update:modelValue",g)),onEsc:e.cancel},{activator:s(g=>[be(e.$slots,"activator",Qe(et(g)),void 0,!0)]),default:s(()=>[o(y,null,{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.t("create_bookmark")),1)]),_:1}),o(f,null,{default:s(()=>[S("div",G3,[o(r,{modelValue:e.bookmarkValue.name,"onUpdate:modelValue":t[0]||(t[0]=g=>e.bookmarkValue.name=g),class:"full",autofocus:"",trim:"",placeholder:e.t("bookmark_name"),onKeyup:t[1]||(t[1]=Yn(g=>e.$emit("save",e.bookmarkValue),["enter"]))},null,8,["modelValue","placeholder"]),o(u,{width:"half",value:e.bookmarkValue.icon,onInput:e.setIcon},null,8,["value","onInput"]),o(p,{width:"half",value:e.bookmarkValue.color,onInput:e.setColor},null,8,["value","onInput"])])]),_:1}),o(v,null,{default:s(()=>[o(_,{secondary:"",onClick:e.cancel},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(_,{disabled:e.bookmarkValue.name===null,loading:e.saving,onClick:t[2]||(t[2]=g=>e.$emit("save",e.bookmarkValue))},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var J3=z(H3,[["render",Z3],["__scopeId","data-v-7701a834"]]);const jl=["FAILED_VALIDATION","RECORD_NOT_UNIQUE"],Q3=`

\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28E6\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2800\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28E6\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28FF\u28FF\u28FF\u28F7\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u281B\u283F\u283F\u283F\u283F\u283F\u281B\u281B\u2809\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E6\u28E4\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28F6\u28F6\u28FE\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u283F\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28B8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284C\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E4\u28F6\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u2801\u281B\u281B\u283F\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28F6\u28E4\u28E4\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u281F\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u28FF\u28FF\u28FF\u28FF\u28FF\u2846\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28C4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u283F\u281B\u281B\u280B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u281B\u283F\u28FF\u28C4\u2808\u283B\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E6\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u28FF\u28FF\u28FF\u280B\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2809\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u28BF\u28FF\u28FF\u28FF\u28F7\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u28E4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2809\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u28F4\u28FF\u28FF\u28FF\u28FF\u281F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2809\u2809\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800

`,X3=["directus_activity","directus_collections","directus_fields","directus_migrations","directus_relations","directus_revisions","directus_sessions","directus_settings"],Fn=[{type:"module",id:"content",enabled:!0},{type:"module",id:"users",enabled:!0},{type:"module",id:"files",enabled:!0},{type:"module",id:"insights",enabled:!0},{type:"module",id:"docs",enabled:!0},{type:"module",id:"settings",enabled:!0,locked:!0}],Y3=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:geometry",value:"geometry"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"}],go="default",Qa=["oauth2","openid"];const x3=K({props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},edits:{type:Object,default:void 0},primaryKeys:{type:Array,required:!0}},emits:["update:active","refresh"],setup(e,{emit:t}){const{t:n}=Y(),{internalEdits:l}=f(),{internalActive:a}=_(),{save:d,cancel:i,saving:r,validationErrors:u}=v(),{collection:p}=ze(e);return{t:n,internalActive:a,internalEdits:l,save:d,saving:r,cancel:i,validationErrors:u};function f(){const y=E({});return{internalEdits:F({get(){return e.edits!==void 0?fe(fe({},e.edits),y.value):y.value},set(g){y.value=g}})}}function _(){const y=E(!1);return{internalActive:F({get(){return e.active===void 0?y.value:e.active},set(g){y.value=g,t("update:active",g)}})}}function v(){const y=E(!1),h=E([]),g=F(()=>p.value.startsWith("directus_")?`/${p.value.substring(9)}`:`/items/${p.value}`);return{save:b,cancel:$,saving:y,validationErrors:h};async function b(){y.value=!0;try{await pe.patch(g.value,{keys:e.primaryKeys,data:l.value}),t("refresh"),a.value=!1,l.value={}}catch(A){h.value=A.response.data.errors.filter(T=>{var D;return jl.includes((D=T==null?void 0:T.extensions)==null?void 0:D.code)}).map(T=>T.extensions);const V=A.response.data.errors.filter(T=>{var D;return jl.includes((D=T==null?void 0:T.extensions)==null?void 0:D.code)===!1});V.length>0&&V.forEach(Ie)}finally{y.value=!1}}function $(){a.value=!1,l.value={}}}}}),e4={class:"drawer-batch-content"};function t4(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-form"),p=c("v-drawer"),f=$e("tooltip");return m(),C(p,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=_=>e.internalActive=_),title:e.t("editing_in_batch",{count:e.primaryKeys.length}),persistent:"",onCancel:e.cancel},{actions:s(()=>[x(o(r,{icon:"",rounded:"",loading:e.saving,onClick:e.save},{default:s(()=>[o(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[f,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",e4,[o(u,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=_=>e.internalEdits=_),collection:e.collection,"batch-mode":"","primary-key":"+","validation-errors":e.validationErrors},null,8,["modelValue","collection","validation-errors"])])]),_:1},8,["modelValue","title","onCancel"])}var Rl=z(x3,[["render",t4],["__scopeId","data-v-5d0693b1"]]);const n4=K({name:"ContentCollection",components:{ContentNavigation:Ol,ContentNotFound:yo,LayoutSidebarDetail:Un,SearchInput:Cn,BookmarkAdd:J3,DrawerBatch:Rl,ArchiveSidebarDetail:x8,RefreshSidebarDetail:Za,ExportSidebarDetail:Ja},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),{layouts:l}=$n(),a=He(),d=Ot(),i=E(),{collection:r}=ze(e),u=F(()=>e.bookmark?+e.bookmark:null),{selection:p}=Ae(),{info:f}=rt(r),{addNewLink:_,currentCollectionLink:v}=Ge(),{breadcrumb:y}=Ce(),{layout:h,layoutOptions:g,layoutQuery:b,filter:$,search:A,savePreset:V,bookmarkExists:T,saveCurrentAsBookmark:D,bookmarkTitle:O,resetPreset:M,bookmarkSaved:L,bookmarkIsMine:j,refreshInterval:B,busy:q,clearLocalSave:G}=Mn(r,u),{layoutWrapper:Q}=pn(h),{confirmDelete:ce,deleting:J,batchDelete:oe,confirmArchive:_e,archiveItems:me,archiving:ee,error:ne,batchEditActive:te}=Le(),{bookmarkDialogActive:Z,creatingBookmark:se,createBookmark:X}=lt(),re=F(()=>l.value.find(Ee=>Ee.id===h.value));ge(r,()=>{h.value===null&&(h.value="tabular")},{immediate:!0});const{batchEditAllowed:ve,batchArchiveAllowed:H,batchDeleteAllowed:le,createAllowed:ie}=Ve(),de=F(()=>{var Ee,Te;return f.value&&((Ee=f.value.meta)==null?void 0:Ee.archive_field)&&((Te=f.value.meta)==null?void 0:Te.archive_app_filter)}),ye=F(()=>{var je,ke,Ue;if(!((je=f.value)==null?void 0:je.meta)||!((Ue=(ke=f.value)==null?void 0:ke.meta)==null?void 0:Ue.archive_app_filter))return null;const Ee=f.value.meta.archive_field;if(!Ee)return null;let Te=f.value.meta.archive_value;return Te==="true"&&(Te=!0),Te==="false"&&(Te=!1),e.archive==="all"?null:e.archive==="archived"?{[Ee]:{_eq:Te}}:{[Ee]:{_neq:Te}}});return{t,addNewLink:_,batchDelete:oe,batchEditActive:te,confirmDelete:ce,currentCollection:f,deleting:J,filter:$,layoutRef:i,layoutWrapper:Q,selection:p,layoutOptions:g,layoutQuery:b,layout:h,search:A,savePreset:V,bookmarkExists:T,currentCollectionLink:v,bookmarkDialogActive:Z,creatingBookmark:se,createBookmark:X,bookmarkTitle:O,breadcrumb:y,clearFilters:Me,confirmArchive:_e,archiveItems:me,archiving:ee,batchEditAllowed:ve,batchArchiveAllowed:H,batchDeleteAllowed:le,deleteError:ne,createAllowed:ie,resetPreset:M,bookmarkSaved:L,bookmarkIsMine:j,bookmarkSaving:q,clearLocalSave:G,drawerBatchRefresh:Se,refresh:he,refreshInterval:B,currentLayout:re,hasArchive:de,archiveFilter:ye,mergeFilters:Dl};async function he(){var Ee,Te,je;await((je=(Te=(Ee=i.value)==null?void 0:Ee.state)==null?void 0:Te.refresh)==null?void 0:je.call(Te))}async function Se(){p.value=[],await he()}function Ce(){return{breadcrumb:F(()=>{var Te;return[{name:(Te=f.value)==null?void 0:Te.name,to:`/content/${e.collection}`}]})}}function Ae(){const Ee=E([]);return ge(()=>e.collection,()=>Ee.value=[]),{selection:Ee}}function Le(){const Ee=E(!1),Te=E(!1),je=E(!1),ke=E(!1),Ue=E(!1),Re=E(null);return{batchEditActive:je,confirmDelete:Ee,deleting:Te,batchDelete:xe,confirmArchive:ke,archiving:Ue,archiveItems:tt,error:Re};async function xe(){Te.value=!0;const ut=p.value;try{await pe.delete(`/items/${e.collection}`,{data:ut}),p.value=[],await he(),Ee.value=!1}catch(yt){Re.value=yt}finally{Te.value=!1}}async function tt(){var yt,Xt;if(!((Xt=(yt=f.value)==null?void 0:yt.meta)==null?void 0:Xt.archive_field))return;Ue.value=!0;let ut=f.value.meta.archive_value;ut==="true"&&(ut=!0),ut==="false"&&(ut=!1);try{await pe.patch(`/items/${e.collection}`,{keys:p.value,data:{[f.value.meta.archive_field]:ut}}),p.value=[],await he(),ke.value=!1}catch(hn){Re.value=hn}finally{Ue.value=!1}}}function Ge(){const Ee=F(()=>`/content/${e.collection}/+`),Te=F(()=>`/content/${e.collection}`);return{addNewLink:Ee,currentCollectionLink:Te}}function lt(){const Ee=E(!1),Te=E(!1);return{bookmarkDialogActive:Ee,creatingBookmark:Te,createBookmark:je};async function je(ke){Te.value=!0;try{const Ue=await D({bookmark:ke.name,icon:ke.icon,color:ke.color});n.push(`/content/${Ue.collection}?bookmark=${Ue.id}`),Ee.value=!1}catch(Ue){Ie(Ue)}finally{Te.value=!1}}}function Me(){$.value=null,A.value=null}function Ve(){const Ee=F(()=>{var xe;return((xe=a==null?void 0:a.currentUser)==null?void 0:xe.role.admin_access)===!0?!0:!!d.permissions.find(tt=>tt.action==="update"&&tt.collection===r.value)}),Te=F(()=>{var xe,tt,ut;if(!((tt=(xe=f.value)==null?void 0:xe.meta)==null?void 0:tt.archive_field))return!1;if(((ut=a==null?void 0:a.currentUser)==null?void 0:ut.role.admin_access)===!0)return!0;const Re=d.permissions.find(yt=>yt.action==="update"&&yt.collection===r.value);return!Re||!Re.fields?!1:Re.fields.includes("*")?!0:Re.fields.includes(f.value.meta.archive_field)}),je=F(()=>{var xe;return((xe=a==null?void 0:a.currentUser)==null?void 0:xe.role.admin_access)===!0?!0:!!d.permissions.find(tt=>tt.action==="delete"&&tt.collection===r.value)}),ke=F(()=>{var xe;return((xe=a==null?void 0:a.currentUser)==null?void 0:xe.role.admin_access)===!0?!0:!!d.permissions.find(tt=>tt.action==="create"&&tt.collection===r.value)});return{batchEditAllowed:Ee,batchArchiveAllowed:Te,batchDeleteAllowed:je,createAllowed:ke}}}}),l4={class:"bookmark-controls"},o4={class:"page-description"};function a4(e,t,n,l,a,d){const i=c("content-not-found"),r=c("v-icon"),u=c("v-button"),p=c("v-breadcrumb"),f=c("bookmark-add"),_=c("search-input"),v=c("v-card-title"),y=c("v-card-actions"),h=c("v-card"),g=c("v-dialog"),b=c("content-navigation"),$=c("v-info"),A=c("drawer-batch"),V=c("sidebar-detail"),T=c("layout-sidebar-detail"),D=c("archive-sidebar-detail"),O=c("refresh-sidebar-detail"),M=c("export-sidebar-detail"),L=c("v-error"),j=c("v-card-text"),B=c("private-view"),q=$e("tooltip"),G=$e("md");return m(),C(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[16]||(t[16]=Q=>e.selection=Q),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[17]||(t[17]=Q=>e.layoutOptions=Q),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[18]||(t[18]=Q=>e.layoutQuery=Q),"filter-user":e.filter,"filter-system":e.archiveFilter,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,collection:e.collection,"reset-preset":e.resetPreset,"clear-filters":e.clearFilters},{default:s(({layoutState:Q})=>{var ce;return[!e.currentCollection||e.collection.startsWith("directus_")?(m(),C(i,{key:0})):(m(),C(B,{key:1,title:e.bookmark?e.bookmarkTitle:e.currentCollection.name,"small-header":(ce=e.currentLayout)==null?void 0:ce.smallHeader},{"title-outer:prepend":s(()=>[o(u,{class:ue(["header-icon",{archive:e.archive}]),rounded:"",icon:"",secondary:"",disabled:""},{default:s(()=>[o(r,{name:e.archive?"archive":e.currentCollection.icon,color:e.currentCollection.color},null,8,["name","color"])]),_:1},8,["class"])]),headline:s(()=>[e.bookmark?(m(),C(p,{key:0,items:e.breadcrumb},null,8,["items"])):(m(),C(p,{key:1,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"]))]),"title-outer:append":s(()=>[S("div",l4,[e.bookmark?e.bookmarkSaved?(m(),C(r,{key:1,class:"saved",name:"bookmark"})):e.bookmarkIsMine?x((m(),C(r,{key:2,class:"save",clickable:"",name:"bookmark_save",onClick:t[1]||(t[1]=J=>e.savePreset())},null,512)),[[q,e.t("update_bookmark"),void 0,{bottom:!0}]]):(m(),C(f,{key:3,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[2]||(t[2]=J=>e.bookmarkDialogActive=J),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:s(({on:J})=>[o(r,{class:"toggle",name:"bookmark_outline",clickable:"",onClick:J},null,8,["onClick"])]),_:1},8,["modelValue","saving","onSave"])):(m(),C(f,{key:0,modelValue:e.bookmarkDialogActive,"onUpdate:modelValue":t[0]||(t[0]=J=>e.bookmarkDialogActive=J),class:"add",saving:e.creatingBookmark,onSave:e.createBookmark},{activator:s(({on:J})=>[x(o(r,{class:"toggle",clickable:"",name:"bookmark_outline",onClick:J},null,8,["onClick"]),[[q,e.t("create_bookmark"),void 0,{right:!0}]])]),_:1},8,["modelValue","saving","onSave"])),e.bookmark&&!e.bookmarkSaving&&e.bookmarkSaved===!1?x((m(),C(r,{key:4,name:"settings_backup_restore",clickable:"",class:"clear",onClick:e.clearLocalSave},null,8,["onClick"])),[[q,e.t("reset_bookmark"),void 0,{bottom:!0}]]):R("",!0)])]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.layout||"tabular"}`),Qe(et(Q)),null,16))]),actions:s(()=>[o(_,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=J=>e.search=J),filter:e.filter,"onUpdate:filter":t[4]||(t[4]=J=>e.filter=J),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),C(g,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[6]||(t[6]=J=>e.confirmDelete=J),onEsc:t[7]||(t[7]=J=>e.confirmDelete=!1)},{activator:s(({on:J})=>[x(o(u,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:J},{default:s(()=>[o(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[q,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(y,null,{default:s(()=>[o(u,{secondary:"",onClick:t[5]||(t[5]=J=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0&&e.currentCollection.meta&&e.currentCollection.meta.archive_field&&e.archive!=="archived"?(m(),C(g,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[9]||(t[9]=J=>e.confirmArchive=J),onEsc:t[10]||(t[10]=J=>e.confirmArchive=!1)},{activator:s(({on:J})=>[x(o(u,{disabled:e.batchArchiveAllowed!==!0,rounded:"",icon:"",secondary:"",onClick:J},{default:s(()=>[o(r,{name:"archive",outline:""})]),_:2},1032,["disabled","onClick"]),[[q,e.batchArchiveAllowed?e.t("archive"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("archive_confirm_count",e.selection.length)),1)]),_:1}),o(y,null,{default:s(()=>[o(u,{secondary:"",onClick:t[8]||(t[8]=J=>e.confirmArchive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"warning",loading:e.archiving,onClick:e.archiveItems},{default:s(()=>[P(w(e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?x((m(),C(u,{key:2,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[11]||(t[11]=J=>e.batchEditActive=!0)},{default:s(()=>[o(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[q,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to","disabled"]),[[q,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(b,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:s(()=>[o(V,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",o4,null,512),[[G,e.t("page_help_collections_collection",{collection:e.currentCollection.name})]])]),_:1},8,["title"]),o(T,{modelValue:e.layout,"onUpdate:modelValue":t[13]||(t[13]=J=>e.layout=J)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout||"tabular"}`),Qe(et(Q)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout||"tabular"}`),Qe(et(Q)),null,16)),e.hasArchive?(m(),C(D,{key:0,collection:e.collection,archive:e.archive},null,8,["collection","archive"])):R("",!0),o(O,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[14]||(t[14]=J=>e.refreshInterval=J),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),o(M,{collection:e.collection,filter:e.mergeFilters(e.filter,e.archiveFilter),search:e.search,"layout-query":e.layoutQuery,onRefresh:e.refresh},null,8,["collection","filter","search","layout-query","onRefresh"])]),default:s(()=>[e.bookmark&&e.bookmarkExists===!1?(m(),C($,{key:0,type:"warning",title:e.t("bookmark_doesnt_exist"),icon:"bookmark",center:""},{append:s(()=>[o(u,{to:e.currentCollectionLink},{default:s(()=>[P(w(e.t("bookmark_doesnt_exist_cta")),1)]),_:1},8,["to"])]),default:s(()=>[P(w(e.t("bookmark_doesnt_exist_copy"))+" ",1)]),_:1},8,["title"])):(m(),C(Be(`layout-${e.layout||"tabular"}`),pt({key:1,class:"layout"},Q),{"no-results":s(()=>[o($,{title:e.t("no_results"),icon:"search",center:""},{append:s(()=>[o(u,{onClick:e.clearFilters},{default:s(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":s(()=>[o($,{title:e.t("item_count",0),icon:e.currentCollection.icon,center:""},ot({default:s(()=>[P(w(e.t("no_items_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:s(()=>[o(u,{to:`/content/${e.collection}/+`},{default:s(()=>[P(w(e.t("create_item")),1)]),_:1},8,["to"])])}:void 0]),1032,["title","icon"])]),_:2},1040)),o(A,{active:e.batchEditActive,"onUpdate:active":t[12]||(t[12]=J=>e.batchEditActive=J),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),o(g,{"model-value":e.deleteError!==null},{default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("something_went_wrong")),1)]),_:1}),o(j,null,{default:s(()=>[o(L,{error:e.deleteError},null,8,["error"])]),_:1}),o(y,null,{default:s(()=>[o(u,{onClick:t[15]||(t[15]=J=>e.deleteError=null)},{default:s(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"]))]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter-system","filter","search","collection","reset-preset","clear-filters"])}var i4=z(n4,[["render",a4],["__scopeId","data-v-326052ab"]]);function r4(e){switch(e){case"af":return U(()=>import("./index.3ccb6082.js").then(function(t){return t.i}),["assets/index.3ccb6082.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-DZ":return U(()=>import("./index.faf1336c.js").then(function(t){return t.i}),["assets/index.faf1336c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-MA":return U(()=>import("./index.f80c179a.js").then(function(t){return t.i}),["assets/index.f80c179a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ar-SA":return U(()=>import("./index.517b48c5.js").then(function(t){return t.i}),["assets/index.517b48c5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"az":return U(()=>import("./index.cfaefc8a.js").then(function(t){return t.i}),["assets/index.cfaefc8a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"be":return U(()=>import("./index.f5754cc1.js").then(function(t){return t.i}),["assets/index.f5754cc1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bg":return U(()=>import("./index.6a46a652.js").then(function(t){return t.i}),["assets/index.6a46a652.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"bn":return U(()=>import("./index.bea32c39.js").then(function(t){return t.i}),["assets/index.bea32c39.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ca":return U(()=>import("./index.af2cbd13.js").then(function(t){return t.i}),["assets/index.af2cbd13.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"cs":return U(()=>import("./index.c46cec0b.js").then(function(t){return t.i}),["assets/index.c46cec0b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"cy":return U(()=>import("./index.4a071c64.js").then(function(t){return t.i}),["assets/index.4a071c64.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"da":return U(()=>import("./index.8d80b40a.js").then(function(t){return t.i}),["assets/index.8d80b40a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"de":return U(()=>import("./index.bd60d2ff.js").then(function(t){return t.i}),["assets/index.bd60d2ff.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"de-AT":return U(()=>import("./index.3ee8527a.js").then(function(t){return t.i}),["assets/index.3ee8527a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.eedadecd.js","assets/index.ffc6c203.js"]);case"el":return U(()=>import("./index.dc9a0145.js").then(function(t){return t.i}),["assets/index.dc9a0145.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"en-AU":return U(()=>import("./index.bee94ac8.js").then(function(t){return t.i}),["assets/index.bee94ac8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-CA":return U(()=>import("./index.2aa210ef.js").then(function(t){return t.i}),["assets/index.2aa210ef.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-GB":return U(()=>import("./index.0f87b330.js").then(function(t){return t.i}),["assets/index.0f87b330.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-IN":return U(()=>import("./index.70c2751c.js").then(function(t){return t.i}),["assets/index.70c2751c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-NZ":return U(()=>import("./index.225ca76b.js").then(function(t){return t.i}),["assets/index.225ca76b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"en-US":return U(()=>import("./index.1556730f.js").then(function(t){return t.i}),["assets/index.1556730f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.ffc6c203.js","assets/index.7b2f54b1.js"]);case"en-ZA":return U(()=>import("./index.98b80c09.js").then(function(t){return t.i}),["assets/index.98b80c09.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.55d799e2.js","assets/index.7b2f54b1.js","assets/index.ffc6c203.js"]);case"eo":return U(()=>import("./index.e3a77573.js").then(function(t){return t.i}),["assets/index.e3a77573.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"es":return U(()=>import("./index.a65d3053.js").then(function(t){return t.i}),["assets/index.a65d3053.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"et":return U(()=>import("./index.5aaef0f5.js").then(function(t){return t.i}),["assets/index.5aaef0f5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"eu":return U(()=>import("./index.7829f5d8.js").then(function(t){return t.i}),["assets/index.7829f5d8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fa-IR":return U(()=>import("./index.38dcd045.js").then(function(t){return t.i}),["assets/index.38dcd045.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fi":return U(()=>import("./index.19bafff6.js").then(function(t){return t.i}),["assets/index.19bafff6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"fr":return U(()=>import("./index.1509d4cc.js").then(function(t){return t.i}),["assets/index.1509d4cc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CA":return U(()=>import("./index.8a723a92.js").then(function(t){return t.i}),["assets/index.8a723a92.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.1b3cf886.js","assets/index.ffc6c203.js"]);case"fr-CH":return U(()=>import("./index.fc6dba99.js").then(function(t){return t.i}),["assets/index.fc6dba99.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gd":return U(()=>import("./index.8a7af2f4.js").then(function(t){return t.i}),["assets/index.8a7af2f4.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gl":return U(()=>import("./index.3ea7b619.js").then(function(t){return t.i}),["assets/index.3ea7b619.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"gu":return U(()=>import("./index.3606730a.js").then(function(t){return t.i}),["assets/index.3606730a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"he":return U(()=>import("./index.ee8728a8.js").then(function(t){return t.i}),["assets/index.ee8728a8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hi":return U(()=>import("./index.1f6df8f3.js").then(function(t){return t.i}),["assets/index.1f6df8f3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hr":return U(()=>import("./index.e03b0ae8.js").then(function(t){return t.i}),["assets/index.e03b0ae8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ht":return U(()=>import("./index.3891403e.js").then(function(t){return t.i}),["assets/index.3891403e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hu":return U(()=>import("./index.e3df6478.js").then(function(t){return t.i}),["assets/index.e3df6478.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"hy":return U(()=>import("./index.87c635a5.js").then(function(t){return t.i}),["assets/index.87c635a5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"id":return U(()=>import("./index.2d5f1100.js").then(function(t){return t.i}),["assets/index.2d5f1100.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"is":return U(()=>import("./index.4e0ab8dd.js").then(function(t){return t.i}),["assets/index.4e0ab8dd.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"it":return U(()=>import("./index.b3de25f7.js").then(function(t){return t.i}),["assets/index.b3de25f7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"ja":return U(()=>import("./index.c988211f.js").then(function(t){return t.i}),["assets/index.c988211f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ka":return U(()=>import("./index.eab8de80.js").then(function(t){return t.i}),["assets/index.eab8de80.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"kk":return U(()=>import("./index.e2ee7cbb.js").then(function(t){return t.i}),["assets/index.e2ee7cbb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"kn":return U(()=>import("./index.e7037868.js").then(function(t){return t.i}),["assets/index.e7037868.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ko":return U(()=>import("./index.27b9d143.js").then(function(t){return t.i}),["assets/index.27b9d143.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lb":return U(()=>import("./index.d9f46f43.js").then(function(t){return t.i}),["assets/index.d9f46f43.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lt":return U(()=>import("./index.6f370662.js").then(function(t){return t.i}),["assets/index.6f370662.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"lv":return U(()=>import("./index.a06f1268.js").then(function(t){return t.i}),["assets/index.a06f1268.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mk":return U(()=>import("./index.e641f513.js").then(function(t){return t.i}),["assets/index.e641f513.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"mn":return U(()=>import("./index.7f70333f.js").then(function(t){return t.i}),["assets/index.7f70333f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ms":return U(()=>import("./index.2fa715a7.js").then(function(t){return t.i}),["assets/index.2fa715a7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"mt":return U(()=>import("./index.f5ea85c0.js").then(function(t){return t.i}),["assets/index.f5ea85c0.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nb":return U(()=>import("./index.5aaa9002.js").then(function(t){return t.i}),["assets/index.5aaa9002.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nl":return U(()=>import("./index.2b9b12e5.js").then(function(t){return t.i}),["assets/index.2b9b12e5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nl-BE":return U(()=>import("./index.7898e2da.js").then(function(t){return t.i}),["assets/index.7898e2da.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"nn":return U(()=>import("./index.11b1d4d6.js").then(function(t){return t.i}),["assets/index.11b1d4d6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"pl":return U(()=>import("./index.4affbacb.js").then(function(t){return t.i}),["assets/index.4affbacb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"pt":return U(()=>import("./index.ecd86516.js").then(function(t){return t.i}),["assets/index.ecd86516.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"pt-BR":return U(()=>import("./index.209dfd3c.js").then(function(t){return t.i}),["assets/index.209dfd3c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ro":return U(()=>import("./index.c660c1b8.js").then(function(t){return t.i}),["assets/index.c660c1b8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ru":return U(()=>import("./index.43735b46.js").then(function(t){return t.i}),["assets/index.43735b46.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sk":return U(()=>import("./index.5efef841.js").then(function(t){return t.i}),["assets/index.5efef841.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"sl":return U(()=>import("./index.eae13b09.js").then(function(t){return t.i}),["assets/index.eae13b09.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sq":return U(()=>import("./index.d4bf7d76.js").then(function(t){return t.i}),["assets/index.d4bf7d76.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sr":return U(()=>import("./index.79882312.js").then(function(t){return t.i}),["assets/index.79882312.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sr-Latn":return U(()=>import("./index.6b1d2be1.js").then(function(t){return t.i}),["assets/index.6b1d2be1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"sv":return U(()=>import("./index.56246fd1.js").then(function(t){return t.i}),["assets/index.56246fd1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ta":return U(()=>import("./index.97467629.js").then(function(t){return t.i}),["assets/index.97467629.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"te":return U(()=>import("./index.5f45ee1c.js").then(function(t){return t.i}),["assets/index.5f45ee1c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"th":return U(()=>import("./index.2990b353.js").then(function(t){return t.i}),["assets/index.2990b353.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"tr":return U(()=>import("./index.ea05e41c.js").then(function(t){return t.i}),["assets/index.ea05e41c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"ug":return U(()=>import("./index.00230ef2.js").then(function(t){return t.i}),["assets/index.00230ef2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"uk":return U(()=>import("./index.be449ac3.js").then(function(t){return t.i}),["assets/index.be449ac3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"uz":return U(()=>import("./index.17322a75.js").then(function(t){return t.i}),["assets/index.17322a75.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"vi":return U(()=>import("./index.a851960c.js").then(function(t){return t.i}),["assets/index.a851960c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);case"zh-CN":return U(()=>import("./index.aa4177f9.js").then(function(t){return t.i}),["assets/index.aa4177f9.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js","assets/index.dc71b91a.js"]);case"zh-TW":return U(()=>import("./index.7a1461df.js").then(function(t){return t.i}),["assets/index.7a1461df.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/index.ffc6c203.js"]);default:return Promise.resolve()}}async function Xa(){const e=Ne.global.locale.value,t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{n=(await r4(l)).default;break}catch{continue}return n}const Ft=async(e,t,n)=>cn(e,t,Fe(fe({},n),{locale:await Xa()}));const s4=K({props:{revision:{type:Object,required:!0},last:{type:Boolean,default:!1}},emits:["click"],setup(e){const{t}=Y(),n=F(()=>Object.keys(e.revision.delta).length),l=F(()=>{switch(e.revision.activity.action.toLowerCase()){case"create":return t("revision_delta_created");case"update":return t("revision_delta_updated",n.value);case"delete":return t("revision_delta_deleted");case"revert":return t("revision_delta_reverted");default:return t("revision_delta_other")}}),a=F(()=>cn(new Date(e.revision.activity.timestamp),String(t("date-fns_time")))),d=F(()=>{var i,r;return((r=(i=e.revision)==null?void 0:i.activity)==null?void 0:r.user)&&typeof e.revision.activity.user=="object"?Et(e.revision.activity.user):t("private_user")});return{t,headerMessage:l,time:a,user:d}}}),d4={class:"header"},u4={class:"content"},c4={class:"time"},p4=P(" \u2013 "),m4={key:1};function f4(e,t,n,l,a,d){const i=c("user-popover");return m(),I("div",{class:ue(["revision-item",{last:e.last}]),onClick:t[0]||(t[0]=r=>e.$emit("click"))},[S("div",d4,[S("span",{class:ue(["dot",e.revision.activity.action])},null,2),P(" "+w(e.headerMessage),1)]),S("div",u4,[S("span",c4,w(e.time),1),p4,e.revision.activity.user?(m(),C(i,{key:0,class:"user",user:e.revision.activity.user.id},{default:s(()=>[S("span",null,w(e.user),1)]),_:1},8,["user"])):(m(),I("span",m4,w(e.t("private_user")),1))])],2)}var _4=z(s4,[["render",f4],["__scopeId","data-v-32fb49f6"]]);const v4=K({components:{RevisionItem:_4},props:{group:{type:Object,required:!0}},emits:["click"],setup(){return{expand:E(!0)}}}),y4={class:"scroll-container"};function h4(e,t,n,l,a,d){const i=c("revision-item"),r=c("v-detail");return m(),C(r,{modelValue:e.expand,"onUpdate:modelValue":t[0]||(t[0]=u=>e.expand=u),label:e.group.dateFormatted,class:"revisions-date-group"},{default:s(()=>[x(S("div",y4,[(m(!0),I(ae,null,we(e.group.revisions,(u,p)=>(m(),C(i,{key:u.id,revision:u,last:p===e.group.revisions.length-1,onClick:f=>e.$emit("click",u.id)},null,8,["revision","last","onClick"]))),128))],512),[[Mt,e.expand]])]),_:1},8,["modelValue","label"])}var g4=z(v4,[["render",h4]]);const b4=K({props:{revisions:{type:Array,required:!0},current:{type:Number,required:!0}},emits:["update:current"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"current",t),a=E(null);ge(()=>e.revisions,async()=>{const r=[];for(const u of e.revisions){const p=await i(u);let f=n("private_user");if(typeof u.activity.user=="object"){const y=u.activity.user;f=Et(y)}const _=String(n("revision_delta_by",{date:p,user:f})),v=u.id;r.push({text:_,value:v})}a.value=r},{immediate:!0});const d=F(()=>{var r;return(r=a.value)==null?void 0:r.find(u=>u.value===l.value)});return{internalCurrent:l,options:a,selectedOption:d};async function i(r){const u=await Ft(new Date(r.activity.timestamp),String(n("date-fns_date_short"))),p=await Ft(new Date(r.activity.timestamp),String(n("date-fns_time")));return`${u} (${p})`}}}),w4=["onClick"];function k4(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-content"),u=c("v-list-item"),p=c("v-list"),f=c("v-menu");return m(),C(f,{"show-arrow":""},{activator:s(({toggle:_})=>[S("span",{class:"picker",onClick:_},[P(w(e.selectedOption&&e.selectedOption.text)+" ",1),o(i,{name:"expand_more",small:""})],8,w4)]),default:s(()=>[o(p,{class:"menu"},{default:s(()=>[(m(!0),I(ae,null,we(e.options,_=>(m(),C(u,{key:_.value,clickable:"",active:e.internalCurrent===_.value,onClick:v=>e.internalCurrent=_.value},{default:s(()=>[o(i,{name:"commit_node"}),o(r,null,{default:s(()=>[P(w(_.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}var $4=z(b4,[["render",k4],["__scopeId","data-v-2f4d8b82"]]);const S4=K({props:{revision:{type:Object,required:!0}},setup(){const{t:e}=Y();return{t:e}}}),C4=e=>(Xe("data-v-2d744eb6"),e=e(),Ye(),e),V4=C4(()=>S("br",null,null,-1));function F4(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-form");return m(),I("div",null,[o(i,{type:"info"},{default:s(()=>[P(w(e.revision.activity.action==="create"?e.t("revision_post_create"):e.t("revision_post_update"))+" ",1),V4,P(" "+w(e.t("no_relational_data")),1)]),_:1}),o(r,{disabled:"",collection:e.revision.collection,"primary-key":e.revision.item,"initial-values":e.revision.data},null,8,["collection","primary-key","initial-values"])])}var A4=z(S4,[["render",F4],["__scopeId","data-v-2d744eb6"]]);const I4=K({props:{changes:{type:Array,required:!0},added:{type:Boolean,default:!1},deleted:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=F(()=>e.changes.filter(a=>e.added===!0?a.removed!==!0:a.added!==!0)),l=F(()=>e.changes.length===2);return{t,changesFiltered:n,wholeThing:l}}}),E4={class:"delta"},D4={key:1,class:"no-value"};function T4(e,t,n,l,a,d){const i=c("v-icon");return m(),I("div",{class:ue(["change-line",{added:e.added,deleted:e.deleted,"no-highlight":e.wholeThing}])},[o(i,{name:e.added?"add":"remove"},null,8,["name"]),S("div",E4,[(m(!0),I(ae,null,we(e.changesFiltered,(r,u)=>(m(),I("span",{key:u,class:ue({changed:r.added||r.removed})},[r.value?(m(),I(ae,{key:0},[P(w(r.value),1)],64)):(m(),I("span",D4,w(e.t("no_value")),1))],2))),128))])],2)}var P4=z(I4,[["render",T4],["__scopeId","data-v-481ea258"]]);const O4=K({components:{RevisionsDrawerUpdatesChange:P4},props:{revision:{type:Object,required:!0},revisions:{type:Array,required:!0}},setup(e){const{t}=Y(),n=Oe(),l=F(()=>{const d=e.revisions.findIndex(i=>i.id===e.revision.id);return e.revisions[d+1]}),a=F(()=>l.value?Object.keys(e.revision.delta).map(i=>{var _;const r=(_=n.getField(e.revision.collection,i))==null?void 0:_.name;if(!r)return null;const u=e.revision.delta[i],p=l.value.data[i];if(N.exports.isEqual(u,p))return null;let f;return typeof p=="string"&&typeof u=="string"&&u.length>25?f=dd(p,u):Array.isArray(p)&&Array.isArray(u)?f=ud(p,u):p&&u&&typeof u=="object"&&typeof u=="object"?f=cd(p,u):f=[{removed:!0,value:p},{added:!0,value:u}],{name:r,changes:f}}).filter(i=>i):null);return{t,changes:a,previousRevision:l}}}),L4=e=>(Xe("data-v-09850b86"),e=e(),Ye(),e),j4={class:"updates"},R4=L4(()=>S("br",null,null,-1)),M4={class:"type-label"};function U4(e,t,n,l,a,d){const i=c("v-notice"),r=c("revisions-drawer-updates-change");return m(),I("div",j4,[o(i,{type:"info"},{default:s(()=>[P(w(e.t("changes_made"))+" ",1),R4,P(" "+w(e.t("no_relational_data")),1)]),_:1}),(m(!0),I(ae,null,we(e.changes,u=>(m(),I("div",{key:u.name,class:"change"},[S("div",M4,w(u.name),1),o(r,{deleted:"",changes:u.changes},null,8,["changes"]),o(r,{added:"",changes:u.changes},null,8,["changes"])]))),128))])}var N4=z(O4,[["render",U4],["__scopeId","data-v-09850b86"]]);const B4=K({components:{RevisionsDrawerPicker:$4,RevisionsDrawerPreview:A4,RevisionsDrawerUpdates:N4},props:{revisions:{type:Array,required:!0},current:{type:[Number,String],default:null},active:{type:Boolean,default:!1}},emits:["revert","update:active","update:current"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"active",t),a=Ke(e,"current",t),d=E(["updates_made"]),i=F(()=>{var v;return((v=r.value)==null?void 0:v.activity.action)==="create"?n("item_creation"):n("item_revision")}),r=F(()=>e.revisions.find(v=>v.id===e.current)),u=F(()=>{const v=e.revisions.findIndex(y=>y.id===e.current);return e.revisions[v+1]}),p=F(()=>{var v;return((v=r.value)==null?void 0:v.activity.action)==="create"?[{text:n("creation_preview"),value:"revision_preview"}]:[{text:n("updates_made"),value:"updates_made"},{text:n("revision_preview"),value:"revision_preview"}]}),f=F(()=>{var v;return((v=r.value)==null?void 0:v.activity.action)!=="create"});return no(()=>d.value=[p.value[0].value]),{t:n,internalActive:l,internalCurrent:a,title:i,currentRevision:r,currentTab:d,tabs:p,hasPastRevision:f,revert:_};function _(){var y,h;if(!r.value)return;const v={};for(const[g,b]of Object.entries(r.value.delta)){const $=(h=(y=u.value)==null?void 0:y.data[g])!=null?h:null;N.exports.isEqual(b,$)||(v[g]=$)}t("revert",v),l.value=!1}}}),q4={class:"content"};function z4(e,t,n,l,a,d){const i=c("revisions-drawer-picker"),r=c("v-tab"),u=c("v-tabs"),p=c("revisions-drawer-updates"),f=c("revisions-drawer-preview"),_=c("v-icon"),v=c("v-button"),y=c("v-drawer"),h=$e("tooltip");return m(),I("div",null,[o(y,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=g=>e.internalActive=g),title:e.title,icon:"change_history","sidebar-label":e.t(e.currentTab[0]),onCancel:t[4]||(t[4]=g=>e.internalActive=!1)},{subtitle:s(()=>[o(i,{current:e.internalCurrent,"onUpdate:current":t[0]||(t[0]=g=>e.internalCurrent=g),revisions:e.revisions},null,8,["current","revisions"])]),sidebar:s(()=>[o(u,{modelValue:e.currentTab,"onUpdate:modelValue":t[1]||(t[1]=g=>e.currentTab=g),vertical:""},{default:s(()=>[(m(!0),I(ae,null,we(e.tabs,g=>(m(),C(r,{key:g.value,value:g.value},{default:s(()=>[P(w(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),actions:s(()=>[e.hasPastRevision?x((m(),C(v,{key:0,secondary:"",icon:"",rounded:"",onClick:e.revert},{default:s(()=>[o(_,{name:"restore"})]),_:1},8,["onClick"])),[[h,e.t("revert"),void 0,{bottom:!0}]]):R("",!0),x(o(v,{icon:"",rounded:"",onClick:t[2]||(t[2]=g=>e.internalActive=!1)},{default:s(()=>[o(_,{name:"check"})]),_:1},512),[[h,e.t("done"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",q4,[e.currentTab[0]==="updates_made"?(m(),C(p,{key:0,revision:e.currentRevision,revisions:e.revisions},null,8,["revision","revisions"])):R("",!0),e.currentTab[0]==="revision_preview"?(m(),C(f,{key:1,revision:e.currentRevision},null,8,["revision"])):R("",!0)])]),_:1},8,["modelValue","title","sidebar-label"])])}var K4=z(B4,[["render",z4],["__scopeId","data-v-04fd97e4"]]);function bo(e,t=0,n=["K","M","B","T"]){const l=e<0;e=Math.abs(e);let a=String(e);if(e>=1e3){const d=Math.pow(10,t);for(let i=n.length-1;i>=0;i--){const r=Math.pow(10,(i+1)*3);if(r<=e){e=Math.round(e*d/r)/d,e===1e3&&i<n.length-1&&(e=1,i++),a=e.toFixed(t)+n[i];break}}}return l&&(a=`-${a}`),a}const W4=K({components:{RevisionsDrawer:K4,RevisionsDateGroup:g4},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},emits:["revert"],setup(e){const{t}=Y(),{revisions:n,revisionsByDate:l,loading:a,refresh:d,revisionsCount:i,pagesCount:r,created:u}=y(e.collection,e.primaryKey),p=E(!1),f=E(null),_=E(1);return ge(()=>_.value,h=>{d(h)}),{t,revisions:n,revisionsByDate:l,loading:a,refresh:d,modalActive:p,modalCurrentRevision:f,openModal:v,revisionsCount:i,created:u,page:_,pagesCount:r,abbreviateNumber:bo};function v(h){f.value=h,p.value=!0}function y(h,g){const b=E(null),$=E(null),A=E(!1),V=E(0),T=E(),D=E(0);return O(),{created:T,revisions:b,revisionsByDate:$,loading:A,refresh:M,revisionsCount:V,pagesCount:D};async function O(L=0){var B;A.value=!0;const j=100;try{const q=await pe.get("/revisions",{params:{filter:{collection:{_eq:h},item:{_eq:g}},sort:"-id",limit:j,page:L,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}}),G=await pe.get("/revisions",{params:{filter:{collection:{_eq:h},item:{_eq:g},activity:{action:{_eq:"create"}}},sort:"-id",limit:1,fields:["id","data","delta","collection","item","activity.action","activity.timestamp","activity.user.id","activity.user.email","activity.user.first_name","activity.user.last_name","activity.ip","activity.user_agent"],meta:["filter_count"]}});T.value=(B=G.data.data)==null?void 0:B[0];const Q=N.exports.groupBy(q.data.data.filter(J=>!!J.activity),J=>new Date(new Date(J.activity.timestamp).toDateString())),ce=[];for(const[J,oe]of Object.entries(Q)){const _e=new Date(J),me=ma(_e),ee=fa(_e),ne=_a(_e);let te;me?te=t("today"):ee?te=t("yesterday"):ne?te=await Ft(_e,String(t("date-fns_date_short_no_year"))):te=await Ft(_e,String(t("date-fns_date_short"))),ce.push({date:_e,dateFormatted:String(te),revisions:N.exports.orderBy(oe,["activity.timestamp"],["desc"])})}$.value=N.exports.orderBy(ce,["date"],["desc"]),b.value=N.exports.orderBy(q.data.data,["activity.timestamp"],["desc"]),V.value=q.data.meta.filter_count,D.value=Math.ceil(V.value/j)}catch(q){Ie(q)}finally{A.value=!1}}async function M(L=0){await O(L)}}}}),H4={key:1,class:"empty"},G4={class:"content"},Z4={class:"external"};function J4(e,t,n,l,a,d){const i=c("v-progress-linear"),r=c("RevisionsDateGroup"),u=c("v-divider"),p=c("v-pagination"),f=c("revisions-drawer"),_=c("sidebar-detail");return m(),C(_,{title:e.t("revisions"),icon:"change_history",badge:!e.loading&&e.revisionsCount>0?e.abbreviateNumber(e.revisionsCount):null},{default:s(()=>[e.loading?(m(),C(i,{key:0,indeterminate:""})):e.revisionsCount===0?(m(),I("div",H4,[S("div",G4,w(e.t("no_revisions")),1)])):(m(),I(ae,{key:2},[(m(!0),I(ae,null,we(e.revisionsByDate,v=>(m(),C(r,{key:v.date.toString(),group:v,onClick:e.openModal},null,8,["group","onClick"]))),128)),e.page==e.pagesCount&&!e.created?(m(),I(ae,{key:0},[e.revisionsByDate.length>0?(m(),C(u,{key:0})):R("",!0),S("div",Z4,w(e.t("revision_delta_created_externally")),1)],64)):R("",!0),e.pagesCount>1?(m(),C(p,{key:1,modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=v=>e.page=v),length:e.pagesCount,"total-visible":2},null,8,["modelValue","length"])):R("",!0)],64)),e.revisions?(m(),C(f,{key:3,current:e.modalCurrentRevision,"onUpdate:current":t[1]||(t[1]=v=>e.modalCurrentRevision=v),active:e.modalActive,"onUpdate:active":t[2]||(t[2]=v=>e.modalActive=v),revisions:e.revisions,onRevert:t[3]||(t[3]=v=>e.$emit("revert",v))},null,8,["current","active","revisions"])):R("",!0)]),_:1},8,["title","badge"])}var ll=z(W4,[["render",J4],["__scopeId","data-v-1fad9e2d"]]);const Ml=new Set([]),ln={};document.body.addEventListener("keydown",e=>{e.repeat||!e.key||(Ml.add(Q4(e)),X4(e))});document.body.addEventListener("keyup",e=>{e.repeat||!e.key||Ml.clear()});function it(e,t,n=E(document.body)){const l=(a,d)=>{if(!n.value)return;const i=n.value instanceof HTMLElement?n.value:n.value.$el;return document.activeElement===i||i.contains(document.activeElement)||document.activeElement===document.body?(a.preventDefault(),t(a,d)):!1};st(()=>{[e].flat().forEach(a=>{a in ln?ln[a].unshift(l):ln[a]=[l]})}),Dt(()=>{[e].flat().forEach(a=>{a in ln&&(ln[a]=ln[a].filter(d=>d!==l),ln[a].length===0&&delete ln[a])})})}function Q4(e){const t={Control:"meta",Command:"meta"},n=/^[a-zA-Z0-9]*?$/g;let l=e.key.match(n)===null?e.code.replace(/(Key|Digit)/g,""):e.key;return l=l in t?t[l]:l,l=l.toLowerCase(),l}function X4(e){Object.entries(ln).forEach(([t,n])=>{const l=t.split("+");for(t of Ml)if(l.includes(t)===!1)return;for(t of l)if(Ml.has(t)===!1)return;for(let a=0;a<n.length;a++){let d=!1;if(n[a](e,()=>{d=!0}),typeof d=="boolean"&&d)break}})}const Y4=K({props:{modelValue:{type:String,default:null},captureGroup:{type:String,required:!0},multiline:{type:Boolean,default:!1},triggerCharacter:{type:String,required:!0},items:{type:Object,required:!0}},emits:["update:modelValue","trigger","deactivate","up","down","enter"],setup(e,{emit:t}){const n=E();let l=!1,a=[],d=0,i=0;return ge(()=>e.modelValue,v=>{!n.value||v!==n.value.innerText&&_(v,!0)}),st(()=>{e.modelValue&&e.modelValue!==n.value.innerText&&_(e.modelValue),n.value&&(n.value.addEventListener("click",p),n.value.addEventListener("keydown",r),n.value.addEventListener("keyup",u))}),Dt(()=>{n.value&&(n.value.removeEventListener("click",p),n.value.removeEventListener("keydown",r),n.value.removeEventListener("keyup",u))}),{processText:f,input:n};function r(v){var h;const y=((h=window.getSelection())==null?void 0:h.rangeCount)?At(n.value).pos:0;if(v.code==="Enter")v.preventDefault(),l?t("enter"):(_(n.value.innerText.substring(0,y)+(y===n.value.innerText.length&&n.value.innerText.charAt(y-1)!==`
`?`

`:`
`)+n.value.innerText.substring(y),!0),At(n.value,y+1));else if(v.code==="ArrowUp"&&!v.shiftKey)l&&(v.preventDefault(),t("up"));else if(v.code==="ArrowDown"&&!v.shiftKey)l&&(v.preventDefault(),t("down"));else if(v.code==="ArrowLeft"&&!v.shiftKey){const g=a.indexOf(y-1);g!==-1&&g%2==1&&(v.preventDefault(),At(n.value,a[g-1]-1))}else if(v.code==="ArrowRight"&&!v.shiftKey){const g=a.indexOf(y+1);g!==-1&&g%2==0&&(v.preventDefault(),At(n.value,a[g+1]+1))}else if(v.code==="Backspace"){const g=a.indexOf(y-1);if(g!==-1&&g%2==1){v.preventDefault();const b=a[g-1];_((n.value.innerText.substring(0,b)+n.value.innerText.substring(y)).replaceAll(String.fromCharCode(160)," "),!0),At(n.value,b),t("update:modelValue",n.value.innerText)}}else if(v.code==="Delete"){const g=a.indexOf(y+1);g!==-1&&g%2==0&&(v.preventDefault(),_((n.value.innerText.substring(0,y)+n.value.innerText.substring(a[g+1])).replaceAll(String.fromCharCode(160)," "),!0),At(n.value,y),t("update:modelValue",n.value.innerText))}}function u(v){var h;const y=((h=window.getSelection())==null?void 0:h.rangeCount)?At(n.value).pos:0;if((v.code==="ArrowUp"||v.code==="ArrowDown")&&!v.shiftKey){const g=a.indexOf(y);g!==-1&&g%2==1?At(n.value,a[g]+1):g!==-1&&g%2==0&&At(n.value,a[g]-1)}}function p(v){var g;const y=((g=window.getSelection())==null?void 0:g.rangeCount)?At(n.value).pos:0,h=a.indexOf(y);h!==-1&&(h%2==0?At(n.value,y-1):At(n.value,y+1),v.preventDefault())}function f(v){var V,T;const y=v.target,h=((V=window.getSelection())==null?void 0:V.rangeCount)?At(y).pos:0,g=(T=y.innerText)!=null?T:"";let b=g.indexOf(" ",h);b===-1&&(b=g.indexOf(`
`,h)),b===-1&&(b=g.length);const $=/\S+$/.exec(g.slice(0,b));let A=$?$[0]:null;A&&(A=A.replace(/[\s'";:,./?\\-]$/,"")),(A==null?void 0:A.startsWith(e.triggerCharacter))?(t("trigger",{searchQuery:A.substring(e.triggerCharacter.length),caretPosition:h}),l=!0):l&&(t("deactivate"),l=!1),_(),t("update:modelValue",y.innerText)}function _(v,y=!1){var A;if(!n.value)return;n.value.innerText===`
`&&(n.value.innerText=""),v!==void 0&&(n.value.innerText=v,l=!1);let h=n.value.innerText;const g=y?i:((A=window.getSelection())==null?void 0:A.rangeCount)?At(n.value).pos:0;let b=0;const $=h.match(new RegExp(`${e.captureGroup}(?!</mark>)`,"gi"));if(a=[],$)for(const V of $!=null?$:[]){let T="",D="",O="",M="",L=h.indexOf(V,b);const j=h.charCodeAt(L-1),B=h.charCodeAt(L+V.length);j===32?(T=" ",O="&nbsp;"):j!==160&&(O="&nbsp;"),B===32?(D=" ",M="&nbsp;"):B!==160&&(M="&nbsp;");let q=T+V+D,G=`${O}<mark class="preview" data-preview="${e.items[V.substring(e.triggerCharacter.length)]}" contenteditable="false">${V}</mark>${M}`;h=h.replace(new RegExp(`(${q})(?!</mark>)`),G),b=L+G.length-q.length}if(n.value.innerHTML!==h.replaceAll(String.fromCharCode(160),"&nbsp;")){n.value.innerHTML=h;const V=n.value.innerText.length-d,T=g+V;T>n.value.innerText.length||T<0?At(n.value,n.value.innerText.length):At(n.value,T)}b=0;for(const V of $!=null?$:[]){let T=n.value.innerText.indexOf(V,b);a.push(T,T+V.length),b=T+V.length}d=n.value.innerText.length,i=g}}});function x4(e,t,n,l,a,d){return m(),I("div",{ref:"input",class:ue(["v-template-input",{multiline:e.multiline}]),contenteditable:"true",tabindex:"1",onInput:t[0]||(t[0]=(...i)=>e.processText&&e.processText(...i))},null,34)}var Ya=z(Y4,[["render",x4],["__scopeId","data-v-f1ad147a"]]);const e5=K({components:{vTemplateInput:Ya},props:{refresh:{type:Function,required:!0},collection:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},existingComment:{type:Object,default:null},previews:{type:Object,default:null}},emits:["cancel"],setup(e){var V,T;const{t}=Y(),n=E();it("meta+enter",g,n);const l=E((T=(V=e.existingComment)==null?void 0:V.comment)!=null?T:null);ge(()=>e.existingComment,()=>{var D;((D=e.existingComment)==null?void 0:D.comment)&&(l.value=e.existingComment.comment)},{immediate:!0});const a=E(!1),d=E(!1),i=E([]),r=E({});ge(()=>e.previews,()=>{e.previews&&(r.value=fe(fe({},r.value),e.previews))},{immediate:!0});let u=0,p=E(0),f=null;const _=N.exports.throttle(async D=>{f!==null&&f.cancel(),f=lo.CancelToken.source();const O=/\s@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}/gi;let M={_or:[{first_name:{_starts_with:D}},{last_name:{_starts_with:D}},{email:{_starts_with:D}}]};D.match(O)&&(M={id:{_in:D}});try{const L=await pe.get("/users",{params:{filter:D===""||!D?void 0:M,fields:["first_name","last_name","email","id","avatar"]},cancelToken:f.token}),j=N.exports.cloneDeep(r.value);L.data.data.forEach(B=>{j[B.id]=Et(B)}),r.value=j,i.value=L.data.data}catch(L){return L}},200);return{t,newCommentContent:l,postComment:g,saving:a,textarea:n,showMentionDropDown:d,searchResult:i,avatarSource:h,userName:Et,triggerSearch:y,insertUser:v,userPreviews:r,selectedKeyboardIndex:p,pressedUp:b,pressedDown:$,pressedEnter:A};function v(D){var q;const O=(q=l.value)==null?void 0:q.replaceAll(String.fromCharCode(160)," ");if(!O)return;let M=u-1,L=u;if(O.charAt(M)!==" "&&O.charAt(M)!==`
`)for(;M>=0&&O.charAt(M)!==" "&&O.charAt(M)!==`
`;)M--;for(;L<O.length&&O.charAt(L)!==" "&&O.charAt(L)!==`
`;)L++;const j=O.substring(0,M+(O.charAt(M)===`
`?1:0)),B=O.substring(L);l.value=j+" @"+D.id+B}function y({searchQuery:D,caretPosition:O}){u=O,d.value=!0,_(D),p.value=0}function h(D){return D===null?"":dt(Ze()+`assets/${D}?key=system-small-cover`)}async function g(){if(!(l.value===null||l.value.length===0)){a.value=!0;try{e.existingComment?await pe.patch(`/activity/comment/${e.existingComment.id}`,{comment:l.value}):await pe.post("/activity/comment",{collection:e.collection,item:e.primaryKey,comment:l.value}),e.refresh(),l.value="",ct({title:t("post_comment_success")})}catch(D){Ie(D)}finally{a.value=!1}}}function b(){p.value>0&&p.value--}function $(){p.value<i.value.length-1&&p.value++}function A(){v(i.value[p.value]),d.value=!1}}}),t5={class:"input-container"},n5=["src"],l5={class:"buttons"};function o5(e,t,n,l,a,d){const i=c("v-template-input"),r=c("v-icon"),u=c("v-avatar"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),h=c("v-button");return m(),I("div",t5,[o(y,{modelValue:e.showMentionDropDown,"onUpdate:modelValue":t[2]||(t[2]=g=>e.showMentionDropDown=g),attached:""},{activator:s(()=>[o(i,{modelValue:e.newCommentContent,"onUpdate:modelValue":t[0]||(t[0]=g=>e.newCommentContent=g),"capture-group":"(@[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12})",multiline:"","trigger-character":"@",items:e.userPreviews,onTrigger:e.triggerSearch,onDeactivate:t[1]||(t[1]=g=>e.showMentionDropDown=!1),onUp:e.pressedUp,onDown:e.pressedDown,onEnter:e.pressedEnter},null,8,["modelValue","items","onTrigger","onUp","onDown","onEnter"])]),default:s(()=>[o(v,null,{default:s(()=>[(m(!0),I(ae,null,we(e.searchResult,(g,b)=>(m(),C(_,{id:"suggestions",key:g.id,clickable:"",active:b===e.selectedKeyboardIndex,onClick:$=>e.insertUser(g)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{"x-small":""},{default:s(()=>[g.avatar?(m(),I("img",{key:0,src:e.avatarSource(g.avatar)},null,8,n5)):(m(),C(r,{key:1,name:"person_outline"}))]),_:2},1024)]),_:2},1024),o(f,null,{default:s(()=>[P(w(e.userName(g)),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),S("div",l5,[e.existingComment?(m(),C(h,{key:0,class:"cancel","x-small":"",secondary:"",onClick:t[3]||(t[3]=g=>e.$emit("cancel"))},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1})):R("",!0),o(h,{disabled:!e.newCommentContent||e.newCommentContent.length===0,loading:e.saving,class:"post-comment","x-small":"",onClick:e.postComment},{default:s(()=>[P(w(e.t("submit")),1)]),_:1},8,["disabled","loading","onClick"])])])}var xa=z(e5,[["render",o5],["__scopeId","data-v-444343d0"]]);const a5=K({props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0}},emits:["edit"],setup(e){const{t}=Y(),n=F(()=>e.activity.timestamp?cn(new Date(e.activity.timestamp),String(t("date-fns_time_no_seconds"))):null),l=F(()=>{var u;return((u=e.activity.user)==null?void 0:u.avatar)?dt(Ze()+`assets/${e.activity.user.avatar.id}?key=system-small-cover`):null}),{confirmDelete:a,deleting:d,remove:i}=r();return{t,formattedTime:n,avatarSource:l,confirmDelete:a,deleting:d,remove:i,userName:Et};function r(){const u=E(!1),p=E(!1);return{confirmDelete:u,deleting:p,remove:f};async function f(){p.value=!0;try{await pe.delete(`/activity/comment/${e.activity.id}`),await e.refresh(),u.value=!1}catch(_){Ie(_)}finally{p.value=!1}}}}}),i5={class:"comment-header"},r5=["src","alt"],s5={class:"name"},d5={class:"header-right"},u5={class:"time"};function c5(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-avatar"),u=c("user-popover"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),h=c("v-card-title"),g=c("v-card-text"),b=c("v-button"),$=c("v-card-actions"),A=c("v-card"),V=c("v-dialog");return m(),I("div",i5,[o(r,{"x-small":""},{default:s(()=>[e.avatarSource?(m(),I("img",{key:0,src:e.avatarSource,alt:e.userName(e.activity.user)},null,8,r5)):(m(),C(i,{key:1,name:"person_outline"}))]),_:1}),S("div",s5,[e.activity.user&&e.activity.user.id?(m(),C(u,{key:0,user:e.activity.user.id},{default:s(()=>[S("span",null,[e.activity.user&&e.activity.user?(m(),I(ae,{key:0},[P(w(e.userName(e.activity.user)),1)],64)):(m(),I(ae,{key:1},[P(w(e.t("private_user")),1)],64))])]),_:1},8,["user"])):R("",!0)]),S("div",d5,[o(y,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:T,active:D})=>[o(i,{class:ue(["more",{active:D}]),name:"more_horiz",clickable:"",onClick:T},null,8,["class","onClick"]),S("div",u5,w(e.formattedTime),1)]),default:s(()=>[o(v,null,{default:s(()=>[o(_,{clickable:"",onClick:t[0]||(t[0]=T=>e.$emit("edit"))},{default:s(()=>[o(p,null,{default:s(()=>[o(i,{name:"edit"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("edit")),1)]),_:1})]),_:1}),o(_,{clickable:"",onClick:t[1]||(t[1]=T=>e.confirmDelete=!0)},{default:s(()=>[o(p,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),o(V,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=T=>e.confirmDelete=T),onEsc:t[4]||(t[4]=T=>e.confirmDelete=!1)},{default:s(()=>[o(A,null,{default:s(()=>[o(h,null,{default:s(()=>[P(w(e.t("delete_comment")),1)]),_:1}),o(g,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o($,null,{default:s(()=>[o(b,{secondary:"",onClick:t[2]||(t[2]=T=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(b,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var p5=z(a5,[["render",c5],["__scopeId","data-v-ff5af3e4"]]);const m5=K({components:{CommentItemHeader:p5,CommentInput:xa},props:{activity:{type:Object,required:!0},refresh:{type:Function,required:!0},userPreviews:{type:Object,require:!0,default:()=>({})},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0}},setup(e){const{t}=Y(),n=E(),{edits:l,editing:a,savingEdits:d,saveEdits:i,cancelEditing:r}=u();return it("meta+enter",i,n),{t,edits:l,editing:a,savingEdits:d,saveEdits:i,cancelEditing:r,textarea:n};function u(){const p=E(e.activity.comment),f=E(!1),_=E(!1);return ge(()=>e.activity,()=>p.value=e.activity.comment),{edits:p,editing:f,savingEdits:_,saveEdits:v,cancelEditing:y};async function v(){_.value=!0;try{await pe.patch(`/activity/comment/${e.activity.id}`,{comment:p.value}),e.refresh()}catch(h){Ie(h)}finally{_.value=!1,f.value=!1}}function y(){p.value=e.activity.comment,f.value=!1}}}}),f5={class:"comment-item"},_5={key:1,class:"content selectable"};function v5(e,t,n,l,a,d){const i=c("comment-item-header"),r=c("comment-input"),u=$e("md");return m(),I("div",f5,[o(i,{refresh:e.refresh,activity:e.activity,onEdit:t[0]||(t[0]=p=>e.editing=!0)},null,8,["refresh","activity"]),e.editing?(m(),C(r,{key:0,"existing-comment":e.activity,"primary-key":e.primaryKey,collection:e.collection,refresh:e.refresh,previews:e.userPreviews,onCancel:e.cancelEditing},null,8,["existing-comment","primary-key","collection","refresh","previews","onCancel"])):x((m(),I("div",_5,null,512)),[[u,e.activity.display]])])}var y5=z(m5,[["render",v5],["__scopeId","data-v-2c18c6a3"]]);const h5=K({components:{CommentInput:xa,CommentItem:y5},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0}},setup(e){const{t}=Y(),{activity:n,loading:l,error:a,refresh:d,count:i,userPreviews:r}=u(e.collection,e.primaryKey);return{t,activity:n,loading:l,error:a,refresh:d,count:i,userPreviews:r};function u(f,_){const v=/(\s@[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/gm,y=E(null),h=E(0),g=E(null),b=E(!1),$=E({});return A(),{activity:y,error:g,loading:b,refresh:V,count:h,userPreviews:$};async function A(){g.value=null,b.value=!0;try{const T=await pe.get("/activity",{params:{"filter[collection][_eq]":f,"filter[item][_eq]":_,"filter[action][_eq]":"comment",sort:"-id",fields:["id","action","timestamp","user.id","user.email","user.first_name","user.last_name","user.avatar.id","revisions.id","comment"]}});h.value=T.data.data.length,$.value=await p(T.data.data,v);const D=T.data.data.map(L=>{const j=L.comment.match(v);let B=L.comment;for(const q of j!=null?j:[])B=B.replace(q,` <mark>${$.value[q.substring(2)]}</mark>`);return Fe(fe({},L),{display:B.replaceAll(`
`,"<br>")})}),O=N.exports.groupBy(D,L=>new Date(new Date(L.timestamp).toDateString())),M=[];for(const[L,j]of Object.entries(O)){const B=new Date(L),q=ma(B),G=fa(B),Q=_a(B);let ce;q?ce=t("today"):G?ce=t("yesterday"):Q?ce=await Ft(B,String(t("date-fns_date_short_no_year"))):ce=await Ft(B,String(t("date-fns_date_short"))),M.push({date:B,dateFormatted:String(ce),activity:j})}y.value=N.exports.orderBy(M,["date"],["desc"])}catch(T){T.value=T}finally{b.value=!1}}async function V(){await A()}}async function p(f,_){let v=[];f.forEach(h=>{v.push(h.comment.match(_))});const y=[...new Set(N.exports.flatten(v))].filter(h=>{if(h)return h});if(y.length>0){const h=await pe.get("/users",{params:{filter:{id:{_in:y.map(b=>b.substring(2))}},fields:["first_name","last_name","email","id"]}}),g={};return h.data.data.map(b=>{g[b.id]=Et(b)}),g}return{}}}}),g5={key:1,class:"empty"},b5={class:"content"};function w5(e,t,n,l,a,d){const i=c("comment-input"),r=c("v-progress-linear"),u=c("v-divider"),p=c("comment-item"),f=c("sidebar-detail");return m(),C(f,{title:e.t("comments"),icon:"chat_bubble_outline",badge:e.count||null},{default:s(()=>[o(i,{refresh:e.refresh,collection:e.collection,"primary-key":e.primaryKey},null,8,["refresh","collection","primary-key"]),e.loading?(m(),C(r,{key:0,indeterminate:""})):!e.activity||e.activity.length===0?(m(),I("div",g5,[S("div",b5,w(e.t("no_comments")),1)])):(m(!0),I(ae,{key:2},we(e.activity,_=>(m(),I(ae,{key:_.date.toString()},[o(u,null,{default:s(()=>[P(w(_.dateFormatted),1)]),_:2},1024),(m(!0),I(ae,null,we(_.activity,v=>(m(),C(p,{key:v.id,refresh:e.refresh,activity:v,"user-previews":e.userPreviews,"primary-key":e.primaryKey,collection:e.collection},null,8,["refresh","activity","user-previews","primary-key","collection"]))),128))],64))),128))]),_:1},8,["title","badge"])}var wo=z(h5,[["render",w5],["__scopeId","data-v-a05ad8d4"]]);const k5=["src","width","height","alt"],$5=["src"],S5=["src"],C5=K({props:{mime:null,width:{default:void 0},height:{default:void 0},src:null,title:null,inModal:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=e;bl(r=>({"21d90b4a":W(d)}));const n=E(!1),l=F(()=>t.mime===null?null:t.mime.startsWith("image")?"image":t.mime.startsWith("video")?"video":t.mime.startsWith("audio")?"audio":null),a=F(()=>t.mime.includes("svg")),d=F(()=>{var r;return Math.min((r=t.height)!=null?r:528,528)+"px"}),i=F(()=>t.height<528);return(r,u)=>{const p=c("v-icon");return W(l)&&!n.value?(m(),I("div",{key:0,class:ue(["file-preview",{modal:e.inModal,small:W(i),svg:W(a)}])},[W(l)==="image"?(m(),I("div",{key:0,class:"image",onClick:u[1]||(u[1]=f=>r.$emit("click"))},[S("img",{src:e.src,width:e.width,height:e.height,alt:e.title,onError:u[0]||(u[0]=f=>n.value=!0)},null,40,k5),e.inModal===!1?(m(),C(p,{key:0,name:"upload"})):R("",!0)])):W(l)==="video"?(m(),I("video",{key:1,controls:"",src:e.src},null,8,$5)):W(l)==="audio"?(m(),I("audio",{key:2,controls:"",src:e.src},null,8,S5)):R("",!0)],2)):R("",!0)}}});var ko=z(C5,[["__scopeId","data-v-8ad6bdb0"]]);const mt=va.extend({type:"string",base:va.string(),messages:{"string.contains":"{{#label}} must contain [{{#substring}}]","string.ncontains":"{{#label}} can't contain [{{#substring}}]"},rules:{contains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"contains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!1?t.error("string.contains",{substring:n}):e}},ncontains:{args:[{name:"substring",ref:!0,assert:e=>typeof e=="string",message:"must be a string"}],method(e){return this.$_addRule({name:"ncontains",args:{substring:e}})},validate(e,t,{substring:n}){return e.includes(n)===!0?t.error("string.ncontains",{substring:n}):e}}}}),V5={allowUnknown:!0,requireAll:!1};function F5(e,t){e=e||{},t=N.exports.merge({},V5,t);const n={};for(const[l,a]of Object.entries(e))if(l.startsWith("_")===!1){const i=Object.keys(a)[0];if(i==="_eq"&&(n[l]=mt.any().equal(Object.values(a)[0])),i==="_neq"&&(n[l]=mt.any().not(Object.values(a)[0])),i==="_contains"&&(n[l]=mt.string().contains(Object.values(a)[0])),i==="_ncontains"&&(n[l]=mt.string().ncontains(Object.values(a)[0])),i==="_starts_with"&&(n[l]=mt.string().pattern(new RegExp(`^${N.exports.escapeRegExp(Object.values(a)[0])}.*`),{name:"starts_with"})),i==="_nstarts_with"&&(n[l]=mt.string().pattern(new RegExp(`^${N.exports.escapeRegExp(Object.values(a)[0])}.*`),{name:"starts_with",invert:!0})),i==="_ends_with"&&(n[l]=mt.string().pattern(new RegExp(`.*${N.exports.escapeRegExp(Object.values(a)[0])}$`),{name:"ends_with"})),i==="_nends_with"&&(n[l]=mt.string().pattern(new RegExp(`.*${N.exports.escapeRegExp(Object.values(a)[0])}$`),{name:"ends_with",invert:!0})),i==="_in"&&(n[l]=mt.any().equal(...Object.values(a)[0])),i==="_nin"&&(n[l]=mt.any().not(...Object.values(a)[0])),i==="_gt"&&(n[l]=mt.number().greater(Number(Object.values(a)[0]))),i==="_gte"&&(n[l]=mt.number().min(Number(Object.values(a)[0]))),i==="_lt"&&(n[l]=mt.number().less(Number(Object.values(a)[0]))),i==="_lte"&&(n[l]=mt.number().max(Number(Object.values(a)[0]))),i==="_null"&&(n[l]=mt.any().valid(null)),i==="_nnull"&&(n[l]=mt.any().invalid(null)),i==="_empty"&&(n[l]=mt.any().valid("")),i==="_nempty"&&(n[l]=mt.any().invalid("")),i==="_between"){const r=Object.values(a)[0];n[l]=mt.number().greater(r[0]).less(r[1])}if(i==="_nbetween"){const r=Object.values(a)[0];n[l]=mt.number().less(r[0]).greater(r[1])}t.requireAll&&(n[l]=n[l].required())}return t.allowUnknown?mt.object(n).unknown():mt.object(n)}function fn(e,t,n,l=!1){const a=Ot();if(He().isAdmin===!0)return!0;const r=a.permissions.find(f=>f.action===t&&f.collection===e);if(!r||!r.fields&&t!=="share")return!1;if(l&&t!=="share"&&r.fields.includes("*")===!1&&n){const f=r.fields;if(Object.keys(n).every(v=>f.includes(v))===!1)return!1}const u=F5(r.permissions,{allowUnknown:!0}),{error:p}=u.validate(n);return!p}function qn(e,t,n){const l=He(),a=Ot(),{info:d,fields:i}=rt(e),r=F(()=>fn(e.value,"create",t.value)),u=F(()=>fn(e.value,"delete",t.value)),p=F(()=>n.value?!0:fn(e.value,"update",t.value)),f=F(()=>fn(e.value,"update",t.value)),_=F(()=>fn(e.value,"share",t.value)),v=F(()=>{var g,b;return((b=(g=d.value)==null?void 0:g.meta)==null?void 0:b.archive_field)?fn(e.value,"update",{[d.value.meta.archive_field]:d.value.meta.archive_value},!0):!1}),y=F(()=>{var $,A,V;let g=N.exports.cloneDeep(i.value);if(((A=($=l.currentUser)==null?void 0:$.role)==null?void 0:A.admin_access)===!0)return g;const b=a.getPermissionsForUser(e.value,n.value?"create":"update");return b&&(((V=b.fields)==null?void 0:V.includes("*"))===!1&&(g=g.map(T=>{var D;return((D=b.fields)==null?void 0:D.includes(T.field))===!1&&(T.meta=Fe(fe({},T.meta||{}),{readonly:!0})),T})),b.presets&&(g=g.map(T=>(T.field in b.presets&&(T.schema=Fe(fe({},T.schema||{}),{default_value:b.presets[T.field]})),T)))),g}),h=F(()=>{var g,b;return((b=(g=l.currentUser)==null?void 0:g.role)==null?void 0:b.admin_access)===!0?!0:!!a.permissions.find($=>$.collection==="directus_revisions"&&$.action==="read")});return{createAllowed:r,deleteAllowed:u,saveAllowed:p,archiveAllowed:v,updateAllowed:f,shareAllowed:_,fields:y,revisionsAllowed:h}}function ei(e,t){const n=E(),l=E(!1),a=E(null),d=F(()=>{var r,u;return((u=(r=e.value)==null?void 0:r.meta)==null?void 0:u.display_template)?St(e.value.meta.display_template):null});return ge([e,t],i,{immediate:!0}),{templateData:n,loading:l,error:a};async function i(){if(!t.value||t.value==="+"||d.value===null||!e.value)return;l.value=!0;const r=e.value.collection.startsWith("directus_")?`/${e.value.collection.substring(9)}/${t.value}`:`/items/${e.value.collection}/${encodeURIComponent(t.value)}`;try{const u=await pe.get(r,{params:{fields:d.value}});n.value=u.data.data}catch(u){a.value=u}finally{l.value=!1}}}class A5 extends Error{constructor(t,n,l,a){super(t);this.status=n,this.code=l,this.extensions=a||{}}}class I5 extends A5{constructor(t){var n,l,a,d,i,r,u,p,f,_,v,y,h,g;const b={field:t.path[0]},$=t.type;if($.endsWith("only"))if(((n=t.context)===null||n===void 0?void 0:n.valids.length)>1)b.type="in",b.valid=(l=t.context)===null||l===void 0?void 0:l.valids;else{const A=(a=t.context)===null||a===void 0?void 0:a.valids[0];A===null?b.type="null":A===""?b.type="empty":(b.type="eq",b.valid=(d=t.context)===null||d===void 0?void 0:d.valids[0])}if($.endsWith("invalid"))if(((i=t.context)===null||i===void 0?void 0:i.invalids.length)>1)b.type="nin",b.invalid=(r=t.context)===null||r===void 0?void 0:r.invalids;else{const A=(u=t.context)===null||u===void 0?void 0:u.invalids[0];A===null?b.type="nnull":A===""?b.type="nempty":(b.type="neq",b.invalid=A)}$.endsWith("greater")&&(b.type="gt",b.valid=(p=t.context)===null||p===void 0?void 0:p.limit),$.endsWith("min")&&(b.type="gte",b.valid=(f=t.context)===null||f===void 0?void 0:f.limit),$.endsWith("less")&&(b.type="lt",b.valid=(_=t.context)===null||_===void 0?void 0:_.limit),$.endsWith("max")&&(b.type="lte",b.valid=(v=t.context)===null||v===void 0?void 0:v.limit),$.endsWith("contains")&&(b.type="contains",b.substring=(y=t.context)===null||y===void 0?void 0:y.substring),$.endsWith("ncontains")&&(b.type="ncontains",b.substring=(h=t.context)===null||h===void 0?void 0:h.substring),$.endsWith("required")&&(b.type="required"),$.endsWith(".pattern.base")&&(b.type="regex",b.invalid=(g=t.context)===null||g===void 0?void 0:g.value);super(t.message,400,"FAILED_VALIDATION",b)}}function An(e){var l;const t=He();if(!t.currentUser)return e!=null?e:{};const n={role:t.currentUser.role.id,user:t.currentUser.id};return(l=po(e,n))!=null?l:{}}function ti(e,t){var n;if(t.meta&&Array.isArray((n=t.meta)==null?void 0:n.conditions)){const a=[...t.meta.conditions].reverse().find(d=>{if(!d.rule||Object.keys(d.rule).length!==1)return;const i=An(d.rule);return Pl(i,e,{requireAll:!0}).length===0});return a?Fe(fe({},t),{meta:N.exports.merge({},t.meta||{},{readonly:a.readonly,options:a.options,hidden:a.hidden,required:a.required})}):t}else return t}function $o(e,t,n){var i;const l={_and:[]},d=t.map(r=>ti(e,r)).filter(r=>{var u;return((u=r.meta)==null?void 0:u.required)===!0});for(const r of d)n&&N.exports.isNil((i=r.schema)==null?void 0:i.default_value)&&l._and.push({[r.field]:{_submitted:!0}}),l._and.push({[r.field]:{_nnull:!0}});return N.exports.flatten(Pl(l,e).map(r=>r.details.map(u=>new I5(u).extensions))).map(r=>{var p,f;const u=t.find(_=>_.field===r.field);return Fe(fe({},r),{hidden:(p=u==null?void 0:u.meta)==null?void 0:p.hidden,group:(f=u==null?void 0:u.meta)==null?void 0:f.group})})}const E5=K({components:{FilePreview:ko},props:{active:{type:Boolean,default:!1},collection:{type:String,required:!0},primaryKey:{type:[String,Number],default:null},edits:{type:Object,default:void 0},junctionField:{type:String,default:null},disabled:{type:Boolean,default:!1},relatedPrimaryKey:{type:[String,Number],default:"+"},circularField:{type:String,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n,te:l}=Y(),a=E([]),d=Oe(),i=ft(),{internalActive:r}=_e(),{junctionFieldInfo:u,junctionRelatedCollection:p,junctionRelatedCollectionInfo:f,setJunctionEdits:_}=ee(),{internalEdits:v,loading:y,item:h}=me(),{save:g,cancel:b}=ne(),{collection:$}=ze(e),{info:A}=rt($),V=F(()=>e.primaryKey==="+"),T=F(()=>{const te=(f==null?void 0:f.value)||A.value;return l(`collection_names_singular.${te.collection}`)?V.value?n("creating_unit",{unit:n(`collection_names_singular.${te.collection}`)}):n("editing_unit",{unit:n(`collection_names_singular.${te.collection}`)}):V.value?n("creating_in",{collection:te.name}):n("editing_in",{collection:te.name})}),D=F(()=>d.getFieldsForCollection(e.collection).filter(te=>{var Z;return((Z=te.meta)==null?void 0:Z.hidden)!==!0}).length>0),{fields:O}=qn(p,F(()=>h.value&&h.value[e.junctionField]),F(()=>e.primaryKey==="+")),{fields:M}=qn($,h,F(()=>e.primaryKey==="+")),L=F(()=>e.circularField?M.value.filter(te=>te.field!==e.circularField):M.value),j=F(()=>u.value?String(e.relatedPrimaryKey):String(e.primaryKey)),B=F(()=>f.value||A.value),{templateData:q,loading:G}=ei(B,j),Q=F(()=>{var te,Z,se,X;return((Z=(te=f.value)==null?void 0:te.meta)==null?void 0:Z.display_template)||((X=(se=A.value)==null?void 0:se.meta)==null?void 0:X.display_template)||null}),{file:ce,isDirectusFiles:J}=oe();return{t:n,internalActive:r,internalEdits:v,loading:y,item:h,validationErrors:a,save:g,cancel:b,title:T,junctionFieldInfo:u,junctionRelatedCollection:p,setJunctionEdits:_,showDivider:D,junctionRelatedCollectionFields:O,fields:L,template:Q,templateCollection:B,templatePrimaryKey:j,templateData:q,templateDataLoading:G,collectionInfo:A,file:ce,isDirectusFiles:J};function oe(){const te=F(()=>p.value==="directus_files");return{file:F(()=>{var re;if(te.value===!1||!h.value)return null;const se=(re=h.value)==null?void 0:re[e.junctionField];if(!se)return null;const X=dt(Ze()+`assets/${se.id}?key=system-large-contain`);return Fe(fe({},se),{src:X})}),isDirectusFiles:te}}function _e(){const te=E(!1);return{internalActive:F({get(){return e.active===void 0?te.value:e.active},set(se){te.value=se,t("update:active",se)}})}}function me(){const te=E({}),Z=F({get(){return e.edits!==void 0?fe(fe({},e.edits),te.value):te.value},set(H){te.value=H}}),se=E(!1),X=E(null);return ge(()=>e.active,H=>{H===!0?(e.primaryKey!=="+"&&re(),e.relatedPrimaryKey!=="+"&&ve()):(se.value=!1,X.value=null,te.value={})},{immediate:!0}),{internalEdits:Z,loading:se,item:X,fetchItem:re};async function re(){se.value=!0;const H=e.collection.startsWith("directus_")?`/${e.collection.substring(9)}/${e.primaryKey}`:`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`;let le="*";e.junctionField&&(le=`*,${e.junctionField}.*`);try{const ie=await pe.get(H,{params:{fields:le}});X.value=ie.data.data}catch(ie){Ie(ie)}finally{se.value=!1}}async function ve(){se.value=!0;const H=p.value,le=H.startsWith("directus_")?`/${H.substring(9)}/${e.relatedPrimaryKey}`:`/items/${H}/${encodeURIComponent(e.relatedPrimaryKey)}`;try{const ie=await pe.get(le);X.value=Fe(fe({},X.value||{}),{[u.value.field]:ie.data.data})}catch(ie){Ie(ie)}finally{se.value=!1}}}function ee(){const te=F(()=>e.junctionField?d.getField(e.collection,e.junctionField):null),Z=F(()=>{var H,le;if(!e.junctionField)return null;const ve=i.getRelationsForField(e.collection,e.junctionField).find(ie=>ie.collection===e.collection&&ie.field===e.junctionField);return ve.related_collection?ve.related_collection:((H=ve.meta)==null?void 0:H.one_collection_field)?e.edits[ve.meta.one_collection_field]||((le=h.value)==null?void 0:le[ve.meta.one_collection_field]):null}),{info:se}=rt(Z);return{junctionFieldInfo:te,junctionRelatedCollection:Z,junctionRelatedCollectionInfo:se,setJunctionEdits:X};function X(re){!e.junctionField||(v.value=Fe(fe({},v.value),{[e.junctionField]:re}))}}function ne(){return{save:te,cancel:Z};function te(){const se=e.junctionField?v.value[e.junctionField]:v.value,X=e.junctionField?O.value:L.value;let re=$o(se||{},X,V.value);if(re.length>0){a.value=re;return}t("input",v.value),r.value=!1,v.value={}}function Z(){a.value=[],r.value=!1,v.value={}}}}}),D5={key:1,class:"type-title"},T5={class:"drawer-item-content"};function P5(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("render-template"),u=c("v-breadcrumb"),p=c("v-icon"),f=c("v-button"),_=c("file-preview"),v=c("v-form"),y=c("v-divider"),h=c("v-drawer"),g=$e("tooltip");return m(),C(h,{modelValue:e.internalActive,"onUpdate:modelValue":t[1]||(t[1]=b=>e.internalActive=b),title:e.title,persistent:"",onCancel:e.cancel},ot({subtitle:s(()=>[o(u,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),actions:s(()=>[be(e.$slots,"actions",{},void 0,!0),x(o(f,{icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(p,{name:"check"})]),_:1},8,["onClick"]),[[g,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",T5,[e.junctionField?(m(),I(ae,{key:0},[e.file?(m(),C(_,{key:0,src:e.file.src,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":!0},null,8,["src","mime","width","height","title"])):R("",!0),o(v,{disabled:e.disabled,loading:e.loading,"initial-values":e.item&&e.item[e.junctionField],"primary-key":e.relatedPrimaryKey,"model-value":e.internalEdits[e.junctionField],fields:e.junctionRelatedCollectionFields,"validation-errors":e.junctionField?e.validationErrors:void 0,autofocus:"","onUpdate:modelValue":e.setJunctionEdits},null,8,["disabled","loading","initial-values","primary-key","model-value","fields","validation-errors","onUpdate:modelValue"]),e.showDivider?(m(),C(y,{key:1})):R("",!0)],64)):R("",!0),o(v,{modelValue:e.internalEdits,"onUpdate:modelValue":t[0]||(t[0]=b=>e.internalEdits=b),disabled:e.disabled,loading:e.loading,"initial-values":e.item,"primary-key":e.primaryKey,fields:e.fields,"validation-errors":e.junctionField?void 0:e.validationErrors},null,8,["modelValue","disabled","loading","initial-values","primary-key","fields","validation-errors"])])]),_:2},[e.template!==null&&e.templateData&&e.primaryKey!=="+"?{name:"title",fn:s(()=>[e.loading||e.templateDataLoading?(m(),C(i,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",D5,[o(r,{collection:e.templateCollection.collection,item:e.templateData,template:e.template},null,8,["collection","item","template"])]))])}:void 0]),1032,["modelValue","title","onCancel"])}var Kt=z(E5,[["render",P5],["__scopeId","data-v-72ccfc73"]]);const O5=K({props:{share:{type:Object,required:!0}},emits:["copy","edit","invite","delete"],setup(e){const{t,d:n}=Y(),l=F(()=>fn("directus_shares","update",e.share)),a=F(()=>fn("directus_shares","delete",e.share)),d=F(()=>e.share.max_uses===null?null:e.share.max_uses-e.share.times_used),i=F(()=>e.share.date_end&&new Date(e.share.date_end)<new Date?"expired":e.share.date_start&&new Date(e.share.date_start)>new Date?"upcoming":null),r=F(()=>cn(new Date(e.share.date_created),String(t("date-fns_date_short")))),u=E(null);return{editAllowed:l,deleteAllowed:a,usesLeft:d,status:i,t,d:n,formattedTime:r,confirmDelete:u}}}),L5=e=>(Xe("data-v-99e5b938"),e=e(),Ye(),e),j5={class:"item"},R5={class:"item-header"},M5={class:"type-label"},U5={class:"header-right"},N5={class:"date"},B5={class:"item-info"},q5=L5(()=>S("span",{style:{"flex-grow":"1"}},null,-1));function z5(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),v=c("v-menu");return m(),I("div",j5,[S("div",R5,[S("span",M5,w(e.share.name),1),S("div",U5,[o(v,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:y,active:h})=>[o(i,{class:ue(["more",{active:h}]),name:"more_horiz",clickable:"",onClick:y},null,8,["class","onClick"]),S("div",N5,w(e.formattedTime),1)]),default:s(()=>[o(_,null,{default:s(()=>[o(p,{clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("copy"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"copy"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("share_copy_link")),1)]),_:1})]),_:1}),o(p,{clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("invite"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"send"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("share_send_link")),1)]),_:1})]),_:1}),e.deleteAllowed&&e.editAllowed?(m(),C(f,{key:0})):R("",!0),e.editAllowed?(m(),C(p,{key:1,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("edit"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"edit"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("edit")),1)]),_:1})]),_:1})):R("",!0),e.deleteAllowed?(m(),C(p,{key:2,clickable:"",class:"danger",onClick:t[3]||(t[3]=y=>e.$emit("delete"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1})])]),S("div",B5,[S("span",{class:ue(["share-uses",{"no-left":e.usesLeft===0}])},[e.usesLeft===null?(m(),I(ae,{key:0},[P(w(e.t("unlimited_usage")),1)],64)):(m(),I(ae,{key:1},[P(w(e.t("uses_left",e.usesLeft)),1)],64))],2),e.share.password?(m(),C(i,{key:0,small:"",name:"lock"})):R("",!0),q5,e.status?(m(),I("span",{key:1,class:ue(["share-status",{[e.status]:!0}])},w(e.t(e.status)),3)):R("",!0)])])}var K5=z(O5,[["render",z5],["__scopeId","data-v-99e5b938"]]);const W5=K({components:{ShareItem:K5,DrawerItem:Kt},props:{collection:{type:String,required:!0},primaryKey:{type:[String,Number],required:!0},allowed:{type:Boolean,required:!0}},setup(e){const{t}=Y(),n=E(null),l=E(0),a=E(null),d=E(!1),i=E(!1),r=E(null),u=E(null),p=E(null),f=E(!1),_=E(""),v=F(()=>u.value?window.location.origin+Ze()+"admin/shared/"+u.value.id:null);return $(),{shareToDelete:p,t,shares:n,loading:d,error:a,refresh:$,count:l,select:g,unselect:b,shareToEdit:r,input:y,copy:h,shareToSend:u,remove:A,deleting:i,sendPublicLink:v,send:V,sending:f,sendEmails:_};async function y(T){if(!!T){T.collection=e.collection,T.item=e.primaryKey;try{r.value==="+"?await pe.post("/shares",T):await pe.patch(`/shares/${r.value}`,T),await $(),r.value=null}catch(D){Ie(D)}}}async function h(T){var O;const D=window.location.origin+Ze()+"admin/shared/"+T;try{await((O=navigator==null?void 0:navigator.clipboard)==null?void 0:O.writeText(D)),ct({title:t("share_copy_link_success")})}catch{ct({type:"error",title:t("share_copy_link_error")})}}function g(T){r.value=T}function b(){r.value=null}async function $(){a.value=null,d.value=!0;try{const T=await pe.get("/shares",{params:{filter:{_and:[{collection:{_eq:e.collection}},{item:{_eq:e.primaryKey}}]},sort:"name"}});l.value=T.data.data.length,n.value=T.data.data}catch(T){T.value=T}finally{d.value=!1}}async function A(){if(!!p.value){i.value=!0;try{await pe.delete(`/shares/${p.value.id}`),await $(),p.value=null}catch(T){Ie(T)}finally{i.value=!1}}}async function V(){if(!!u.value){f.value=!0;try{const T=_.value.split(/,|\n/).filter(D=>D).map(D=>D.trim());await pe.post("/shares/invite",{emails:T,share:u.value.id}),_.value="",u.value=null}catch(T){Ie(T)}finally{f.value=!1}}}}}),H5={key:2,class:"empty"},G5={class:"content"},Z5={class:"grid"},J5={class:"field"},Q5={class:"field"},X5={class:"type-label"};function Y5(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-progress-linear"),u=c("share-item"),p=c("drawer-item"),f=c("v-card-title"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),h=c("v-card"),g=c("v-dialog"),b=c("v-input"),$=c("v-textarea"),A=c("sidebar-detail");return m(),C(A,{title:e.t("shares"),icon:"share",badge:e.count},{default:s(()=>[e.error?(m(),C(i,{key:0,type:"danger"},{default:s(()=>[P(w(e.t("unexpected_error")),1)]),_:1})):e.loading?(m(),C(r,{key:1,indeterminate:""})):!e.shares||e.shares.length===0?(m(),I("div",H5,[S("div",G5,w(e.t("no_shares")),1)])):R("",!0),(m(!0),I(ae,null,we(e.shares,V=>(m(),C(u,{key:V.id,share:V,onCopy:T=>e.copy(V.id),onEdit:T=>e.select(V.id),onDelete:T=>e.shareToDelete=V,onInvite:T=>e.shareToSend=V},null,8,["share","onCopy","onEdit","onDelete","onInvite"]))),128)),o(p,{collection:"directus_shares","primary-key":e.shareToEdit,active:!!e.shareToEdit,onCancel:e.unselect,onInput:e.input},null,8,["primary-key","active","onCancel","onInput"]),o(g,{"model-value":!!e.shareToDelete,"onUpdate:modelValue":t[1]||(t[1]=V=>e.shareToDelete=null),onEsc:t[2]||(t[2]=V=>e.shareToDelete=null)},{default:s(()=>[o(h,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("delete_share")),1)]),_:1}),o(_,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(y,null,{default:s(()=>[o(v,{secondary:"",onClick:t[0]||(t[0]=V=>e.shareToDelete=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(v,{kind:"danger",loading:e.deleting,onClick:e.remove},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(g,{"model-value":!!e.shareToSend,"onUpdate:modelValue":t[5]||(t[5]=V=>e.shareToSend=null),onEsc:t[6]||(t[6]=V=>e.shareToSend=null)},{default:s(()=>[o(h,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("share_send_link")),1)]),_:1}),o(_,null,{default:s(()=>[S("div",Z5,[S("div",J5,[o(b,{disabled:"","model-value":e.sendPublicLink},null,8,["model-value"])]),S("div",Q5,[S("div",X5,w(e.t("emails")),1),o($,{modelValue:e.sendEmails,"onUpdate:modelValue":t[3]||(t[3]=V=>e.sendEmails=V),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])])])]),_:1}),o(y,null,{default:s(()=>[o(v,{secondary:"",onClick:t[4]||(t[4]=V=>e.shareToSend=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(v,{loading:e.sending,onClick:e.send},{default:s(()=>[P(w(e.t("share_send_link")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),e.allowed?(m(),C(v,{key:3,"full-width":"",onClick:t[7]||(t[7]=V=>e.select("+"))},{default:s(()=>[P(w(e.t("new_share")),1)]),_:1})):R("",!0)]),_:1},8,["title","badge"])}var x5=z(W5,[["render",Y5],["__scopeId","data-v-ab4e4ecc"]]);function In(e,t){const{info:n,primaryKeyField:l}=rt(e),a=E(null),d=E(null),i=E([]),r=E(!1),u=E(!1),p=E(!1),f=E(!1),_=E({}),v=F(()=>Object.keys(_.value).length>0),y=F(()=>t.value==="+"),h=F(()=>typeof t.value=="string"&&t.value.includes(",")),g=F(()=>{var q,G;return!!((G=(q=n.value)==null?void 0:q.meta)==null?void 0:G.singleton)}),b=F(()=>{var q,G,Q,ce;return((G=(q=n.value)==null?void 0:q.meta)==null?void 0:G.archive_field)?n.value.meta.archive_value==="true"?((Q=a.value)==null?void 0:Q[n.value.meta.archive_field])===!0:((ce=a.value)==null?void 0:ce[n.value.meta.archive_field])===n.value.meta.archive_value:null}),{fields:$}=qn(e,a,y),A=F(()=>g.value?zt(e.value):`${zt(e.value)}/${encodeURIComponent(t.value)}`);return ge([e,t],j,{immediate:!0}),{edits:_,hasEdits:v,item:a,error:d,loading:r,saving:u,refresh:j,save:T,isNew:y,remove:L,deleting:p,archive:M,isArchived:b,archiving:f,saveAsCopy:D,isBatch:h,getItem:V,validationErrors:i};async function V(){r.value=!0,d.value=null;try{const q=await pe.get(A.value);B(q)}catch(q){d.value=q}finally{r.value=!1}}async function T(){u.value=!0,i.value=[];const q=$o(_.value,$.value,y.value);if(q.length>0)throw i.value=q,u.value=!1,q;try{let G;return y.value===!0?(G=await pe.post(zt(e.value),_.value),ct({title:Ne.global.t("item_create_success",h.value?2:1)})):(G=await pe.patch(A.value,_.value),ct({title:Ne.global.t("item_update_success",h.value?2:1)})),B(G),_.value={},G.data.data}catch(G){O(G)}finally{u.value=!1}}async function D(){var me,ee,ne;u.value=!0,i.value=[];const q=((ee=(me=n.value)==null?void 0:me.meta)==null?void 0:ee.item_duplication_fields)||["*"],G=await pe.get(A.value,{params:{fields:q}}),Q=fe(fe({},G.data.data||{}),_.value);l.value&&l.value.field in Q&&delete Q[l.value.field];const ce=Oe(),J=ft(),oe=J.getRelationsForCollection(e.value);for(const te of oe){const Z=ce.getPrimaryKeyFieldForCollection(te.collection),se=J.relations.find(X=>{var re,ve;return X.collection===te.collection&&((re=X.meta)==null?void 0:re.many_field)===((ve=te.meta)==null?void 0:ve.junction_field)});if(((ne=te.meta)==null?void 0:ne.one_field)&&te.meta.one_field in Q){const X=q.filter(H=>H.startsWith(te.meta.one_field)).map(H=>H.split(".").slice(1).join(".")),re=Q[te.meta.one_field].filter(H=>typeof H!="object");let ve=[];re.length>0&&(ve=(await pe.get(zt(te.collection),{params:{fields:[Z.field,...X],[`filter[${Z.field}][_in]`]:re.join(",")}})).data.data),Q[te.meta.one_field]=Q[te.meta.one_field].map(H=>{var le;if(typeof H!="object"&&ve.length>0&&(H=ve.find(ie=>ie.id===H)),delete H[Z.field],((le=te.meta)==null?void 0:le.junction_field)&&(se==null?void 0:se.related_collection)){const ie=ce.getPrimaryKeyFieldForCollection(se.related_collection);delete H[te.meta.junction_field][ie.field]}return H})}}const _e=$o(Q,$.value,y.value);if(_e.length>0)throw i.value=_e,u.value=!1,_e;try{const te=await pe.post(zt(e.value),Q);return ct({title:Ne.global.t("item_create_success",1)}),_.value={},l.value?te.data.data[l.value.field]:null}catch(te){O(te)}finally{u.value=!1}}function O(q){var G,Q;if((Q=(G=q==null?void 0:q.response)==null?void 0:G.data)==null?void 0:Q.errors){i.value=q.response.data.errors.filter(J=>{var oe;return jl.includes((oe=J==null?void 0:J.extensions)==null?void 0:oe.code)}).map(J=>J.extensions);const ce=q.response.data.errors.filter(J=>{var oe;return jl.includes((oe=J==null?void 0:J.extensions)==null?void 0:oe.code)===!1});ce.length>0&&ce.forEach(Ie)}else Ie(q);throw q}async function M(){var ce,J;if(!((J=(ce=n.value)==null?void 0:ce.meta)==null?void 0:J.archive_field))return;f.value=!0;const q=n.value.meta.archive_field;let G=n.value.meta.archive_value;G==="true"&&(G=!0),G==="false"&&(G=!1);let Q=n.value.meta.unarchive_value;Q==="true"&&(Q=!0),Q==="false"&&(Q=!1);try{let oe=a.value&&a.value[q]===G?Q:G;oe==="true"&&(oe=!0),oe==="false"&&(oe=!1),await pe.patch(A.value,{[q]:oe}),a.value=Fe(fe({},a.value),{[q]:oe}),ct({title:oe===G?Ne.global.t("item_delete_success",h.value?2:1):Ne.global.t("item_update_success",h.value?2:1)})}catch(oe){throw Ie(oe),oe}finally{f.value=!1}}async function L(){p.value=!0;try{await pe.delete(A.value),a.value=null,ct({title:Ne.global.t("item_delete_success",h.value?2:1)})}catch(q){throw Ie(q),q}finally{p.value=!1}}function j(){d.value=null,r.value=!1,u.value=!1,p.value=!1,y.value===!0?a.value=null:V()}function B(q){var G;if((e.value.startsWith("directus_")&&e.value!=="directus_collections"||e.value==="directus_collections"&&((G=q.data.data.collection)==null?void 0:G.startsWith("directus_")))&&(q.data.data=It(q.data.data)),h.value===!1)a.value=q.data.data;else{const Q=fe({},q.data.data[0]);q.data.data.forEach(ce=>{for(const[J,oe]of Object.entries(ce))Q[J]!==oe&&delete Q[J]}),a.value=Q}}}function So(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ni(e){return navigator.platform.toLowerCase().startsWith("mac")||navigator.platform.startsWith("iP")?e.map(n=>n==="meta"?"\u2318":n==="option"?"\u2325":n==="shift"?"\u21E7":n==="alt"?"\u2325":So(n)).join(""):e.map(n=>n==="meta"?"Ctrl":So(n)).join("+")}const eS=K({props:{disabledOptions:{type:Array,default:()=>[]}},emits:["save-and-stay","save-and-add-new","save-as-copy","discard-and-stay"],setup(){const{t:e}=Y();return{t:e,translateShortcut:ni}}});function tS(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item-hint"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu");return m(),C(v,{"show-arrow":""},{activator:s(({toggle:y})=>[o(i,{name:"more_vert",clickable:"",onClick:y},null,8,["onClick"])]),default:s(()=>[o(_,null,{default:s(()=>[e.disabledOptions.includes("save-and-stay")?R("",!0):(m(),C(f,{key:0,clickable:"",onClick:t[0]||(t[0]=y=>e.$emit("save-and-stay"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"check"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("save_and_stay")),1)]),_:1}),o(p,null,{default:s(()=>[P(w(e.translateShortcut(["meta","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-and-add-new")?R("",!0):(m(),C(f,{key:1,clickable:"",onClick:t[1]||(t[1]=y=>e.$emit("save-and-add-new"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"add"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("save_and_create_new")),1)]),_:1}),o(p,null,{default:s(()=>[P(w(e.translateShortcut(["meta","shift","s"])),1)]),_:1})]),_:1})),e.disabledOptions.includes("save-as-copy")?R("",!0):(m(),C(f,{key:2,clickable:"",onClick:t[2]||(t[2]=y=>e.$emit("save-as-copy"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"done_all"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("save_as_copy")),1)]),_:1})]),_:1})),e.disabledOptions.includes("discard-and-stay")?R("",!0):(m(),C(f,{key:3,clickable:"",onClick:t[3]||(t[3]=y=>e.$emit("discard-and-stay"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"undo"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("discard_all_changes")),1)]),_:1})]),_:1}))]),_:1})]),_:1})}var Ul=z(eS,[["render",tS],["__scopeId","data-v-d6332d10"]]);function _n(e){const t=E(!1),n=E(null),l=d=>{if(e.value)return d.preventDefault(),d.returnValue="",""},a=d=>{if(e.value)return t.value=!0,n.value=d.fullPath,!1};return ya(()=>{window.addEventListener("beforeunload",l)}),wl(()=>{window.removeEventListener("beforeunload",l)}),kl(a),Xn(a),{confirmLeave:t,leaveTo:n}}function nS(e){if(e==null)return;const t=typeof e=="string"?E(e):e;return ge(t,(n,l)=>{typeof n=="string"&&l!==n&&(document.title=n)},{immediate:!0}),t}function lS(e,t){const n=md(t,e);return typeof n=="object"?JSON.stringify(n):n}function li(e,t){const n=W(t),l=W(e),a=F(()=>St(l)),d=F(()=>{if(!n||!l||!a.value)return!1;try{return pd(l,lS,n,{propsExist:!0})}catch{return!1}});return{fieldsInTemplate:a,displayValue:d}}function oS(e,t){const n=St(e);if(!t||!e||!n)return null;try{return xt(e,t,{propsExist:!0})}catch{return null}}const aS=K({name:"ContentsItem",components:{ContentNavigation:Ol,ContentNotFound:yo,RevisionsDrawerDetail:ll,CommentsSidebarDetail:wo,SharesSidebarDetail:x5,SaveOptions:Ul},props:{collection:{type:String,required:!0},primaryKey:{type:String,default:null},singleton:{type:Boolean,default:!1}},setup(e){const{t,te:n}=Y(),l=at(),a=E(),{collection:d,primaryKey:i}=ze(e),{breadcrumb:r}=Se(),u=E(null),{info:p,defaults:f,primaryKeyField:_,isSingleton:v,accountabilityScope:y}=rt(d),{isNew:h,edits:g,hasEdits:b,item:$,saving:A,loading:V,error:T,save:D,remove:O,deleting:M,archive:L,archiving:j,isArchived:B,saveAsCopy:q,refresh:G,validationErrors:Q}=In(d,i),{templateData:ce,loading:J}=ei(p,i),oe=F(()=>{var je,ke,Ue,Re,xe,tt;return H.value===!1?!1:b.value===!0?!0:!((ke=(je=_.value)==null?void 0:je.schema)==null?void 0:ke.has_auto_increment)&&!((xe=(Re=(Ue=_.value)==null?void 0:Ue.meta)==null?void 0:Re.special)==null?void 0:xe.includes("uuid"))?!!((tt=g.value)==null?void 0:tt[_.value.field]):h.value===!0&&Object.keys(f.value).length>0||b.value}),{confirmLeave:_e,leaveTo:me}=_n(b),ee=E(!1),ne=E(!1),te=F(()=>{var je,ke;return n(`collection_names_singular.${e.collection}`)?h.value?t("creating_unit",{unit:t(`collection_names_singular.${e.collection}`)}):t("editing_unit",{unit:t(`collection_names_singular.${e.collection}`)}):h.value?t("creating_in",{collection:(je=p.value)==null?void 0:je.name}):t("editing_in",{collection:(ke=p.value)==null?void 0:ke.name})}),Z=F(()=>{var ke;let je=(((ke=p.value)==null?void 0:ke.name)||"")+" | ";if(p.value&&p.value.meta){if(p.value.meta.singleton===!0)return je+p.value.name;if(h.value===!1&&p.value.meta.display_template){const{displayValue:Ue}=li(p.value.meta.display_template,ce);if(Ue.value!==void 0)return je+Ue.value}}return je+te.value});nS(Z);const se=F(()=>ve.value===!1?t("not_allowed"):B.value===!0?t("unarchive"):t("archive"));it("meta+s",Ae,a),it("meta+shift+s",Le,a);const{createAllowed:X,deleteAllowed:re,archiveAllowed:ve,saveAllowed:H,updateAllowed:le,shareAllowed:ie,fields:de,revisionsAllowed:ye}=qn(d,$,h),he=F(()=>{var je,ke;return h.value?"+":v.value?(ke=$.value)==null?void 0:ke[(je=_.value)==null?void 0:je.field]:e.primaryKey});return{t,router:l,item:$,loading:V,error:T,isNew:h,edits:g,isSavable:oe,hasEdits:b,saving:A,collectionInfo:p,saveAndQuit:Ce,deleteAndQuit:lt,confirmDelete:ee,confirmArchive:ne,deleting:M,archiving:j,saveAndStay:Ae,saveAndAddNew:Le,saveAsCopyAndNavigate:Ge,discardAndStay:Ee,templateData:ce,templateDataLoading:J,archiveTooltip:se,breadcrumb:r,title:te,revisionsDrawerDetail:u,refresh:G,confirmLeave:_e,leaveTo:me,discardAndLeave:Ve,createAllowed:X,deleteAllowed:re,saveAllowed:H,archiveAllowed:ve,isArchived:B,updateAllowed:le,shareAllowed:ie,toggleArchive:Me,validationErrors:Q,form:a,fields:de,isSingleton:v,internalPrimaryKey:he,revisionsAllowed:ye,revert:Te,accountabilityScope:y};function Se(){return{breadcrumb:F(()=>{var ke;return[{name:(ke=p.value)==null?void 0:ke.name,to:`/content/${e.collection}`}]})}}async function Ce(){if(oe.value!==!1)try{await D(),e.singleton===!1&&l.push(`/content/${e.collection}`)}catch{}}async function Ae(){var je,ke;if(oe.value!==!1)try{const Ue=await D();if((ke=(je=u.value)==null?void 0:je.refresh)==null||ke.call(je),e.primaryKey==="+"){const Re=Ue[_.value.field];l.replace(`/content/${e.collection}/${encodeURIComponent(Re)}`)}}catch{}}async function Le(){if(oe.value!==!1)try{await D(),h.value===!0?G():l.push(`/content/${e.collection}/+`)}catch{}}async function Ge(){try{const je=await q();je&&l.replace(`/content/${e.collection}/${encodeURIComponent(je)}`)}catch{}}async function lt(){try{await O(),g.value={},l.replace(`/content/${e.collection}`)}catch{}}async function Me(){try{await L(),B.value===!0?l.push(`/content/${e.collection}`):ne.value=!1}catch{}}function Ve(){!me.value||(g.value={},_e.value=!1,l.push(me.value))}function Ee(){g.value={},_e.value=!1}function Te(je){g.value=fe(fe({},g.value),je)}}}),iS={class:"type-title"},rS={class:"page-description"};function sS(e,t,n,l,a,d){var q,G;const i=c("content-not-found"),r=c("v-skeleton-loader"),u=c("render-template"),p=c("v-icon"),f=c("v-button"),_=c("v-breadcrumb"),v=c("v-card-title"),y=c("v-card-actions"),h=c("v-card"),g=c("v-dialog"),b=c("save-options"),$=c("content-navigation"),A=c("v-form"),V=c("v-card-text"),T=c("sidebar-detail"),D=c("revisions-drawer-detail"),O=c("comments-sidebar-detail"),M=c("shares-sidebar-detail"),L=c("private-view"),j=$e("tooltip"),B=$e("md");return e.error||!e.collectionInfo||((G=(q=e.collectionInfo)==null?void 0:q.meta)==null?void 0:G.singleton)===!0&&e.primaryKey!==null?(m(),C(i,{key:0})):(m(),C(L,{key:1,title:e.title},ot({"title-outer:prepend":s(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),C(f,{key:0,class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:s(()=>[o(p,{name:e.collectionInfo.icon},null,8,["name"])]),_:1})):x((m(),C(f,{key:1,class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=Q=>e.router.back())},{default:s(()=>[o(p,{name:"arrow_back"})]),_:1},512)),[[j,e.t("back"),void 0,{bottom:!0}]])]),headline:s(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?(m(),C(_,{key:0,items:[{name:e.t("content"),to:"/content"}]},null,8,["items"])):(m(),C(_,{key:1,items:e.breadcrumb},null,8,["items"]))]),actions:s(()=>[e.isNew?R("",!0):(m(),C(g,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=Q=>e.confirmDelete=Q),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=Q=>e.confirmDelete=!1)},{activator:s(({on:Q})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((m(),C(f,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null||e.deleteAllowed!==!0,onClick:Q},{default:s(()=>[o(p,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"])),[[j,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(y,null,{default:s(()=>[o(f,{secondary:"",onClick:t[1]||(t[1]=Q=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(f,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),C(g,{key:1,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=Q=>e.confirmArchive=Q),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=Q=>e.confirmArchive=!1)},{activator:s(({on:Q})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((m(),C(f,{key:0,rounded:"",icon:"",secondary:"",disabled:e.item===null||e.archiveAllowed!==!0,onClick:Q},{default:s(()=>[o(p,{name:e.isArchived?"unarchive":"archive",outline:""},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[j,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),o(y,null,{default:s(()=>[o(f,{secondary:"",onClick:t[4]||(t[4]=Q=>e.confirmArchive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(f,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:s(()=>[P(w(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),x(o(f,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":s(()=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton!==!0&&e.isSavable===!0?(m(),C(b,{key:0,"disabled-options":e.createAllowed?[]:["save-and-add-new","save-as-copy"],onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["disabled-options","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:s(()=>[o(p,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[j,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o($,{"current-collection":e.collection},null,8,["current-collection"])]),sidebar:s(()=>[o(T,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",rS,null,512),[[B,e.t("page_help_collections_item")]])]),_:1},8,["title"]),e.isNew===!1&&e.internalPrimaryKey&&e.revisionsAllowed&&e.accountabilityScope==="all"?(m(),C(D,{key:0,ref:"revisionsDrawerDetail",collection:e.collection,"primary-key":e.internalPrimaryKey,scope:e.accountabilityScope,onRevert:e.revert},null,8,["collection","primary-key","scope","onRevert"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),C(O,{key:1,collection:e.collection,"primary-key":e.internalPrimaryKey},null,8,["collection","primary-key"])):R("",!0),e.isNew===!1&&e.internalPrimaryKey?(m(),C(M,{key:2,collection:e.collection,"primary-key":e.internalPrimaryKey,allowed:e.shareAllowed},null,8,["collection","primary-key","allowed"])):R("",!0)]),default:s(()=>[o(A,{ref:"form",key:e.collection,modelValue:e.edits,"onUpdate:modelValue":t[7]||(t[7]=Q=>e.edits=Q),autofocus:e.isNew,disabled:e.isNew?!1:e.updateAllowed===!1,loading:e.loading,"initial-values":e.item,fields:e.fields,"primary-key":e.internalPrimaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","autofocus","disabled","loading","initial-values","fields","primary-key","validation-errors"]),o(g,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[9]||(t[9]=Q=>e.confirmLeave=Q),onEsc:t[10]||(t[10]=Q=>e.confirmLeave=!1)},{default:s(()=>[o(h,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(V,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(y,null,{default:s(()=>[o(f,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(f,{onClick:t[8]||(t[8]=Q=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!0?{name:"title",fn:s(()=>[S("h1",iS,w(e.collectionInfo.name),1)])}:e.isNew===!1&&e.collectionInfo.meta&&e.collectionInfo.meta.display_template?{name:"title",fn:s(()=>[e.loading||e.templateDataLoading?(m(),C(r,{key:0,class:"title-loader",type:"text"})):(m(),I("h1",{key:1,class:"type-title"},[o(u,{collection:e.collectionInfo.collection,item:e.templateData,template:e.collectionInfo.meta.display_template},null,8,["collection","item","template"])]))])}:void 0]),1032,["title"]))}var oi=z(aS,[["render",sS],["__scopeId","data-v-314bf09e"]]);function ai(e){const t=`directus-${e}`,n=E(null);function l(){let a;try{a=localStorage.getItem(t)}catch{}if(!!a)try{const d=JSON.parse(a);n.value=d}catch{}}return l(),ge(n,()=>{try{n.value==null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n.value))}catch{}}),{data:n}}const dS=K({components:{CollectionRoute:i4,ItemRoute:oi},props:{collection:{type:String,required:!0},bookmark:{type:String,default:null},archive:{type:String,default:null}},setup(e){const t=Ht(),{data:n}=ai("last-accessed-collection"),l=Je(),a=F(()=>{var i;const d=l.getCollection(e.collection);return!!((i=d==null?void 0:d.meta)==null?void 0:i.singleton)});return ge(()=>t.params,d=>{d.collection&&n.value!==d.collection&&(n.value=d.collection)},{immediate:!0}),{isSingleton:a}}});function uS(e,t,n,l,a,d){return m(),C(Be(e.isSingleton?"item-route":"collection-route"),{collection:e.collection,bookmark:e.bookmark,singleton:e.isSingleton?!0:void 0,archive:e.archive},null,8,["collection","bookmark","singleton","archive"])}var cS=z(dS,[["render",uS]]);const pS=K({name:"ContentOverview",components:{ContentNavigation:Ol},props:{},setup(){const{t:e}=Y(),t=He(),n=F(()=>{var l;return((l=t.currentUser)==null?void 0:l.role.admin_access)===!0});return{t:e,isAdmin:n}}}),mS={class:"page-description"};function fS(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("content-navigation"),p=c("v-info"),f=c("sidebar-detail"),_=c("private-view"),v=$e("md");return m(),C(_,{class:"content-overview",title:e.t("content")},{"title-outer:prepend":s(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(i,{name:"box"})]),_:1})]),navigation:s(()=>[o(u)]),sidebar:s(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",mS,null,512),[[v,e.t("page_help_collections_overview")]])]),_:1},8,["title"])]),default:s(()=>[o(p,{icon:"box",title:e.t("no_collections"),center:""},ot({default:s(()=>[e.isAdmin?(m(),I(ae,{key:0},[P(w(e.t("no_collections_copy_admin")),1)],64)):(m(),I(ae,{key:1},[P(w(e.t("no_collections_copy")),1)],64))]),_:2},[e.isAdmin?{name:"append",fn:s(()=>[o(r,{to:"/settings/data-model/+"},{default:s(()=>[P(w(e.t("create_collection")),1)]),_:1})])}:void 0]),1032,["title"])]),_:1},8,["title"])}var _S=z(pS,[["render",fS],["__scopeId","data-v-0dd849a0"]]);const Co=(e,t)=>{var n;if(!!((n=e.params)==null?void 0:n.collection)){if(e.params.collection==="directus_users")return e.params.primaryKey?`/users/${e.params.primaryKey}`:"/users";if(e.params.collection==="directus_files")return e.params.primaryKey?`/files/${e.params.primaryKey}`:"/files";if(e.params.collection==="directus_activity")return e.params.primaryKey?`/activity/${e.params.primaryKey}`:"/activity";if(e.params.collection==="directus_webhooks")return e.params.primaryKey?`/settings/webhooks/${e.params.primaryKey}`:"/settings/webhooks";if(e.params.collection==="directus_presets")return e.params.primaryKey?`/settings/presets/${e.params.primaryKey}`:"/settings/presets";if("bookmark"in t.query&&typeof t.query.bookmark=="string"&&!("bookmark"in e.query)&&e.params.collection===t.params.collection)return _o(e.fullPath,{bookmark:t.query.bookmark})}},vS=e=>"all"in e?"all":"archived"in e?"archived":null;var yS=wn({id:"content",name:"$t:content",icon:"box",routes:[{name:"no-collections",path:"",component:_S,beforeEnter(){const e=Je(),{activeGroups:t}=Ga(E(null));if(e.visibleCollections.length===0)return;const n=N.exports.orderBy(e.visibleCollections.filter(i=>{var r;return N.exports.isNil((r=i==null?void 0:i.meta)==null?void 0:r.group)}),["meta.sort","collection"]),{data:l}=ai("last-accessed-collection");if(l.value&&e.visibleCollections.find(i=>i.collection===l.value))return`/content/${l.value}`;let a=d(n);if(a=d(n,{skipClosed:!1}),!a)return;return`/content/${a.collection}`;function d(i,{skipClosed:r}={skipClosed:!0}){for(const u of i){if(u.schema)return u;if(r&&t.value.includes(u.collection)===!1)continue;const p=N.exports.orderBy(e.visibleCollections.filter(_=>{var v;return u.collection===((v=_.meta)==null?void 0:v.group)}),["meta.sort","collection"]),f=d(p);if(f)return f}}}},{path:":collection",component:mn,children:[{name:"content-collection",path:"",component:cS,props:e=>{const t=vS(e.query);return{collection:e.params.collection,bookmark:e.query.bookmark,archive:t}},beforeEnter:Co},{name:"content-item",path:":primaryKey",component:oi,props:!0,beforeEnter:Co}]},{name:"content-item-not-found",path:":_(.+)+",component:yo,beforeEnter:Co}]}),hS=Object.freeze(Object.defineProperty({__proto__:null,default:yS},Symbol.toStringTag,{value:"Module"})),gS=[{name:"app",path:"app",children:[{name:"content-collections",path:"app/content-collections",import:()=>U(()=>import("./content-collections.c9c672d0.js"),["assets/content-collections.c9c672d0.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"content-items",path:"app/content-items",import:()=>U(()=>import("./content-items.4b31c7b8.js"),["assets/content-items.4b31c7b8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"content",path:"app/content",import:()=>U(()=>import("./content.a121c4e2.js"),["assets/content.a121c4e2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"documentation",path:"app/documentation",import:()=>U(()=>import("./documentation.8a170431.js"),["assets/documentation.8a170431.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"file-library",path:"app/file-library",import:()=>U(()=>import("./file-library.fb43136a.js"),["assets/file-library.fb43136a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"filters",path:"app/filters",import:()=>U(()=>import("./filters.906d441f.js"),["assets/filters.906d441f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"insights",path:"app/insights",import:()=>U(()=>import("./insights.dd2f1319.js"),["assets/insights.dd2f1319.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"overview",path:"app/overview",import:()=>U(()=>import("./overview.efc5d559.js"),["assets/overview.efc5d559.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"settings",path:"app/settings",import:()=>U(()=>import("./settings.15d0a9a7.js"),["assets/settings.15d0a9a7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"user-directory",path:"app/user-directory",import:()=>U(()=>import("./user-directory.bdb10b6f.js"),["assets/user-directory.bdb10b6f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"configuration",path:"configuration",children:[{name:"activity-log",path:"configuration/activity-log",import:()=>U(()=>import("./activity-log.4e41ba72.js"),["assets/activity-log.4e41ba72.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"config-options",path:"configuration/config-options",import:()=>U(()=>import("./config-options.7f7ccdfb.js"),["assets/config-options.7f7ccdfb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"data-model",path:"configuration/data-model",import:()=>U(()=>import("./data-model.eed0cfd7.js"),["assets/data-model.eed0cfd7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"faq",path:"configuration/faq",import:()=>U(()=>import("./faq.af3fc9a5.js"),["assets/faq.af3fc9a5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"filter-rules",path:"configuration/filter-rules",import:()=>U(()=>import("./filter-rules.3c7bc379.js"),["assets/filter-rules.3c7bc379.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"localization",path:"configuration/localization",import:()=>U(()=>import("./localization.348f1994.js"),["assets/localization.348f1994.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"overview",path:"configuration/overview",import:()=>U(()=>import("./overview.2770b6cc.js"),["assets/overview.2770b6cc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"presets-bookmarks",path:"configuration/presets-bookmarks",import:()=>U(()=>import("./presets-bookmarks.4c61f585.js"),["assets/presets-bookmarks.4c61f585.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"project-settings",path:"configuration/project-settings",import:()=>U(()=>import("./project-settings.223c2b56.js"),["assets/project-settings.223c2b56.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"relationships",path:"configuration/relationships",import:()=>U(()=>import("./relationships.33af294b.js"),["assets/relationships.33af294b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"security",path:"configuration/security",import:()=>U(()=>import("./security.868b43f5.js"),["assets/security.868b43f5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"sso",path:"configuration/sso",import:()=>U(()=>import("./sso.ccca8958.js"),["assets/sso.ccca8958.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"upgrades-migrations",path:"configuration/upgrades-migrations",import:()=>U(()=>import("./upgrades-migrations.21a07531.js"),["assets/upgrades-migrations.21a07531.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"users-roles-permissions",path:"configuration/users-roles-permissions",import:()=>U(()=>import("./users-roles-permissions.ae35914f.js"),["assets/users-roles-permissions.ae35914f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"webhooks",path:"configuration/webhooks",import:()=>U(()=>import("./webhooks.4518eef3.js"),["assets/webhooks.4518eef3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"contributing",path:"contributing",children:[{name:"codebase-overview",path:"contributing/codebase-overview",import:()=>U(()=>import("./codebase-overview.87d26c65.js"),["assets/codebase-overview.87d26c65.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"github-ci",path:"contributing/github-ci",import:()=>U(()=>import("./github-ci.5fbe15aa.js"),["assets/github-ci.5fbe15aa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"contributing/introduction",import:()=>U(()=>import("./introduction.069a697e.js"),["assets/introduction.069a697e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"running-locally",path:"contributing/running-locally",import:()=>U(()=>import("./running-locally.9ae4cbf8.js"),["assets/running-locally.9ae4cbf8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"translations",path:"contributing/translations",import:()=>U(()=>import("./translations.141198a3.js"),["assets/translations.141198a3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"extensions",path:"extensions",children:[{name:"creating-extensions",path:"extensions/creating-extensions",import:()=>U(()=>import("./creating-extensions.84f93517.js"),["assets/creating-extensions.84f93517.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"displays",path:"extensions/displays",import:()=>U(()=>import("./displays.363da4e2.js"),["assets/displays.363da4e2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"email-templates",path:"extensions/email-templates",import:()=>U(()=>import("./email-templates.4e6edece.js"),["assets/email-templates.4e6edece.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"endpoints",path:"extensions/endpoints",import:()=>U(()=>import("./endpoints.9f52f90e.js"),["assets/endpoints.9f52f90e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"hooks",path:"extensions/hooks",import:()=>U(()=>import("./hooks.b1e615f8.js"),["assets/hooks.b1e615f8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"interfaces",path:"extensions/interfaces",import:()=>U(()=>import("./interfaces.8a75b0b1.js"),["assets/interfaces.8a75b0b1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"extensions/introduction",import:()=>U(()=>import("./introduction.4f6984ac.js"),["assets/introduction.4f6984ac.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"layouts",path:"extensions/layouts",import:()=>U(()=>import("./layouts.5d28cc0e.js"),["assets/layouts.5d28cc0e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"migrations",path:"extensions/migrations",import:()=>U(()=>import("./migrations.78085c15.js"),["assets/migrations.78085c15.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"modules",path:"extensions/modules",import:()=>U(()=>import("./modules.5950dac1.js"),["assets/modules.5950dac1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"panels",path:"extensions/panels",import:()=>U(()=>import("./panels.a1feb89d.js"),["assets/panels.a1feb89d.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"themes",path:"extensions/themes",import:()=>U(()=>import("./themes.401eff12.js"),["assets/themes.401eff12.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"getting-started",path:"getting-started",children:[{name:"backing-directus",path:"getting-started/backing-directus",import:()=>U(()=>import("./backing-directus.49225ce6.js"),["assets/backing-directus.49225ce6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"glossary",path:"getting-started/glossary",import:()=>U(()=>import("./glossary.22a75054.js"),["assets/glossary.22a75054.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"installation",path:"getting-started/installation",children:[{name:"aws",path:"getting-started/installation/aws",import:()=>U(()=>import("./aws.e45226e2.js"),["assets/aws.e45226e2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"cli",path:"getting-started/installation/cli",import:()=>U(()=>import("./cli.e26acb28.js"),["assets/cli.e26acb28.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"cloudron",path:"getting-started/installation/cloudron",import:()=>U(()=>import("./cloudron.7a7c23f9.js"),["assets/cloudron.7a7c23f9.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"digitalocean-app-platform",path:"getting-started/installation/digitalocean-app-platform",import:()=>U(()=>import("./digitalocean-app-platform.657cbe04.js"),["assets/digitalocean-app-platform.657cbe04.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"docker",path:"getting-started/installation/docker",import:()=>U(()=>import("./docker.4f8ae677.js"),["assets/docker.4f8ae677.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"gcp",path:"getting-started/installation/gcp",import:()=>U(()=>import("./gcp.7df0ea83.js"),["assets/gcp.7df0ea83.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"iis",path:"getting-started/installation/iis",import:()=>U(()=>import("./iis.eef9978f.js"),["assets/iis.eef9978f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"manual",path:"getting-started/installation/manual",import:()=>U(()=>import("./manual.85e4cab3.js"),["assets/manual.85e4cab3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"plesk",path:"getting-started/installation/plesk",import:()=>U(()=>import("./plesk.0f675304.js"),["assets/plesk.0f675304.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"ubuntu",path:"getting-started/installation/ubuntu",import:()=>U(()=>import("./ubuntu.013c7190.js"),["assets/ubuntu.013c7190.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"installation",path:"getting-started/installation",import:()=>U(()=>import("./installation.03c76b82.js"),["assets/installation.03c76b82.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"getting-started/introduction",import:()=>U(()=>import("./introduction.296a12be.js"),["assets/introduction.296a12be.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"quickstart",path:"getting-started/quickstart",import:()=>U(()=>import("./quickstart.67ba41ce.js"),["assets/quickstart.67ba41ce.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"support",path:"getting-started/support",import:()=>U(()=>import("./support.d9e0bf60.js"),["assets/support.d9e0bf60.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]},{name:"reference",path:"reference",children:[{name:"authentication",path:"reference/authentication",import:()=>U(()=>import("./authentication.a92d9423.js"),["assets/authentication.a92d9423.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"cli",path:"reference/cli",import:()=>U(()=>import("./cli.05ed41b2.js"),["assets/cli.05ed41b2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"files",path:"reference/files",import:()=>U(()=>import("./files.743ea6fa.js"),["assets/files.743ea6fa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"introduction",path:"reference/introduction",import:()=>U(()=>import("./introduction.1442bb90.js"),["assets/introduction.1442bb90.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"items",path:"reference/items",import:()=>U(()=>import("./items.16c6da62.js"),["assets/items.16c6da62.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"query",path:"reference/query",import:()=>U(()=>import("./query.a5bea9e6.js"),["assets/query.a5bea9e6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"sdk",path:"reference/sdk",import:()=>U(()=>import("./sdk.ae03b443.js"),["assets/sdk.ae03b443.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"system",path:"reference/system",children:[{name:"activity",path:"reference/system/activity",import:()=>U(()=>import("./activity.be984fb6.js"),["assets/activity.be984fb6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"collections",path:"reference/system/collections",import:()=>U(()=>import("./collections.44c6300b.js"),["assets/collections.44c6300b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"extensions",path:"reference/system/extensions",import:()=>U(()=>import("./extensions.ef388d4c.js"),["assets/extensions.ef388d4c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"fields",path:"reference/system/fields",import:()=>U(()=>import("./fields.2664e4a3.js"),["assets/fields.2664e4a3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"folders",path:"reference/system/folders",import:()=>U(()=>import("./folders.f4482879.js"),["assets/folders.f4482879.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"notifications",path:"reference/system/notifications",import:()=>U(()=>import("./notifications.6c634105.js"),["assets/notifications.6c634105.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"permissions",path:"reference/system/permissions",import:()=>U(()=>import("./permissions.ee57d2c5.js"),["assets/permissions.ee57d2c5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"presets",path:"reference/system/presets",import:()=>U(()=>import("./presets.c5652da2.js"),["assets/presets.c5652da2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"relations",path:"reference/system/relations",import:()=>U(()=>import("./relations.a25697a0.js"),["assets/relations.a25697a0.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"revisions",path:"reference/system/revisions",import:()=>U(()=>import("./revisions.d1ad624a.js"),["assets/revisions.d1ad624a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"roles",path:"reference/system/roles",import:()=>U(()=>import("./roles.2047801b.js"),["assets/roles.2047801b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"server",path:"reference/system/server",import:()=>U(()=>import("./server.21e00a5b.js"),["assets/server.21e00a5b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"settings",path:"reference/system/settings",import:()=>U(()=>import("./settings.18800337.js"),["assets/settings.18800337.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"users",path:"reference/system/users",import:()=>U(()=>import("./users.36943e09.js"),["assets/users.36943e09.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"utilities",path:"reference/system/utilities",import:()=>U(()=>import("./utilities.8533f769.js"),["assets/utilities.8533f769.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])},{name:"webhooks",path:"reference/system/webhooks",import:()=>U(()=>import("./webhooks.60a87075.js"),["assets/webhooks.60a87075.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])}]}]}];const bS=K({name:"NavigationListItem",props:{section:{type:Object,default:null},dense:{type:Boolean,default:!1}}});function wS(e,t,n,l,a,d){const i=c("v-divider"),r=c("v-icon"),u=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("navigation-list-item"),v=c("v-list-group"),y=c("v-list-item");return e.section.divider?(m(),C(i,{key:0})):e.section.children?(m(),C(v,{key:1,scope:"docs-navigation",dense:e.dense,multiple:!1,value:e.section.to},{activator:s(()=>[e.section.icon!==void 0?(m(),C(u,{key:0},{default:s(()=>[o(r,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:s(()=>[o(p,{text:e.section.name},null,8,["text"])]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.section.children,(h,g)=>(m(),C(_,{key:g,section:h,dense:""},null,8,["section"]))),128))]),_:1},8,["dense","value"])):(m(),C(y,{key:2,scope:"docs-navigation",to:`/docs${e.section.to}`,dense:e.dense,value:e.section.to},{default:s(()=>[e.section.icon!==void 0?(m(),C(u,{key:0},{default:s(()=>[o(r,{name:e.section.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:s(()=>[o(p,{text:e.section.name},null,8,["text"])]),_:1})]),_:1},8,["to","dense","value"]))}var kS=z(bS,[["render",wS]]),$S=[{name:"App Overview",to:"/app/overview",icon:"school"},{name:"Content Collections",to:"/app/content-collections",icon:"list_alt"},{name:"Content Items",to:"/app/content-items",icon:"edit_note"},{name:"User Directory",to:"/app/user-directory",icon:"people_alt"},{name:"File Library",to:"/app/file-library",icon:"folder"},{name:"Insights",to:"/app/insights",icon:"insights"},{name:"Documentation",to:"/app/documentation",icon:"help_outline"},{name:"Settings",to:"/app/settings",icon:"settings"},{name:"Backing Directus",to:"/getting-started/backing-directus",icon:"card_giftcard"},{name:"Glossary",to:"/getting-started/glossary",icon:"menu_book"}];function SS(e){const t=e.slice(1).split("/");if(t.length===0)return[];const n=["/"+t[0]];for(let l=1;l<t.length;l++)n.push(n[l-1]+"/"+t[l]);return n[0]==="/reference"&&n[1]==="/reference/api"&&n.shift(),n}const CS=K({components:{NavigationItem:kS},props:{path:{type:String,default:"/docs"}},setup(e){const t=E(null);return ge(()=>e.path,n=>{n!==null&&(t.value=[...t.value||[],...SS(n.replace("/docs",""))])},{immediate:!0}),{navSections:$S,selection:t}}});function VS(e,t,n,l,a,d){const i=c("navigation-item"),r=c("v-list");return m(),C(r,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=u=>e.selection=u),nav:"",mandatory:!1,scope:"docs-navigation"},{default:s(()=>[(m(!0),I(ae,null,we(e.navSections,u=>(m(),C(i,{key:u.name,section:u},null,8,["section"]))),128))]),_:1},8,["modelValue"])}var ii=z(CS,[["render",VS]]);const FS=K({name:"NotFound",components:{DocsNavigation:ii},setup(){const{t:e}=Y(),t=Ht();return{t:e,route:t}}}),AS={class:"not-found"};function IS(e,t,n,l,a,d){const i=c("docs-navigation"),r=c("v-info"),u=c("private-view");return m(),C(u,{title:e.t("page_not_found")},{navigation:s(()=>[o(i,{path:e.route.path},null,8,["path"])]),default:s(()=>[S("div",AS,[o(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var ES=z(FS,[["render",IS],["__scopeId","data-v-736afbfa"]]);const DS=K({name:"StaticDocs",components:{DocsNavigation:ii},setup(){const{t:e}=Y(),t=Ht(),n=E("Test"),l=E(!1);return{t:e,route:t,title:n,modularExtension:l}}}),TS={class:"type-title"},PS=P("Modular Extension"),OS={class:"docs-content selectable"},LS={class:"page-description"};function jS(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-chip"),p=c("docs-navigation"),f=c("router-view"),_=c("sidebar-detail"),v=c("private-view"),y=$e("md");return m(),C(v,{title:e.title},{"title-outer:prepend":s(()=>[o(r,{rounded:"",disabled:"",icon:""},{default:s(()=>[o(i,{name:"info"})]),_:1})]),title:s(()=>[S("h1",TS,w(e.title),1),e.modularExtension?(m(),C(u,{key:0,disabled:"",small:""},{default:s(()=>[PS]),_:1})):R("",!0)]),navigation:s(()=>[o(p,{path:e.route.path},null,8,["path"])]),sidebar:s(()=>[o(_,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",LS,null,512),[[y,e.t("page_help_docs_global")]])]),_:1},8,["title"])]),default:s(()=>[S("div",OS,[o(f,{"onUpdate:title":t[0]||(t[0]=h=>e.title=h),"onUpdate:modularExtension":t[1]||(t[1]=h=>e.modularExtension=h)})])]),_:1},8,["title"])}var RS=z(DS,[["render",jS],["__scopeId","data-v-3383fb1a"]]),MS=wn({id:"docs",name:"$t:documentation",icon:"help_outline",routes:[{path:"",component:RS,children:[{path:"",redirect:"/docs/app/overview"},...ri(gS)]},{path:":_(.+)+",component:ES}]});function ri(e){const t=[];for(const n of e)"children"in n?(t.push({path:n.path,redirect:`/docs/${n.children[0].path}`}),t.push(...ri(n.children))):t.push({name:`docs-${n.path.replace("/","-")}`,path:n.path,component:n.import});return t}var US=Object.freeze(Object.defineProperty({__proto__:null,default:MS},Symbol.toStringTag,{value:"Module"}));const NS=K({props:{folder:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),l=Vn();return{t,isOpen:l,close:a};function a(){n.push(e.folder?{path:`/files/folders/${e.folder}`}:{path:"/files"})}}});function BS(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-upload"),u=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog");return m(),C(v,{"model-value":e.isOpen,"onUpdate:modelValue":e.close,onEsc:e.close},{default:s(()=>[o(_,null,{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.t("add_file")),1)]),_:1}),o(u,null,{default:s(()=>[o(r,{preset:{folder:e.folder},multiple:"","from-url":"",onInput:e.close},null,8,["preset","onInput"])]),_:1}),o(f,null,{default:s(()=>[o(p,{secondary:"",onClick:e.close},{default:s(()=>[P(w(e.t("done")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","onEsc"])}var si=z(NS,[["render",BS]]);let En=null,zn=null,ol=null,Vo=null,al=null;function il(){return En===null&&(En=E(!1)),zn===null&&(zn=E(null)),ol===null&&(ol=E(null)),al===null&&(al=E(null)),Vo===null&&(Vo=E(["root"])),zn.value===null&&En.value===!1&&e(),{loading:En,folders:zn,nestedFolders:ol,error:al,fetchFolders:e,openFolders:Vo};async function e(){if(En!==null&&zn!==null&&ol!==null&&al!==null){En.value=!0;try{const t=await pe.get("/folders",{params:{limit:-1,sort:"name"}});zn.value=t.data.data,ol.value=qS(t.data.data)}catch(t){al.value=t}finally{En.value=!1}}}}function qS(e){return e.map(t=>di(t,e)).filter(t=>t.parent===null)}function di(e,t){const n=fe({},e),l=t.filter(a=>a.parent===e.id&&a.id!==e.id).map(a=>di(a,t));return l.length>0&&(n.children=l),n}const zS=K({name:"NavigationFolder",components:{FolderPicker:Ll},props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},clickHandler:{type:Function,default:()=>{}}},setup(e){const{t}=Y(),n=at(),{renameActive:l,renameValue:a,renameSave:d,renameSaving:i}=g(),{moveActive:r,moveValue:u,moveSave:p,moveSaving:f}=b(),{deleteActive:_,deleteSave:v,deleteSaving:y}=$(),{fetchFolders:h}=il();return{t,renameActive:l,renameValue:a,renameSave:d,renameSaving:i,moveActive:r,moveValue:u,moveSave:p,moveSaving:f,deleteActive:_,deleteSave:v,deleteSaving:y};function g(){const A=E(!1),V=E(e.folder.name),T=E(!1);return{renameActive:A,renameValue:V,renameSave:D,renameSaving:T};async function D(){T.value=!0;try{await pe.patch(`/folders/${e.folder.id}`,{name:V.value})}catch(O){Ie(O)}finally{T.value=!1,await h(),A.value=!1}}}function b(){const A=E(!1),V=E(e.folder.parent),T=E(!1);return{moveActive:A,moveValue:V,moveSave:D,moveSaving:T};async function D(){T.value=!0;try{await pe.patch(`/folders/${e.folder.id}`,{parent:V.value})}catch(O){Ie(O)}finally{T.value=!1,await h(),A.value=!1}}}function $(){const A=E(!1),V=E(!1);return{deleteActive:A,deleteSave:T,deleteSaving:V};async function T(){V.value=!0;try{const D=await pe.get("/folders",{params:{filter:{parent:{_eq:e.folder.id}}}}),O=await pe.get("/files",{params:{filter:{folder:{_eq:e.folder.id}}}}),M=e.folder.parent||null,L=D.data.data.map(B=>B.id),j=O.data.data.map(B=>B.id);L.length>0&&await pe.patch("/folders",{keys:L,data:{parent:M}}),j.length>0&&await pe.patch("/files",{keys:j,data:{folder:M}}),await pe.delete(`/folders/${e.folder.id}`),M?n.replace(`/files/folders/${M}`):n.replace("/files"),A.value=!1}catch(D){Ie(D)}finally{await h(),V.value=!1}}}}});function KS(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("navigation-folder",!0),v=c("v-list-group"),y=c("v-list"),h=c("v-menu"),g=c("v-card-title"),b=c("v-input"),$=c("v-card-text"),A=c("v-button"),V=c("v-card-actions"),T=c("v-card"),D=c("v-dialog"),O=c("folder-picker"),M=c("v-notice"),L=$e("context-menu");return m(),I("div",null,[e.folder.children===void 0?x((m(),C(f,{key:0,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"folder"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.folder.name},null,8,["text"])]),_:1})]),_:1},8,["to","active"])),[[L,"contextMenu"]]):x((m(),C(v,{key:1,to:`/files/folders/${e.folder.id}`,active:e.currentFolder===e.folder.id,value:e.folder.id,scope:"files-navigation","disable-groupable-parent":""},{activator:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"folder"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.folder.name},null,8,["text"])]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.folder.children,j=>(m(),C(_,{key:j.id,folder:j,"current-folder":e.currentFolder,"click-handler":e.clickHandler},null,8,["folder","current-folder","click-handler"]))),128))]),_:1},8,["to","active","value"])),[[L,"contextMenu"]]),o(h,{ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:s(()=>[o(y,null,{default:s(()=>[o(f,{clickable:"",onClick:t[0]||(t[0]=j=>e.renameActive=!0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"edit",outline:""})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("rename_folder")},null,8,["text"])]),_:1})]),_:1}),o(f,{clickable:"",onClick:t[1]||(t[1]=j=>e.moveActive=!0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"folder_move"})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("move_to_folder")},null,8,["text"])]),_:1})]),_:1}),o(f,{class:"danger",clickable:"",onClick:t[2]||(t[2]=j=>e.deleteActive=!0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete",outline:""})]),_:1}),o(p,null,{default:s(()=>[o(u,{text:e.t("delete_folder")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},512),o(D,{modelValue:e.renameActive,"onUpdate:modelValue":t[5]||(t[5]=j=>e.renameActive=j),persistent:"",onEsc:t[6]||(t[6]=j=>e.renameActive=!1)},{default:s(()=>[o(T,null,{default:s(()=>[o(g,null,{default:s(()=>[P(w(e.t("rename_folder")),1)]),_:1}),o($,null,{default:s(()=>[o(b,{modelValue:e.renameValue,"onUpdate:modelValue":t[3]||(t[3]=j=>e.renameValue=j),autofocus:"",onKeyup:Yn(e.renameSave,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),o(V,null,{default:s(()=>[o(A,{secondary:"",onClick:t[4]||(t[4]=j=>e.renameActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(A,{disabled:e.renameValue===null,loading:e.renameSaving,onClick:e.renameSave},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(D,{modelValue:e.moveActive,"onUpdate:modelValue":t[9]||(t[9]=j=>e.moveActive=j),persistent:"",onEsc:t[10]||(t[10]=j=>e.moveActive=!1)},{default:s(()=>[o(T,null,{default:s(()=>[o(g,null,{default:s(()=>[P(w(e.t("move_to_folder")),1)]),_:1}),o($,null,{default:s(()=>[o(O,{modelValue:e.moveValue,"onUpdate:modelValue":t[7]||(t[7]=j=>e.moveValue=j),"disabled-folders":[e.folder.id]},null,8,["modelValue","disabled-folders"])]),_:1}),o(V,null,{default:s(()=>[o(A,{secondary:"",onClick:t[8]||(t[8]=j=>e.moveActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(A,{loading:e.moveSaving,onClick:e.moveSave},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(D,{modelValue:e.deleteActive,"onUpdate:modelValue":t[12]||(t[12]=j=>e.deleteActive=j),persistent:"",onEsc:t[13]||(t[13]=j=>e.deleteActive=!1)},{default:s(()=>[o(T,null,{default:s(()=>[o(g,null,{default:s(()=>[P(w(e.t("delete_folder")),1)]),_:1}),o($,null,{default:s(()=>[o(M,null,{default:s(()=>[P(w(e.t("nested_files_folders_will_be_moved")),1)]),_:1})]),_:1}),o(V,null,{default:s(()=>[o(A,{secondary:"",onClick:t[11]||(t[11]=j=>e.deleteActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(A,{kind:"danger",loading:e.deleteSaving,onClick:e.deleteSave},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var WS=z(zS,[["render",KS],["__scopeId","data-v-29f07998"]]);function HS(e,t){const n={};for(let l=0;l<e.length;l++){const a=e[l]+typeof e[l];n[a]=1}for(let l=0;l<t.length;l++){const a=t[l]+typeof t[l];if(!n[a])return!1;n[a]=2}for(const l in n)if(n[l]===1)return!1;return!0}const GS=K({components:{NavigationFolder:WS},props:{currentFolder:{type:String,default:null}},setup(e){const{t}=Y(),{nestedFolders:n,folders:l,error:a,loading:d,openFolders:i}=il();return r(),ge(()=>e.currentFolder,r),{t,folders:l,nestedFolders:n,error:a,loading:d,openFolders:i};function r(){if(!l.value)return[];if(!(i==null?void 0:i.value))return[];const u=[],p=l.value.find(v=>v.id===e.currentFolder);p&&p.parent&&_(p.parent);const f=[...i.value];for(const v of u)f.includes(v)===!1&&f.push(v);f.length!==1&&HS(f,i.value)===!1&&(i.value=f);function _(v){if(!l.value)return;u.push(v);const y=l.value.find(h=>h.id===v);y&&y.parent&&_(y.parent)}}}}),ZS={class:"folders"};function JS(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-list-item"),u=c("v-icon"),p=c("v-list-item-icon"),f=c("v-text-overflow"),_=c("v-list-item-content"),v=c("navigation-folder"),y=c("v-list-group"),h=c("v-item-group"),g=c("v-divider"),b=c("v-list");return m(),C(b,{nav:""},{default:s(()=>[e.loading&&(e.nestedFolders===null||e.nestedFolders.length===0)?(m(),I(ae,{key:0},we(4,$=>o(r,{key:$},{default:s(()=>[o(i,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),S("div",ZS,[o(h,{modelValue:e.openFolders,"onUpdate:modelValue":t[0]||(t[0]=$=>e.openFolders=$),scope:"files-navigation",multiple:""},{default:s(()=>[o(y,{to:"/files",active:e.currentFolder===null,value:"root",scope:"files-navigation",exact:"","disable-groupable-parent":""},{activator:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"folder_special",outline:""})]),_:1}),o(_,null,{default:s(()=>[o(f,{text:e.t("file_library")},null,8,["text"])]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.nestedFolders,$=>(m(),C(v,{key:$.id,folder:$,"current-folder":e.currentFolder},null,8,["folder","current-folder"]))),128))]),_:1},8,["active"])]),_:1},8,["modelValue"])]),o(g),o(r,{to:"/files/all"},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"file_copy",outline:""})]),_:1}),o(_,null,{default:s(()=>[o(f,{text:e.t("all_files")},null,8,["text"])]),_:1})]),_:1}),o(r,{to:"/files/mine"},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"folder_shared"})]),_:1}),o(_,null,{default:s(()=>[o(f,{text:e.t("my_files")},null,8,["text"])]),_:1})]),_:1}),o(r,{to:"/files/recent"},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"history"})]),_:1}),o(_,null,{default:s(()=>[o(f,{text:e.t("recent_files")},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Fo=z(GS,[["render",JS],["__scopeId","data-v-1c8d05c4"]]);const QS=K({props:{parent:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=at(),l=E(!1),a=E(!1),d=E(null),{fetchFolders:i}=il();return{t,addFolder:r,dialogActive:l,newFolderName:d,saving:a};async function r(){a.value=!0;try{const u=await pe.post("/folders",{name:d.value,parent:e.parent==="root"?null:e.parent});await i(),l.value=!1,d.value=null,n.push({path:`/files/folders/${u.data.data.id}`})}catch(u){Ie(u)}finally{a.value=!1}}}});function XS(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-card-title"),p=c("v-input"),f=c("v-card-text"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),h=$e("tooltip");return m(),C(y,{modelValue:e.dialogActive,"onUpdate:modelValue":t[2]||(t[2]=g=>e.dialogActive=g),onEsc:t[3]||(t[3]=g=>e.dialogActive=!1)},{activator:s(({on:g})=>[x(o(r,{rounded:"",icon:"",secondary:"",disabled:e.disabled,onClick:g},{default:s(()=>[o(i,{name:"create_new_folder",outline:""})]),_:2},1032,["disabled","onClick"]),[[h,e.disabled?e.t("not_allowed"):e.t("create_folder"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(u,null,{default:s(()=>[P(w(e.t("create_folder")),1)]),_:1}),o(f,null,{default:s(()=>[o(p,{modelValue:e.newFolderName,"onUpdate:modelValue":t[0]||(t[0]=g=>e.newFolderName=g),autofocus:"",placeholder:e.t("folder_name"),onKeyup:Yn(e.addFolder,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),o(_,null,{default:s(()=>[o(r,{secondary:"",onClick:t[1]||(t[1]=g=>e.dialogActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(r,{disabled:e.newFolderName===null,loading:e.saving,onClick:e.addFolder},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var YS=z(QS,[["render",XS]]);const rl=ha();var Dn;(function(e){e.upload="upload"})(Dn||(Dn={}));function Kn(e,t,n,l){st(()=>{(kt(e)?e.value:e).addEventListener(t,n,l)}),wl(()=>{(kt(e)?e.value:e).removeEventListener(t,n,l)})}async function ui(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=new FormData;if(t==null?void 0:t.preset)for(const[d,i]of Object.entries(t.preset))l.append(d,i);l.append("file",e);try{let d=null;return(t==null?void 0:t.fileId)?d=await pe.patch(`/files/${t.fileId}`,l,{onUploadProgress:a}):d=await pe.post("/files",l,{onUploadProgress:a}),(t==null?void 0:t.notifications)&&ct({title:Ne.global.t("upload_file_success")}),rl.emit(Dn.upload),d.data.data}catch(d){Ie(d)}function a(d){const i=Math.floor(d.loaded*100/d.total);n(i)}}async function ci(e,t){const n=(t==null?void 0:t.onProgressChange)||(()=>{}),l=e.map(()=>0);try{const a=await Promise.all(e.map((d,i)=>ui(d,Fe(fe({},t),{onProgressChange:r=>{l[i]=r,n(l)}}))));return(t==null?void 0:t.notifications)&&ct({title:Ne.global.t("upload_files_success",{count:e.length})}),a}catch(a){Ie(a)}}const xS=K({name:"FilesCollection",components:{FilesNavigation:Fo,LayoutSidebarDetail:Un,AddFolder:YS,SearchInput:Cn,FolderPicker:Ll,DrawerBatch:Rl},props:{folder:{type:String,default:null},special:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),l=_l(),a=Ot(),{folders:d}=il(),i=E(),r=E([]),u=He(),{layout:p,layoutOptions:f,layoutQuery:_,filter:v,search:y,resetPreset:h}=Mn(E("directus_files")),{confirmDelete:g,deleting:b,batchDelete:$,error:A,batchEditActive:V}=Z(),{breadcrumb:T,title:D}=se(),O=F(()=>{const ie={_and:[{type:{_nnull:!0}}]};return e.special===null&&(e.folder!==null?ie._and.push({folder:{_eq:e.folder}}):ie._and.push({folder:{_null:!0}})),e.special==="mine"&&u.currentUser&&ie._and.push({uploaded_by:{_eq:u.currentUser.id}}),e.special==="recent"&&ie._and.push({uploaded_on:{_gt:ga(new Date,5).toISOString()}}),ie}),{layoutWrapper:M}=pn(p),{moveToDialogActive:L,moveToFolder:j,moving:B,selectedFolder:q}=X();st(()=>rl.on(Dn.upload,re)),Dt(()=>rl.off(Dn.upload,re)),Xn(()=>{r.value=[]}),kl(()=>{r.value=[]});const{onDragEnter:G,onDragLeave:Q,onDrop:ce,onDragOver:J,showDropEffect:oe,dragging:_e}=le();Kn(window,"dragenter",G),Kn(window,"dragover",J),Kn(window,"dragleave",Q),Kn(window,"drop",ce);const{batchEditAllowed:me,batchDeleteAllowed:ee,createAllowed:ne,createFolderAllowed:te}=H();return{t,breadcrumb:T,title:D,layoutRef:i,layoutWrapper:M,selection:r,layoutOptions:f,layoutQuery:_,layout:p,folderTypeFilter:O,search:y,moveToDialogActive:L,moveToFolder:j,moving:B,selectedFolder:q,refresh:re,clearFilters:ve,onDragEnter:G,onDragLeave:Q,showDropEffect:oe,onDrop:ce,dragging:_e,batchEditAllowed:me,batchDeleteAllowed:ee,createAllowed:ne,createFolderAllowed:te,resetPreset:h,confirmDelete:g,deleting:b,batchDelete:$,deleteError:A,batchEditActive:V,filter:v,mergeFilters:Dl};function Z(){const ie=E(!1),de=E(!1),ye=E(!1),he=E();return{batchEditActive:ye,confirmDelete:ie,deleting:de,batchDelete:Se,error:he};async function Se(){de.value=!0;const Ce=r.value;try{await pe.delete("/files",{data:Ce}),await re(),r.value=[]}catch(Ae){Ie(Ae),he.value=Ae}finally{ie.value=!1,de.value=!1}}}function se(){const ie=F(()=>{var ye;if(e.special==="all")return t("all_files");if(e.special==="mine")return t("my_files");if(e.special==="recent")return t("recent_files");if(e.folder){const he=(ye=d.value)==null?void 0:ye.find(Se=>Se.id===e.folder);if(he)return he.name}return t("file_library")});return{breadcrumb:F(()=>ie.value!==t("file_library")?[{name:t("file_library"),to:"/files"}]:null),title:ie}}function X(){const ie=E(!1),de=E(!1),ye=E();return{moveToDialogActive:ie,moving:de,moveToFolder:he,selectedFolder:ye};async function he(){de.value=!0;try{await pe.patch("/files",{keys:r.value,data:{folder:ye.value}}),r.value=[],ye.value&&n.push(`/files/folders/${ye.value}`),await $l(),await re()}catch(Se){Ie(Se)}finally{ie.value=!1,de.value=!1}}}async function re(){var ie,de,ye;await((ye=(de=(ie=i.value)==null?void 0:ie.state)==null?void 0:de.refresh)==null?void 0:ye.call(de))}function ve(){v.value=null,y.value=null}function H(){const ie=F(()=>{var Ae;return((Ae=u==null?void 0:u.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!a.permissions.find(Le=>Le.action==="update"&&Le.collection==="directus_files")}),de=F(()=>{var Ae;return((Ae=u==null?void 0:u.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!a.permissions.find(Le=>Le.action==="delete"&&Le.collection==="directus_files")}),ye=F(()=>{var Ae;return((Ae=u==null?void 0:u.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!a.permissions.find(Le=>Le.action==="create"&&Le.collection==="directus_files")}),he=F(()=>{var Ae;return((Ae=u==null?void 0:u.currentUser)==null?void 0:Ae.role.admin_access)===!0?!0:!!a.permissions.find(Le=>Le.action==="create"&&Le.collection==="directus_folders")});return{batchEditAllowed:ie,batchDeleteAllowed:de,createAllowed:ye,createFolderAllowed:he}}function le(){const ie=E(!1);let de,ye;const he=E(0),Se=F(()=>he.value>0);return{onDragEnter:Le,onDragLeave:lt,onDrop:Me,onDragOver:Ge,showDropEffect:ie,dragging:Se};function Ce(){ie.value=!0,de=l.add({title:t("drop_to_upload"),icon:"cloud_upload",type:"info",persist:!0,closeable:!1})}function Ae(){ie.value=!1,de&&l.remove(de)}function Le(Ve){var Te,je,ke;if(!Ve.dataTransfer||((Te=Ve.dataTransfer)==null?void 0:Te.types.indexOf("Files"))===-1)return;Ve.preventDefault(),he.value++;const Ee=Ve.target&&((ke=(je=Ve.target).getAttribute)==null?void 0:ke.call(je,"data-dropzone"))==="";he.value===1&&ie.value===!1&&Ee===!1&&Ce(),Ee&&(Ae(),he.value=0)}function Ge(Ve){var Ee;!Ve.dataTransfer||((Ee=Ve.dataTransfer)==null?void 0:Ee.types.indexOf("Files"))!==-1&&Ve.preventDefault()}function lt(Ve){var Ee,Te,je;!Ve.dataTransfer||((Ee=Ve.dataTransfer)==null?void 0:Ee.types.indexOf("Files"))!==-1&&(Ve.preventDefault(),he.value--,he.value===0&&Ae(),Ve.target&&((je=(Te=Ve.target).getAttribute)==null?void 0:je.call(Te,"data-dropzone"))===""&&(Ce(),he.value=1))}async function Me(Ve){var Te;if(!Ve.dataTransfer||((Te=Ve.dataTransfer)==null?void 0:Te.types.indexOf("Files"))===-1)return;Ve.preventDefault(),ie.value=!1,he.value=0,de&&l.remove(de);const Ee=[...Ve.dataTransfer.files];ye=l.add({title:t("upload_files_indeterminate",{done:0,total:Ee.length},Ee.length),type:"info",persist:!0,closeable:!1,loading:!0}),await ci(Ee,{preset:{folder:e.folder},onProgressChange:je=>{const ke=je.reduce((xe,tt)=>xe+=tt)/je.length,Ue=Ee.length,Re=je.filter(xe=>xe===100).length;l.update(ye,{title:t("upload_files_indeterminate",{done:Re,total:Ue},Ee.length),loading:!1,progress:ke})}}),l.remove(ye),rl.emit(Dn.upload)}}}}),Nl=e=>(Xe("data-v-3c0d17c8"),e=e(),Ye(),e),eC={class:"page-description"},tC=Nl(()=>S("div",{class:"drop-border top"},null,-1)),nC=Nl(()=>S("div",{class:"drop-border right"},null,-1)),lC=Nl(()=>S("div",{class:"drop-border bottom"},null,-1)),oC=Nl(()=>S("div",{class:"drop-border left"},null,-1));function aC(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("search-input"),f=c("add-folder"),_=c("v-card-title"),v=c("folder-picker"),y=c("v-card-text"),h=c("v-card-actions"),g=c("v-card"),b=c("v-dialog"),$=c("files-navigation"),A=c("v-info"),V=c("router-view"),T=c("drawer-batch"),D=c("sidebar-detail"),O=c("layout-sidebar-detail"),M=c("export-sidebar-detail"),L=c("private-view"),j=$e("tooltip"),B=$e("md");return m(),C(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[12]||(t[12]=q=>e.selection=q),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[13]||(t[13]=q=>e.layoutOptions=q),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[14]||(t[14]=q=>e.layoutQuery=q),filter:e.mergeFilters(e.filter,e.folderTypeFilter),"filter-user":e.filter,"filter-system":e.folderTypeFilter,search:e.search,collection:"directus_files","reset-preset":e.resetPreset},{default:s(({layoutState:q})=>[o(L,{title:e.title,class:ue({dragging:e.dragging})},ot({"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"folder",outline:""})]),_:1})]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.layout}`),Qe(et(q)),null,16))]),actions:s(()=>[o(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=G=>e.search=G),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=G=>e.filter=G),collection:"directus_files"},null,8,["modelValue","filter"]),o(f,{parent:e.folder,disabled:e.createFolderAllowed!==!0},null,8,["parent","disabled"]),e.selection.length>0?(m(),C(b,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[4]||(t[4]=G=>e.moveToDialogActive=G),onEsc:t[5]||(t[5]=G=>e.moveToDialogActive=!1)},{activator:s(({on:G})=>[x(o(u,{rounded:"",icon:"",class:"folder",secondary:"",onClick:G},{default:s(()=>[o(r,{name:"folder_move"})]),_:2},1032,["onClick"]),[[j,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:s(()=>[o(g,null,{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("move_to_folder")),1)]),_:1}),o(y,null,{default:s(()=>[o(v,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[2]||(t[2]=G=>e.selectedFolder=G)},null,8,["modelValue"])]),_:1}),o(h,null,{default:s(()=>[o(u,{secondary:"",onClick:t[3]||(t[3]=G=>e.moveToDialogActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{loading:e.moving,onClick:e.moveToFolder},{default:s(()=>[P(w(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?(m(),C(b,{key:1,modelValue:e.confirmDelete,"onUpdate:modelValue":t[7]||(t[7]=G=>e.confirmDelete=G),onEsc:t[8]||(t[8]=G=>e.confirmDelete=!1)},{activator:s(({on:G})=>[x(o(u,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:G},{default:s(()=>[o(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[j,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(g,null,{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(h,null,{default:s(()=>[o(u,{secondary:"",onClick:t[6]||(t[6]=G=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?x((m(),C(u,{key:2,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[9]||(t[9]=G=>e.batchEditActive=!0)},{default:s(()=>[o(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[j,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"},disabled:e.createAllowed===!1},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to","disabled"]),[[j,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o($,{"current-folder":e.folder},null,8,["current-folder"])]),sidebar:s(()=>[o(D,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",eC,null,512),[[B,e.t("page_help_files_collection")]])]),_:1},8,["title"]),o(O,{modelValue:e.layout,"onUpdate:modelValue":t[11]||(t[11]=G=>e.layout=G)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout}`),Qe(et(q)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout}`),Qe(et(q)),null,16)),o(M,{collection:"directus_files","layout-query":e.layoutQuery,filter:e.mergeFilters(e.filter,e.folderTypeFilter),search:e.search},null,8,["layout-query","filter","search"])]),default:s(()=>[(m(),C(Be(`layout-${e.layout}`),pt({class:"layout"},q),{"no-results":s(()=>[!e.filter&&!e.search?(m(),C(A,{key:0,title:e.t("file_count",0),icon:"folder",center:""},{append:s(()=>[o(u,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:s(()=>[P(w(e.t("add_file")),1)]),_:1},8,["to"])]),default:s(()=>[P(w(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])):(m(),C(A,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:s(()=>[o(u,{onClick:e.clearFilters},{default:s(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":s(()=>[o(A,{title:e.t("file_count",0),icon:"folder",center:""},{append:s(()=>[o(u,{to:e.folder?{path:`/files/folders/${e.folder}/+`}:{path:"/files/+"}},{default:s(()=>[P(w(e.t("add_file")),1)]),_:1},8,["to"])]),default:s(()=>[P(w(e.t("no_files_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040)),o(V,{name:"addNew",folder:e.folder,onUpload:e.refresh},null,8,["folder","onUpload"]),o(T,{active:e.batchEditActive,"onUpdate:active":t[10]||(t[10]=G=>e.batchEditActive=G),"primary-keys":e.selection,collection:"directus_files",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"]),e.showDropEffect?(m(),I(ae,{key:0},[tC,nC,lC,oC],64)):R("",!0)]),_:2},[e.breadcrumb?{name:"headline",fn:s(()=>[o(i,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title","class"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var sl=z(xS,[["render",aC],["__scopeId","data-v-3c0d17c8"]]);const iC=K({props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const{t:n,n:l}=Y(),a=E(!1),d=F({get(){return e.modelValue===void 0?a.value:e.modelValue},set(q){a.value=q,t("update:modelValue",q)}}),{loading:i,error:r,imageData:u,imageElement:p,save:f,saving:_,fetchImage:v,onImageLoad:y}=j(),{cropperInstance:h,initCropper:g,flip:b,rotate:$,reset:A,aspectRatio:V,aspectRatioIcon:T,newDimensions:D,dragMode:O,cropping:M}=B();ge(d,q=>{q===!0?v():(h.value&&h.value.destroy(),i.value=!1,r.value=null,u.value=null)});const L=F(()=>dt(`${Ze()}assets/${e.id}?${$t()}`));return{t:n,n:l,internalActive:d,loading:i,error:r,imageData:u,imageElement:p,save:f,onImageLoad:y,flip:b,rotate:$,reset:A,aspectRatio:V,aspectRatioIcon:T,saving:_,imageURL:L,newDimensions:D,dragMode:O,cropping:M};function j(){const q=E(!1),G=E(null),Q=E(null),ce=E(!1),J=E(null);return{loading:q,error:G,imageData:Q,saving:ce,fetchImage:oe,imageElement:J,save:_e,onImageLoad:me};async function oe(){try{q.value=!0;const ee=await pe.get(`/files/${e.id}`,{params:{fields:["type","filesize","filename_download","width","height"]}});Q.value=ee.data.data}catch(ee){G.value=ee}finally{q.value=!1}}function _e(){var ee,ne;ce.value=!0,(ne=h.value)==null||ne.getCroppedCanvas({imageSmoothingQuality:"high"}).toBlob(async te=>{var se;if(te===null){ce.value=!1;return}const Z=new FormData;Z.append("file",te,(se=Q.value)==null?void 0:se.filename_download);try{await pe.patch(`/files/${e.id}`,Z),t("refresh"),d.value=!1}catch(X){Ie(X)}finally{ce.value=!1}},(ee=Q.value)==null?void 0:ee.type)}async function me(){await $l(),g()}}function B(){const q=E(null),G=E(NaN),Q=Gt({width:null,height:null});ge(u,()=>{!u.value||(G.value=u.value.width/u.value.height,Q.width=u.value.width,Q.height=u.value.height)});const ce=F({get(){return G.value},set(X){var re,ve;G.value=X,(re=q.value)==null||re.setAspectRatio(X),(ve=q.value)==null||ve.crop(),_e.value="crop"}}),J=F(()=>{if(!u.value)return"crop_original";switch(ce.value){case 16/9:return"crop_16_9";case 3/2:return"crop_3_2";case 5/4:return"crop_5_4";case 7/5:return"crop_7_5";case 1/1:return"crop_square";case u.value.width/u.value.height:return"crop_original";default:return"crop_free"}}),oe=E("move"),_e=F({get(){return oe.value},set(X){var re,ve;(re=q.value)==null||re.setDragMode(X),oe.value=X,X==="move"&&((ve=q.value)==null||ve.clear(),me.value=!1)}}),me=E(!1),ee=F({get(){return me.value},set(X){var re;X===!1&&((re=q.value)==null||re.clear()),me.value=X}});return{cropperInstance:q,initCropper:ne,flip:te,rotate:Z,reset:se,aspectRatio:ce,aspectRatioIcon:J,newDimensions:Q,dragMode:_e,cropping:ee};function ne(){p.value!==null&&(q.value&&q.value.destroy(),me.value=!1,q.value=new fd(p.value,{autoCrop:!1,autoCropArea:.5,toggleDragModeOnDblclick:!1,dragMode:"move",viewMode:1,crop:_d(X=>{if(!u.value)return;ee.value===!1&&(X.detail.width||X.detail.height)&&(ee.value=!0);const re=X.detail.width||u.value.width,ve=X.detail.height||u.value.height;X.detail.rotate===0||X.detail.rotate===-180?(Q.width=Math.round(re),Q.height=Math.round(ve)):(Q.height=Math.round(re),Q.width=Math.round(ve))},50)}))}function te(X){var re,ve,H,le,ie,de;X==="vertical"&&(((re=q.value)==null?void 0:re.getData().scaleX)===-1?(ve=q.value)==null||ve.scaleX(1):(H=q.value)==null||H.scaleX(-1)),X==="horizontal"&&(((le=q.value)==null?void 0:le.getData().scaleY)===-1?(ie=q.value)==null||ie.scaleY(1):(de=q.value)==null||de.scaleY(-1))}function Z(){var X;(X=q.value)==null||X.rotate(-90)}function se(){var X;(X=q.value)==null||X.reset(),_e.value="move"}}}}),rC=e=>(Xe("data-v-674593b0"),e=e(),Ye(),e),sC={class:"warning"},dC={key:0,class:"loader"},uC=P("error"),cC={class:"editor-container"},pC={class:"editor"},mC=["src"],fC={class:"toolbar"},_C=P("16:9"),vC=P("3:2"),yC=P("5:4"),hC=P("7:5"),gC=rC(()=>S("div",{class:"spacer"},null,-1)),bC={key:0,class:"dimensions"};function wC(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("v-notice"),u=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),h=c("v-button"),g=c("v-drawer"),b=$e("tooltip");return m(),C(g,{modelValue:e.internalActive,"onUpdate:modelValue":t[12]||(t[12]=$=>e.internalActive=$),class:"modal",title:e.t("editing_image"),persistent:"",onCancel:t[13]||(t[13]=$=>e.internalActive=!1)},{activator:s($=>[be(e.$slots,"activator",Qe(et($)),void 0,!0)]),subtitle:s(()=>[S("span",sC,w(e.t("changes_are_permanent")),1)]),actions:s(()=>[x(o(h,{loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(u,{name:"check"})]),_:1},8,["loading","onClick"]),[[b,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[e.loading?(m(),I("div",dC,[o(i,{indeterminate:""})])):e.error?(m(),C(r,{key:1,type:"error"},{default:s(()=>[uC]),_:1})):R("",!0),x(S("div",cC,[S("div",pC,[S("img",{ref:"imageElement",src:e.imageURL,role:"presentation",alt:"",onLoad:t[0]||(t[0]=(...$)=>e.onImageLoad&&e.onImageLoad(...$))},null,40,mC)]),S("div",fC,[x(S("div",{class:"drag-mode toolbar-button",onClick:t[1]||(t[1]=$=>e.dragMode=e.dragMode==="crop"?"move":"crop")},[o(u,{name:"pan_tool",class:ue({active:e.dragMode==="move"})},null,8,["class"]),o(u,{name:"crop",class:ue({active:e.dragMode==="crop"})},null,8,["class"])],512),[[b,e.t("drag_mode"),void 0,{top:!0,inverted:!0}]]),x(o(u,{name:"rotate_90_degrees_ccw",clickable:"",onClick:e.rotate},null,8,["onClick"]),[[b,e.t("rotate"),void 0,{top:!0,inverted:!0}]]),x(o(u,{name:"flip_horizontal",clickable:"",onClick:t[2]||(t[2]=$=>e.flip("horizontal"))},null,512),[[b,e.t("flip_horizontal"),void 0,{top:!0,inverted:!0}]]),x(o(u,{name:"flip_vertical",clickable:"",onClick:t[3]||(t[3]=$=>e.flip("vertical"))},null,512),[[b,e.t("flip_vertical"),void 0,{top:!0,inverted:!0}]]),o(y,{placement:"top","show-arrow":""},{activator:s(({toggle:$})=>[x(o(u,{name:e.aspectRatioIcon,clickable:"",onClick:$},null,8,["name","onClick"]),[[b,e.t("aspect_ratio"),void 0,{top:!0,inverted:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(_,{clickable:"",active:e.aspectRatio===16/9,onClick:t[4]||(t[4]=$=>e.aspectRatio=16/9)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_16_9"})]),_:1}),o(f,null,{default:s(()=>[_C]),_:1})]),_:1},8,["active"]),o(_,{clickable:"",active:e.aspectRatio===3/2,onClick:t[5]||(t[5]=$=>e.aspectRatio=3/2)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_3_2"})]),_:1}),o(f,null,{default:s(()=>[vC]),_:1})]),_:1},8,["active"]),o(_,{clickable:"",active:e.aspectRatio===5/4,onClick:t[6]||(t[6]=$=>e.aspectRatio=5/4)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_5_4"})]),_:1}),o(f,null,{default:s(()=>[yC]),_:1})]),_:1},8,["active"]),o(_,{clickable:"",active:e.aspectRatio===7/5,onClick:t[7]||(t[7]=$=>e.aspectRatio=7/5)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_7_5"})]),_:1}),o(f,null,{default:s(()=>[hC]),_:1})]),_:1},8,["active"]),o(_,{clickable:"",active:e.aspectRatio===1/1,onClick:t[8]||(t[8]=$=>e.aspectRatio=1/1)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_square"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("square")),1)]),_:1})]),_:1},8,["active"]),o(_,{clickable:"",active:e.aspectRatio===NaN,onClick:t[9]||(t[9]=$=>e.aspectRatio=NaN)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_free"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("free")),1)]),_:1})]),_:1},8,["active"]),e.imageData?(m(),C(_,{key:0,clickable:"",active:e.aspectRatio===e.imageData.width/e.imageData.height,onClick:t[10]||(t[10]=$=>e.aspectRatio=e.imageData.width/e.imageData.height)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"crop_original"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("original")),1)]),_:1})]),_:1},8,["active"])):R("",!0)]),_:1})]),_:1}),gC,x(o(u,{name:"restart_alt",clickable:"",onClick:e.reset},null,8,["onClick"]),[[b,e.t("reset"),void 0,{top:!0,inverted:!0}]]),e.imageData?(m(),I("div",bC,[P(w(e.n(e.imageData.width))+"x"+w(e.n(e.imageData.height))+" ",1),e.imageData.width!==e.newDimensions.width||e.imageData.height!==e.newDimensions.height?(m(),I(ae,{key:0},[P(" -> "+w(e.n(e.newDimensions.width))+"x"+w(e.n(e.newDimensions.height)),1)],64)):R("",!0)])):R("",!0),x(S("button",{class:"toolbar-button cancel",onClick:t[11]||(t[11]=$=>e.cropping=!1)},w(e.t("cancel_crop")),513),[[Mt,e.cropping]])])],512),[[Mt,e.imageData&&!e.loading&&!e.error]])]),_:3},8,["modelValue","title"])}var kC=z(iC,[["render",wC],["__scopeId","data-v-674593b0"]]);function Bl(e=0,t=!0){const n=t?1e3:1024;if(Boolean(e)===!1)return"--";if(Math.abs(e)<n)return`${e} B`;const l=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let a=-1,d=e;do d/=n,a+=1;while(Math.abs(d)>=n&&a<l.length-1);return`${d.toFixed(1)} ${l[a]}`}const $C=K({props:{file:{type:Object,default:()=>({})},isNew:{type:Boolean,default:!1}},setup(e){const{t,n}=Y(),l=F(()=>e.isNew||!e.file||!e.file.filesize?null:Bl(e.file.filesize)),{creationDate:a,modificationDate:d}=_(),{userCreated:i,userModified:r}=v(),{folder:u,folderLink:p}=y(),f=F(()=>dt(`${Ze()}assets/${e.file.id}`));return{t,n,readableMimeType:Bn,size:l,creationDate:a,modificationDate:d,userCreated:i,userModified:r,folder:u,folderLink:p,getRootPath:Ze,fileLink:f};function _(){const h=E(null),g=E(null);return ge(()=>e.file,async()=>{if(!e.file)return null;h.value=await Ft(new Date(e.file.uploaded_on),String(t("date-fns_date_short"))),e.file.modified_on&&(g.value=await Ft(new Date(e.file.modified_on),String(t("date-fns_date_short"))))},{immediate:!0}),{creationDate:h,modificationDate:g}}function v(){const h=E(!1),g=E(null),b=E(null);return ge(()=>e.file,$,{immediate:!0}),{userCreated:g,userModified:b};async function $(){if(!e.file||!e.file.uploaded_by)return null;h.value=!0;try{const V=(await pe.get(`/users/${e.file.uploaded_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;if(g.value={id:e.file.uploaded_by,name:Et(V),link:`/users/${V.id}`},e.file.modified_by){const D=(await pe.get(`/users/${e.file.modified_by}`,{params:{fields:["id","email","first_name","last_name","role"]}})).data.data;b.value={id:e.file.modified_by,name:Et(D),link:`/users/${D.id}`}}}finally{h.value=!1}}}function y(){const h=E(!1),g=E(null),b=F(()=>g.value===null?"/files":`/files/folders/${g.value.id}`);return ge(()=>e.file,$,{immediate:!0}),{folder:g,folderLink:b};async function $(){if(!e.file)return null;if(!!e.file.folder){h.value=!0;try{const A=await pe.get(`/folders/${e.file.folder}`,{params:{fields:["id","name"]}}),{name:V}=A.data.data;g.value={id:e.file.folder,name:V}}finally{h.value=!1}}}}}}),SC={key:0},CC={key:0},VC={key:1},FC={key:2},AC={key:3},IC={key:4},EC={key:5},DC={key:6},TC={key:7,class:"checksum"},PC={key:8},OC={key:9},LC={key:10},jC=["href"],RC={key:0},MC={key:1},UC={key:2},NC={key:3},BC={key:4},qC={class:"page-description"};function zC(e,t,n,l,a,d){const i=c("router-link"),r=c("user-popover"),u=c("v-divider"),p=c("sidebar-detail"),f=$e("md");return m(),C(p,{icon:"info_outline",title:e.t("file_details"),close:""},{default:s(()=>{var _,v,y,h,g,b,$,A,V,T,D,O,M,L,j,B,q,G;return[e.file?(m(),I("dl",SC,[e.file.type?(m(),I("div",CC,[S("dt",null,w(e.t("type")),1),S("dd",null,w(e.readableMimeType(e.file.type)||e.file.type),1)])):R("",!0),e.file.width&&e.file.height?(m(),I("div",VC,[S("dt",null,w(e.t("dimensions")),1),S("dd",null,w(e.n(e.file.width))+" \xD7 "+w(e.n(e.file.height)),1)])):R("",!0),e.file.duration?(m(),I("div",FC,[S("dt",null,w(e.t("duration")),1),S("dd",null,w(e.n(e.file.duration)),1)])):R("",!0),e.file.filesize?(m(),I("div",AC,[S("dt",null,w(e.t("size")),1),S("dd",null,w(e.size),1)])):R("",!0),e.file.charset?(m(),I("div",IC,[S("dt",null,w(e.t("charset")),1),S("dd",null,w(e.charset),1)])):R("",!0),e.file.embed?(m(),I("div",EC,[S("dt",null,w(e.t("embed")),1),S("dd",null,w(e.embed),1)])):R("",!0),e.creationDate?(m(),I("div",DC,[S("dt",null,w(e.t("created")),1),S("dd",null,w(e.creationDate),1)])):R("",!0),e.file.checksum?(m(),I("div",TC,[S("dt",null,w(e.t("checksum")),1),S("dd",null,w(e.file.checksum),1)])):R("",!0),e.userCreated?(m(),I("div",PC,[S("dt",null,w(e.t("owner")),1),S("dd",null,[o(r,{user:e.userCreated.id},{default:s(()=>[o(i,{to:e.userCreated.link},{default:s(()=>[P(w(e.userCreated.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),e.modificationDate?(m(),I("div",OC,[S("dt",null,w(e.t("modified")),1),S("dd",null,w(e.modificationDate),1)])):R("",!0),e.userModified?(m(),I("div",LC,[S("dt",null,w(e.t("edited_by")),1),S("dd",null,[o(r,{user:e.userModified.id},{default:s(()=>[o(i,{to:e.userModified.link},{default:s(()=>[P(w(e.userModified.name),1)]),_:1},8,["to"])]),_:1},8,["user"])])])):R("",!0),S("div",null,[S("dt",null,w(e.t("file")),1),S("dd",null,[S("a",{href:e.fileLink,target:"_blank"},w(e.t("open_in_new_window")),9,jC)])]),S("div",null,[S("dt",null,w(e.t("folder")),1),S("dd",null,[o(i,{to:e.folderLink},{default:s(()=>[P(w(e.t("open_folder",{folder:e.folder?e.folder.name:e.t("file_library")})),1)]),_:1},8,["to"])])]),((v=(_=e.file.metadata)==null?void 0:_.ifd0)==null?void 0:v.Make)||((h=(y=e.file.metadata)==null?void 0:y.ifd0)==null?void 0:h.Model)||((b=(g=e.file.metadata)==null?void 0:g.exif)==null?void 0:b.FNumber)||((A=($=e.file.metadata)==null?void 0:$.exif)==null?void 0:A.ExposureTime)||((T=(V=e.file.metadata)==null?void 0:V.exif)==null?void 0:T.FocalLength)||((O=(D=e.file.metadata)==null?void 0:D.exif)==null?void 0:O.ISO)?(m(),I(ae,{key:11},[o(u),((M=e.file.metadata.ifd0)==null?void 0:M.Make)&&((L=e.file.metadata.ifd0)==null?void 0:L.Model)?(m(),I("div",RC,[S("dt",null,w(e.t("camera")),1),S("dd",null,w(e.file.metadata.ifd0.Make)+" "+w(e.file.metadata.ifd0.Model),1)])):R("",!0),((j=e.file.metadata.exif)==null?void 0:j.FNumber)?(m(),I("div",MC,[S("dt",null,w(e.t("exposure")),1),S("dd",null,"\u0192/"+w(e.file.metadata.exif.FNumber),1)])):R("",!0),((B=e.file.metadata.exif)==null?void 0:B.ExposureTime)?(m(),I("div",UC,[S("dt",null,w(e.t("shutter")),1),S("dd",null,"1/"+w(Math.round(1/+e.file.metadata.exif.ExposureTime))+" "+w(e.t("second")),1)])):R("",!0),((q=e.file.metadata.exif)==null?void 0:q.FocalLength)?(m(),I("div",NC,[S("dt",null,w(e.t("focal_length")),1),S("dd",null,w(e.file.metadata.exif.FocalLength)+"mm",1)])):R("",!0),((G=e.file.metadata.exif)==null?void 0:G.ISO)?(m(),I("div",BC,[S("dt",null,w(e.t("iso")),1),S("dd",null,w(e.file.metadata.exif.ISO),1)])):R("",!0)],64)):R("",!0)])):R("",!0),o(u),x(S("div",qC,null,512),[[f,e.t("page_help_files_item")]])]}),_:1},8,["title"])}var KC=z($C,[["render",zC],["__scopeId","data-v-4018d0a4"]]);const WC=K({components:{FilesNavigation:Fo},setup(){const{t:e}=Y();return{t:e}}}),HC={class:"not-found"};function GC(e,t,n,l,a,d){const i=c("files-navigation"),r=c("v-info"),u=c("private-view");return m(),C(u,{title:e.t("page_not_found")},{navigation:s(()=>[o(i)]),default:s(()=>[S("div",HC,[o(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var ZC=z(WC,[["render",GC],["__scopeId","data-v-6900fd47"]]);const JC=K({props:{modelValue:{type:Boolean,default:!1},file:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({})}},emits:["update:modelValue","replaced"],setup(e,{emit:t}){const{t:n}=Y();return{t:n,uploaded:l};function l(){t("update:modelValue",!1),t("replaced")}}});function QC(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-upload"),u=c("v-card-text"),p=c("v-button"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog");return m(),C(v,{"model-value":e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=y=>e.$emit("update:modelValue",!1)),onEsc:t[2]||(t[2]=y=>e.$emit("update:modelValue",!1))},{default:s(()=>[e.file?(m(),C(_,{key:0},{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.t("replace_file")),1)]),_:1}),o(u,null,{default:s(()=>[o(r,{preset:e.preset,"file-id":e.file.id,"from-url":"",onInput:e.uploaded},null,8,["preset","file-id","onInput"])]),_:1}),o(f,null,{default:s(()=>[o(p,{secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("update:modelValue",!1))},{default:s(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1},8,["model-value"])}var XC=z(JC,[["render",QC],["__scopeId","data-v-767b664e"]]);const YC=K({name:"FilesItem",components:{FilesNavigation:Fo,RevisionsDrawerDetail:ll,CommentsSidebarDetail:wo,FilePreview:ko,ImageEditor:kC,FileInfoSidebarDetail:KC,FolderPicker:Ll,FilesNotFound:ZC,ReplaceFile:XC,SaveOptions:Ul},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=Y(),n=at(),l=E(),{primaryKey:a}=ze(e),{breadcrumb:d}=re(),i=E(!1),r=E(null),{isNew:u,edits:p,hasEdits:f,item:_,saving:v,loading:y,error:h,save:g,remove:b,deleting:$,saveAsCopy:A,isBatch:V,refresh:T,validationErrors:D}=In(E("directus_files"),a),O=F(()=>ne.value&&f.value),{confirmLeave:M,leaveTo:L}=_n(f),j=E(!1),B=E(!1),q=F(()=>_.value&&_.value.modified_on?dt(Ze()+`assets/${e.primaryKey}?cache-buster=${_.value.modified_on}&key=system-large-contain`):dt(Ze()+`assets/${e.primaryKey}?key=system-large-contain`)),G=["type","width","height","filesize","checksum","uploaded_by","uploaded_on","modified_by","modified_on","duration","folder","charset","embed"],Q=F(()=>{var Ce;return _.value&&((Ce=_.value)==null?void 0:Ce.folder)?`/files/folders/${_.value.folder}`:"/files"}),{moveToDialogActive:ce,moveToFolder:J,moving:oe,selectedFolder:_e}=Se();it("meta+s",H,l);const{createAllowed:me,deleteAllowed:ee,saveAllowed:ne,updateAllowed:te,fields:Z,revisionsAllowed:se}=qn(E("directus_files"),_,u),X=F(()=>Z.value.filter(Ce=>G.includes(Ce.field)===!1));return{t,router:n,item:_,loading:y,error:h,isNew:u,breadcrumb:d,edits:p,hasEdits:f,saving:v,saveAndQuit:ve,deleteAndQuit:ie,confirmDelete:j,deleting:$,saveAndStay:H,saveAsCopyAndNavigate:le,discardAndStay:ye,isBatch:V,editActive:B,revisionsDrawerDetail:r,confirmLeave:M,leaveTo:L,discardAndLeave:de,downloadFile:he,moveToDialogActive:ce,moveToFolder:J,moving:oe,selectedFolder:_e,fileSrc:q,form:l,to:Q,replaceFileDialogActive:i,refresh:T,createAllowed:me,deleteAllowed:ee,saveAllowed:ne,updateAllowed:te,fields:Z,fieldsFiltered:X,revisionsAllowed:se,validationErrors:D,isSavable:O};function re(){return{breadcrumb:F(()=>{var Ae;return((Ae=_==null?void 0:_.value)==null?void 0:Ae.folder)?[{name:t("file_library"),to:{path:`/files/folders/${_.value.folder}`}}]:[{name:t("file_library"),to:"/files"}]})}}async function ve(){try{await g(),n.push(Q.value)}catch{}}async function H(){var Ce,Ae;try{await g(),(Ae=(Ce=r.value)==null?void 0:Ce.refresh)==null||Ae.call(Ce)}catch{}}async function le(){const Ce=await A();Ce&&n.push(`/files/${Ce}`)}async function ie(){try{await b(),n.replace(Q.value)}catch{j.value=!1}}function de(){!L.value||(p.value={},M.value=!1,n.push(L.value))}function ye(){p.value={},M.value=!1}function he(){const Ce=dt(Ze()+`assets/${e.primaryKey}?download`);window.open(Ce,"_blank")}function Se(){const Ce=E(!1),Ae=E(!1),Le=E();return ge(_,()=>{var lt;Le.value=((lt=_.value)==null?void 0:lt.folder)||null}),{moveToDialogActive:Ce,moving:Ae,moveToFolder:Ge,selectedFolder:Le};async function Ge(){var lt;Ae.value=!0;try{const Me=await pe.patch(`/files/${e.primaryKey}`,{folder:Le.value},{params:{fields:"folder.name"}});await T();const Ve=((lt=Me.data.data.folder)==null?void 0:lt.name)||t("file_library");ct({title:t("file_moved",{folder:Ve}),icon:"folder_move"})}catch(Me){Ie(Me)}finally{Ce.value=!1,Ae.value=!1}}}}}),xC={class:"file-item"};function e6(e,t,n,l,a,d){const i=c("files-not-found"),r=c("v-icon"),u=c("v-button"),p=c("v-breadcrumb"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),h=c("folder-picker"),g=c("v-card-text"),b=c("save-options"),$=c("files-navigation"),A=c("file-preview"),V=c("image-editor"),T=c("v-form"),D=c("file-info-sidebar-detail"),O=c("revisions-drawer-detail"),M=c("comments-sidebar-detail"),L=c("replace-file"),j=c("private-view"),B=$e("tooltip");return!e.loading&&!e.item?(m(),C(i,{key:0})):(m(),C(j,{key:1,title:e.loading||!e.item?e.t("loading"):e.item.title},{"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=q=>e.router.back())},{default:s(()=>[o(r,{name:"arrow_back"})]),_:1})]),headline:s(()=>[o(p,{items:e.breadcrumb},null,8,["items"])]),actions:s(()=>[o(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=q=>e.confirmDelete=q),onEsc:t[3]||(t[3]=q=>e.confirmDelete=!1)},{activator:s(({on:q})=>[x(o(u,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null||e.deleteAllowed===!1,onClick:q},{default:s(()=>[o(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[B,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:t[1]||(t[1]=q=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.isNew===!1?(m(),C(y,{key:0,modelValue:e.moveToDialogActive,"onUpdate:modelValue":t[6]||(t[6]=q=>e.moveToDialogActive=q),onEsc:t[7]||(t[7]=q=>e.moveToDialogActive=!1)},{activator:s(({on:q})=>[x(o(u,{rounded:"",icon:"",disabled:e.item===null,secondary:"",onClick:q},{default:s(()=>[o(r,{name:"folder_move"})]),_:2},1032,["disabled","onClick"]),[[B,e.t("move_to_folder"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("move_to_folder")),1)]),_:1}),o(g,null,{default:s(()=>[o(h,{modelValue:e.selectedFolder,"onUpdate:modelValue":t[4]||(t[4]=q=>e.selectedFolder=q)},null,8,["modelValue"])]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:t[5]||(t[5]=q=>e.moveToDialogActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{loading:e.moving,onClick:e.moveToFolder},{default:s(()=>[P(w(e.t("move")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(u,{rounded:"",icon:"",secondary:"",onClick:e.downloadFile},{default:s(()=>[o(r,{name:"save_alt"})]),_:1},8,["onClick"]),[[B,e.t("download"),void 0,{bottom:!0}]]),e.item&&e.item.type.includes("image")?x((m(),C(u,{key:1,rounded:"",icon:"",secondary:"",onClick:t[8]||(t[8]=q=>e.editActive=!0)},{default:s(()=>[o(r,{name:"tune"})]),_:1},512)),[[B,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":s(()=>[e.isSavable?(m(),C(b,{key:0,"disabled-options":e.createAllowed?["save-and-add-new"]:["save-and-add-new","save-as-copy"],onSaveAndStay:e.saveAndStay,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["disabled-options","onSaveAndStay","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:s(()=>[o(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[B,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o($,{"current-folder":e.item&&e.item.folder},null,8,["current-folder"])]),sidebar:s(()=>[o(D,{file:e.item},null,8,["file"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),C(O,{key:0,ref:"revisionsDrawerDetail",collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),C(M,{key:1,collection:"directus_files","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:s(()=>[S("div",xC,[e.isBatch===!1&&e.item?(m(),C(A,{key:0,src:e.fileSrc,mime:e.item.type,width:e.item.width,height:e.item.height,title:e.item.title,onClick:t[9]||(t[9]=q=>e.replaceFileDialogActive=!0)},null,8,["src","mime","width","height","title"])):R("",!0),e.item&&e.item.type.startsWith("image")?(m(),C(V,{key:1,id:e.item.id,modelValue:e.editActive,"onUpdate:modelValue":t[10]||(t[10]=q=>e.editActive=q),onRefresh:e.refresh},null,8,["id","modelValue","onRefresh"])):R("",!0),o(T,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[11]||(t[11]=q=>e.edits=q),fields:e.fieldsFiltered,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,disabled:e.updateAllowed===!1,"validation-errors":e.validationErrors},null,8,["modelValue","fields","loading","initial-values","batch-mode","primary-key","disabled","validation-errors"])]),o(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[13]||(t[13]=q=>e.confirmLeave=q),onEsc:e.discardAndLeave},{default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(g,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[12]||(t[12]=q=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onEsc"]),o(L,{modelValue:e.replaceFileDialogActive,"onUpdate:modelValue":t[14]||(t[14]=q=>e.replaceFileDialogActive=q),file:e.item,onReplaced:e.refresh},null,8,["modelValue","file","onReplaced"])]),_:1},8,["title"]))}var t6=z(YC,[["render",e6],["__scopeId","data-v-79a2d8a2"]]),n6=wn({id:"files",name:"$t:file_library",icon:"folder",routes:[{name:"files-collection",path:"",component:sl,children:[{path:"+",name:"add-file",components:{addNew:si}}]},{name:"files-item",path:":primaryKey",component:t6,props:!0},{path:"folders",redirect:"/files"},{name:"folders-collection",path:"folders/:folder",component:sl,props:!0,children:[{path:"+",name:"add-file-folder",components:{addNew:si}}]},{path:"all",component:sl,props:{special:"all"}},{path:"mine",component:sl,props:{special:"mine"}},{path:"recent",component:sl,props:{special:"recent"}}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(a=>a.collection==="directus_files"&&a.action==="read")}}),l6=Object.freeze(Object.defineProperty({__proto__:null,default:n6},Symbol.toStringTag,{value:"Module"}));function pi(e){const t=e.split(".")[1].replace("-","+").replace("_","/"),n=vd.exports.decode(t);return JSON.parse(n)}const o6=K({setup(){const{t:e}=Y(),t=Ht(),n=F(()=>t.query.token),l=E(null),a=E(!1),d=E(null),i=E(!1),r=F(()=>d.value?en(d.value):null),u=F(()=>"/login"),p=F(()=>pi(n.value).email);return{t:e,creating:a,error:d,done:i,password:l,onSubmit:f,signInLink:u,errorFormatted:r,email:p};async function f(){a.value=!0,d.value=null;try{await pe.post("/users/invite/accept",{password:l.value,token:n.value}),i.value=!0}catch(_){d.value=_}finally{a.value=!1}}}}),a6={class:"type-title"};function i6(e,t,n,l,a,d){const i=c("v-input"),r=c("v-notice"),u=c("v-button"),p=c("v-icon"),f=c("public-view");return m(),C(f,null,{notice:s(()=>[o(p,{name:"lock_outlined",left:""}),P(" "+w(e.t("not_authenticated")),1)]),default:s(()=>[S("h1",a6,w(e.t("create_account")),1),S("form",{onSubmit:t[1]||(t[1]=De((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[o(i,{"model-value":e.email,disabled:""},null,8,["model-value"]),o(i,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=_=>e.password=_),placeholder:e.t("password"),autofocus:"",autocomplete:"password",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),C(r,{key:0,type:"success"},{default:s(()=>[P(w(e.t("account_created_successfully")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:s(()=>[P(w(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),C(u,{key:3,large:"",to:e.signInLink},{default:s(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),C(u,{key:2,type:"submit",loading:e.creating,large:""},{default:s(()=>[P(w(e.t("create")),1)]),_:1},8,["loading"]))],32)]),_:1})}var r6=z(o6,[["render",i6],["__scopeId","data-v-8ab16d02"]]);const s6=K({props:{provider:{type:String,required:!0}},setup(e){const{t}=Y(),n=at(),{provider:l}=ze(e),a=E(!1),d=E(null),i=E(null),r=E(null),u=E(null),p=E(!1),f=He();ge(d,()=>{p.value===!0&&(p.value=!1)}),ge(l,()=>{d.value=null,i.value=null,r.value=null,u.value=null,p.value=!1});const _=F(()=>r.value==="INVALID_PAYLOAD"?en("INVALID_CREDENTIALS"):r.value?en(r.value):null);return{t,errorFormatted:_,error:r,email:d,password:i,onSubmit:v,loggingIn:a,translateAPIError:en,otp:u,requiresTFA:p};async function v(){var y,h,g,b,$,A,V,T,D,O,M;if(!(d.value===null||i.value===null))try{a.value=!0;const L={email:d.value,password:i.value};u.value&&(L.otp=u.value),await Zo({provider:l.value,credentials:L});const j=n.currentRoute.value.query.redirect,B=(y=f.currentUser)==null?void 0:y.last_page;n.push(j||B||"/content")}catch(L){((A=($=(b=(g=(h=L.response)==null?void 0:h.data)==null?void 0:g.errors)==null?void 0:b[0])==null?void 0:$.extensions)==null?void 0:A.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:r.value=((M=(O=(D=(T=(V=L.response)==null?void 0:V.data)==null?void 0:T.errors)==null?void 0:D[0])==null?void 0:O.extensions)==null?void 0:M.code)||L}finally{a.value=!1}}}}),d6={class:"buttons"};function u6(e,t,n,l,a,d){const i=c("v-input"),r=c("transition-expand"),u=c("v-notice"),p=c("v-button"),f=c("router-link");return m(),I("form",{onSubmit:t[3]||(t[3]=De((..._)=>e.onSubmit&&e.onSubmit(..._),["prevent"]))},[o(i,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=_=>e.email=_),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),o(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=_=>e.password=_),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),o(r,null,{default:s(()=>[e.requiresTFA?(m(),C(i,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=_=>e.otp=_),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),C(u,{key:0,type:"warning"},{default:s(()=>[P(w(e.errorFormatted),1)]),_:1})):R("",!0),S("div",d6,[o(p,{type:"submit",loading:e.loggingIn,large:""},{default:s(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["loading"]),o(f,{to:"/reset-password",class:"forgot-password"},{default:s(()=>[P(w(e.t("forgot_password")),1)]),_:1})])],32)}var c6=z(s6,[["render",u6],["__scopeId","data-v-c009fd00"]]);const p6=K({props:{provider:{type:String,required:!0}},setup(e){const{t}=Y(),n=at(),{provider:l}=ze(e),a=E(!1),d=E(null),i=E(null),r=E(null),u=E(null),p=E(!1),f=He();ge(d,()=>{p.value===!0&&(p.value=!1)}),ge(l,()=>{d.value=null,i.value=null,r.value=null,u.value=null,p.value=!1});const _=F(()=>r.value==="INVALID_PAYLOAD"?en("INVALID_CREDENTIALS"):r.value?en(r.value):null);return{t,errorFormatted:_,error:r,identifier:d,password:i,onSubmit:v,loggingIn:a,translateAPIError:en,otp:u,requiresTFA:p};async function v(){var y,h,g,b,$,A,V,T,D,O,M;if(!(d.value===null||i.value===null))try{a.value=!0;const L={identifier:d.value,password:i.value};u.value&&(L.otp=u.value),await Zo({provider:l.value,credentials:L});const j=(y=f.currentUser)==null?void 0:y.last_page;n.push(j||"/content")}catch(L){((A=($=(b=(g=(h=L.response)==null?void 0:h.data)==null?void 0:g.errors)==null?void 0:b[0])==null?void 0:$.extensions)==null?void 0:A.code)==="INVALID_OTP"&&p.value===!1?p.value=!0:r.value=((M=(O=(D=(T=(V=L.response)==null?void 0:V.data)==null?void 0:T.errors)==null?void 0:D[0])==null?void 0:O.extensions)==null?void 0:M.code)||L}finally{a.value=!1}}}});function m6(e,t,n,l,a,d){const i=c("v-input"),r=c("transition-expand"),u=c("v-notice"),p=c("v-button");return m(),I("form",{onSubmit:t[3]||(t[3]=De((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[o(i,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=f=>e.identifier=f),autofocus:"",autocomplete:"username",placeholder:e.t("identifier")},null,8,["modelValue","placeholder"]),o(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=f=>e.password=f),type:"password",autocomplete:"current-password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),o(r,null,{default:s(()=>[e.requiresTFA?(m(),C(i,{key:0,modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=f=>e.otp=f),type:"text",placeholder:e.t("otp"),autofocus:""},null,8,["modelValue","placeholder"])):R("",!0)]),_:1}),e.error?(m(),C(u,{key:0,type:"warning"},{default:s(()=>[P(w(e.errorFormatted),1)]),_:1})):R("",!0),o(p,{type:"submit",loading:e.loggingIn,large:""},{default:s(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["loading"])],32)}var f6=z(p6,[["render",m6],["__scopeId","data-v-48c6d445"]]);const _6=K({setup(){const{t:e}=Y(),t=at(),n=E(!1),l=E(null),a=E(null);return d(),st(()=>{"continue"in t.currentRoute.value.query&&i()}),{t:e,name:l,lastPage:a,loading:n,hydrateAndLogin:i};async function d(){n.value=!0;try{const r=await pe.get("/users/me",{params:{fields:["email","first_name","last_name","last_page"]}});r.data.data.share&&await ml(),l.value=Et(r.data.data),a.value=r.data.data.last_page}catch(r){Ie(r)}finally{n.value=!1}}async function i(){await pl(),t.push(a.value||"/content")}}}),v6={class:"continue-as"},y6={class:"actions"};function h6(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("i18n-t"),u=c("router-link"),p=c("v-button");return m(),I("div",v6,[e.loading?(m(),C(i,{key:0,indeterminate:""})):(m(),I(ae,{key:1},[o(r,{keypath:"continue_as",scope:"global",tag:"p"},{name:s(()=>[S("b",null,w(e.name),1)]),_:1}),S("div",y6,[o(u,{to:"/logout",class:"sign-out"},{default:s(()=>[P(w(e.t("sign_out")),1)]),_:1}),o(p,{autofocus:"",large:"",onClick:e.hydrateAndLogin},{default:s(()=>[P(w(e.t("continue_label")),1)]),_:1},8,["onClick"])])],64))])}var g6=z(_6,[["render",h6],["__scopeId","data-v-b5a5a818"]]),b6=["about","above","across","after","against","along","among","around","at","because of","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","excepting","for","from","in","in front of","inside","in spite of","instead of","into","like","near","of","off","on","onto","out","outside","over","past","regarding","since","through","throughout","to","toward","under","underneath","until","up","upon","up to","with","within","without","with regard to","with respect to"],w6=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except"],k6=["2D","3D","4WD","API","BASIC","BIOS","CCTV","CC","CCV","CD","CD-ROM","COBOL","CIA","CMS","CSS","CSV","CV","DIY","DVD","DB","DNA","E3","EIN","ESPN","FAQ","FAQs","FTP","FPS","FORTRAN","FBI","HTML","HTTP","ID","IP","ISO","JS","JSON","LASER","M2M","M2MM","M2O","MMORPG","NAFTA","NASA","NDA","O2M","PDF","PHP","POP","RAM","RNGR","ROM","RPG","RTFM","RTS","SCUBA","SITCOM","SKU","SMTP","SQL","SSN","SWAT","TBS","TTL","TV","TNA","UI","URL","USB","UWP","VIP","W3C","WYSIWYG","WWW","WWE","WWF"],$6=["2FA","3D","4K","5K","8K","CTA","DateTime","GitHub","HD","ID","IDs","iMac","IMAX","iOS","IP","iPad","iPhone","iPod","LDAP","LinkedIn","M2M","M2O","macOS","McDonalds","MySQL","O2M","PDFs","pH","PostgreSQL","SEO","UHD","UUID","XSS","YouTube"];function S6(e,t,n){const l=e.toLowerCase(),a=e.toUpperCase();for(const d of $6)if(d.toLowerCase()===l)return d;return k6.includes(a)?a:t===0||t===n.length-1?e:b6.includes(l)||w6.includes(l)?l:e}function C6(e,t){return`${e} ${t}`}function V6(e){return e.charAt(0).toUpperCase()+e.substring(1)}function F6(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}function wt(e,t){return t||(t=new RegExp("/s|-|_| ","g")),F6(e).split(t).map(V6).map(S6).reduce(C6)}const A6=K({props:{providers:{type:Array,default:()=>[]}},setup(e){const{t}=Y(),{providers:n}=ze(e),l=E([]);return ge(n,()=>{l.value=n.value.filter(a=>Qa.includes(a.driver)).map(a=>{var d;return{name:wt(a.name),link:`${Ze()}auth/login/${a.name}?redirect=${window.location.href.replace(location.search,"")}?continue`,icon:(d=a.icon)!=null?d:"account_circle"}})}),{t,ssoProviders:l}}}),I6={class:"sso-links"},E6=["href"],D6={class:"sso-icon"},T6={class:"sso-title"};function P6(e,t,n,l,a,d){const i=c("v-divider"),r=c("v-icon");return m(),I("div",I6,[e.ssoProviders.length>0?(m(),I(ae,{key:0},[o(i),(m(!0),I(ae,null,we(e.ssoProviders,u=>(m(),I("a",{key:u.name,class:"sso-link",href:u.link},[S("div",D6,[o(r,{name:u.icon},null,8,["name"])]),S("div",T6,w(e.t("log_in_with",{provider:u.name})),1)],8,E6))),128))],64)):R("",!0)])}var O6=z(A6,[["render",P6],["__scopeId","data-v-32497dd8"]]);const L6=K({components:{LoginForm:c6,LdapForm:f6,ContinueAs:g6,SsoLinks:O6},props:{logoutReason:{type:String,default:null}},setup(){const{t:e,te:t}=Y(),n=Vt(),l=E([]),a=E(!1),d=E(go),i=E([]),r=E("local"),u=F({get(){return d.value},set(_){var v,y;d.value=_,r.value=(y=(v=l.value.find(h=>h.name===_))==null?void 0:v.driver)!=null?y:"local"}}),p=F(()=>n.authenticated);return st(()=>f()),{t:e,te:t,authenticated:p,providers:l,providerSelect:u,providerOptions:i,provider:d,driver:r,disableDefault:a};async function f(){var _;try{const v=await pe.get("/auth");l.value=v.data.data,a.value=v.data.disableDefault,i.value=l.value.filter(y=>!Qa.includes(y.driver)).map(y=>({text:wt(y.name),value:y.name})),a.value?u.value=(_=i.value[0])==null?void 0:_.value:i.value.unshift({text:e("default_provider"),value:go})}catch(v){Ie(v)}}}}),j6={class:"header"},R6={class:"type-title"},M6={key:0,class:"provider-select"};function U6(e,t,n,l,a,d){const i=c("v-select"),r=c("continue-as"),u=c("ldap-form"),p=c("login-form"),f=c("sso-links"),_=c("v-icon"),v=c("public-view");return m(),C(v,null,ot({default:s(()=>[S("div",j6,[S("h1",R6,w(e.t("sign_in")),1),!e.authenticated&&e.providerOptions.length>1?(m(),I("div",M6,[o(i,{modelValue:e.providerSelect,"onUpdate:modelValue":t[0]||(t[0]=y=>e.providerSelect=y),inline:"",items:e.providerOptions,label:""},null,8,["modelValue","items"])])):R("",!0)]),e.authenticated?(m(),C(r,{key:0})):e.driver==="ldap"?(m(),C(u,{key:1,provider:e.provider},null,8,["provider"])):e.disableDefault?R("",!0):(m(),C(p,{key:2,provider:e.provider},null,8,["provider"])),e.authenticated?R("",!0):(m(),C(f,{key:3,providers:e.providers},null,8,["providers"]))]),_:2},[e.authenticated?{name:"notice",fn:s(()=>[o(_,{name:"lock_open",left:""}),P(" "+w(e.t("authenticated")),1)])}:{name:"notice",fn:s(()=>[o(_,{name:"lock_outlined",left:""}),P(" "+w(e.logoutReason&&e.te(`logoutReason.${e.logoutReason}`)?e.t(`logoutReason.${e.logoutReason}`):e.t("not_authenticated")),1)])}]),1024)}var N6=z(L6,[["render",U6],["__scopeId","data-v-1482f314"]]);const B6=K({setup(){st(()=>{ml()})}}),q6={class:"logout"};function z6(e,t,n,l,a,d){const i=c("v-progress-circular");return m(),I("div",q6,[o(i,{indeterminate:""})])}var K6=z(B6,[["render",z6],["__scopeId","data-v-cfb047f4"]]);const W6=K({id:"ShareItem",props:{collection:{type:String,required:!0},primaryKey:{type:String,required:!0}},setup(e){const{collection:t,primaryKey:n}=ze(e),{edits:l,item:a,loading:d}=In(t,n);return{edits:l,item:a,loading:d}}});function H6(e,t,n,l,a,d){const i=c("v-form");return m(),C(i,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=r=>e.edits=r),collection:e.collection,"initial-values":e.item,"primary-key":e.primaryKey,disabled:"",loading:e.loading},null,8,["modelValue","collection","initial-values","primary-key","loading"])}var G6=z(W6,[["render",H6]]);const Z6=K({components:{ShareItem:G6},setup(){const{t:e}=Y(),t=Vt(),n=F(()=>t.authenticated),l=E(!0),a=E(!1),d=E(!1),i=E(null),r=at(),p=Ht().params.id,f=E(),_=E(null),v=F(()=>_.value&&_.value<3?"warning":"info"),y=E(),h=E(!1);A(p);const{info:g}=rt(F(()=>{var D,O;return(O=(D=f.value)==null?void 0:D.collection)!=null?O:null})),b=F(()=>{var D;return(D=g.value)==null?void 0:D.name}),$=F(()=>d.value?e("share_access_not_found_title"):b.value?e("viewing_in",{collection:b.value}):e("share_access_page"));return{t:e,share:f,error:i,title:$,loading:l,notFound:d,password:y,authenticate:T,authenticated:n,authenticating:a,usesLeft:_,usesLeftNoticeType:v,collectionName:b,passwordWrong:h};async function A(D){var O,M;l.value=!0;try{const L=await pe.get(`/shares/info/${D}`);if(f.value=L.data.data,!f.value){d.value=!0,l.value=!1;return}const{max_uses:j,times_used:B}=f.value;j&&(_.value=j-B),await V()}catch(L){((O=L.response)==null?void 0:O.status)===404||((M=L.response)==null?void 0:M.status)===403?d.value=!0:i.value=L}finally{l.value=!1}}async function V(){var D,O,M,L,j;if(t.authenticated){const B=await pe.get("/users/me",{params:{fields:["id"]}});if(((D=B.data.data)==null?void 0:D.share)&&(B.data.data.share!==p?await ml({navigate:!1}):await pl()),((O=B.data.data)==null?void 0:O.id)&&!((M=B.data.data)==null?void 0:M.share)){r.replace(`/content/${f.value.collection}/${f.value.item}`);return}}!((L=f.value)==null?void 0:L.password)&&!((j=f.value)==null?void 0:j.max_uses)&&(t.authenticated?await pl():await T())}async function T(){var D,O,M,L,j;a.value=!0;try{const B={share:p,password:y.value};await Zo({share:!0,credentials:B})}catch(B){if(((j=(L=(M=(O=(D=B==null?void 0:B.response)==null?void 0:D.data)==null?void 0:O.errors)==null?void 0:M[0])==null?void 0:L.extensions)==null?void 0:j.code)==="INVALID_CREDENTIALS"){h.value=!0;return}i.value=B}finally{a.value=!1}}}}),J6={key:0,class:"hydrating"},Q6={key:0};function X6(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("v-error"),u=c("v-notice"),p=c("v-input"),f=c("v-button"),_=c("share-item"),v=c("shared-view");return e.loading?(m(),I("div",J6,[o(i,{indeterminate:""})])):(m(),C(v,{key:1,inline:!e.authenticated,title:e.title},{default:s(()=>[e.notFound?(m(),I("div",Q6,[S("strong",null,w(e.t("share_access_not_found")),1),P(" "+w(e.t("share_access_not_found_desc")),1)])):e.error?(m(),C(r,{key:1,error:e.error},null,8,["error"])):e.share?(m(),I(ae,{key:2},[e.authenticated?(m(),C(_,{key:1,collection:e.share.collection,"primary-key":e.share.item},null,8,["collection","primary-key"])):(m(),I(ae,{key:0},[e.usesLeft!==void 0&&e.usesLeft!==null?(m(),C(u,{key:0,type:e.usesLeftNoticeType},{default:s(()=>[P(w(e.t("shared_uses_left",e.usesLeft)),1)]),_:1},8,["type"])):R("",!0),e.usesLeft!==0?(m(),I(ae,{key:1},[e.share.password?(m(),C(p,{key:0,class:ue(["password",{invalid:e.passwordWrong}]),type:"password",placeholder:e.t("shared_enter_passcode"),"onUpdate:modelValue":t[0]||(t[0]=y=>e.password=y)},null,8,["class","placeholder"])):R("",!0),o(f,{busy:e.authenticating,onClick:e.authenticate},{default:s(()=>[P(w(e.t("share_access_page")),1)]),_:1},8,["busy","onClick"])],64)):R("",!0)],64))],64)):R("",!0)]),_:1},8,["inline","title"]))}var Y6=z(Z6,[["render",X6],["__scopeId","data-v-456eb20d"]]);const x6=K({setup(){const{t:e}=Y();return{t:e}}}),eV={class:"not-found"};function tV(e,t,n,l,a,d){const i=c("v-info"),r=c("private-view");return m(),C(r,{title:e.t("page_not_found")},{default:s(()=>[S("div",eV,[o(i,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var nV=z(x6,[["render",tV],["__scopeId","data-v-a922425e"]]);const lV=K({setup(){const{t:e}=Y(),t=E(null),n=E(!1),l=E(null),a=E(!1),d=F(()=>l.value?en(l.value):null),i=F(()=>"/login");return{t:e,sending:n,error:l,done:a,email:t,onSubmit:r,signInLink:i,errorFormatted:d};async function r(){n.value=!0,l.value=null;try{await pe.post("/auth/password/request",{email:t.value}),a.value=!0}catch(u){l.value=u}finally{n.value=!1}}}}),oV={class:"buttons"};function aV(e,t,n,l,a,d){const i=c("v-input"),r=c("v-notice"),u=c("v-button"),p=c("router-link");return m(),I("form",{onSubmit:t[1]||(t[1]=De((...f)=>e.onSubmit&&e.onSubmit(...f),["prevent"]))},[o(i,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=f=>e.email=f),autofocus:"",autocomplete:"username",type:"email",placeholder:e.t("email")},null,8,["modelValue","placeholder"]),e.done?(m(),C(r,{key:0,type:"success"},{default:s(()=>[P(w(e.t("password_reset_sent")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:s(()=>[P(w(e.errorFormatted),1)]),_:1})):R("",!0),S("div",oV,[o(u,{type:"submit",loading:e.sending,large:""},{default:s(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"]),o(p,{to:e.signInLink,class:"sign-in"},{default:s(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])])],32)}var iV=z(lV,[["render",aV],["__scopeId","data-v-388f645e"]]);const rV=K({props:{token:{type:String,required:!0}},setup(e){const{t}=Y(),n=E(null),l=E(!1),a=E(null),d=E(!1),i=F(()=>a.value?en(a.value):null),r=F(()=>"/login"),u=F(()=>pi(e.token).email);return{t,resetting:l,error:a,done:d,password:n,onSubmit:p,signInLink:r,errorFormatted:i,email:u};async function p(){l.value=!0,a.value=null;try{await pe.post("/auth/password/reset",{password:n.value,token:e.token}),d.value=!0}catch(f){a.value=f}finally{l.value=!1}}}});function sV(e,t,n,l,a,d){const i=c("v-input"),r=c("v-notice"),u=c("v-button");return m(),I("form",{onSubmit:t[1]||(t[1]=De((...p)=>e.onSubmit&&e.onSubmit(...p),["prevent"]))},[o(i,{"model-value":e.email,disabled:""},null,8,["model-value"]),o(i,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=p=>e.password=p),placeholder:e.t("password"),autofocus:"",autocomplete:"username",type:"password",disabled:e.done},null,8,["modelValue","placeholder","disabled"]),e.done?(m(),C(r,{key:0,type:"success"},{default:s(()=>[P(w(e.t("password_reset_successful")),1)]),_:1})):R("",!0),e.error?(m(),C(r,{key:1,type:"danger"},{default:s(()=>[P(w(e.errorFormatted),1)]),_:1})):R("",!0),e.done?(m(),C(u,{key:3,large:"",to:e.signInLink},{default:s(()=>[P(w(e.t("sign_in")),1)]),_:1},8,["to"])):(m(),C(u,{key:2,type:"submit",loading:e.resetting,large:""},{default:s(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"]))],32)}var dV=z(rV,[["render",sV],["__scopeId","data-v-31ae4e7a"]]);const uV=K({components:{RequestForm:iV,ResetForm:dV},setup(){const{t:e}=Y(),t=Ht(),n=F(()=>t.query.token);return{t:e,resetToken:n}}}),cV={class:"type-title"};function pV(e,t,n,l,a,d){const i=c("request-form"),r=c("reset-form"),u=c("v-icon"),p=c("public-view");return m(),C(p,null,{notice:s(()=>[o(u,{name:"lock_outlined",left:""}),P(" "+w(e.t("not_authenticated")),1)]),default:s(()=>[S("h1",cV,w(e.t("reset_password")),1),e.resetToken?(m(),C(r,{key:1,token:e.resetToken},null,8,["token"])):(m(),C(i,{key:0}))]),_:1})}var mV=z(uV,[["render",pV],["__scopeId","data-v-05544d73"]]);const fV=[{path:"/",redirect:"/login"},{name:"login",path:"/login",component:N6,props:e=>({ssoErrorCode:e.query.error?e.query.code:null,logoutReason:e.query.reason}),meta:{public:!0}},{name:"reset-password",path:"/reset-password",component:mV,meta:{public:!0}},{name:"accept-invite",path:"/accept-invite",component:r6,meta:{public:!0}},{name:"logout",path:"/logout",component:K6,meta:{public:!0}},{name:"shared",path:"/shared/:id([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})",component:Y6,meta:{public:!0}},{name:"private-404",path:"/:_(.+)+",component:nV}],Wt=yd({history:hd(Ze()+"admin/"),routes:fV});let mi=!0;const _V=async e=>{var l;const t=Vt(),n=rn();if(mi){mi=!1;try{await Tn({navigate:!1})}catch{}}if(n.info===null&&await n.hydrate(),((l=e.meta)==null?void 0:l.public)!==!0&&t.hydrated===!1)return t.hydrating=!1,t.authenticated===!0&&t.hydrating===!1?(await pl(),e.fullPath):e.fullPath?"/login?redirect="+encodeURIComponent(e.fullPath):"/login"},vV=e=>{const t=He();e.meta.public!==!0&&setTimeout(()=>{t.trackPage(e.fullPath)},500)};Wt.beforeEach(_V);Wt.afterEach(vV);const yV=K({name:"InsightsNavigation",emits:["create"],setup(){const{t:e}=Y(),t=Qn(),n=E(!1);return{navItems:F(()=>t.dashboards.map(a=>({icon:a.icon,name:a.name,to:`/insights/${a.id}`}))),createDialogActive:n,t:e}}});function hV(e,t,n,l,a,d){const i=c("v-button"),r=c("v-icon"),u=c("v-list-item-icon"),p=c("v-text-overflow"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list");return m(),C(v,{nav:""},{default:s(()=>[e.navItems.length===0?(m(),C(i,{key:0,"full-width":"",outlined:"",dashed:"",onClick:t[0]||(t[0]=y=>e.$emit("create"))},{default:s(()=>[P(w(e.t("create_dashboard")),1)]),_:1})):(m(!0),I(ae,{key:1},we(e.navItems,y=>(m(),C(_,{key:y.to,to:y.to},{default:s(()=>[o(u,null,{default:s(()=>[o(r,{name:y.icon},null,8,["name"])]),_:2},1024),o(f,null,{default:s(()=>[o(p,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}var Ao=z(yV,[["render",hV]]);const gV=K({name:"DashboardDialog",props:{modelValue:{type:Boolean,default:!1},dashboard:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var u,p,f,_,v,y;const{t:n}=Y(),l=Qn(),a=Gt({name:(p=(u=e.dashboard)==null?void 0:u.name)!=null?p:null,icon:(_=(f=e.dashboard)==null?void 0:f.icon)!=null?_:"dashboard",note:(y=(v=e.dashboard)==null?void 0:v.note)!=null?y:null});ge(()=>e.modelValue,(h,g)=>{var b,$,A,V,T,D;N.exports.isEqual(h,g)===!1&&(a.name=($=(b=e.dashboard)==null?void 0:b.name)!=null?$:null,a.icon=(V=(A=e.dashboard)==null?void 0:A.icon)!=null?V:"dashboard",a.note=(D=(T=e.dashboard)==null?void 0:T.note)!=null?D:null)});const d=E(!1);return{values:a,cancel:i,saving:d,save:r,t:n};function i(){t("update:modelValue",!1)}async function r(){d.value=!0;try{if(e.dashboard)await pe.patch(`/dashboards/${e.dashboard.id}`,a,{params:{fields:["id"]}}),await l.hydrate();else{const h=await pe.post("/dashboards",a,{params:{fields:["id"]}});await l.hydrate(),Wt.push(`/insights/${h.data.data.id}`)}t("update:modelValue",!1)}catch(h){Ie(h)}finally{d.value=!1}}}}),bV={class:"fields"};function wV(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-input"),u=c("interface-select-icon"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[3]||(t[3]=h=>e.$emit("update:modelValue",h)),onEsc:e.cancel},{activator:s(h=>[be(e.$slots,"activator",Qe(et(h)),void 0,!0)]),default:s(()=>[o(v,null,{default:s(()=>[e.dashboard?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("edit_dashboard")),1)]),_:1})):(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("create_dashboard")),1)]),_:1})),o(p,null,{default:s(()=>[S("div",bV,[o(r,{modelValue:e.values.name,"onUpdate:modelValue":t[0]||(t[0]=h=>e.values.name=h),autofocus:"",placeholder:e.t("dashboard_name")},null,8,["modelValue","placeholder"]),o(u,{value:e.values.icon,onInput:t[1]||(t[1]=h=>e.values.icon=h)},null,8,["value"]),o(r,{modelValue:e.values.note,"onUpdate:modelValue":t[2]||(t[2]=h=>e.values.note=h),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"])])]),_:1}),o(_,null,{default:s(()=>[o(f,{secondary:"",onClick:e.cancel},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(f,{disabled:!e.values.name,loading:e.saving,onClick:e.save},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var kV=z(gV,[["render",wV],["__scopeId","data-v-35403a37"]]);function ql(e){return ba.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener noreferrer")}),ba.sanitize(gd(e),{ADD_ATTR:["target"]})}const $V=K({name:"InsightsOverview",components:{InsightsNavigation:Ao,DashboardDialog:kV},setup(){const{t:e}=Y(),t=Qn(),n=Ot(),l=E(null),a=E(!1),d=E(null),i=E(!1),r=F(()=>n.hasPermission("directus_dashboards","create")),u=F(()=>n.hasPermission("directus_dashboards","update")),p=F(()=>n.hasPermission("directus_dashboards","delete")),f=[{text:"",value:"icon",width:42,sortable:!1},{text:e("name"),value:"name",width:240},{text:e("note"),value:"note",width:360}];return{dashboards:F(()=>t.dashboards),createAllowed:r,updateAllowed:u,deleteAllowed:p,tableHeaders:f,navigateToDashboard:v,createDialogActive:i,confirmDelete:l,deletingDashboard:a,deleteDashboard:y,editDashboard:d,t:e,md:ql};function v({item:h}){Wt.push(`/insights/${h.id}`)}async function y(){if(!!l.value){a.value=!0;try{await pe.delete(`/dashboards/${l.value}`),await t.hydrate(),l.value=null}catch(h){Ie(h)}finally{a.value=!1}}}}}),SV={class:"page-description"};function CV(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("insights-navigation"),p=c("dashboard-dialog"),f=c("sidebar-detail"),_=c("v-list-item-icon"),v=c("v-list-item-content"),y=c("v-list-item"),h=c("v-list"),g=c("v-menu"),b=c("v-table"),$=c("v-info"),A=c("v-card-title"),V=c("v-card-actions"),T=c("v-card"),D=c("v-dialog"),O=c("private-view"),M=$e("tooltip"),L=$e("md");return m(),C(O,{title:e.t("insights")},{"title-outer:prepend":s(()=>[o(r,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(i,{name:"insights"})]),_:1})]),navigation:s(()=>[o(u,{onCreate:t[0]||(t[0]=j=>e.createDialogActive=!0)})]),actions:s(()=>[o(p,{modelValue:e.createDialogActive,"onUpdate:modelValue":t[1]||(t[1]=j=>e.createDialogActive=j)},{activator:s(({on:j})=>[x(o(r,{rounded:"",icon:"",disabled:e.createAllowed===!1,onClick:j},{default:s(()=>[o(i,{name:"add"})]),_:2},1032,["disabled","onClick"]),[[M,e.createAllowed?e.t("create_dashboard"):e.t("not_allowed"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"])]),sidebar:s(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",SV,null,512),[[L,e.t("page_help_insights_overview")]])]),_:1},8,["title"])]),default:s(()=>[e.dashboards.length>0?(m(),C(b,{key:0,headers:e.tableHeaders,"onUpdate:headers":t[2]||(t[2]=j=>e.tableHeaders=j),items:e.dashboards,"show-resize":"","fixed-header":"","onClick:row":e.navigateToDashboard},{["item.icon"]:s(({item:j})=>[o(i,{class:"icon",name:j.icon},null,8,["name"])]),"item-append":s(({item:j})=>[o(g,{placement:"left-start","show-arrow":""},{activator:s(({toggle:B})=>[o(i,{name:"more_vert",class:"ctx-toggle",onClick:B},null,8,["onClick"])]),default:s(()=>[o(h,null,{default:s(()=>[o(y,{class:"warning",disabled:!e.updateAllowed,clickable:"",onClick:B=>e.editDashboard=j},{default:s(()=>[o(_,null,{default:s(()=>[o(i,{name:"edit"})]),_:1}),o(v,null,{default:s(()=>[P(w(e.t("edit_dashboard")),1)]),_:1})]),_:2},1032,["disabled","onClick"]),o(y,{class:"danger",disabled:!e.deleteAllowed,clickable:"",onClick:B=>e.confirmDelete=j.id},{default:s(()=>[o(_,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(v,null,{default:s(()=>[P(w(e.t("delete_dashboard")),1)]),_:1})]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","onClick:row"])):(m(),C($,{key:1,icon:"dashboard",title:e.t("no_dashboards"),center:""},{default:s(()=>[P(w(e.t("no_dashboards_copy")),1)]),_:1},8,["title"])),o(D,{"model-value":!!e.confirmDelete,onEsc:t[4]||(t[4]=j=>e.confirmDelete=null)},{default:s(()=>[o(T,null,{default:s(()=>[o(A,null,{default:s(()=>[P(w(e.t("dashboard_delete_confirm")),1)]),_:1}),o(V,null,{default:s(()=>[o(r,{secondary:"",onClick:t[3]||(t[3]=j=>e.confirmDelete=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(r,{danger:"",loading:e.deletingDashboard,onClick:e.deleteDashboard},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(p,{"model-value":!!e.editDashboard,dashboard:e.editDashboard,"onUpdate:modelValue":t[5]||(t[5]=j=>e.editDashboard=null)},null,8,["model-value","dashboard"])]),_:1},8,["title"])}var VV=z($V,[["render",CV],["__scopeId","data-v-58b9fb75"]]);const FV=K({components:{InsightsNavigation:Ao},setup(){const{t:e}=Y();return{t:e}}}),AV={key:0,class:"not-found"};function IV(e,t,n,l,a,d){const i=c("insights-navigation"),r=c("v-info"),u=c("private-view");return m(),C(u,{title:e.t("insights")},{navigation:s(()=>[o(i)]),default:s(()=>[e.currentDashboard?R("",!0):(m(),I("div",AV,[o(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])]))]),_:1},8,["title"])}var EV=z(FV,[["render",IV],["__scopeId","data-v-d6310128"]]);function zl(e,t,n){const[l,a]=e,[d,i]=t,[r,u]=n,p=l-d,f=a-i,_=r-d,v=u-i;return p*v-f*_!==0?!1:Math.abs(_)>=Math.abs(v)?_>0?d<=l&&l<=r:r<=l&&l<=d:v>0?i<=a&&a<=u:u<=a&&a<=i}const DV=K({name:"Panel",props:{panel:{type:Object,required:!0},editMode:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","duplicate","delete"],setup(e,{emit:t}){const{t:n}=Y(),{panels:l}=tl(),a=F(()=>l.value.find(h=>h.id===e.panel.type)),d=Gt({position_x:void 0,position_y:void 0,width:void 0,height:void 0}),{onPointerDown:i,onPointerUp:r,onPointerMove:u,dragging:p}=y(),f=F(()=>{var h,g,b,$;return p.value?{x:(h=d.position_x)!=null?h:e.panel.position_x,y:(g=d.position_y)!=null?g:e.panel.position_y,width:(b=d.width)!=null?b:e.panel.width,height:($=d.height)!=null?$:e.panel.height}:{x:e.panel.position_x,y:e.panel.position_y,width:e.panel.width,height:e.panel.height}}),_=F(()=>{var h,g,b,$;return p.value?{"--pos-x":(h=d.position_x)!=null?h:e.panel.position_x,"--pos-y":(g=d.position_y)!=null?g:e.panel.position_y,"--width":(b=d.width)!=null?b:e.panel.width,"--height":($=d.height)!=null?$:e.panel.height}:{"--pos-x":e.panel.position_x,"--pos-y":e.panel.position_y,"--width":e.panel.width,"--height":e.panel.height}}),v=F(()=>({"--v-icon-color":e.panel.color||"var(--primary)"}));return{positioning:f,positionStyling:_,iconColor:v,onPointerDown:i,onPointerUp:r,onPointerMove:u,dragging:p,editedPosition:d,t:n,omit:N.exports.omit};function y(){const h=E(!1);let g=0,b=0,$=0,A=0,V=0,T=0,D="move";const O=N.exports.throttle(j=>{var ce,J;if(e.editMode===!1||h.value===!1)return;const B=j.pageX-g,q=j.pageY-b,G=Math.round(B/20),Q=Math.round(q/20);if(D==="move")d.position_x=$+G,d.position_y=A+Q,d.position_x<1&&(d.position_x=1),d.position_y<1&&(d.position_y=1);else{D.includes("top")&&(d.height=T-Q,d.position_y=A+Q),D.includes("right")&&(d.width=V+G),D.includes("bottom")&&(d.height=T+Q),D.includes("left")&&(d.width=V-G,d.position_x=$+G);const oe=((ce=a.value)==null?void 0:ce.minWidth)||6,_e=((J=a.value)==null?void 0:J.minHeight)||6;d.position_x&&d.position_x<1&&(d.position_x=1),d.position_y&&d.position_y<1&&(d.position_y=1),d.width&&d.width<oe&&(d.width=oe),d.height&&d.height<_e&&(d.height=_e)}},20);return{dragging:h,onPointerDown:M,onPointerUp:L,onPointerMove:O};function M(j,B){e.editMode!==!1&&(D=j,h.value=!0,g=B.pageX,b=B.pageY,$=e.panel.position_x,A=e.panel.position_y,V=e.panel.width,T=e.panel.height,window.addEventListener("pointerup",L),window.addEventListener("pointermove",O))}function L(){h.value=!1,e.editMode!==!1&&(t("update",d),window.removeEventListener("pointerup",L),window.removeEventListener("pointermove",O),d.position_x=void 0,d.position_y=void 0,d.width=void 0,d.height=void 0)}}}}),TV=e=>(Xe("data-v-5e9af4df"),e=e(),Ye(),e),PV={key:0,class:"header"},OV=TV(()=>S("div",{class:"spacer"},null,-1)),LV={class:"resize-details"},jV={key:2,class:"resize-handlers"};function RV(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-text-overflow"),u=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=$e("tooltip");return m(),I("div",{class:ue(["panel",{editing:e.editMode,dragging:e.dragging,"br-tl":e.dragging||e.panel.borderRadius[0],"br-tr":e.dragging||e.panel.borderRadius[1],"br-br":e.dragging||e.panel.borderRadius[2],"br-bl":e.dragging||e.panel.borderRadius[3]}]),style:We(e.positionStyling),"data-move":"",onPointerdown:t[13]||(t[13]=h=>e.onPointerDown("move",h))},[e.panel.show_header?(m(),I("div",PV,[o(i,{class:"icon",style:We(e.iconColor),name:e.panel.icon},null,8,["style","name"]),o(r,{class:"name selectable",text:e.panel.name||""},null,8,["text"]),OV,e.panel.note?x((m(),C(i,{key:0,class:"note",name:"info"},null,512)),[[y,e.panel.note]]):R("",!0)])):R("",!0),e.editMode?(m(),I("div",{key:1,class:"edit-actions",onPointerdown:t[4]||(t[4]=De(()=>{},["stop"]))},[x(o(i,{class:"edit-icon",name:"edit",clickable:"",onClick:t[0]||(t[0]=De(h=>e.$router.push(`/insights/${e.panel.dashboard}/${e.panel.id}`),["stop"]))},null,512),[[y,e.t("edit")]]),o(v,{placement:"bottom-end","show-arrow":""},{activator:s(({toggle:h})=>[o(i,{class:"more-icon",name:"more_vert",clickable:"",onClick:h},null,8,["onClick"])]),default:s(()=>[o(_,null,{default:s(()=>[o(f,{clickable:"",disabled:e.panel.id.startsWith("_"),onClick:t[1]||(t[1]=h=>e.$emit("move"))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{class:"move-icon",name:"input"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("copy_to")),1)]),_:1})]),_:1},8,["disabled"]),o(f,{clickable:"",onClick:t[2]||(t[2]=h=>e.$emit("duplicate"))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"control_point_duplicate"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("duplicate")),1)]),_:1})]),_:1}),o(f,{class:"delete-action",clickable:"",onClick:t[3]||(t[3]=h=>e.$emit("delete"))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("delete_panel")),1)]),_:1})]),_:1})]),_:1})]),_:1})],32)):R("",!0),S("div",LV," ("+w(e.positioning.x-1)+":"+w(e.positioning.y-1)+") "+w(e.positioning.width)+"\xD7"+w(e.positioning.height),1),e.editMode?(m(),I("div",jV,[S("div",{class:"top",onPointerdown:t[5]||(t[5]=De(h=>e.onPointerDown("resize-top",h),["stop"]))},null,32),S("div",{class:"right",onPointerdown:t[6]||(t[6]=De(h=>e.onPointerDown("resize-right",h),["stop"]))},null,32),S("div",{class:"bottom",onPointerdown:t[7]||(t[7]=De(h=>e.onPointerDown("resize-bottom",h),["stop"]))},null,32),S("div",{class:"left",onPointerdown:t[8]||(t[8]=De(h=>e.onPointerDown("resize-left",h),["stop"]))},null,32),S("div",{class:"top-left",onPointerdown:t[9]||(t[9]=De(h=>e.onPointerDown("resize-top-left",h),["stop"]))},null,32),S("div",{class:"top-right",onPointerdown:t[10]||(t[10]=De(h=>e.onPointerDown("resize-top-right",h),["stop"]))},null,32),S("div",{class:"bottom-right",onPointerdown:t[11]||(t[11]=De(h=>e.onPointerDown("resize-bottom-right",h),["stop"]))},null,32),S("div",{class:"bottom-left",onPointerdown:t[12]||(t[12]=De(h=>e.onPointerDown("resize-bottom-left",h),["stop"]))},null,32)])):R("",!0),S("div",{class:ue(["panel-content",{"has-header":e.panel.show_header}])},[(m(),C(Be(`panel-${e.panel.type}`),pt(e.panel.options,{id:e.panel.id,"show-header":e.panel.show_header,height:e.panel.height,width:e.panel.width,dashboard:e.panel.dashboard,now:e.now}),null,16,["id","show-header","height","width","dashboard","now"]))],2)],38)}var MV=z(DV,[["render",RV],["__scopeId","data-v-5e9af4df"]]);const UV=K({name:"InsightsWorkspace",components:{InsightsPanel:MV},props:{panels:{type:Array,required:!0},editMode:{type:Boolean,default:!1},zoomToFit:{type:Boolean,default:!1},now:{type:Date,required:!0}},emits:["update","move","delete","duplicate"],setup(e){const t=_t("main-element",E()),n=Sn(t),l=F(()=>{var u;return Number(((u=r("--content-padding"))==null?void 0:u.slice(0,-2))||0)}),a=F(()=>{const u=e.panels.reduce((f,_)=>(_.position_x>f.position_x&&(f.position_x=_.position_x,f.width=_.width),f),{position_x:0,width:0}),p=e.panels.reduce((f,_)=>(_.position_y>f.position_y&&(f.position_y=_.position_y,f.height=_.height),f),{position_y:0,height:0});return e.editMode===!0?{width:(u.position_x+u.width+25)*20,height:(p.position_y+p.height+25)*20}:{width:(u.position_x+u.width-1)*20,height:(p.position_y+p.height-1)*20}}),d=F(()=>{if(e.zoomToFit===!1)return 1;const{width:u,height:p}=n,f=(u.value-l.value*2)/a.value.width,_=(p.value-114-l.value*2)/a.value.height;return Math.min(f,_)}),i=F(()=>({width:a.value.width*d.value+l.value*2,height:a.value.height*d.value+l.value*2}));return{workspaceSize:a,workspaceBoxSize:i,mainElement:t,zoomScale:d};function r(u){if(!!t.value)return getComputedStyle(t.value).getPropertyValue(u).trim()}}});function NV(e,t,n,l,a,d){const i=c("insights-panel");return m(),I("div",{class:ue(["workspace-padding-box",{editing:e.editMode}]),style:We({width:e.workspaceBoxSize.width+"px",height:e.workspaceBoxSize.height+"px"})},[S("div",{class:"workspace",style:We({transform:`scale(${e.zoomScale})`,width:e.workspaceSize.width+"px",height:e.workspaceSize.height+"px"})},[(m(!0),I(ae,null,we(e.panels,r=>(m(),C(i,{key:r.id,panel:r,"edit-mode":e.editMode,now:e.now,onUpdate:u=>e.$emit("update",{edits:u,id:r.id}),onMove:u=>e.$emit("move",r.id),onDelete:u=>e.$emit("delete",r.id),onDuplicate:u=>e.$emit("duplicate",r)},null,8,["panel","edit-mode","now","onUpdate","onMove","onDelete","onDuplicate"]))),128))],4)],6)}var BV=z(UV,[["render",NV],["__scopeId","data-v-8bccfe76"]]);const qV=K({name:"InsightsDashboard",components:{InsightsNotFound:EV,InsightsNavigation:Ao,InsightsWorkspace:BV},props:{primaryKey:{type:String,required:!0},panelKey:{type:String,default:null}},setup(e){var me;const{t}=Y(),n=Qn(),l=Vt(),a=Ot(),{fullScreen:d}=ze(l),i=E(!1),r=E(!1),u=E(!1),p=E((me=n.dashboards.find(ee=>ee.id!==e.primaryKey))==null?void 0:me.id),f=E(),_=E(!1),v=F(()=>a.hasPermission("directus_panels","update"));it("meta+s",()=>{j()}),ge(i,ee=>{ee?(_.value=!1,window.onbeforeunload=()=>""):window.onbeforeunload=null});const y=F(()=>n.dashboards.find(ee=>ee.id===e.primaryKey)),h=F(()=>n.dashboards.filter(ee=>ee.id!==e.primaryKey)),g=E([]),b=E([]),$=new Date,A=F(()=>{var se;const te=[...(((se=y.value)==null?void 0:se.panels)||[]).filter(X=>b.value.includes(X.id)===!1).map(X=>{const re=g.value.find(ve=>ve.id===X.id);return re?N.exports.merge({},X,re):X}),...g.value.filter(X=>{var re;return(re=X.id)==null?void 0:re.startsWith("_")})].map(X=>Fe(fe({},X),{_coordinates:[[X.position_x,X.position_y],[X.position_x+X.width,X.position_y],[X.position_x+X.width,X.position_y+X.height],[X.position_x,X.position_y+X.height]]}));return te.map(X=>{let re=!1,ve=!1,H=!1,le=!1;for(const ie of te){if(ie.id===X.id)continue;const de=[[ie._coordinates[0],ie._coordinates[1]],[ie._coordinates[1],ie._coordinates[2]],[ie._coordinates[2],ie._coordinates[3]],[ie._coordinates[3],ie._coordinates[0]]];re===!1&&(re=de.some(([ye,he])=>zl(X._coordinates[0],ye,he))),ve===!1&&(ve=de.some(([ye,he])=>zl(X._coordinates[1],ye,he))),H===!1&&(H=de.some(([ye,he])=>zl(X._coordinates[2],ye,he))),le===!1&&(le=de.some(([ye,he])=>zl(X._coordinates[3],ye,he)))}return Fe(fe({},X),{borderRadius:[!re,!ve,!H,!le]})})}),V=E(!1),T=E(!1),D=E(null),O=ee=>{const ne=b.value.length>0||g.value.length>0;if(i.value&&ee.params.primaryKey!==e.primaryKey){if(ne)return T.value=!0,D.value=ee.fullPath,!1;i.value=!1}};return kl(O),Xn(O),{currentDashboard:y,editMode:i,updateAllowed:v,panels:A,stagePanelEdits:M,stagedPanels:g,saving:r,saveChanges:j,stageConfiguration:L,movePanelID:f,movePanel:_e,deletePanel:B,attemptCancelChanges:q,duplicatePanel:ce,movePanelLoading:u,t,toggleFullScreen:J,zoomToFit:_,fullScreen:d,toggleZoomToFit:oe,md:ql,movePanelChoices:h,movePanelTo:p,confirmLeave:T,discardAndLeave:Q,now:$,confirmCancel:V,cancelChanges:G};function M(ee){var te;const ne=(te=ee.id)!=null?te:e.panelKey;ne==="+"?g.value=[...g.value,fe({id:`_${$t()}`,dashboard:e.primaryKey},ee.edits)]:g.value.some(Z=>Z.id===ne)?g.value=g.value.map(Z=>Z.id===ne?N.exports.merge({id:ne,dashboard:e.primaryKey},Z,ee.edits):Z):g.value=[...g.value,fe({id:ne,dashboard:e.primaryKey},ee.edits)]}function L(ee){M({edits:ee}),Wt.replace(`/insights/${e.primaryKey}`)}async function j(){if(!y.value)return;if(g.value.length===0&&b.value.length===0){i.value=!1;return}r.value=!0;const ne=[...y.value.panels.map(te=>te.id).map(te=>g.value.find(Z=>Z.id===te)||te),...g.value.filter(te=>{var Z;return(Z=te.id)==null?void 0:Z.startsWith("_")}).map(te=>N.exports.omit(te,"id"))];try{g.value.length>0&&await pe.patch(`/dashboards/${e.primaryKey}`,{panels:ne}),b.value.length>0&&await pe.delete("/panels",{data:b.value}),await n.hydrate(),g.value=[],i.value=!1}catch(te){Ie(te)}finally{r.value=!1}}async function B(ee){!y.value||(g.value=g.value.filter(ne=>ne.id!==ee),ee.startsWith("_")===!1&&b.value.push(ee))}function q(){g.value.length>0||b.value.length>0?V.value=!0:G()}function G(){V.value=!1,g.value=[],b.value=[],i.value=!1}function Q(){!D.value||(G(),T.value=!1,Wt.push(D.value))}function ce(ee){const ne=N.exports.omit(N.exports.merge({},ee),"id");ne.position_x=ne.position_x+2,ne.position_y=ne.position_y+2,M({edits:ne,id:"+"})}function J(){d.value=!d.value}function oe(){_.value=!_.value}async function _e(){u.value=!0;const ee=A.value.find(ne=>ne.id===f.value);try{await pe.post("/panels",Fe(fe({},N.exports.omit(ee,["id"])),{dashboard:p.value})),await n.hydrate(),f.value=null}catch(ne){Ie(ne)}finally{u.value=!1}}}}),zV={class:"page-description"};function KV(e,t,n,l,a,d){const i=c("insights-not-found"),r=c("v-icon"),u=c("v-button"),p=c("v-breadcrumb"),f=c("sidebar-detail"),_=c("insights-navigation"),v=c("insights-workspace"),y=c("router-view"),h=c("v-card-title"),g=c("v-notice"),b=c("v-select"),$=c("v-card-text"),A=c("v-card-actions"),V=c("v-card"),T=c("v-dialog"),D=c("private-view"),O=$e("tooltip"),M=$e("md");return e.currentDashboard?(m(),C(D,{key:1,title:e.currentDashboard.name},{"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:e.currentDashboard.icon},null,8,["name"])]),_:1})]),headline:s(()=>[o(p,{items:[{name:e.t("insights"),to:"/insights"}]},null,8,["items"])]),actions:s(()=>[e.editMode?(m(),I(ae,{key:0},[x(o(u,{class:"clear-changes",rounded:"",icon:"",outlined:"",onClick:e.attemptCancelChanges},{default:s(()=>[o(r,{name:"clear"})]),_:1},8,["onClick"]),[[O,e.t("clear_changes"),void 0,{bottom:!0}]]),x(o(u,{rounded:"",icon:"",outlined:"",to:`/insights/${e.currentDashboard.id}/+`},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to"]),[[O,e.t("create_panel"),void 0,{bottom:!0}]]),x(o(u,{rounded:"",icon:"",loading:e.saving,onClick:e.saveChanges},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["loading","onClick"]),[[O,e.t("save"),void 0,{bottom:!0}]])],64)):(m(),I(ae,{key:1},[x(o(u,{active:e.zoomToFit,class:"zoom-to-fit",rounded:"",icon:"",outlined:"",onClick:e.toggleZoomToFit},{default:s(()=>[o(r,{name:"aspect_ratio"})]),_:1},8,["active","onClick"]),[[O,e.t("fit_to_screen"),void 0,{bottom:!0}]]),x(o(u,{active:e.fullScreen,class:"fullscreen",rounded:"",icon:"",outlined:"",onClick:e.toggleFullScreen},{default:s(()=>[o(r,{name:"fullscreen"})]),_:1},8,["active","onClick"]),[[O,e.t("full_screen"),void 0,{bottom:!0}]]),x(o(u,{class:"edit",rounded:"",icon:"",outlined:"",disabled:!e.updateAllowed,onClick:t[0]||(t[0]=L=>e.editMode=!e.editMode)},{default:s(()=>[o(r,{name:"edit"})]),_:1},8,["disabled"]),[[O,e.t("edit_panels"),void 0,{bottom:!0}]])],64))]),sidebar:s(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",zV,null,512),[[M,e.t("page_help_insights_dashboard")]])]),_:1},8,["title"])]),navigation:s(()=>[o(_)]),default:s(()=>[o(v,{"edit-mode":e.editMode,panels:e.panels,"zoom-to-fit":e.zoomToFit,now:e.now,onUpdate:e.stagePanelEdits,onMove:t[1]||(t[1]=L=>e.movePanelID=L),onDelete:e.deletePanel,onDuplicate:e.duplicatePanel},null,8,["edit-mode","panels","zoom-to-fit","now","onUpdate","onDelete","onDuplicate"]),o(y,{name:"detail","dashboard-key":e.primaryKey,panel:e.panelKey?e.panels.find(L=>L.id===e.panelKey):null,onSave:e.stageConfiguration,onCancel:t[2]||(t[2]=L=>e.$router.replace(`/insights/${e.primaryKey}`))},null,8,["dashboard-key","panel","onSave"]),o(T,{"model-value":!!e.movePanelID,"onUpdate:modelValue":t[5]||(t[5]=L=>e.movePanelID=null),onEsc:t[6]||(t[6]=L=>e.movePanelID=null)},{default:s(()=>[o(V,null,{default:s(()=>[o(h,null,{default:s(()=>[P(w(e.t("copy_to")),1)]),_:1}),o($,null,{default:s(()=>[e.movePanelChoices.length===0?(m(),C(g,{key:0},{default:s(()=>[P(w(e.t("no_other_dashboards_copy")),1)]),_:1})):(m(),C(b,{key:1,modelValue:e.movePanelTo,"onUpdate:modelValue":t[3]||(t[3]=L=>e.movePanelTo=L),items:e.movePanelChoices,"item-text":"name","item-value":"id"},null,8,["modelValue","items"]))]),_:1}),o(A,null,{default:s(()=>[o(u,{secondary:"",onClick:t[4]||(t[4]=L=>e.movePanelID=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{loading:e.movePanelLoading,onClick:e.movePanel},{default:s(()=>[P(w(e.t("copy")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"]),o(T,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[8]||(t[8]=L=>e.confirmLeave=L),onEsc:t[9]||(t[9]=L=>e.confirmLeave=!1)},{default:s(()=>[o(V,null,{default:s(()=>[o(h,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o($,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(A,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[7]||(t[7]=L=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:e.confirmCancel,"onUpdate:modelValue":t[11]||(t[11]=L=>e.confirmCancel=L),onEsc:t[12]||(t[12]=L=>e.confirmCancel=!1)},{default:s(()=>[o(V,null,{default:s(()=>[o(h,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o($,null,{default:s(()=>[P(w(e.t("discard_changes_copy")),1)]),_:1}),o(A,null,{default:s(()=>[o(u,{secondary:"",onClick:e.cancelChanges},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[10]||(t[10]=L=>e.confirmCancel=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])):(m(),C(i,{key:0}))}var WV=z(qV,[["render",KV],["__scopeId","data-v-a453914e"]]);function fi(e,t){t.field.schema===void 0&&N.exports.set(e,"field.schema",{})}function _i(e){var l,a,d,i;if(!((a=(l=e.field)==null?void 0:l.meta)==null?void 0:a.interface))return;const t=Pt(e.field.meta.interface);if(!t)return;const n=(i=(d=t==null?void 0:t.localTypes)==null?void 0:d[0])!=null?i:"standard";N.exports.set(e,"localType",n)}function vi(e,t){var a,d;if(!((d=(a=e.field)==null?void 0:a.meta)==null?void 0:d.interface))return;const n=Pt(e.field.meta.interface);if(!n)return e;if(t.field.type&&n.types.includes(t.field.type))return;const l=n==null?void 0:n.types[0];N.exports.set(e,"field.type",l)}function yi(e){const t=e==null?void 0:e.localType;switch(t){case"o2m":case"m2m":case"m2a":case"m2o":case"translations":case"file":case"files":N.exports.set(e,"field.meta.special",[t]);break;case"presentation":N.exports.set(e,"field.meta.special",["alias","no-data"]);break;case"group":N.exports.set(e,"field.meta.special",["alias","no-data","group"]);break}}function hi(e){e.relations||(e.relations={}),e.relations.m2o=void 0,e.relations.o2m=void 0}var HV=Object.freeze(Object.defineProperty({__proto__:null,resetSchema:fi,setLocalTypeForInterface:_i,setTypeForInterface:vi,setSpecialForLocalType:yi,resetRelations:hi},Symbol.toStringTag,{value:"Module"}));function GV(e,t,n){var d,i;const{hasChanged:l,getCurrent:a}=n;l("localType")&&(gi(e),bi(e,t)),l("field.field")&&wi(e),l("field.schema.is_nullable")&&((i=(d=e.field)==null?void 0:d.schema)==null?void 0:i.is_nullable)===!1&&a("relations.m2o.schema.on_delete")==="SET NULL"&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function gi(e){N.exports.set(e,"field.type","uuid")}function bi(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:"directus_files",meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function wi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),N.exports.set(e,"relations.m2o.field",e.field.field))}var ZV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:GV,setTypeToUUID:gi,prepareRelation:bi,updateRelationField:wi},Symbol.toStringTag,{value:"Module"}));function JV(e,t,n){const{hasChanged:l}=n;l("localType")&&(ki(e),$i(e),Si(e,t),Ii(e,t)),l("field.field")&&Ci(e),l("relations.m2o.related_collection")&&Vi(e,t,n),l("relations.o2m.field")&&Io(e,t,n),l("relations.m2o.field")&&Io(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Ei(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Ai(e,t,n),QV(e,t,n))}function ki(e){N.exports.set(e,"field.schema",void 0)}function $i(e){N.exports.set(e,"field.type","alias")}function Si(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Ci(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),N.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Vi(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&N.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Io(e,t,{getCurrent:n}){N.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),N.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Fi(e){return!!Je().getCollection(e)}function Eo(e,t){return!!Oe().getField(e,t)}function Ai(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||Fi(l)?N.exports.set(e,"collections.junction",void 0):N.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function QV(e,t,{getCurrent:n}){var _,v,y;const l=Oe(),a=l.getPrimaryKeyFieldForCollection(t.collection),d=n("relations.o2m.collection"),i=n("relations.o2m.field"),r=n("relations.m2o.field"),u=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(u))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.meta.sort_field");d&&i&&Eo(d,i)===!1?N.exports.set(e,"fields.junctionCurrent",{collection:d,field:i,type:(v=a==null?void 0:a.type)!=null?v:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionCurrent",void 0),d&&r&&Eo(d,r)===!1?N.exports.set(e,"fields.junctionRelated",{collection:d,field:r,type:(y=p==null?void 0:p.type)!=null?y:"uuid",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionRelated",void 0),d&&f&&Eo(d,f)===!1?N.exports.set(e,"fields.sort",{collection:d,field:f,type:"integer",schema:{},meta:{hidden:!1}}):N.exports.set(e,"fields.sort",void 0)}function Ii(e,t){var i,r;const n=Oe(),l=t.collection,a=(r=(i=n.getPrimaryKeyFieldForCollection(l))==null?void 0:i.field)!=null?r:"id",d=Di(l);N.exports.set(e,"relations.o2m.collection",d),N.exports.set(e,"relations.o2m.field",`${l}_${a}`),N.exports.set(e,"relations.m2o.collection",d),N.exports.set(e,"relations.m2o.related_collection","directus_files"),N.exports.set(e,"relations.m2o.field","directus_files_id")}function Ei(e){var t,n,l,a,d,i;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&N.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((d=(a=e==null?void 0:e.relations)==null?void 0:a.m2o)==null?void 0:d.collection)&&e.relations.m2o.collection!==((i=e.relations.o2m)==null?void 0:i.collection)&&N.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Di(e){let t=0,n=l(t);for(;Fi(n);)t++,n=l(t);return n;function l(a){let d=`${e}_files`;return d.startsWith("directus_")&&(d="junction_"+d),a?d+"_"+a:d}}var XV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:JV,removeSchema:ki,setTypeToAlias:$i,prepareRelation:Si,updateRelationField:Ci,preventCircularConstraint:Vi,setJunctionFields:Io,generateCollections:Ai,setDefaults:Ii,matchJunctionCollectionName:Ei,getAutomaticJunctionCollectionName:Di},Symbol.toStringTag,{value:"Module"}));function YV(e,t,n){const{hasChanged:l}=n;l("localType")&&(Ti(e),Pi(e),Oi(e))}function Ti(e){N.exports.set(e,"field.schema",void 0)}function Pi(e){N.exports.set(e,"field.type","alias")}function Oi(e){N.exports.set(e,"field.meta.special",["alias","no-data","group"])}var xV=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:YV,removeSchema:Ti,setTypeToAlias:Pi,setSpecialToGroup:Oi},Symbol.toStringTag,{value:"Module"}));function eF(e,t,n){const{hasChanged:l}=n;l("localType")&&(Li(e),ji(e),Ri(e,t),Mi(e,t,n)),l("field.field")&&(Ni(e),Ui(e,t,n)),l("relations.o2m.field")&&To(e,t,n),l("relations.m2o.field")&&To(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&zi(e),l("fields.corresponding")&&Ki(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.o2m.meta.sort_field","relations.m2o.meta.one_collection_field"].some(l)&&(qi(e,t,n),nF(e,t,n))}function Li(e){N.exports.set(e,"field.schema",void 0)}function ji(e){N.exports.set(e,"field.type","alias")}function Ri(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:null,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:null}}function Mi(e,t,{getCurrent:n}){var r,u;const l=Oe(),a=t.collection,d=(u=(r=l.getPrimaryKeyFieldForCollection(a))==null?void 0:r.field)!=null?u:"id",i=Do(a,n("field.field"));N.exports.set(e,"relations.o2m.collection",i),N.exports.set(e,"relations.o2m.field",`${a}_${d}`),N.exports.set(e,"relations.m2o.collection",i),N.exports.set(e,"relations.m2o.field","item"),N.exports.set(e,"relations.m2o.meta.one_allowed_collections",[]),N.exports.set(e,"relations.m2o.meta.one_collection_field","collection")}function Ui(e,t,{getCurrent:n}){n("autoGenerateJunctionRelation")!==!1&&N.exports.set(e,"relations.o2m.collection",Do(n("collection"),n("field.field")))}function Do(e,t){let n=0,l=a(n);for(;Bi(l);)n++,l=a(n);return l;function a(d){let i=`${e}_${t}`;return i.startsWith("directus_")&&(i="junction_"+i),d?i+"_"+d:i}}function Ni(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),N.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function tF(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&N.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION")}function To(e,t,{getCurrent:n}){N.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),N.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Bi(e){return!!Je().getCollection(e)}function Kl(e,t){return!!Oe().getField(e,t)}function qi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection");!l||Bi(l)?N.exports.set(e,"collections.junction",void 0):N.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]})}function nF(e,t,{getCurrent:n}){var f;const a=Oe().getPrimaryKeyFieldForCollection(t.collection),d=n("relations.o2m.collection"),i=n("relations.o2m.field"),r=n("relations.m2o.field"),u=n("relations.m2o.meta.one_collection_field"),p=n("relations.o2m.meta.sort_field");d&&i&&Kl(d,i)===!1?N.exports.set(e,"fields.junctionCurrent",{collection:d,field:i,type:(f=a==null?void 0:a.type)!=null?f:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionCurrent",void 0),d&&r&&Kl(d,r)===!1?N.exports.set(e,"fields.junctionRelated",{collection:d,field:r,type:"string",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionRelated",void 0),d&&u&&Kl(d,u)===!1?N.exports.set(e,"fields.oneCollectionField",{collection:d,field:u,type:"string",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.oneCollectionField",void 0),d&&p&&Kl(d,p)===!1?N.exports.set(e,"fields.sort",{collection:d,field:p,type:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.sort",void 0)}function zi(e){var t,n,l,a,d,i;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&N.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((d=(a=e==null?void 0:e.relations)==null?void 0:a.m2o)==null?void 0:d.collection)&&e.relations.m2o.collection!==((i=e.relations.o2m)==null?void 0:i.collection)&&N.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Ki(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&N.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||N.exports.set(e,"relations.m2o.meta.one_field",null)}var lF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:eF,removeSchema:Li,setTypeToAlias:ji,prepareRelation:Ri,setDefaults:Mi,autoGenerateJunctionCollectionName:Ui,getAutomaticJunctionCollectionName:Do,updateRelationField:Ni,preventCircularConstraint:tF,setJunctionFields:To,generateCollections:qi,matchJunctionCollectionName:zi,setRelatedOneFieldForCorrespondingField:Ki},Symbol.toStringTag,{value:"Module"}));function oF(e,t,n){const{hasChanged:l}=n;l("localType")&&(Wi(e),Hi(e),Gi(e,t)),l("autoGenerateJunctionRelation")&&Oo(e,t,n),l("field.field")&&Zi(e),l("relations.m2o.related_collection")&&(Ji(e,t,n),Oo(e,t,n)),l("relations.o2m.field")&&Po(e,t,n),l("relations.m2o.field")&&Po(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Yi(e),l("fields.corresponding")&&xi(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Xi(e,t,n),aF(e,t,n))}function Wi(e){N.exports.set(e,"field.schema",void 0)}function Hi(e){N.exports.set(e,"field.type","alias")}function Gi(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function Zi(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),N.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function Ji(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&N.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Po(e,t,{getCurrent:n}){N.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),N.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function Oo(e,t,{getCurrent:n}){var r,u,p,f,_,v;if(n("autoGenerateJunctionRelation")===!1)return;const l=Oe(),a=t.collection,d=(u=(r=l.getPrimaryKeyFieldForCollection(a))==null?void 0:r.field)!=null?u:"id",i=(f=(p=e.relations)==null?void 0:p.m2o)==null?void 0:f.related_collection;if(i){const y=Qi(a,i),h=(v=(_=l.getPrimaryKeyFieldForCollection(i))==null?void 0:_.field)!=null?v:"id";N.exports.set(e,"relations.o2m.collection",y),N.exports.set(e,"relations.m2o.collection",y),N.exports.set(e,"relations.o2m.related_collection",a),N.exports.set(e,"relations.m2o.related_collection",i),N.exports.set(e,"relations.o2m.field",`${a}_${d}`),N.exports.set(e,"relations.m2o.field",`${i}_${h}`),n("relations.o2m.field")===n("relations.m2o.field")&&N.exports.set(e,"relations.m2o.field",`related_${n("relations.m2o.field")}`)}else N.exports.set(e,"relations.o2m.collection",void 0),N.exports.set(e,"relations.m2o.collection",void 0),N.exports.set(e,"relations.o2m.related_collection",t.collection),N.exports.set(e,"relations.m2o.related_collection",void 0),N.exports.set(e,"relations.o2m.field",void 0),N.exports.set(e,"relations.m2o.field",void 0)}function Qi(e,t){let n=0,l=a(n);for(;Lo(l);)n++,l=a(n);return l;function a(d){let i=`${e}_${t}`;return i.startsWith("directus_")&&(i="junction_"+i),d?i+"_"+d:i}}function Lo(e){return!!Je().getCollection(e)}function jo(e,t){return!!Oe().getField(e,t)}function Xi(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),a=n("relations.m2o.related_collection");!l||Lo(l)?N.exports.set(e,"collections.junction",void 0):N.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),a&&Lo(a)===!1?N.exports.set(e,"collections.related",{collection:a,meta:{},schema:{name:a},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}):N.exports.set(e,"collections.related",void 0)}function aF(e,t,{getCurrent:n}){var y,h,g,b;const l=Oe(),a=ft(),d=l.getPrimaryKeyFieldForCollection(t.collection),i=n("relations.o2m.collection"),r=n("relations.o2m.field"),u=n("relations.m2o.field"),p=n("relations.o2m.meta.sort_field"),f=n("relations.m2o.related_collection"),_=(y=l.getPrimaryKeyFieldForCollection(f))!=null?y:n("collections.related.fields[0]"),v=a.relations.find($=>$.collection===i&&$.field===u);v&&N.exports.set(e,"relations.m2o.meta.one_field",(h=v.meta)==null?void 0:h.one_field),i&&r&&jo(i,r)===!1?N.exports.set(e,"fields.junctionCurrent",{collection:i,field:r,type:(g=d==null?void 0:d.type)!=null?g:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionCurrent",void 0),i&&u&&jo(i,u)===!1?N.exports.set(e,"fields.junctionRelated",{collection:i,field:u,type:(b=_==null?void 0:_.type)!=null?b:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionRelated",void 0),i&&p&&jo(i,p)===!1?N.exports.set(e,"fields.sort",{collection:i,field:p,type:"integer",schema:{},meta:{hidden:!1}}):N.exports.set(e,"fields.sort",void 0)}function Yi(e){var t,n,l,a,d,i;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&N.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((d=(a=e==null?void 0:e.relations)==null?void 0:a.m2o)==null?void 0:d.collection)&&e.relations.m2o.collection!==((i=e.relations.o2m)==null?void 0:i.collection)&&N.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function xi(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&N.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||N.exports.set(e,"relations.m2o.meta.one_field",null)}var iF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:oF,removeSchema:Wi,setTypeToAlias:Hi,prepareRelation:Gi,updateRelationField:Zi,preventCircularConstraint:Ji,setJunctionFields:Po,autoGenerateJunctionFields:Oo,getAutomaticJunctionCollectionName:Qi,generateCollections:Xi,matchJunctionCollectionName:Yi,setRelatedOneFieldForCorrespondingField:xi},Symbol.toStringTag,{value:"Module"}));function rF(e,t,n){var d,i;const{hasChanged:l,getCurrent:a}=n;l("localType")&&er(e,t),l("field.field")&&tr(e),l("relations.m2o.related_collection")&&(nr(e),lr(e,t),or(e,t)),l("fields.corresponding")&&ar(e),l("field.schema.is_nullable")&&((i=(d=e.field)==null?void 0:d.schema)==null?void 0:i.is_nullable)===!1&&a("relations.m2o.schema.on_delete")==="SET NULL"&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function er(e,t){e.relations||(e.relations={}),e.relations.m2o={collection:t.collection,field:t.field.field,related_collection:void 0,meta:{sort_field:null},schema:{on_delete:"SET NULL"}}}function tr(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.m2o)||(e.relations={m2o:{}}),N.exports.set(e,"relations.m2o.field",e.field.field))}function nr(e){var a,d,i;const t=(d=(a=e.relations)==null?void 0:a.m2o)==null?void 0:d.related_collection;if(!t)return;((i=e.collections)==null?void 0:i.related)||(e.collections={related:void 0}),!!Je().getCollection(t)===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function lr(e,t){var l,a;const n=(a=(l=e.relations)==null?void 0:l.m2o)==null?void 0:a.related_collection;!n||(e.relations||(e.relations={}),n===t.collection&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION"))}function or(e,t){var d,i,r,u,p;const n=(i=(d=e.relations)==null?void 0:d.m2o)==null?void 0:i.related_collection;if(!n)return;const a=Oe().getPrimaryKeyFieldForCollection(n);a?N.exports.set(e,"field.type",a.type):((p=(u=(r=t.collections.related)==null?void 0:r.fields)==null?void 0:u[0])==null?void 0:p.type)&&N.exports.set(e,"field.type",t.collections.related.fields[0].type)}function ar(e){var t,n,l;((n=(t=e==null?void 0:e.fields)==null?void 0:t.corresponding)==null?void 0:n.field)&&N.exports.set(e,"relations.m2o.meta.one_field",e.fields.corresponding.field),((l=e.fields)==null?void 0:l.corresponding)||N.exports.set(e,"relations.m2o.meta.one_field",null)}var sF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:rF,prepareRelation:er,updateRelationField:tr,generateRelatedCollection:nr,preventCircularConstraint:lr,setTypeToRelatedPrimaryKey:or,setRelatedOneFieldForCorrespondingField:ar},Symbol.toStringTag,{value:"Module"}));function dF(e,t,n){const{hasChanged:l}=n;l("localType")&&(ir(e),rr(e),sr(e,t)),l("field.field")&&ur(e),l("relations.o2m.collection")&&(pr(e),dr(e,t),fr(e,t),Ro(e,t,n)),l("relations.o2m.field")&&(cr(e),mr(e,t)),l("relations.o2m.meta.sort_field")&&Ro(e,t,n)}function ir(e){N.exports.set(e,"field.schema",void 0)}function rr(e){N.exports.set(e,"field.type","alias")}function sr(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function dr(e,t){var l,a;const n=(a=(l=e.relations)==null?void 0:l.o2m)==null?void 0:a.collection;!n||(e.relations||(e.relations={}),n===t.collection&&N.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"))}function ur(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),N.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function cr(e){var a,d,i;e.relations||(e.relations={});const t=ft(),n=(a=e.relations.o2m)==null?void 0:a.collection,l=(d=e.relations.o2m)==null?void 0:d.field;if(n&&l){const r=t.getRelationForField(n,l);if(r){N.exports.set(e,"relations.o2m.schema.on_delete",(i=r.schema)==null?void 0:i.on_delete);return}}}function pr(e){var a,d,i;const t=(d=(a=e.relations)==null?void 0:a.o2m)==null?void 0:d.collection;if(!t)return;const l=!!Je().getCollection(t);((i=e.collections)==null?void 0:i.related)||(e.collections={related:void 0}),l===!1&&(e.collections.related={collection:t,fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0,is_primary_key:!0},meta:{hidden:!0}}],meta:{},schema:{}})}function mr(e,t){var r,u,p,f,_,v,y,h,g;const n=Oe(),l=(f=(u=(r=e.relations)==null?void 0:r.o2m)==null?void 0:u.collection)!=null?f:(p=t.relations.o2m)==null?void 0:p.collection;if(!l)return;const a=t.collection&&(v=(_=n.getPrimaryKeyFieldForCollection(t.collection))==null?void 0:_.type)!=null?v:"integer",d=(h=(y=e.relations)==null?void 0:y.o2m)==null?void 0:h.field;if(!d)return;const i=!!n.getField(l,d);((g=e.fields)==null?void 0:g.corresponding)||(e.fields={corresponding:void 0}),i===!1&&(e.fields.corresponding={collection:l,field:d,type:a,schema:{},meta:{interface:"select-dropdown-m2o",hidden:!0}})}function fr(e,t){var l,a;const n=(a=(l=e.relations)==null?void 0:l.o2m)==null?void 0:a.collection;!n||t.fields.corresponding&&N.exports.set(e,"fields.corresponding.collection",n)}function Ro(e,t,{getCurrent:n}){const l=n("relations.o2m.meta.sort_field");if(!l)return;const a=Oe(),d=n("relations.o2m.collection");!!a.getField(d,l)?N.exports.set(e,"fields.sort",void 0):N.exports.set(e,"fields.sort",{collection:d,field:l,type:"integer",schema:{},meta:{hidden:!1}})}var uF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:dF,removeSchema:ir,setTypeToAlias:rr,prepareRelation:sr,preventCircularConstraint:dr,updateRelationField:ur,useExistingRelationValues:cr,generateRelatedCollection:pr,generateRelatedField:mr,updateGeneratedRelatedField:fr,generateSortField:Ro},Symbol.toStringTag,{value:"Module"}));function cF(e,t,n){const{hasChanged:l}=n;l("localType")&&(_r(e),vr(e),yr(e))}function _r(e){N.exports.set(e,"field.schema",void 0)}function vr(e){N.exports.set(e,"field.type","alias")}function yr(e){N.exports.set(e,"field.meta.special",["alias","no-data"])}var pF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:cF,removeSchema:_r,setTypeToAlias:vr,setSpecialToNoData:yr},Symbol.toStringTag,{value:"Module"}));function mF(e,t,n){const{hasChanged:l}=n;l("field.type")&&(fF(e),_F(e,n))}function fF(e){var n;const t=(n=e.field)==null?void 0:n.type;switch(t){case"json":case"csv":case"boolean":N.exports.set(e,"field.meta.special",["cast-"+t]);break;case"uuid":case"hash":case"geometry":N.exports.set(e,"field.meta.special",[t]);break;case void 0:break;default:N.exports.set(e,"field.meta.special",null)}}function _F(e,t){var a;const n=Pt(t.getCurrent("field.meta.interface")),l=(a=e.field)==null?void 0:a.type;l&&!(n==null?void 0:n.types.includes(l))&&N.exports.set(e,"field.meta.interface",void 0)}var vF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:mF},Symbol.toStringTag,{value:"Module"}));function yF(e,t,n){const{hasChanged:l}=n;l("localType")&&(hr(e),gr(e),br(e,t),Cr(e,t,n)),l("field.field")&&wr(e),l("relations.m2o.related_collection")&&(kr(e,t,n),$r(e,t,n)),l("relations.o2m.field")&&Mo(e,t,n),l("relations.m2o.field")&&Mo(e,t,n),(l("relations.o2m.collection")||l("relations.m2o.collection"))&&Vr(e),["relations.o2m.collection","relations.o2m.field","relations.m2o.field","relations.m2o.related_collection","relations.o2m.meta.sort_field"].some(l)&&(Sr(e,t,n),hF(e,t,n))}function hr(e){N.exports.set(e,"field.schema",void 0)}function gr(e){N.exports.set(e,"field.type","alias")}function br(e,t){var n,l;e.relations||(e.relations={}),e.relations.o2m={collection:void 0,field:void 0,related_collection:t.collection,meta:{one_field:(l=(n=e.field)==null?void 0:n.field)!=null?l:t.field.field,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}},e.relations.m2o={collection:void 0,field:void 0,related_collection:void 0,meta:{one_field:null,sort_field:null,one_deselect_action:"nullify"},schema:{on_delete:"SET NULL"}}}function wr(e){var t,n;!((t=e.field)==null?void 0:t.field)||(((n=e.relations)==null?void 0:n.o2m)||(e.relations={o2m:{}}),N.exports.set(e,"relations.o2m.meta.one_field",e.field.field))}function kr(e,t,{getCurrent:n}){n("relations.o2m.collection")===n("relations.o2m.related_collection")&&N.exports.set(e,"relations.o2m.schema.on_delete","NO ACTION"),n("relations.m2o.collection")===n("relations.m2o.related_collection")&&N.exports.set(e,"relations.m2o.schema.on_delete","NO ACTION")}function Mo(e,t,{getCurrent:n}){N.exports.set(e,"relations.o2m.meta.junction_field",n("relations.m2o.field")),N.exports.set(e,"relations.m2o.meta.junction_field",n("relations.o2m.field"))}function $r(e,t,{getCurrent:n}){var i,r;const l=Oe(),a=n("relations.m2o.related_collection"),d=(r=(i=l.getPrimaryKeyFieldForCollection(a))==null?void 0:i.field)!=null?r:"id";N.exports.set(e,"relations.m2o.field",`${a}_${d}`)}function Uo(e){return!!Je().getCollection(e)}function No(e,t){return!!Oe().getField(e,t)}function Sr(e,t,{getCurrent:n}){const l=n("relations.o2m.collection"),a=n("relations.m2o.related_collection");if(!l||Uo(l)?N.exports.set(e,"collections.junction",void 0):N.exports.set(e,"collections.junction",{collection:l,meta:{hidden:!0,icon:"import_export"},schema:{name:l},fields:[{field:"id",type:"integer",schema:{has_auto_increment:!0},meta:{hidden:!0}}]}),a&&Uo(a)===!1){N.exports.set(e,"collections.related",{collection:a,meta:{},schema:{name:a},fields:[{field:"code",type:"string",schema:{is_primary_key:!0},meta:{}},{field:"name",type:"string",schema:{},meta:{}}]});const d=N.exports.get(t,"relations.m2o.related_collection");t.items&&t.items[d]&&delete t.items[d],e.items={[a]:[{code:"en-US",name:"English"},{code:"de-DE",name:"German"},{code:"fr-FR",name:"French"},{code:"ru-RU",name:"Russian"},{code:"es-ES",name:"Spanish"},{code:"it-IT",name:"Italian"},{code:"pt-BR",name:"Portuguese"}]}}else N.exports.set(e,"collections.related",void 0),e.items={}}function hF(e,t,{getCurrent:n}){var _,v,y;const l=Oe(),a=l.getPrimaryKeyFieldForCollection(t.collection),d=n("relations.o2m.collection"),i=n("relations.o2m.field"),r=n("relations.m2o.field"),u=n("relations.m2o.related_collection"),p=(_=l.getPrimaryKeyFieldForCollection(u))!=null?_:n("collections.related.fields[0]"),f=n("relations.o2m.sort_field");d&&i&&No(d,i)===!1?N.exports.set(e,"fields.junctionCurrent",{collection:d,field:i,type:(v=a==null?void 0:a.type)!=null?v:"integer",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionCurrent",void 0),d&&r&&No(d,r)===!1?N.exports.set(e,"fields.junctionRelated",{collection:d,field:r,type:(y=p==null?void 0:p.type)!=null?y:"string",schema:{},meta:{hidden:!0}}):N.exports.set(e,"fields.junctionRelated",void 0),d&&f&&No(d,f)===!1?N.exports.set(e,"fields.sort",{collection:d,field:f,type:"integer",schema:{},meta:{hidden:!1}}):N.exports.set(e,"fields.sort",void 0)}function Cr(e,t,{getCurrent:n}){var p,f,_,v;const l=Oe(),a=t.collection,d=(f=(p=l.getPrimaryKeyFieldForCollection(a))==null?void 0:p.field)!=null?f:"id",i=Fr(a);N.exports.set(e,"relations.o2m.collection",i),N.exports.set(e,"relations.o2m.field",`${a}_${d}`),N.exports.set(e,"relations.m2o.collection",i),N.exports.set(e,"relations.m2o.related_collection","languages");const r=n("relations.m2o.related_collection"),u=(v=(_=l.getPrimaryKeyFieldForCollection(r))==null?void 0:_.field)!=null?v:"id";N.exports.set(e,"relations.m2o.field",`${r}_${u}`),n("field.field")||(N.exports.set(e,"field.field","translations"),N.exports.set(e,"relations.o2m.meta","translations"))}function Vr(e){var t,n,l,a,d,i;((n=(t=e==null?void 0:e.relations)==null?void 0:t.o2m)==null?void 0:n.collection)&&e.relations.o2m.collection!==((l=e.relations.m2o)==null?void 0:l.collection)&&N.exports.set(e,"relations.m2o.collection",e.relations.o2m.collection),((d=(a=e==null?void 0:e.relations)==null?void 0:a.m2o)==null?void 0:d.collection)&&e.relations.m2o.collection!==((i=e.relations.o2m)==null?void 0:i.collection)&&N.exports.set(e,"relations.o2m.collection",e.relations.m2o.collection)}function Fr(e){let t=0,n=l(t);for(;Uo(n);)t++,n=l(t);return n;function l(a){let d=`${e}_translations`;return d.startsWith("directus_")&&(d="junction_"+d),a?d+"_"+a:d}}var gF=Object.freeze(Object.defineProperty({__proto__:null,applyChanges:yF,removeSchema:hr,setTypeToAlias:gr,prepareRelation:br,updateRelationField:wr,preventCircularConstraint:kr,setJunctionFields:Mo,updateJunctionRelated:$r,generateCollections:Sr,setDefaults:Cr,matchJunctionCollectionName:Vr,getAutomaticJunctionCollectionName:Fr},Symbol.toStringTag,{value:"Module"})),bF=Object.freeze(Object.defineProperty({__proto__:null,global:HV,file:ZV,files:XV,group:xV,m2a:lF,m2m:iF,m2o:sF,o2m:uF,presentation:pF,standard:vF,translations:gF},Symbol.toStringTag,{value:"Module"}));function dl(e,t){var i,r,u,p;const n=Oe(),l=ft(),a=n.getField(e,t),d=l.getRelationsForField(e,t);if(!a)return null;if(d.length===0)return a.type==="alias"?((r=(i=a.meta)==null?void 0:i.special)==null?void 0:r.includes("group"))?"group":"presentation":"standard";if(d.length===1){const f=d[0];return f.related_collection==="directus_files"?"file":f.collection===e&&f.field===t?"m2o":"o2m"}if(d.length===2){if((((u=a.meta)==null?void 0:u.special)||[]).includes("translations"))return"translations";if((((p=a.meta)==null?void 0:p.special)||[]).includes("m2a"))return"m2a";const f=d.find(_=>{var v;return _.collection===e&&_.field===t||_.related_collection===e&&((v=_.meta)==null?void 0:v.one_field)===t});return(f==null?void 0:f.collection)===e&&(f==null?void 0:f.field)===t?"m2o":d[0].related_collection==="directus_files"||d[1].related_collection==="directus_files"?"files":"m2m"}return"standard"}function Pe(e,t){const n=gt();return F({get(){return N.exports.get(n,e,t)},set(l){n.update(N.exports.set({},e,l))}})}const gt=Lt({id:"fieldDetailStore",state:()=>({collection:void 0,editing:"+",field:{field:void 0,type:void 0,schema:{},meta:{}},relations:{m2o:void 0,o2m:void 0},collections:{junction:void 0,related:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0,oneCollectionField:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!0,saving:!1}),actions:{startEditing(e,t,n){if(this.$reset(),this.collection=e,this.field.collection=e,this.editing=t,t!=="+"){const l=Oe(),a=ft();this.field=N.exports.cloneDeep(l.getField(e,t)),this.localType=dl(e,t);const d=N.exports.cloneDeep(a.getRelationsForField(e,t));this.relations.o2m=d.find(i=>{var r;return i.related_collection===e&&((r=i.meta)==null?void 0:r.one_field)===t}),["files","m2m","translations","m2a"].includes(this.localType)?this.relations.m2o=d.find(i=>{var r,u,p;return((r=i.meta)==null?void 0:r.id)!==((p=(u=this.relations.o2m)==null?void 0:u.meta)==null?void 0:p.id)}):this.relations.m2o=d.find(i=>i.collection===e&&i.field===t)}else this.update({localType:n!=null?n:"standard"})},update(e){const t=d=>N.exports.has(e,d)&&N.exports.get(e,d)!==N.exports.get(this,d),n=d=>N.exports.has(e,d)?N.exports.get(e,d):N.exports.get(this,d),l={hasChanged:t,getCurrent:n};t("field.meta.interface")&&(_i(e),vi(e,this)),t("localType")&&(fi(e,this),hi(e),yi(e));const a=n("localType");a&&bF[a].applyChanges(e,this,l),this.$patch(e)},async save(){if(!this.collection||!this.field.field)return;const e=Je(),t=Oe(),n=ft();this.saving=!0;try{await t.upsertField(this.collection,this.editing,this.field);for(const l of Object.values(this.collections))!l||!l.collection||await e.upsertCollection(l==null?void 0:l.collection,l);for(const l of Object.values(this.fields))!l||!l.collection||!l.field||await t.upsertField(l.collection,l.field,l);for(const l of Object.values(this.relations))!l||!l.collection||!l.field||await n.upsertRelation(l.collection,l.field,l);for(const l of Object.keys(this.items))await pe.post(`/items/${l}`,this.items[l]);await t.hydrate()}catch(l){Ie(l)}finally{this.saving=!1}}},getters:{missingConfiguration(e){const t=["field.field","field.type","collection"],n=e.localType;return(n==="files"||n==="m2m"||n==="translations")&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),(n==="file"||n==="m2o")&&t.push("relations.m2o.collection","relations.m2o.field","relations.m2o.related_collection"),n==="o2m"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection"),n==="m2a"&&t.push("relations.o2m.collection","relations.o2m.field","relations.o2m.related_collection","relations.m2o.collection","relations.m2o.field","relations.m2o.meta.one_allowed_collections","relations.m2o.meta.one_collection_field"),t.filter(l=>(N.exports.has(e,l)&&N.exports.isEmpty(N.exports.get(e,l))===!1)===!1)},readyToSave(){return this.missingConfiguration.length===0},interfacesForType(){const{interfaces:e}=kn();return N.exports.orderBy(e.value.filter(t=>{if(t.system===!0)return!1;const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},displaysForType(){const{displays:e}=Il();return N.exports.orderBy(e.value.filter(t=>{const n=t.types.includes(this.field.type||"alias"),l=(t.localTypes||["standard"]).includes(this.localType);return n&&l}),["name"])},generationInfo(){const e=[];for(const t of Object.values(this.collections))!t||!t.collection||e.push({name:t.collection,type:"collection"});for(const t of Object.values(this.fields))!t||!t.collection||!t.field||e.push({name:`${t.collection}.${t.field}`,type:"field"});return e}}}),wF=K({props:{type:{type:String,required:!0},extension:{type:String,default:null},showAdvanced:{type:Boolean,default:!1},options:{type:Object,default:null},modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=gt(),{collection:a,field:d}=ht(l),i=F(()=>{switch(e.type){case"interface":return Pt(e.extension);case"display":return el(e.extension);case"panel":return La(e.extension);default:return null}}),r=F(()=>i.value?i.value.options&&"render"in i.value.options:!1),u=F(()=>{var _;if(r.value===!0)return[];let f;if(e.options)f=e.options;else{if(!i.value)return[];if(!((_=i.value)==null?void 0:_.options))return[];f=i.value.options}return f?Array.isArray(f)?f:e.showAdvanced?[...f.standard,...f.advanced]:f.standard:[]}),p=F({get(){return e.modelValue},set(f){t("update:modelValue",f)}});return{usesCustomComponent:r,extensionInfo:i,optionsValues:p,optionsFields:u,t:n,collection:a,field:d}}});function kF(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-form");return e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("no_options_available")),1)]),_:1})):e.usesCustomComponent===!1?(m(),C(r,{key:1,modelValue:e.optionsValues,"onUpdate:modelValue":t[0]||(t[0]=u=>e.optionsValues=u),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),C(Be(`${e.type}-options-${e.extensionInfo.id}`),{key:2,value:e.optionsValues,collection:e.collection,field:e.field,onInput:t[1]||(t[1]=u=>e.optionsValues=u)},null,8,["value","collection","field"]))}var Wl=z(wF,[["render",kF]]);const $F=K({name:"PanelConfiguration",components:{ExtensionOptions:Wl},props:{panel:{type:Object,default:null}},emits:["cancel","save"],setup(e,{emit:t}){var _,v,y,h,g,b,$,A,V,T,D,O,M,L,j,B,q,G;const{t:n}=Y(),{panels:l}=tl(),a=Vn(),d=Gt({show_header:(v=(_=e.panel)==null?void 0:_.show_header)!=null?v:!0,type:((y=e.panel)==null?void 0:y.type)||void 0,name:(h=e.panel)==null?void 0:h.name,note:(g=e.panel)==null?void 0:g.note,icon:($=(b=e.panel)==null?void 0:b.icon)!=null?$:"insert_chart",color:(A=e.panel)==null?void 0:A.color,width:(T=(V=e.panel)==null?void 0:V.width)!=null?T:void 0,height:(O=(D=e.panel)==null?void 0:D.height)!=null?O:void 0,position_x:(L=(M=e.panel)==null?void 0:M.position_x)!=null?L:1,position_y:(B=(j=e.panel)==null?void 0:j.position_y)!=null?B:1,options:(G=(q=e.panel)==null?void 0:q.options)!=null?G:{}}),i=F(()=>l.value.map(Q=>({text:Q.name,icon:Q.icon,description:Q.description,value:Q.id}))),r=F(()=>La(d.type));ge(r,Q=>{Q?(d.width=Q.minWidth,d.height=Q.minHeight):(d.width=void 0,d.height=void 0)});const u=F(()=>{var Q,ce;return typeof((Q=r.value)==null?void 0:Q.options)=="function"?(ce=r.value)==null?void 0:ce.options(d):null});return{selectItems:i,close,emitSave:p,edits:d,t:n,isOpen:a,setOptionsValues:f,customOptionsFields:u};function p(){t("save",d)}function f(Q){d.options=Q}}}),SF={class:"content"},CF={class:"type-label panel-type-label"},VF={class:"form-grid"},FF={class:"field half-left"},AF={class:"type-label"},IF={class:"field half-right"},EF={class:"type-label"},DF={class:"field half-left"},TF={class:"type-label"},PF={class:"field half-right"},OF={class:"type-label"},LF={class:"field full"},jF={class:"type-label"};function RF(e,t,n,l,a,d){var $,A;const i=c("v-icon"),r=c("v-button"),u=c("v-fancy-select"),p=c("extension-options"),f=c("v-divider"),_=c("v-checkbox"),v=c("v-input"),y=c("interface-select-icon"),h=c("interface-select-color"),g=c("v-drawer"),b=$e("tooltip");return m(),C(g,{"model-value":e.isOpen,title:(($=e.panel)==null?void 0:$.name)||e.t("panel"),subtitle:e.t("panel_options"),icon:((A=e.panel)==null?void 0:A.icon)||"insert_chart",persistent:"",onCancel:t[7]||(t[7]=V=>e.$emit("cancel"))},{actions:s(()=>[x(o(r,{disabled:!e.edits.type,icon:"",rounded:"",onClick:e.emitSave},{default:s(()=>[o(i,{name:"check"})]),_:1},8,["disabled","onClick"]),[[b,e.t("done"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",SF,[S("p",CF,w(e.t("type")),1),o(u,{modelValue:e.edits.type,"onUpdate:modelValue":t[0]||(t[0]=V=>e.edits.type=V),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.edits.type?(m(),C(p,{key:0,modelValue:e.edits.options,"onUpdate:modelValue":t[1]||(t[1]=V=>e.edits.options=V),options:e.customOptionsFields,type:"panel",extension:e.edits.type},null,8,["modelValue","options","extension"])):R("",!0),o(f,{"inline-title":!1,large:""},{icon:s(()=>[o(i,{name:"info"})]),default:s(()=>[P(w(e.t("panel_header")),1)]),_:1}),S("div",VF,[S("div",FF,[S("p",AF,w(e.t("visible")),1),o(_,{modelValue:e.edits.show_header,"onUpdate:modelValue":t[2]||(t[2]=V=>e.edits.show_header=V),block:"",label:e.t("show_header")},null,8,["modelValue","label"])]),S("div",IF,[S("p",EF,w(e.t("name")),1),o(v,{modelValue:e.edits.name,"onUpdate:modelValue":t[3]||(t[3]=V=>e.edits.name=V),nullable:!1,disabled:e.edits.show_header!==!0,placeholder:e.t("panel_name_placeholder")},null,8,["modelValue","disabled","placeholder"])]),S("div",DF,[S("p",TF,w(e.t("icon")),1),o(y,{value:e.edits.icon,disabled:e.edits.show_header!==!0,onInput:t[4]||(t[4]=V=>e.edits.icon=V)},null,8,["value","disabled"])]),S("div",PF,[S("p",OF,w(e.t("color")),1),o(h,{value:e.edits.color,disabled:e.edits.show_header!==!0,width:"half",onInput:t[5]||(t[5]=V=>e.edits.color=V)},null,8,["value","disabled"])]),S("div",LF,[S("p",jF,w(e.t("note")),1),o(v,{modelValue:e.edits.note,"onUpdate:modelValue":t[6]||(t[6]=V=>e.edits.note=V),disabled:e.edits.show_header!==!0,placeholder:e.t("panel_note_placeholder")},null,8,["modelValue","disabled","placeholder"])])])])]),_:1},8,["model-value","title","subtitle","icon"])}var MF=z($F,[["render",RF],["__scopeId","data-v-73e2ac75"]]),UF=wn({id:"insights",name:"$t:insights",icon:"insights",routes:[{name:"insights-overview",path:"",component:VV},{name:"insights-dashboard",path:":primaryKey",component:WV,props:!0,children:[{name:"panel-detail",path:":panelKey",props:!0,components:{detail:MF}}]}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(a=>a.collection==="directus_dashboards"&&a.action==="read")}}),NF=Object.freeze(Object.defineProperty({__proto__:null,default:UF},Symbol.toStringTag,{value:"Module"}));function Ar(){const e=E(),t=E(!1),n=E(),l=F(()=>e.value?{directus:{version:e.value.directus.version},node:{version:e.value.node.version,uptime:wa(e.value.node.uptime*1e3)},os:{type:e.value.os.type,version:e.value.os.version,uptime:wa(e.value.os.uptime*1e3),totalmem:bd(e.value.os.totalmem)}}:null);return e.value||a(),{info:e,parsedInfo:l,loading:t,error:n};async function a(){t.value=!0,n.value=null;try{const d=await pe.get("/server/info");e.value=d.data.data}catch(d){n.value=d}finally{t.value=!1}}}const BF=K({setup(){const{t:e}=Y(),{parsedInfo:t}=Ar(),n=[{icon:"public",name:e("settings_project"),to:"/settings/project"},{icon:"list_alt",name:e("settings_data_model"),to:"/settings/data-model"},{icon:"admin_panel_settings",name:e("settings_permissions"),to:"/settings/roles"},{icon:"bookmark_border",name:e("settings_presets"),to:"/settings/presets"},{icon:"translate",name:e("settings_translation_strings"),to:"/settings/translation-strings"},{icon:"anchor",name:e("settings_webhooks"),to:"/settings/webhooks"}],l=F(()=>{var d,i,r,u,p,f,_,v;const a=new URLSearchParams({template:"bug_report.yml","directus-version":(i=(d=t.value)==null?void 0:d.directus.version)!=null?i:"","node-version":(u=(r=t.value)==null?void 0:r.node.version)!=null?u:"","operating-system":`${(f=(p=t.value)==null?void 0:p.os.type)!=null?f:""} ${(v=(_=t.value)==null?void 0:_.os.version)!=null?v:""}`});return[{icon:"bug_report",name:e("report_bug"),href:`https://github.com/directus/directus/issues/new?${a.toString()}`},{icon:"new_releases",name:e("request_feature"),href:"https://github.com/directus/directus/discussions/new"}]});return{version:wu,navItems:n,externalItems:l}}});function qF(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list");return m(),C(v,{nav:""},{default:s(()=>[(m(!0),I(ae,null,we(e.navItems,y=>(m(),C(f,{key:y.to,to:y.to},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:y.icon},null,8,["name"])]),_:2},1024),o(p,null,{default:s(()=>[o(u,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["to"]))),128)),o(_),(m(!0),I(ae,null,we(e.externalItems,y=>(m(),C(f,{key:y.href,href:y.href},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:y.icon},null,8,["name"])]),_:2},1024),o(p,null,{default:s(()=>[o(u,{text:y.name},null,8,["text"])]),_:2},1024)]),_:2},1032,["href"]))),128)),o(f,{href:"https://github.com/directus/directus/releases",class:"version"},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"directus"})]),_:1}),o(p,null,{default:s(()=>[o(u,{class:"version",text:`Directus ${e.version}`},null,8,["text"])]),_:1})]),_:1})]),_:1})}var Bt=z(BF,[["render",qF],["__scopeId","data-v-d8082bb0"]]);const zF=K({props:{collection:{type:Object,required:!0}},setup(e){const{t}=Y(),n=Je(),{deleting:l,deleteActive:a,deleteCollection:d}=r();return{t,deleting:l,deleteActive:a,deleteCollection:d,update:i};async function i(u){await n.updateCollection(e.collection.collection,u)}function r(){const u=E(!1),p=E(!1);return{deleting:u,deleteActive:p,deleteCollection:f};async function f(){u.value=!0;try{await n.deleteCollection(e.collection.collection),p.value=!1}finally{u.value=!1}}}}}),KF={key:0};function WF(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),_=c("v-menu"),v=c("v-card-title"),y=c("v-button"),h=c("v-card-actions"),g=c("v-card"),b=c("v-dialog");return e.collection.collection.startsWith("directus_")===!1?(m(),I("div",KF,[o(_,{placement:"left-start","show-arrow":""},{activator:s(({toggle:$})=>[o(i,{name:"more_vert",clickable:"",class:"ctx-toggle",onClick:De($,["prevent"])},null,8,["onClick"])]),default:s(()=>[o(f,null,{default:s(()=>[e.collection.schema?(m(),C(p,{key:0,clickable:"",to:`/content/${e.collection.collection}`},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"box"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("goto_collection_content")),1)]),_:1})]),_:1},8,["to"])):R("",!0),o(p,{clickable:"",onClick:t[0]||(t[0]=$=>{var A;return e.update({meta:{hidden:!((A=e.collection.meta)==null?void 0:A.hidden)}})})},{default:s(()=>{var $;return[(($=e.collection.meta)==null?void 0:$.hidden)===!1?(m(),I(ae,{key:0},[o(r,null,{default:s(()=>[o(i,{name:"visibility_off"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.collection.schema?e.t("make_collection_hidden"):e.t("make_folder_hidden")),1)]),_:1})],64)):(m(),I(ae,{key:1},[o(r,null,{default:s(()=>[o(i,{name:"visibility"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.collection.schema?e.t("make_collection_visible"):e.t("make_folder_visible")),1)]),_:1})],64))]}),_:1}),o(p,{clickable:"",class:"danger",onClick:t[1]||(t[1]=$=>e.deleteActive=!0)},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{modelValue:e.deleteActive,"onUpdate:modelValue":t[3]||(t[3]=$=>e.deleteActive=$),onEsc:t[4]||(t[4]=$=>e.deleteActive=null)},{default:s(()=>[o(g,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.collection.schema?e.t("delete_collection_are_you_sure"):e.t("delete_folder_are_you_sure")),1)]),_:1}),o(h,null,{default:s(()=>[o(y,{disabled:e.deleting,secondary:"",onClick:t[2]||(t[2]=$=>e.deleteActive=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["disabled"]),o(y,{loading:e.deleting,kind:"danger",onClick:e.deleteCollection},{default:s(()=>[P(w(e.collection.schema?e.t("delete_collection"):e.t("delete_folder")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):R("",!0)}var Ir=z(zF,[["render",WF],["__scopeId","data-v-f6d0209a"]]);const HF=K({name:"CollectionItem",components:{CollectionOptions:Ir,Draggable:Tt},props:{collection:{type:Object,required:!0},collections:{type:Array,required:!0},disableDrag:{type:Boolean,default:!1}},emits:["setNestedSort","editCollection"],setup(e,{emit:t}){const n=Je(),{t:l}=Y(),a=F(()=>e.collections.filter(_=>{var v;return((v=_.meta)==null?void 0:v.group)===e.collection.collection})),d=F(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return"folder_open";case"closed":return"folder";case"locked":return"folder_lock"}}),i=F(()=>{var _;switch((_=e.collection.meta)==null?void 0:_.collapse){case"open":return l("start_open");case"closed":return l("start_collapsed");case"locked":return l("always_open")}}),r=E(!1);return{collapseIcon:d,onGroupSortChange:f,nestedCollections:a,update:p,toggleCollapse:u,collapseTooltip:i,collapseLoading:r};async function u(){var v,y;if(r.value===!0)return;r.value=!0;let _="open";((v=e.collection.meta)==null?void 0:v.collapse)==="open"?_="closed":((y=e.collection.meta)==null?void 0:y.collapse)==="closed"&&(_="locked");try{await p({meta:{collapse:_}})}catch(h){Ie(h)}finally{r.value=!1}}async function p(_){await n.updateCollection(e.collection.collection,_)}function f(_){const v=_.map(y=>({collection:y.collection,meta:{group:e.collection.collection}}));t("setNestedSort",v)}}}),GF={class:"collection-item"},ZF={class:"collection-item-detail"},JF={key:0,class:"collection-note"};function QF(e,t,n,l,a,d){var h;const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-progress-circular"),p=c("collection-options"),f=c("v-list-item"),_=c("collection-item",!0),v=c("draggable"),y=$e("tooltip");return m(),I("div",GF,[o(f,{block:"",dense:"",clickable:"",class:ue({hidden:(h=e.collection.meta)==null?void 0:h.hidden}),to:e.collection.schema?`/settings/data-model/${e.collection.collection}`:void 0,onClick:t[0]||(t[0]=De(g=>e.collection.schema?null:e.$emit("editCollection",e.collection),["self"]))},{default:s(()=>{var g,b,$,A;return[o(r,null,{default:s(()=>[e.disableDrag?R("",!0):(m(),C(i,{key:0,class:"drag-handle",name:"drag_handle"}))]),_:1}),S("div",ZF,[o(i,{color:((g=e.collection.meta)==null?void 0:g.hidden)?"var(--foreground-subdued)":(b=e.collection.color)!=null?b:"var(--primary)",class:"collection-icon",name:(($=e.collection.meta)==null?void 0:$.hidden)?"visibility_off":e.collection.icon},null,8,["color","name"]),S("span",{ref:"collectionName",class:"collection-name"},w(e.collection.name),513),((A=e.collection.meta)==null?void 0:A.note)?(m(),I("span",JF,w(e.collection.meta.note),1)):R("",!0)]),e.collection.type==="alias"||e.nestedCollections.length?(m(),I(ae,{key:0},[e.collapseLoading?(m(),C(u,{key:0,small:"",indeterminate:""})):e.nestedCollections.length?x((m(),C(i,{key:1,name:e.collapseIcon,clickable:e.nestedCollections.length>0,onClick:De(e.toggleCollapse,["stop","prevent"])},null,8,["name","clickable","onClick"])),[[y,e.collapseTooltip]]):(m(),C(i,{key:2,name:e.collapseIcon},null,8,["name"]))],64)):R("",!0),o(p,{collection:e.collection},null,8,["collection"])]}),_:1},8,["class","to"]),o(v,{"force-fallback":!0,"model-value":e.nestedCollections,group:{name:"collections"},"swap-threshold":.3,class:"drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":e.onGroupSortChange},{item:s(({element:g})=>[o(_,{collection:g,collections:e.collections,onEditCollection:t[1]||(t[1]=b=>e.$emit("editCollection",b)),onSetNestedSort:t[2]||(t[2]=b=>e.$emit("setNestedSort",b))},null,8,["collection","collections"])]),_:1},8,["model-value","swap-threshold","onUpdate:modelValue"])])}var XF=z(HF,[["render",QF],["__scopeId","data-v-6704601c"]]);const YF=K({name:"CollectionDialog",props:{modelValue:{type:Boolean,default:!1},collection:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){var u,p,f,_,v,y,h,g,b,$,A,V;const{t:n}=Y(),l=Je(),a=Gt({collection:(p=(u=e.collection)==null?void 0:u.collection)!=null?p:null,icon:(_=(f=e.collection)==null?void 0:f.icon)!=null?_:"folder",note:(h=(y=(v=e.collection)==null?void 0:v.meta)==null?void 0:y.note)!=null?h:null,color:(b=(g=e.collection)==null?void 0:g.color)!=null?b:null,translations:(V=(A=($=e.collection)==null?void 0:$.meta)==null?void 0:A.translations)!=null?V:null});ge(()=>e.modelValue,(T,D)=>{var O,M,L,j,B,q,G,Q,ce,J,oe,_e;N.exports.isEqual(T,D)===!1&&(a.collection=(M=(O=e.collection)==null?void 0:O.collection)!=null?M:null,a.icon=(j=(L=e.collection)==null?void 0:L.icon)!=null?j:"folder",a.note=(G=(q=(B=e.collection)==null?void 0:B.meta)==null?void 0:q.note)!=null?G:null,a.color=(ce=(Q=e.collection)==null?void 0:Q.color)!=null?ce:null,a.translations=(_e=(oe=(J=e.collection)==null?void 0:J.meta)==null?void 0:oe.translations)!=null?_e:null)});const d=E(!1);return{values:a,cancel:i,saving:d,save:r,t:n};function i(){t("update:modelValue",!1)}async function r(){d.value=!0;try{e.collection?(await pe.patch(`/collections/${e.collection.collection}`,{meta:a}),await l.hydrate()):(await pe.post("/collections",{collection:a.collection,meta:a}),await l.hydrate()),t("update:modelValue",!1)}catch(T){Ie(T)}finally{d.value=!1}}}}),xF={class:"fields"};function eA(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-input"),u=c("interface-select-icon"),p=c("interface-select-color"),f=c("interface-list"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),h=c("v-card"),g=c("v-dialog");return m(),C(g,{"model-value":e.modelValue,persistent:"","onUpdate:modelValue":t[5]||(t[5]=b=>e.$emit("update:modelValue",b)),onEsc:e.cancel},{activator:s(b=>[be(e.$slots,"activator",Qe(et(b)),void 0,!0)]),default:s(()=>[o(h,null,{default:s(()=>[e.collection?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("edit_folder")),1)]),_:1})):(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("create_folder")),1)]),_:1})),o(_,null,{default:s(()=>[S("div",xF,[o(r,{modelValue:e.values.collection,"onUpdate:modelValue":t[0]||(t[0]=b=>e.values.collection=b),disabled:!!e.collection,class:"full collection-key","db-safe":"",autofocus:"",placeholder:e.t("folder_key")},null,8,["modelValue","disabled","placeholder"]),o(u,{width:"half",value:e.values.icon,onInput:t[1]||(t[1]=b=>e.values.icon=b)},null,8,["value"]),o(p,{width:"half",value:e.values.color,onInput:t[2]||(t[2]=b=>e.values.color=b)},null,8,["value"]),o(r,{modelValue:e.values.note,"onUpdate:modelValue":t[3]||(t[3]=b=>e.values.note=b),class:"full",placeholder:e.t("note")},null,8,["modelValue","placeholder"]),o(f,{width:"full",class:"full",value:e.values.translations,placeholder:e.t("no_translations"),template:"{{ translation }} ({{ language }})",fields:[{field:"language",name:"$t:language",type:"string",schema:{default_value:"en-US"},meta:{interface:"system-language",width:"half"}},{field:"translation",name:"$t:field_options.directus_collections.collection_name",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}],onInput:t[4]||(t[4]=b=>e.values.translations=b)},null,8,["value","placeholder","fields"])])]),_:1}),o(y,null,{default:s(()=>[o(v,{secondary:"",onClick:e.cancel},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(v,{disabled:!e.values.collection,loading:e.saving,onClick:e.save},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:3},8,["model-value","onEsc"])}var tA=z(YF,[["render",eA],["__scopeId","data-v-ce1c7cd4"]]);const nA=K({components:{SettingsNavigation:Bt,CollectionItem:XF,CollectionOptions:Ir,Draggable:Tt,CollectionDialog:tA},setup(){const{t:e}=Y(),t=E(!1),n=E(),l=Je(),a=F(()=>It(N.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&p.meta),["meta.sort","collection"]))),d=F(()=>a.value.filter(p=>{var f;return!((f=p.meta)==null?void 0:f.group)})),i=F(()=>It(N.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!1&&!p.meta&&p.schema),["meta.sort","collection"]))),r=F(()=>It(N.exports.sortBy(l.collections.filter(p=>p.collection.startsWith("directus_")===!0).map(p=>Fe(fe({},p),{icon:"settings"})),"collection")));return{collectionDialogActive:t,t:e,collections:a,tableCollections:i,systemCollections:r,onSort:u,rootCollections:d,editCollection:n};async function u(p,f=!1){const _=p.map((v,y)=>{var h;return N.exports.merge(v,{meta:{sort:y+1,group:f?null:(h=v.meta)==null?void 0:h.group}})});l.collections=l.collections.map(v=>{const y=_.find(h=>h.collection===v.collection);return y?N.exports.merge({},v,y):v});try{await Promise.all(_.map(v=>pe.patch(`/collections/${v.collection}`,{meta:{sort:v.meta.sort,group:v.meta.group}})))}catch(v){Ie(v)}}}}),lA={class:"padding-box"},oA={class:"collection-name"},aA={class:"page-description"};function iA(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("collection-dialog"),f=c("settings-navigation"),_=c("v-info"),v=c("collection-item"),y=c("draggable"),h=c("v-list"),g=c("v-list-item-icon"),b=c("router-link"),$=c("collection-options"),A=c("v-list-item"),V=c("v-detail"),T=c("router-view"),D=c("sidebar-detail"),O=c("private-view"),M=$e("tooltip"),L=$e("md");return m(),C(O,{title:e.t("settings_data_model")},{headline:s(()=>[o(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"list_alt"})]),_:1})]),actions:s(()=>[o(p,{modelValue:e.collectionDialogActive,"onUpdate:modelValue":t[0]||(t[0]=j=>e.collectionDialogActive=j)},{activator:s(({on:j})=>[x(o(u,{rounded:"",icon:"",secondary:"",onClick:j},{default:s(()=>[o(r,{name:"create_new_folder"})]),_:2},1032,["onClick"]),[[M,e.t("create_folder"),void 0,{bottom:!0}]])]),_:1},8,["modelValue"]),x(o(u,{rounded:"",icon:"",to:"/settings/data-model/+"},{default:s(()=>[o(r,{name:"add"})]),_:1},512),[[M,e.t("create_collection"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(f)]),sidebar:s(()=>[o(D,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",aA,null,512),[[L,e.t("page_help_settings_datamodel_collections")]])]),_:1},8,["title"])]),default:s(()=>[S("div",lA,[e.collections.length===0?(m(),C(_,{key:0,icon:"box",title:e.t("no_collections")},{append:s(()=>[o(u,{to:"/settings/data-model/+"},{default:s(()=>[P(w(e.t("create_collection")),1)]),_:1})]),default:s(()=>[P(w(e.t("no_collections_copy_admin"))+" ",1)]),_:1},8,["title"])):(m(),C(h,{key:1,class:"draggable-list"},{default:s(()=>[o(y,{"force-fallback":!0,"model-value":e.rootCollections,group:{name:"collections"},"swap-threshold":.3,class:"root-drag-container","item-key":"collection",handle:".drag-handle","onUpdate:modelValue":t[2]||(t[2]=j=>e.onSort(j,!0))},{item:s(({element:j})=>[o(v,{collection:j,collections:e.collections,onEditCollection:t[1]||(t[1]=B=>e.editCollection=B),onSetNestedSort:e.onSort},null,8,["collection","collections","onSetNestedSort"])]),_:1},8,["model-value","swap-threshold"])]),_:1})),o(h,{class:"db-only"},{default:s(()=>[(m(!0),I(ae,null,we(e.tableCollections,j=>x((m(),C(A,{key:j.collection,class:"collection-row hidden",block:"",dense:"",clickable:""},{default:s(()=>[o(g,null,{default:s(()=>[o(r,{name:"add"})]),_:1}),o(b,{class:"collection-name",to:`/settings/data-model/${j.collection}`},{default:s(()=>[o(r,{class:"collection-icon",name:"dns"}),S("span",oA,w(j.name),1)]),_:2},1032,["to"]),o($,{collection:j},null,8,["collection"])]),_:2},1536)),[[M,e.t("db_only_click_to_configure")]])),128))]),_:1}),o(V,{label:e.t("system_collections")},{default:s(()=>[(m(!0),I(ae,null,we(e.systemCollections,j=>(m(),C(v,{key:j.collection,collection:j,collections:e.systemCollections,"disable-drag":""},null,8,["collection","collections"]))),128))]),_:1},8,["label"])]),o(T,{name:"add"}),o(p,{"model-value":!!e.editCollection,collection:e.editCollection,"onUpdate:modelValue":t[3]||(t[3]=j=>e.editCollection=null)},null,8,["model-value","collection"])]),_:1},8,["title"])}var rA=z(nA,[["render",iA],["__scopeId","data-v-6514d6de"]]);function vt(e,t,n){return F({get(){var l,a;return(a=(l=e.value)==null?void 0:l[t])!=null?a:W(n)},set(l){e.value=Object.assign({},e.value,{[t]:l})}})}const sA=K({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=Je(),l=F(()=>!!n.getCollection(e.modelValue)),a=F(()=>N.exports.orderBy(n.collections.filter(i=>i.collection.startsWith("directus_")===!1&&i.schema),["sort","collection"],["asc"])),d=F(()=>N.exports.orderBy(n.crudSafeSystemCollections.filter(i=>i.collection.startsWith("directus_")===!0),["collection"],["asc"]));return{t,collectionExists:l,availableCollections:a,systemCollections:d}}});function dA(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-content"),u=c("v-list-item"),p=c("v-divider"),f=c("v-list-group"),_=c("v-list"),v=c("v-menu"),y=c("v-text-overflow"),h=c("v-input"),g=$e("tooltip");return m(),C(h,{key:"related-collection-select","model-value":e.modelValue,class:ue({matches:e.collectionExists}),"db-safe":"",nullable:!1,disabled:e.disabled,placeholder:e.t("collection")+"...","onUpdate:modelValue":t[0]||(t[0]=b=>e.$emit("update:modelValue",b))},ot({_:2},[e.disabled?void 0:{name:"append",fn:s(()=>[o(v,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:b})=>[x(o(i,{name:"list_alt",clickable:"",disabled:e.disabled,onClick:b},null,8,["disabled","onClick"]),[[g,e.t("select_existing")]])]),default:s(()=>[o(_,{class:"monospace"},{default:s(()=>[(m(!0),I(ae,null,we(e.availableCollections,b=>(m(),C(u,{key:b.collection,active:e.modelValue===b.collection,clickable:"",onClick:$=>e.$emit("update:modelValue",b.collection)},{default:s(()=>[o(r,null,{default:s(()=>[P(w(b.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128)),o(p),o(f,null,{activator:s(()=>[P(w(e.t("system")),1)]),default:s(()=>[(m(!0),I(ae,null,we(e.systemCollections,b=>(m(),C(u,{key:b.collection,active:e.modelValue===b.collection,clickable:"",onClick:$=>e.$emit("update:modelValue",b.collection)},{default:s(()=>[o(r,null,{default:s(()=>[P(w(b.collection),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})])},e.disabled?{name:"input",fn:s(()=>[o(y,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","class","disabled","placeholder"])}var Wn=z(sA,[["render",dA]]);const uA=K({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},collection:{type:String,default:null},typeDenyList:{type:Array,default:()=>[]},placeholder:{type:String,default:()=>Ne.global.t("foreign_key")+"..."},nullable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=Oe(),l=F(()=>e.collection?n.getFieldsForCollectionAlphabetical(e.collection).map(d=>{var i,r;return{text:d.field,value:d.field,disabled:!d.schema||((i=d.schema)==null?void 0:i.is_primary_key)||((r=d.schema)==null?void 0:r.foreign_key_table)||e.typeDenyList.includes(d.type)}}):[]),a=F(()=>!e.collection||!e.modelValue?!1:!!n.getField(e.collection,e.modelValue));return{t,fields:l,fieldExists:a}}});function cA(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-content"),u=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=c("v-text-overflow"),v=c("v-input"),y=$e("tooltip");return m(),C(v,{"model-value":e.modelValue,"db-safe":"",nullable:e.nullable,disabled:e.disabled,placeholder:e.placeholder,class:ue({matches:e.fieldExists}),"onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h))},ot({_:2},[e.fields&&e.fields.length>0&&!e.disabled?{name:"append",fn:s(()=>[o(f,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:h})=>[x(o(i,{name:"list_alt",clickable:"",onClick:h},null,8,["onClick"]),[[y,e.t("select_existing")]])]),default:s(()=>[o(p,{class:"monospace"},{default:s(()=>[(m(!0),I(ae,null,we(e.fields,h=>(m(),C(u,{key:h.value,active:e.modelValue===h.value,disabled:h.disabled,clickable:"",onClick:g=>e.$emit("update:modelValue",h.value)},{default:s(()=>[o(r,null,{default:s(()=>[P(w(h.text),1)]),_:2},1024)]),_:2},1032,["active","disabled","onClick"]))),128))]),_:1})]),_:1})])}:void 0,e.disabled?{name:"input",fn:s(()=>[o(_,{text:e.modelValue},null,8,["text"])])}:void 0]),1032,["model-value","nullable","disabled","placeholder","class"])}var ul=z(uA,[["render",cA]]);const pA=K({components:{RelatedCollectionSelect:Wn,RelatedFieldSelect:ul},props:{localType:{type:String,required:!0}},setup(){const e=Je(),{t}=Y(),n=Pe("relations.m2o.related_collection"),l=Pe("relations.o2m.collection"),a=Pe("relations.o2m.field"),d=Pe("relations.m2o.meta.one_allowed_collections",[]);return{availableCollections:F(()=>N.exports.orderBy([...e.allCollections,{divider:!0},{name:t("system"),selectable:!1,children:e.crudSafeSystemCollections}],["collection"],["asc"])),oneAllowedCollections:d,relatedCollectionM2O:n,o2mCollection:l,o2mField:a,t}}}),mA={class:"relationship"},fA={key:0,class:"field full"},_A={class:"label type-label"},vA={class:"field half-left"},yA={class:"label type-label"},hA={class:"field half-right"},gA={class:"label type-label"},bA={key:2,class:"field full"},wA={class:"label type-label"},kA={key:3,class:"field full"},$A={class:"label type-label"},SA={key:4,class:"field full"},CA={class:"label type-label"};function VA(e,t,n,l,a,d){const i=c("v-icon"),r=c("related-collection-select"),u=c("related-field-select"),p=c("v-select"),f=$e("tooltip");return m(),I("div",mA,[e.localType==="m2o"?(m(),I("div",fA,[S("div",_A,[P(w(e.t("related_collection"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[0]||(t[0]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):e.localType==="o2m"?(m(),I(ae,{key:1},[S("div",vA,[S("div",yA,[P(w(e.t("related_collection"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(r,{modelValue:e.o2mCollection,"onUpdate:modelValue":t[1]||(t[1]=_=>e.o2mCollection=_)},null,8,["modelValue"])]),S("div",hA,[S("div",gA,[P(w(e.t("foreign_key"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(u,{modelValue:e.o2mField,"onUpdate:modelValue":t[2]||(t[2]=_=>e.o2mField=_),collection:e.o2mCollection,disabled:!e.o2mCollection},null,8,["modelValue","collection","disabled"])])],64)):R("",!0),e.localType==="m2m"?(m(),I("div",bA,[S("div",wA,[P(w(e.t("related_collection"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[3]||(t[3]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):R("",!0),e.localType==="translations"?(m(),I("div",kA,[S("div",$A,[P(w(e.t("languages_collection"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(r,{modelValue:e.relatedCollectionM2O,"onUpdate:modelValue":t[4]||(t[4]=_=>e.relatedCollectionM2O=_)},null,8,["modelValue"])])):R("",!0),e.localType==="m2a"?(m(),I("div",SA,[S("div",CA,[P(w(e.t("related_collections"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[f,e.t("required")]])]),o(p,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[5]||(t[5]=_=>e.oneAllowedCollections=_),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])])):R("",!0)])}var FA=z(pA,[["render",VA],["__scopeId","data-v-46184414"]]);const AA=K({components:{ExtensionOptions:Wl,RelationshipConfiguration:FA},props:{row:{type:Number,default:null},chosenInterface:{type:String,required:!0}},emits:["save","toggleAdvanced"],setup(e){const t=gt(),{readyToSave:n,saving:l,localType:a}=ht(t),{t:d}=Y(),i=F(()=>Pt(e.chosenInterface)),r=F(()=>i.value?i.value.types.map(V=>({text:d(V),value:V})):[]),u=F(()=>r.value.length===1||a.value!=="standard"),p=Pe("field.field"),f=Pe("field.type"),_=Pe("field.schema.default_value"),v=Pe("field.meta.required",!1),y=Pe("field.meta.note"),{interfaces:h}=kn(),g=F(()=>h.value.filter(V=>V.hideLabel===!0).map(V=>V.id)),b=F(()=>Pt(e.chosenInterface)),$=F(()=>{var V,T;return typeof((V=b.value)==null?void 0:V.options)=="function"?(T=b.value)==null?void 0:T.options(t):null});ge(i,(V,T)=>{if(!!i.value)if(g.value.includes(i.value.id)){const D=i.value.id.includes("-")?i.value.id.split("-")[1]:i.value.id;p.value=`${D}-${$t(6).toLowerCase()}`}else T&&g.value.includes(T.id)&&(p.value=null)},{immediate:!0});const A=F({get(){var V,T;return(T=(V=t.field.meta)==null?void 0:V.options)!=null?T:{}},set(V){t.$patch(T=>{var D;T.field.meta=Fe(fe({},(D=T.field.meta)!=null?D:{}),{options:V})})}});return{key:p,t:d,type:f,typeDisabled:u,typeOptions:r,defaultValue:_,required:v,note:y,interfaceIdsWithHiddenLabel:g,readyToSave:n,saving:l,localType:a,customOptionsFields:$,options:A}}}),IA={class:"setup"},EA={class:"schema"},DA={class:"field half-left"},TA={class:"label type-label"},PA={class:"field half-right"},OA={class:"label type-label"},LA={class:"field half-left"},jA={class:"label type-label"},RA={class:"field half-right"},MA={class:"label type-label"};function UA(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-select"),p=c("v-checkbox"),f=c("relationship-configuration"),_=c("v-divider"),v=c("extension-options"),y=c("v-button"),h=$e("tooltip");return m(),I("div",{class:"field-configuration",style:We({"grid-row":e.row})},[S("div",IA,[e.chosenInterface&&!e.interfaceIdsWithHiddenLabel.includes(e.chosenInterface)?(m(),I(ae,{key:0},[S("div",EA,[S("div",DA,[S("div",TA,[P(w(e.t("key"))+" ",1),x(o(i,{class:"required-mark",sup:"",name:"star"},null,512),[[h,e.t("required")]])]),o(r,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=g=>e.key=g),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",PA,[S("div",OA,w(e.t("type")),1),o(u,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=g=>e.type=g),items:e.typeOptions,disabled:e.typeDisabled},null,8,["modelValue","items","disabled"])]),S("div",LA,[S("div",jA,w(e.t("default_value")),1),e.type==="boolean"?(m(),C(p,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[2]||(t[2]=g=>e.defaultValue=g),block:"",label:e.t("enabled")},null,8,["modelValue","label"])):(m(),C(r,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[3]||(t[3]=g=>e.defaultValue=g),class:"monospace",placeholder:"NULL"},null,8,["modelValue"]))]),S("div",RA,[S("div",MA,w(e.t("required")),1),o(p,{modelValue:e.required,"onUpdate:modelValue":t[4]||(t[4]=g=>e.required=g),block:"",label:e.t("require_value_to_be_set")},null,8,["modelValue","label"])])]),o(f,{"local-type":e.localType},null,8,["local-type"]),o(_,{inline:""})],64)):R("",!0),o(v,{modelValue:e.options,"onUpdate:modelValue":t[5]||(t[5]=g=>e.options=g),type:"interface",extension:e.chosenInterface,options:e.customOptionsFields},null,8,["modelValue","extension","options"]),o(y,{class:"save","full-width":"",disabled:!e.readyToSave,loading:e.saving,onClick:t[6]||(t[6]=g=>e.$emit("save"))},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading"]),S("button",{class:"toggle-advanced",onClick:t[7]||(t[7]=g=>e.$emit("toggleAdvanced"))},w(e.t("continue_in_advanced_field_creation_mode")),1)])],4)}var NA=z(AA,[["render",UA],["__scopeId","data-v-e1359cca"]]);const BA=K({components:{FieldConfiguration:NA},props:{collection:{type:Object,required:!0}},emits:["save","toggleAdvanced"],setup(e){const{collection:t}=ze(e),{t:n}=Y(),l=gt();ge(t,()=>l.update({collection:t.value.collection}),{immediate:!0});const{interfaces:a}=kn(),d=F(()=>N.exports.orderBy(a.value.filter(_=>!_.system),["order"])),i=F(()=>[{key:"standard",name:n("interface_group_text_and_numbers"),interfaces:d.value.filter(_=>_.group==="standard")},{key:"selection",name:n("interface_group_selection"),interfaces:d.value.filter(_=>_.group==="selection")},{key:"relational",name:n("interface_group_relational"),interfaces:d.value.filter(_=>_.group==="relational")},{key:"presentation",name:n("interface_group_presentation"),interfaces:d.value.filter(_=>_.group==="presentation")},{key:"group",name:n("interface_group_groups"),interfaces:d.value.filter(_=>_.group==="group")},{key:"other",name:n("interface_group_other"),interfaces:d.value.filter(_=>_.group==="other")}]),r=Pe("field.meta.interface"),u=F(()=>{if(!r.value)return null;let _=null;if(i.value.forEach(h=>{const g=h.interfaces.findIndex(b=>b.id===r.value);g!==-1&&(_=g)}),_===null)return null;const v=window.innerWidth;let y=1;return v>400&&(y=2),v>600&&(y=3),v>840&&(y=4),Math.ceil((_+1)/y)+1});return{t:n,interfaces:a,groups:i,isSVG:p,syncRefProperty:vt,chosenInterface:r,configRow:u,toggleInterface:f};function p(_){return _.startsWith("<svg")}function f(_){r.value===_?r.value=null:r.value=_}}}),qA={class:"content"},zA={class:"grid"},KA=["onClick"],WA={class:"preview"},HA=["innerHTML"],GA=["src"],ZA={key:1,class:"fallback"};function JA(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-text-overflow"),u=c("field-configuration"),p=c("transition-expand");return m(),I("div",qA,[(m(!0),I(ae,null,we(e.groups,f=>(m(),I("div",{key:f.key,class:"group"},[S("h2",null,w(f.name),1),S("div",zA,[(m(!0),I(ae,null,we(f.interfaces,_=>(m(),I("button",{key:_.id,class:ue(["interface",{active:e.chosenInterface===_.id,gray:e.chosenInterface&&e.chosenInterface!==_.id}]),onClick:v=>e.toggleInterface(_.id)},[S("div",WA,[_.preview?(m(),I(ae,{key:0},[e.isSVG(_.preview)?(m(),I("span",{key:0,innerHTML:_.preview},null,8,HA)):(m(),I("img",{key:1,src:_.preview,alt:""},null,8,GA))],64)):(m(),I("span",ZA,[o(i,{large:"",name:_.icon},null,8,["name"])]))]),o(r,{text:_.name,class:"name"},null,8,["text"])],10,KA))),128)),o(p,null,{default:s(()=>[e.chosenInterface&&!!f.interfaces.some(_=>_.id===e.chosenInterface)?(m(),C(u,{key:0,row:e.configRow,"chosen-interface":e.chosenInterface,onSave:t[0]||(t[0]=_=>e.$emit("save")),onToggleAdvanced:t[1]||(t[1]=_=>e.$emit("toggleAdvanced"))},null,8,["row","chosen-interface"])):R("",!0)]),_:2},1024)])]))),128))])}var QA=z(BA,[["render",JA],["__scopeId","data-v-ac90bd84"]]);const XA=[{text:"$t:string",value:"string"},{text:"$t:text",value:"text"},{divider:!0},{text:"$t:boolean",value:"boolean"},{divider:!0},{text:"$t:integer",value:"integer"},{text:"$t:bigInteger",value:"bigInteger"},{text:"$t:float",value:"float"},{text:"$t:decimal",value:"decimal"},{divider:!0},{text:"$t:timestamp",value:"timestamp"},{text:"$t:datetime",value:"dateTime"},{text:"$t:date",value:"date"},{text:"$t:time",value:"time"},{divider:!0},{text:"$t:json",value:"json"},{text:"$t:csv",value:"csv"},{text:"$t:uuid",value:"uuid"},{text:"$t:hash",value:"hash"},{divider:!0},{text:"$t:geometry",value:"geometry"},{text:"$t:geometry.Point",value:"geometry.Point"},{text:"$t:geometry.LineString",value:"geometry.LineString"},{text:"$t:geometry.Polygon",value:"geometry.Polygon"},{text:"$t:geometry.MultiPoint",value:"geometry.MultiPoint"},{text:"$t:geometry.MultiLineString",value:"geometry.MultiLineString"},{text:"$t:geometry.MultiPolygon",value:"geometry.MultiPolygon"}],YA=K({setup(){const e=gt(),{localType:t,relations:n,editing:l}=ht(e),a=F(()=>l.value!=="+"),d=Pe("field.type"),i=Pe("field.schema.default_value"),r=Pe("field.field"),u=Pe("field.meta.special"),p=Pe("field.schema.max_length"),f=Pe("field.schema.numeric_precision"),_=Pe("field.schema.is_nullable",!0),v=Pe("field.schema.is_unique",!1),y=Pe("field.schema.numeric_scale"),{t:h}=Y(),g=F(()=>It(XA)),b=F(()=>t.value!=="standard"),$=F(()=>t.value==="m2o"?h("determined_by_relationship"):h("choose_a_type")),{onCreateOptions:A,onCreateValue:V}=B(),{onUpdateOptions:T,onUpdateValue:D}=q(),O=F(()=>["uuid","date","time","dateTime","timestamp"].includes(d.value)&&t.value!=="file"),M=F(()=>!e.field.schema),L=F(()=>{var G;return((G=e.field.schema)==null?void 0:G.is_primary_key)===!0}),j=F(()=>{var G;return(G=e.field.schema)==null?void 0:G.is_generated});return{t:h,typesWithLabels:g,GEOMETRY_TYPES:Ka,typeDisabled:b,typePlaceholder:$,defaultValue:i,onCreateOptions:A,onCreateValue:V,onUpdateOptions:T,onUpdateValue:D,hasCreateUpdateTriggers:O,field:r,isAlias:M,type:d,maxLength:p,numericPrecision:f,numericScale:y,special:u,nullable:_,unique:v,isPrimaryKey:L,isExisting:a,isGenerated:j};function B(){const G=["uuid","user-created","role-created","date-created"],Q=F(()=>{var J,oe;if(d.value==="uuid"){const _e=[{text:h("do_nothing"),value:null},{text:h("generate_and_save_uuid"),value:"uuid"},{text:h("save_current_user_id"),value:"user-created"},{text:h("save_current_user_role"),value:"role-created"}];return t.value==="m2o"&&((J=n.value.m2o)==null?void 0:J.related_collection)==="directus_users"?_e.filter(({value:me})=>[null,"user-created"].includes(me)):t.value==="m2o"&&((oe=n.value.m2o)==null?void 0:oe.related_collection)==="directus_roles"?_e.filter(({value:me})=>[null,"role-created"].includes(me)):_e}else if(["date","time","dateTime","timestamp"].includes(d.value))return[{text:h("do_nothing"),value:null},{text:h("save_current_datetime"),value:"date-created"}];return[]}),ce=F({get(){var oe;const J=(oe=u.value)!=null?oe:[];for(const _e of G)if(J.includes(_e))return _e;return null},set(J){var oe,_e;typeof u.value=="string"&&(u.value=[]),u.value=((oe=u.value)!=null?oe:[]).filter(me=>G.includes(me)===!1),J&&(u.value=[...(_e=u.value)!=null?_e:[],J]),u.value&&u.value.length===0&&(u.value=null)}});return{onCreateSpecials:G,onCreateOptions:Q,onCreateValue:ce}}function q(){const G=["user-updated","role-updated","date-updated"],Q=F(()=>{var J,oe;if(d.value==="uuid"){const _e=[{text:h("do_nothing"),value:null},{text:h("save_current_user_id"),value:"user-updated"},{text:h("save_current_user_role"),value:"role-updated"}];return t.value==="m2o"&&((J=n.value.m2o)==null?void 0:J.related_collection)==="directus_users"?_e.filter(({value:me})=>[null,"user-updated"].includes(me)):t.value==="m2o"&&((oe=n.value.m2o)==null?void 0:oe.related_collection)==="directus_roles"?_e.filter(({value:me})=>[null,"role-updated"].includes(me)):_e}else if(["date","time","dateTime","timestamp"].includes(d.value))return[{text:h("do_nothing"),value:null},{text:h("save_current_datetime"),value:"date-updated"}];return[]}),ce=F({get(){var oe;const J=(oe=u.value)!=null?oe:[];for(const _e of G)if(J.includes(_e))return _e;return null},set(J){var oe,_e;typeof u.value=="string"&&(u.value=[]),u.value=((oe=u.value)!=null?oe:[]).filter(me=>G.includes(me)===!1),J&&(u.value=[...(_e=u.value)!=null?_e:[],J]),u.value&&u.value.length===0&&(u.value=null)}});return{onUpdateSpecials:G,onUpdateOptions:Q,onUpdateValue:ce}}}}),xA={class:"form"},e7={class:"field"},t7={class:"label type-label"},n7={class:"note"},l7={class:"field half"},o7={class:"label type-label"},a7={key:0,class:"field half"},i7={class:"label type-label"},r7={key:0,class:"field half"},s7={class:"label type-label"},d7={class:"precision-scale"},u7={class:"field half-left"},c7={class:"label type-label"},p7={class:"field half-right"},m7={class:"label type-label"},f7={key:3,class:"field full"},_7={class:"label type-label"},v7={key:4,class:"field half-left"},y7={class:"label type-label"},h7={key:5,class:"field half-right"},g7={class:"label type-label"};function b7(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-select"),p=c("v-textarea"),f=c("interface-input-code"),_=c("v-checkbox");return m(),I("div",null,[S("div",xA,[S("div",e7,[S("div",t7,[P(w(e.t("key"))+" ",1),o(i,{class:"required",sup:"",name:"star"})]),o(r,{modelValue:e.field,"onUpdate:modelValue":t[0]||(t[0]=v=>e.field=v),disabled:e.isExisting,autofocus:"",class:"monospace",nullable:!1,"db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","disabled","placeholder"]),S("small",n7,w(e.t("schema_setup_key")),1)]),S("div",l7,[S("div",o7,[P(w(e.t("type"))+" ",1),o(i,{class:"required",sup:"",name:"star"})]),e.isAlias?(m(),C(r,{key:0,"model-value":e.t("alias"),disabled:""},null,8,["model-value"])):(m(),C(u,{key:1,modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=v=>e.type=v),disabled:e.typeDisabled||e.isExisting,items:e.typesWithLabels,placeholder:e.typePlaceholder},null,8,["modelValue","disabled","items","placeholder"]))]),["decimal","float"].includes(e.type)===!1?(m(),I(ae,{key:0},[e.isAlias?R("",!0):(m(),I("div",a7,[S("div",i7,w(e.t("length")),1),o(r,{modelValue:e.maxLength,"onUpdate:modelValue":t[2]||(t[2]=v=>e.maxLength=v),type:"number",min:1,placeholder:e.type!=="string"?e.t("not_available_for_type"):"255",disabled:e.isExisting||e.type!=="string"},null,8,["modelValue","placeholder","disabled"])]))],64)):(m(),I(ae,{key:1},[e.isAlias?R("",!0):(m(),I("div",r7,[S("div",s7,w(e.t("precision_scale")),1),S("div",d7,[o(r,{modelValue:e.numericPrecision,"onUpdate:modelValue":t[3]||(t[3]=v=>e.numericPrecision=v),type:"number",placeholder:10},null,8,["modelValue"]),o(r,{modelValue:e.numericScale,"onUpdate:modelValue":t[4]||(t[4]=v=>e.numericScale=v),type:"number",placeholder:5},null,8,["modelValue"])])]))],64)),e.hasCreateUpdateTriggers?(m(),I(ae,{key:2},[S("div",u7,[S("div",c7,w(e.t("on_create")),1),o(u,{modelValue:e.onCreateValue,"onUpdate:modelValue":t[5]||(t[5]=v=>e.onCreateValue=v),items:e.onCreateOptions},null,8,["modelValue","items"])]),S("div",p7,[S("div",m7,w(e.t("on_update")),1),o(u,{modelValue:e.onUpdateValue,"onUpdate:modelValue":t[6]||(t[6]=v=>e.onUpdateValue=v),items:e.onUpdateOptions},null,8,["modelValue","items"])])],64)):R("",!0),!e.isAlias&&!e.isPrimaryKey&&!e.isGenerated?(m(),I("div",f7,[S("div",_7,w(e.t("default_value")),1),["string","uuid"].includes(e.type)?(m(),C(r,{key:0,modelValue:e.defaultValue,"onUpdate:modelValue":t[7]||(t[7]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["text"].includes(e.type)?(m(),C(p,{key:1,modelValue:e.defaultValue,"onUpdate:modelValue":t[8]||(t[8]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["integer","bigInteger","float","decimal"].includes(e.type)?(m(),C(r,{key:2,modelValue:e.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=v=>e.defaultValue=v),type:"number",class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):["timestamp","dateTime","date","time"].includes(e.type)?(m(),C(r,{key:3,modelValue:e.defaultValue,"onUpdate:modelValue":t[10]||(t[10]=v=>e.defaultValue=v),class:"monospace",placeholder:"NULL"},null,8,["modelValue"])):e.type==="boolean"?(m(),C(u,{key:4,modelValue:e.defaultValue,"onUpdate:modelValue":t[11]||(t[11]=v=>e.defaultValue=v),class:"monospace",items:[{text:"true",value:!0},{text:"false",value:!1},{text:"NULL",value:null}]},null,8,["modelValue"])):e.type==="json"?(m(),C(f,{key:5,value:e.defaultValue||"",language:"JSON",placeholder:"NULL",type:"json",onInput:t[12]||(t[12]=v=>e.defaultValue=v)},null,8,["value"])):(m(),C(r,{key:6,modelValue:e.defaultValue,"onUpdate:modelValue":t[13]||(t[13]=v=>e.defaultValue=v),class:"monospace",disabled:"",placeholder:"NULL"},null,8,["modelValue"]))])):R("",!0),e.isAlias?R("",!0):(m(),I("div",v7,[S("div",y7,w(e.t("nullable")),1),o(_,{modelValue:e.nullable,"onUpdate:modelValue":t[14]||(t[14]=v=>e.nullable=v),disabled:e.isGenerated,label:e.t("allow_null_value"),block:""},null,8,["modelValue","disabled","label"])])),e.isAlias?R("",!0):(m(),I("div",h7,[S("div",g7,w(e.t("unique")),1),o(_,{modelValue:e.unique,"onUpdate:modelValue":t[15]||(t[15]=v=>e.unique=v),disabled:e.isGenerated,label:e.t("value_unique"),block:""},null,8,["modelValue","disabled","label"])]))])])}var w7=z(YA,[["render",b7],["__scopeId","data-v-42eeca0f"]]);const k7=K({components:{RelatedCollectionSelect:Wn},setup(){const{t:e}=Y(),t=gt(),n=Oe(),l=Pe("relations.m2o.related_collection"),a=Pe("fields.corresponding"),d=Pe("fields.corresponding.field"),i=Pe("relations.m2o.schema.on_delete"),{field:r,collection:u,editing:p,generationInfo:f}=ht(t),_=F(()=>p.value!=="+"),v=F(()=>{var $,A;return(A=($=n.getPrimaryKeyFieldForCollection(l.value))==null?void 0:$.field)!=null?A:"id"}),y=F(()=>r.value.field),h=F({get(){return!!a.value},set($){$?a.value={field:u.value,collection:l.value,type:"alias",meta:{special:["o2m"],interface:"list-o2m"}}:a.value=null}}),g=F(()=>l.value?e("add_o2m_to_collection",{collection:l.value}):e("add_field_related")),b=F(()=>[{text:e("referential_action_set_null",{field:y.value}),value:"SET NULL"},{text:e("referential_action_set_default",{field:y.value}),value:"SET DEFAULT"},{text:e("referential_action_cascade",{collection:u.value,field:y.value}),value:"CASCADE"},{text:e("referential_action_no_action",{field:y.value}),value:"NO ACTION"}].filter($=>{var A;return!($.value==="SET NULL"&&((A=r.value.schema)==null?void 0:A.is_nullable)===!1)}));return{t:e,collection:u,relatedCollection:l,isExisting:_,relatedPrimaryKey:v,currentField:y,hasCorresponding:h,correspondingLabel:g,correspondingFieldKey:d,generationInfo:f,onDeleteRelated:i,onDeleteOptions:b}}}),$7={class:"grid"},S7={class:"field"},C7={class:"type-label"},V7={class:"field"},F7={class:"type-label"},A7={key:1,class:"grid"},I7={class:"field"},E7={class:"type-label"},D7={class:"field"},T7={class:"type-label"},P7={class:"relational-triggers"},O7={class:"field"},L7={class:"type-label"},j7={class:"field-name"};function R7(e,t,n,l,a,d){const i=c("v-input"),r=c("related-collection-select"),u=c("v-icon"),p=c("v-divider"),f=c("v-checkbox"),_=c("v-select"),v=c("v-notice");return m(),I("div",null,[S("div",$7,[S("div",S7,[S("div",C7,w(e.t("this_collection")),1),o(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",V7,[S("div",F7,w(e.t("related_collection")),1),o(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),o(i,{disabled:"","model-value":e.currentField},null,8,["model-value"]),o(i,{"model-value":e.relatedPrimaryKey,disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["model-value","placeholder"]),o(u,{class:"arrow",name:"arrow_back"})]),e.isExisting?R("",!0):(m(),C(p,{key:0,large:"","inline-title":!1},{default:s(()=>[P(w(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",A7,[S("div",I7,[S("div",E7,w(e.t("create_field")),1),o(f,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[1]||(t[1]=y=>e.hasCorresponding=y),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",D7,[S("div",T7,w(e.t("field_name")),1),o(i,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[2]||(t[2]=y=>e.correspondingFieldKey=y),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),o(u,{name:"arrow_forward",class:"arrow"})])),S("div",P7,[o(p,{class:"field full",large:"","inline-title":!1},{default:s(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),S("div",O7,[S("div",L7,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(_,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeleteRelated=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:e.onDeleteOptions},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(v,{key:2,class:"generated-data",type:"warning"},{default:s(()=>[S("span",null,[P(w(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(ae,null,we(e.generationInfo,(y,h)=>(m(),I("li",{key:h},[S("span",j7,w(y.name),1)]))),128))])])]),_:1})):R("",!0)])}var M7=z(k7,[["render",R7],["__scopeId","data-v-f6066574"]]);const U7=K({components:{RelatedCollectionSelect:Wn,RelatedFieldSelect:ul},setup(){const{t:e}=Y(),t=gt(),n=Oe(),l=Pe("relations.o2m.collection"),a=Pe("relations.o2m.field"),d=Pe("relations.o2m.meta.sort_field"),i=Pe("relations.o2m.schema.on_delete"),r=Pe("relations.o2m.meta.one_deselect_action"),{collection:u,editing:p,generationInfo:f}=ht(t),_=F(()=>p.value!=="+"),v=F(()=>{var y;return(y=n.getPrimaryKeyFieldForCollection(u.value))==null?void 0:y.field});return{t:e,isExisting:_,collection:u,relatedCollection:l,currentPrimaryKey:v,relatedField:a,generationInfo:f,sortField:d,onDelete:i,onDeselect:r}}}),N7={class:"grid"},B7={class:"field"},q7={class:"type-label"},z7={class:"field"},K7={class:"type-label"},W7={class:"sort-field"},H7={class:"relational-triggers"},G7={class:"field"},Z7={class:"type-label"},J7={class:"field"},Q7={class:"type-label"},X7={class:"field-name"};function Y7(e,t,n,l,a,d){const i=c("v-input"),r=c("related-collection-select"),u=c("related-field-select"),p=c("v-icon"),f=c("v-divider"),_=c("v-select"),v=c("v-notice");return m(),I("div",null,[S("div",N7,[S("div",B7,[S("div",q7,w(e.t("this_collection")),1),o(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",z7,[S("div",K7,w(e.t("related_collection")),1),o(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.relatedCollection=y),disabled:e.isExisting},null,8,["modelValue","disabled"])]),o(i,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(u,{modelValue:e.relatedField,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedField=y),collection:e.relatedCollection},null,8,["modelValue","collection"]),o(p,{class:"arrow",name:"arrow_forward"})]),S("div",W7,[o(f,{large:"","inline-title":!1},{default:s(()=>[P(w(e.t("sort_field")),1)]),_:1}),o(u,{modelValue:e.sortField,"onUpdate:modelValue":t[2]||(t[2]=y=>e.sortField=y),collection:e.relatedCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",H7,[o(f,{class:"field full",large:"","inline-title":!1},{default:s(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),S("div",G7,[S("div",Z7,w(e.t("referential_action_field_label_o2m",{collection:e.relatedCollection||"related"})),1),o(_,{modelValue:e.onDeselect,"onUpdate:modelValue":t[3]||(t[3]=y=>e.onDeselect=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.relatedCollection,field:e.relatedField}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",J7,[S("div",Q7,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(_,{modelValue:e.onDelete,"onUpdate:modelValue":t[4]||(t[4]=y=>e.onDelete=y),disabled:e.collection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.relatedField}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.relatedField}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.collection,field:e.relatedField}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(v,{key:0,class:"generated-data",type:"warning"},{default:s(()=>[S("span",null,[P(w(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(ae,null,we(e.generationInfo,(y,h)=>(m(),I("li",{key:h},[S("span",X7,w(y.name),1)]))),128))])])]),_:1})):R("",!0)])}var x7=z(U7,[["render",Y7],["__scopeId","data-v-bb6d41dc"]]);const eI=K({components:{RelatedCollectionSelect:Wn,RelatedFieldSelect:ul},setup(){const{t:e}=Y(),t=gt(),n=Oe(),{field:l,collection:a,editing:d,generationInfo:i}=ht(t),r=Pe("relations.o2m.meta.sort_field"),u=Pe("relations.o2m.collection"),p=Pe("relations.o2m.field"),f=Pe("relations.m2o.field"),_=Pe("relations.m2o.related_collection"),v=Pe("autoGenerateJunctionRelation"),y=Pe("relations.o2m.schema.on_delete"),h=Pe("relations.m2o.schema.on_delete"),g=Pe("relations.o2m.meta.one_deselect_action"),b=Pe("fields.corresponding"),$=Pe("fields.corresponding.field"),A=F(()=>l.value.type),V=F(()=>d.value!=="+"),T=F(()=>{var L;return(L=n.getPrimaryKeyFieldForCollection(a.value))==null?void 0:L.field}),D=F(()=>{var L,j;return(j=(L=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:L.field)!=null?j:"id"}),O=F({get(){return!!b.value},set(L){L?b.value={field:a.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:b.value=null}}),M=F(()=>u.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related"));return{t:e,autoGenerateJunctionRelation:v,collection:a,type:A,isExisting:V,junctionCollection:u,junctionFieldCurrent:p,relatedCollection:_,sortField:r,currentPrimaryKey:T,junctionFieldRelated:f,relatedPrimaryKey:D,onDeleteCurrent:y,onDeleteRelated:h,deselectAction:g,hasCorresponding:O,correspondingLabel:M,correspondingFieldKey:$,generationInfo:i}}}),Bo=e=>(Xe("data-v-2ef7c0d9"),e=e(),Ye(),e),tI={class:"grid"},nI={class:"field"},lI={class:"type-label"},oI={class:"field"},aI={class:"type-label"},iI={class:"field"},rI={class:"type-label"},sI=Bo(()=>S("div",{class:"spacer"},null,-1)),dI=Bo(()=>S("div",{class:"spacer"},null,-1)),uI=Bo(()=>S("div",{class:"spacer"},null,-1)),cI={key:1,class:"corresponding"},pI={class:"field"},mI={class:"type-label"},fI={class:"field"},_I={class:"type-label"},vI={class:"sort-field"},yI={class:"relational-triggers"},hI={class:"field"},gI={class:"type-label"},bI={class:"field"},wI={class:"type-label"},kI={class:"field"},$I={class:"type-label"},SI={class:"field-name"};function CI(e,t,n,l,a,d){const i=c("v-input"),r=c("related-collection-select"),u=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),v=c("v-select"),y=c("v-notice");return m(),I("div",null,[S("div",tI,[S("div",nI,[S("div",lI,w(e.t("this_collection")),1),o(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",oI,[S("div",aI,w(e.t("junction_collection")),1),o(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=h=>e.junctionCollection=h),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",iI,[S("div",rI,w(e.t("related_collection")),1),o(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=h=>e.relatedCollection=h),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),o(i,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(u,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=h=>e.junctionFieldCurrent=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),sI,dI,o(u,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=h=>e.junctionFieldRelated=h),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),o(i,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=h=>e.relatedPrimaryKey=h),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),uI,e.isExisting?R("",!0):(m(),C(p,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=h=>e.autoGenerateJunctionRelation=h),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),o(f,{class:"arrow",name:"arrow_forward"}),o(f,{class:"arrow",name:"arrow_backward"})]),e.isExisting?R("",!0):(m(),C(_,{key:0,large:"","inline-title":!1},{default:s(()=>[P(w(e.t("corresponding_field")),1)]),_:1})),e.isExisting?R("",!0):(m(),I("div",cI,[S("div",pI,[S("div",mI,w(e.t("create_field")),1),o(p,{modelValue:e.hasCorresponding,"onUpdate:modelValue":t[6]||(t[6]=h=>e.hasCorresponding=h),block:"",label:e.correspondingLabel},null,8,["modelValue","label"])]),S("div",fI,[S("div",_I,w(e.t("field_name")),1),o(i,{modelValue:e.correspondingFieldKey,"onUpdate:modelValue":t[7]||(t[7]=h=>e.correspondingFieldKey=h),disabled:e.hasCorresponding===!1,placeholder:e.t("field_name")+"...","db-safe":""},null,8,["modelValue","disabled","placeholder"])]),o(f,{name:"arrow_forward",class:"arrow"})])),S("div",vI,[o(_,{large:"","inline-title":!1},{default:s(()=>[P(w(e.t("sort_field")),1)]),_:1}),o(u,{modelValue:e.sortField,"onUpdate:modelValue":t[8]||(t[8]=h=>e.sortField=h),collection:e.junctionCollection,placeholder:e.t("add_sort_field")+"...",nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",yI,[o(_,{class:"field full",large:"","inline-title":!1},{default:s(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),S("div",hI,[S("div",gI,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),o(v,{modelValue:e.deselectAction,"onUpdate:modelValue":t[9]||(t[9]=h=>e.deselectAction=h),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",bI,[S("div",wI,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(v,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[10]||(t[10]=h=>e.onDeleteCurrent=h),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",kI,[S("div",$I,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[11]||(t[11]=h=>e.onDeleteRelated=h),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(y,{key:2,class:"generated-data",type:"warning"},{default:s(()=>[S("span",null,[P(w(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(ae,null,we(e.generationInfo,(h,g)=>(m(),I("li",{key:g},[S("span",SI,w(h.name),1)]))),128))])])]),_:1})):R("",!0)])}var VI=z(eI,[["render",CI],["__scopeId","data-v-2ef7c0d9"]]);const FI=K({components:{RelatedCollectionSelect:Wn,RelatedFieldSelect:ul},setup(){const{t:e}=Y(),t=gt(),n=Je(),l=Oe(),{collection:a,editing:d,generationInfo:i}=ht(t),r=Pe("autoGenerateJunctionRelation"),u=Pe("relations.o2m.collection"),p=Pe("relations.o2m.field"),f=Pe("relations.m2o.field"),_=Pe("relations.m2o.meta.one_collection_field"),v=Pe("relations.m2o.meta.one_allowed_collections",[]),y=Pe("relations.o2m.meta.sort_field"),h=Pe("relations.o2m.schema.on_delete"),g=Pe("relations.o2m.meta.one_deselect_action"),b=F(()=>d.value!=="+"),$=F(()=>{var V;return(V=l.getPrimaryKeyFieldForCollection(a.value))==null?void 0:V.field}),A=F(()=>N.exports.orderBy([...n.allCollections,{divider:!0},{name:e("system"),selectable:!1,children:n.crudSafeSystemCollections}],["collection"],["asc"]));return{t:e,availableCollections:A,generationInfo:i,collection:a,isExisting:b,autoGenerateJunctionRelation:r,junctionCollection:u,oneAllowedCollections:v,currentPrimaryKey:$,junctionFieldCurrent:p,junctionFieldRelated:f,oneCollectionField:_,sortField:y,onDelete:h,onDeselect:g}}}),qo=e=>(Xe("data-v-2c8bde2f"),e=e(),Ye(),e),AI={class:"grid"},II={class:"field"},EI={class:"type-label"},DI={class:"field"},TI={class:"type-label"},PI={class:"field"},OI={class:"type-label"},LI={class:"related-collections-preview"},jI=qo(()=>S("div",{class:"spacer"},null,-1)),RI=qo(()=>S("div",{class:"spacer"},null,-1)),MI=qo(()=>S("div",{class:"spacer"},null,-1)),UI={class:"sort-field"},NI={class:"relational-triggers"},BI={class:"field"},qI={class:"type-label"},zI={class:"field"},KI={class:"type-label"},WI={class:"field-name"};function HI(e,t,n,l,a,d){var h,g;const i=c("v-input"),r=c("related-collection-select"),u=c("v-select"),p=c("related-field-select"),f=c("v-checkbox"),_=c("v-icon"),v=c("v-divider"),y=c("v-notice");return m(),I("div",null,[S("div",AI,[S("div",II,[S("div",EI,w(e.t("this_collection")),1),o(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",DI,[S("div",TI,w(e.t("junction_collection")),1),o(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=b=>e.junctionCollection=b),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",PI,[S("div",OI,w(e.t("related_collections")),1),o(u,{modelValue:e.oneAllowedCollections,"onUpdate:modelValue":t[1]||(t[1]=b=>e.oneAllowedCollections=b),placeholder:e.t("collection")+"...",items:e.availableCollections,"item-value":"collection","item-text":"name","item-disabled":"meta.singleton",multiple:"","multiple-preview-threshold":0},null,8,["modelValue","placeholder","items"])]),o(i,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(p,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=b=>e.junctionFieldCurrent=b),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),S("div",LI,w(((h=e.oneAllowedCollections)!=null?h:[]).join(", ")),1),jI,o(p,{modelValue:e.oneCollectionField,"onUpdate:modelValue":t[3]||(t[3]=b=>e.oneCollectionField=b),collection:e.junctionCollection,placeholder:e.t("collection_key")+"...",disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","placeholder","disabled"]),RI,o(p,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[4]||(t[4]=b=>e.junctionFieldRelated=b),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"]),o(i,{disabled:"","model-value":e.t("primary_key")},null,8,["model-value"]),MI,e.isExisting?R("",!0):(m(),C(f,{key:0,modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=b=>e.autoGenerateJunctionRelation=b),block:"",label:e.t("auto_fill")},null,8,["modelValue","label"])),o(_,{class:"arrow",name:"arrow_forward"}),o(_,{class:"arrow",name:"arrow_backward"}),o(_,{class:"arrow",name:"arrow_backward"})]),S("div",UI,[o(v,{large:"","inline-title":!1},{default:s(()=>[P(w(e.t("sort_field")),1)]),_:1}),o(p,{modelValue:e.sortField,"onUpdate:modelValue":t[6]||(t[6]=b=>e.sortField=b),collection:e.junctionCollection,placeholder:e.t("add_sort_field"),nullable:!0},null,8,["modelValue","collection","placeholder"])]),S("div",NI,[o(v,{class:"field full",large:"","inline-title":!1},{default:s(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),S("div",BI,[S("div",qI,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(u,{modelValue:e.onDelete,"onUpdate:modelValue":t[7]||(t[7]=b=>e.onDelete=b),disabled:e.collection===e.junctionCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",zI,[S("div",KI,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||"related"})),1),o(u,{modelValue:e.onDeselect,"onUpdate:modelValue":t[8]||(t[8]=b=>e.onDeselect=b),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:((g=e.oneAllowedCollections)!=null?g:[]).join(" / "),field:e.junctionFieldRelated}),value:"delete"}]},null,8,["modelValue","placeholder","items"])])]),e.generationInfo.length>0?(m(),C(y,{key:0,class:"generated-data",type:"warning"},{default:s(()=>[S("span",null,[P(w(e.t("new_data_alert"))+" ",1),S("ul",null,[(m(!0),I(ae,null,we(e.generationInfo,(b,$)=>(m(),I("li",{key:$},[S("span",WI,w(b.name),1)]))),128))])])]),_:1})):R("",!0)])}var GI=z(FI,[["render",HI],["__scopeId","data-v-2c8bde2f"]]);const ZI=K({components:{RelatedCollectionSelect:Wn,RelatedFieldSelect:ul},setup(){const{t:e}=Y(),t=gt(),n=Oe(),{field:l,collection:a,editing:d,generationInfo:i}=ht(t),r=Pe("relations.o2m.meta.sort_field"),u=Pe("relations.o2m.collection"),p=Pe("relations.o2m.field"),f=Pe("relations.m2o.field"),_=Pe("relations.m2o.related_collection"),v=Pe("autoGenerateJunctionRelation"),y=Pe("relations.o2m.schema.on_delete"),h=Pe("relations.m2o.schema.on_delete"),g=Pe("relations.o2m.meta.one_deselect_action"),b=Pe("fields.corresponding"),$=F(()=>l.value.type),A=F(()=>d.value!=="+"),V=F(()=>{var L;return(L=n.getPrimaryKeyFieldForCollection(a.value))==null?void 0:L.field}),T=F(()=>{var L,j;return(j=(L=n.getPrimaryKeyFieldForCollection(_.value))==null?void 0:L.field)!=null?j:"id"}),D=F({get(){return!!b.value},set(L){L?b.value={field:a.value,collection:_.value,type:"alias",meta:{special:["m2m"],interface:"list-m2m"}}:b.value=null}}),O=F(()=>u.value?e("add_m2m_to_collection",{collection:_.value}):e("add_field_related")),M=F({get(){var L;return(L=b.value)==null?void 0:L.field},set(L){D.value||(D.value=!0),b.value.field=L}});return{t:e,autoGenerateJunctionRelation:v,collection:a,type:$,isExisting:A,junctionCollection:u,junctionFieldCurrent:p,relatedCollection:_,sortField:r,currentPrimaryKey:V,junctionFieldRelated:f,relatedPrimaryKey:T,onDeleteCurrent:y,onDeleteRelated:h,deselectAction:g,hasCorresponding:D,correspondingLabel:O,correspondingFieldKey:M,generationInfo:i}}}),zo=e=>(Xe("data-v-4e650362"),e=e(),Ye(),e),JI={class:"grid"},QI={class:"field"},XI={class:"type-label"},YI={class:"field"},xI={class:"type-label"},eE={class:"field"},tE={class:"type-label"},nE=zo(()=>S("div",{class:"spacer"},null,-1)),lE=zo(()=>S("div",{class:"spacer"},null,-1)),oE=zo(()=>S("div",{class:"spacer"},null,-1)),aE={class:"relational-triggers"},iE={class:"field"},rE={class:"type-label"},sE={class:"field"},dE={class:"type-label"},uE={class:"field"},cE={class:"type-label"};function pE(e,t,n,l,a,d){const i=c("v-input"),r=c("related-collection-select"),u=c("related-field-select"),p=c("v-checkbox"),f=c("v-icon"),_=c("v-divider"),v=c("v-select");return m(),I("div",null,[S("div",JI,[S("div",QI,[S("div",XI,w(e.t("this_collection")),1),o(i,{disabled:"","model-value":e.collection},null,8,["model-value"])]),S("div",YI,[S("div",xI,w(e.t("translations_collection")),1),o(r,{modelValue:e.junctionCollection,"onUpdate:modelValue":t[0]||(t[0]=y=>e.junctionCollection=y),disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","disabled"])]),S("div",eE,[S("div",tE,w(e.t("languages_collection")),1),o(r,{modelValue:e.relatedCollection,"onUpdate:modelValue":t[1]||(t[1]=y=>e.relatedCollection=y),disabled:e.type==="files"||e.isExisting},null,8,["modelValue","disabled"])]),o(i,{disabled:"","model-value":e.currentPrimaryKey},null,8,["model-value"]),o(u,{modelValue:e.junctionFieldCurrent,"onUpdate:modelValue":t[2]||(t[2]=y=>e.junctionFieldCurrent=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),nE,lE,o(u,{modelValue:e.junctionFieldRelated,"onUpdate:modelValue":t[3]||(t[3]=y=>e.junctionFieldRelated=y),collection:e.junctionCollection,disabled:e.autoGenerateJunctionRelation||e.isExisting},null,8,["modelValue","collection","disabled"]),o(i,{modelValue:e.relatedPrimaryKey,"onUpdate:modelValue":t[4]||(t[4]=y=>e.relatedPrimaryKey=y),disabled:"",placeholder:e.t("primary_key")+"..."},null,8,["modelValue","placeholder"]),oE,o(p,{modelValue:e.autoGenerateJunctionRelation,"onUpdate:modelValue":t[5]||(t[5]=y=>e.autoGenerateJunctionRelation=y),disabled:e.isExisting,block:"",label:e.t("auto_fill")},null,8,["modelValue","disabled","label"]),o(f,{class:"arrow",name:"arrow_forward"}),o(f,{class:"arrow",name:"arrow_backward"})]),S("div",aE,[o(_,{class:"field full",large:"","inline-title":!1},{default:s(()=>[P(w(e.t("relational_triggers")),1)]),_:1}),S("div",iE,[S("div",rE,w(e.t("referential_action_field_label_o2m",{collection:e.junctionCollection||""})),1),o(v,{modelValue:e.deselectAction,"onUpdate:modelValue":t[6]||(t[6]=y=>e.deselectAction=y),placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"nullify"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"delete"}]},null,8,["modelValue","placeholder","items"])]),S("div",sE,[S("div",dE,w(e.t("referential_action_field_label_m2o",{collection:e.collection||"related"})),1),o(v,{modelValue:e.onDeleteCurrent,"onUpdate:modelValue":t[7]||(t[7]=y=>e.onDeleteCurrent=y),disabled:e.junctionCollection===e.collection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldCurrent}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldCurrent}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldCurrent}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])]),S("div",uE,[S("div",cE,w(e.t("referential_action_field_label_m2o",{collection:e.relatedCollection||"related"})),1),o(v,{modelValue:e.onDeleteRelated,"onUpdate:modelValue":t[8]||(t[8]=y=>e.onDeleteRelated=y),disabled:e.junctionCollection===e.relatedCollection,placeholder:e.t("choose_action")+"...",items:[{text:e.t("referential_action_set_null",{field:e.junctionFieldRelated}),value:"SET NULL"},{text:e.t("referential_action_set_default",{field:e.junctionFieldRelated}),value:"SET DEFAULT"},{text:e.t("referential_action_cascade",{collection:e.junctionCollection,field:e.junctionFieldRelated}),value:"CASCADE"},{text:e.t("referential_action_no_action"),value:"NO ACTION"}]},null,8,["modelValue","disabled","placeholder","items"])])])])}var mE=z(ZI,[["render",pE],["__scopeId","data-v-4e650362"]]);const fE=K({components:{RelationshipM2o:M7,RelationshipO2m:x7,RelationshipM2m:VI,RelationshipM2a:GI,RelationshipTranslations:mE},setup(){const e=gt(),{collection:t,localType:n}=ht(e);return{collection:t,localType:n}}});function _E(e,t,n,l,a,d){const i=c("relationship-m2o"),r=c("relationship-o2m"),u=c("relationship-m2m"),p=c("relationship-m2a"),f=c("relationship-translations");return e.localType==="m2o"||e.localType==="file"?(m(),C(i,{key:0})):e.localType==="o2m"?(m(),C(r,{key:1})):e.localType==="m2m"||e.localType==="files"?(m(),C(u,{key:2})):e.localType==="m2a"?(m(),C(p,{key:3})):e.localType==="translations"?(m(),C(f,{key:4})):R("",!0)}var vE=z(fE,[["render",_E]]);const yE=K({setup(){const{t:e}=Y(),t=gt(),n=Pe("field.meta.readonly",!1),l=Pe("field.meta.hidden",!1),a=Pe("field.meta.required",!1),d=Pe("field.meta.note"),i=Pe("field.meta.translations"),{field:r}=ht(t),u=F(()=>r.value.type),p=F(()=>{var f;return(f=r.value.schema)==null?void 0:f.is_generated});return{t:e,readonly:n,hidden:l,required:a,note:d,translations:i,type:u,isGenerated:p}}}),hE={class:"form"},gE={key:0,class:"field half-left"},bE={class:"label type-label"},wE={key:1,class:"field half-right"},kE={class:"label type-label"},$E={class:"field half-left"},SE={class:"label type-label"},CE={key:2,class:"field full"},VE={class:"label type-label"},FE={class:"field full"},AE={class:"label type-label"};function IE(e,t,n,l,a,d){const i=c("v-checkbox"),r=c("interface-system-input-translated-string"),u=c("interface-list");return m(),I("div",hE,[e.isGenerated?R("",!0):(m(),I("div",gE,[S("div",bE,w(e.t("readonly")),1),o(i,{modelValue:e.readonly,"onUpdate:modelValue":t[0]||(t[0]=p=>e.readonly=p),label:e.t("disabled_editing_value"),block:""},null,8,["modelValue","label"])])),e.isGenerated?R("",!0):(m(),I("div",wE,[S("div",kE,w(e.t("required")),1),o(i,{modelValue:e.required,"onUpdate:modelValue":t[1]||(t[1]=p=>e.required=p),label:e.t("require_value_to_be_set"),block:""},null,8,["modelValue","label"])])),S("div",$E,[S("div",SE,w(e.t("hidden")),1),o(i,{modelValue:e.hidden,"onUpdate:modelValue":t[2]||(t[2]=p=>e.hidden=p),label:e.t("hidden_on_detail"),block:""},null,8,["modelValue","label"])]),e.type!=="group"?(m(),I("div",CE,[S("div",VE,w(e.t("note")),1),o(r,{value:e.note,placeholder:e.t("add_note"),onInput:t[3]||(t[3]=p=>e.note=p)},null,8,["value","placeholder"])])):R("",!0),S("div",FE,[S("div",AE,w(e.t("field_name_translations")),1),o(u,{template:"[{{ language }}] {{ translation }}",fields:[{field:"language",type:"string",name:e.t("language"),meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--foreground-subdued)"}},schema:{default_value:"en-US"}},{field:"translation",type:"string",name:e.t("translation"),meta:{interface:"input",width:"half",options:{placeholder:e.t("translation_placeholder")}}}],value:e.translations,onInput:t[4]||(t[4]=p=>e.translations=p)},null,8,["fields","value"])])])}var EE=z(yE,[["render",IE],["__scopeId","data-v-0a8dbbff"]]);const DE=K({components:{ExtensionOptions:Wl},setup(){const{t:e}=Y(),t=gt(),n=Pe("field.meta.interface"),{field:l,interfacesForType:a}=ht(t),d=F(()=>l.value.type),i=F(()=>{var $;const v={string:["input","select-dropdown"],text:["input-rich-text-html"],boolean:["boolean"],integer:["input"],bigInteger:["input"],float:["input"],decimal:["input"],timestamp:["datetime"],datetime:["datetime"],date:["datetime"],time:["datetime"],json:["select-multiple-checkbox","tags"],uuid:["input"],csv:["tags"]}[($=d.value)!=null?$:"alias"]||[],y=a.value.map(A=>{const V={text:A.name,description:A.description,value:A.id,icon:A.icon};return v.includes(V.value)&&(V.iconRight="star"),V}),h=[],g=v.map(A=>y.find(V=>V.value===A));g!==void 0&&h.push(...g.filter(A=>A)),y.length>=5&&v.length>0&&h.push({divider:!0});const b=y.filter(A=>v.includes(A.value)===!1);return b!==void 0&&h.push(...b.filter(A=>A)),h}),r=F(()=>Pt(n.value)),u=F(()=>Pt(n.value)),p=F(()=>{var _,v;return typeof((_=u.value)==null?void 0:_.options)=="function"?(v=u.value)==null?void 0:v.options(t):null}),f=F({get(){var _,v;return(v=(_=t.field.meta)==null?void 0:_.options)!=null?v:{}},set(_){t.$patch(v=>{var y;v.field.meta=Fe(fe({},(y=v.field.meta)!=null?y:{}),{options:_})})}});return{t:e,selectItems:i,selectedInterface:r,interfaceID:n,customOptionsFields:p,options:f}}}),TE=e=>(Xe("data-v-1fd2336e"),e=e(),Ye(),e),PE=TE(()=>S("div",{class:"spacer"},null,-1));function OE(e,t,n,l,a,d){const i=c("v-fancy-select"),r=c("v-notice"),u=c("extension-options");return m(),I("div",null,[o(i,{modelValue:e.interfaceID,"onUpdate:modelValue":t[0]||(t[0]=p=>e.interfaceID=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.interfaceID&&!e.selectedInterface?(m(),C(r,{key:0,class:"not-found",type:"danger"},{default:s(()=>[P(w(e.t("interface_not_found",{interface:e.interfaceID}))+" ",1),PE,S("button",{onClick:t[1]||(t[1]=p=>e.interfaceID=null)},w(e.t("reset_interface")),1)]),_:1})):R("",!0),e.interfaceID&&e.selectedInterface?(m(),C(u,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"interface",options:e.customOptionsFields,extension:e.interfaceID,"show-advanced":""},null,8,["modelValue","options","extension"])):R("",!0)])}var LE=z(DE,[["render",OE],["__scopeId","data-v-1fd2336e"]]);const jE=K({components:{ExtensionOptions:Wl},setup(){const{t:e}=Y(),t=gt(),{field:n,displaysForType:l}=ht(t),a=F(()=>{var _;return(_=n.value.meta)==null?void 0:_.interface}),d=Pe("field.meta.display"),i=F(()=>Pt(a.value)),r=F(()=>el(d.value)),u=F(()=>{var b;let _=N.exports.clone((b=i.value)==null?void 0:b.recommendedDisplays)||[];_.push("raw","formatted-value"),_=[...new Set(_)];const v=l.value.map($=>{const A={text:$.name,description:$.description,value:$.id,icon:$.icon};return _.includes(A.value)&&(A.iconRight="star"),A}),y=[],h=_.map($=>v.find(A=>A.value===$));h!==void 0&&y.push(...h.filter($=>$)),v.length>=5&&_.length>0&&y.push({divider:!0});const g=v.filter($=>_.includes($.value)===!1);return g!==void 0&&y.push(...g.filter($=>$)),y}),p=F(()=>{var _,v;return typeof((_=r.value)==null?void 0:_.options)=="function"?(v=r.value)==null?void 0:v.options(t):null}),f=F({get(){var _,v;return(v=(_=t.field.meta)==null?void 0:_.display_options)!=null?v:{}},set(_){t.$patch(v=>{var y;v.field.meta=Fe(fe({},(y=v.field.meta)!=null?y:{}),{display_options:_})})}});return{t:e,selectItems:u,selectedDisplay:r,display:d,options:f,customOptionsFields:p}}}),RE=e=>(Xe("data-v-1f1d74cc"),e=e(),Ye(),e),ME=RE(()=>S("div",{class:"spacer"},null,-1));function UE(e,t,n,l,a,d){const i=c("v-fancy-select"),r=c("v-notice"),u=c("extension-options");return m(),I("div",null,[o(i,{modelValue:e.display,"onUpdate:modelValue":t[0]||(t[0]=p=>e.display=p),class:"select",items:e.selectItems},null,8,["modelValue","items"]),e.display&&!e.selectedDisplay?(m(),C(r,{key:0,class:"not-found",type:"danger"},{default:s(()=>[P(w(e.t("display_not_found",{display:e.display}))+" ",1),ME,S("button",{onClick:t[1]||(t[1]=p=>e.display=null)},w(e.t("reset_display")),1)]),_:1})):R("",!0),e.display&&e.selectedDisplay?(m(),C(u,{key:1,modelValue:e.options,"onUpdate:modelValue":t[2]||(t[2]=p=>e.options=p),type:"display",options:e.customOptionsFields,extension:e.display},null,8,["modelValue","options","extension"])):R("",!0)])}var NE=z(jE,[["render",UE],["__scopeId","data-v-1f1d74cc"]]);const BE={class:"form"},qE={class:"field full"},zE={class:"label type-label"},KE={class:"field full"},WE={class:"label type-label"},HE=K({setup(e){const t=gt(),{collection:n,field:l}=ht(t),{t:a}=Y(),d=Pe("field.meta.validation"),i=Pe("field.meta.validation_message");return(r,u)=>{const p=c("interface-system-filter"),f=c("interface-system-input-translated-string");return m(),I("div",BE,[S("div",qE,[S("div",zE,w(W(a)("validation")),1),o(p,{"collection-name":W(n),value:W(d),"field-name":W(l).field,"include-functions":"","include-validation":"",onInput:u[0]||(u[0]=_=>d.value=_)},null,8,["collection-name","value","field-name"])]),S("div",KE,[S("div",WE,w(W(a)("custom_validation_message")),1),o(f,{value:W(i),onInput:u[1]||(u[1]=_=>i.value=_)},null,8,["value"])])])}}});var GE=z(HE,[["__scopeId","data-v-50e69ac8"]]);const ZE=K({setup(){const{t:e}=Y(),t=gt(),{field:n,collection:l}=ht(t),a=Pe("field.meta.conditions"),d=F(()=>{var r;return(r=n.value.meta)==null?void 0:r.interface});return{repeaterFields:F(()=>[{field:"name",name:e("name"),type:"string",meta:{interface:"input",options:{iconLeft:"label",placeholder:e("enter_a_value")}}},{field:"rule",name:e("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value}}},{field:"readonly",name:e("readonly"),type:"boolean",meta:{interface:"boolean",options:{label:e("disabled_editing_value")},width:"half"}},{field:"hidden",name:e("hidden"),type:"boolean",meta:{interface:"boolean",options:{label:e("hidden_on_detail")},width:"half"}},{field:"required",name:e("required"),type:"boolean",meta:{interface:"boolean",options:{label:e("require_value_to_be_set")},width:"half"}},{field:"options",name:e("interface_options"),type:"json",meta:{interface:"system-interface-options",options:{interface:d.value}}}]),conditions:a}}});function JE(e,t,n,l,a,d){const i=c("interface-list");return m(),I("div",null,[o(i,{fields:e.repeaterFields,template:"{{ name }}",value:e.conditions,onInput:t[0]||(t[0]=r=>e.conditions=r)},null,8,["fields","value"])])}var QE=z(ZE,[["render",JE]]);const XE={class:"content"},YE=K({props:{currentTab:null},setup(e){return(t,n)=>(m(),I("div",XE,[e.currentTab==="schema"?(m(),C(w7,{key:0})):R("",!0),e.currentTab==="relationship"?(m(),C(vE,{key:1})):R("",!0),e.currentTab==="field"?(m(),C(EE,{key:2})):R("",!0),e.currentTab==="interface"?(m(),C(LE,{key:3})):R("",!0),e.currentTab==="display"?(m(),C(NE,{key:4})):R("",!0),e.currentTab==="validation"?(m(),C(GE,{key:5})):R("",!0),e.currentTab==="conditions"?(m(),C(QE,{key:6})):R("",!0)]))}});var xE=z(YE,[["__scopeId","data-v-66287584"]]);const eD=K({props:{currentTab:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){const n=gt(),{localType:l}=ht(n),a=Ke(e,"currentTab",t),{t:d}=Y();return{tabs:F(()=>{const r=[{text:d("schema"),value:"schema"},{text:d("field",1),value:"field"},{text:d("interface_label"),value:"interface"}];return l.value!=="presentation"&&l.value!=="group"&&r.push({text:d("display"),value:"display"}),["o2m","m2o","m2m","m2a","files","file"].includes(l.value)&&r.splice(1,0,{text:d("relationship"),value:"relationship"}),l.value==="translations"&&r.splice(1,0,{text:d("translations"),value:"relationship"}),r.push({text:d("validation"),value:"validation"}),r.push({text:d("conditions"),value:"conditions"}),r}),currentTabSync:a}}});function tD(e,t,n,l,a,d){const i=c("v-tab"),r=c("v-tabs");return m(),C(r,{modelValue:e.currentTabSync,"onUpdate:modelValue":t[0]||(t[0]=u=>e.currentTabSync=u),vertical:""},{default:s(()=>[(m(!0),I(ae,null,we(e.tabs,u=>(m(),C(i,{key:u.value,value:u.value,disabled:u.disabled},{default:s(()=>[P(w(u.text),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])}var nD=z(eD,[["render",tD]]);const lD=K({emits:["save"],setup(){const e=gt(),{saving:t,readyToSave:n}=ht(e),{t:l}=Y();return{saving:t,t:l,readyToSave:n}}});function oD(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=$e("tooltip");return x((m(),C(r,{disabled:e.readyToSave===!1,loading:e.saving,icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("save"))},{default:s(()=>[o(i,{name:"check"})]),_:1},8,["disabled","loading"])),[[u,e.t("save"),void 0,{bottom:!0}]])}var aD=z(lD,[["render",oD]]);const iD=K({name:"FieldDetail",components:{FieldDetailSimple:QA,FieldDetailAdvanced:xE,FieldDetailAdvancedTabs:nD,FieldDetailAdvancedActions:aD},props:{collection:{type:String,required:!0},field:{type:String,required:!0},type:{type:String,default:null}},setup(e){const{collection:t}=ze(e),n=Vn(),l=gt(),{editing:a}=ht(l);ge(()=>e.field,()=>l.startEditing(e.collection,e.field,e.type),{immediate:!0});const d=Je(),i=Oe(),r=at(),{t:u}=Y(),p=F(()=>d.getCollection(t.value)),f=E(e.type===null),_=F(()=>{var A,V;const b=i.getField(e.collection,e.field),$=(b==null?void 0:b.name)||wt(l.field.name||"");return e.field==="+"&&$===""?u("creating_new_field",{collection:(A=p.value)==null?void 0:A.name}):u("field_in_collection",{field:$,collection:(V=p.value)==null?void 0:V.name})}),v=E(["schema"]),y=F(()=>a.value!=="+"||!f.value);return{simple:f,cancel:h,collectionInfo:p,t:u,title:_,save:g,isOpen:n,currentTab:v,showAdvanced:y};async function h(){await r.push(`/settings/data-model/${e.collection}`),l.$reset()}async function g(){await l.save(),r.push(`/settings/data-model/${e.collection}`),l.$reset()}}});function rD(e,t,n,l,a,d){const i=c("field-detail-simple"),r=c("field-detail-advanced-tabs"),u=c("field-detail-advanced-actions"),p=c("field-detail-advanced"),f=c("v-drawer");return m(),C(f,{"model-value":e.isOpen,title:e.title,persistent:"",onCancel:e.cancel,"onUpdate:modelValue":e.cancel},ot({default:s(()=>[e.showAdvanced?R("",!0):(m(),C(i,{key:0,collection:e.collectionInfo,onSave:e.save,onToggleAdvanced:t[0]||(t[0]=_=>e.simple=!1)},null,8,["collection","onSave"])),e.showAdvanced?(m(),C(p,{key:1,collection:e.collectionInfo,"current-tab":e.currentTab[0],onSave:e.save},null,8,["collection","current-tab","onSave"])):R("",!0)]),_:2},[e.showAdvanced?{name:"sidebar",fn:s(()=>[o(r,{"current-tab":e.currentTab,"onUpdate:current-tab":t[1]||(t[1]=_=>e.currentTab=_)},null,8,["current-tab"])])}:void 0,e.showAdvanced?{name:"actions",fn:s(()=>[o(u,{onSave:e.save},null,8,["onSave"])])}:void 0]),1032,["model-value","title","onCancel","onUpdate:modelValue"])}var sD=z(iD,[["render",rD],["__scopeId","data-v-4fc67dfe"]]);const dD=K({name:"FieldSelectMenu",props:{field:{type:Object,required:!0},noDelete:{type:Boolean,default:!1}},emits:["toggleVisibility","duplicate","delete","setWidth"],setup(e){const{t}=Y(),n=F(()=>dl(e.field.collection,e.field.field)),l=F(()=>{var d;return((d=e.field.schema)==null?void 0:d.is_primary_key)===!0}),a=F(()=>n.value==="standard"&&l.value===!1);return{t,localType:n,isPrimaryKey:l,duplicable:a}}});function uD(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list"),v=c("v-menu");return m(),C(v,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:y})=>[o(i,{clickable:"",name:"more_vert",onClick:y},null,8,["onClick"])]),default:s(()=>[o(_,null,{default:s(()=>{var y,h,g,b;return[o(p,{to:`/settings/data-model/${e.field.collection}/${e.field.field}`},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"edit"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("edit_field")),1)]),_:1})]),_:1},8,["to"]),o(p,{disabled:e.duplicable===!1,clickable:"",onClick:t[0]||(t[0]=$=>e.$emit("duplicate"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"content_copy"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("duplicate_field")),1)]),_:1})]),_:1},8,["disabled"]),o(p,{clickable:"",onClick:t[1]||(t[1]=$=>e.$emit("toggleVisibility"))},{default:s(()=>{var $;return[(($=e.field.meta)==null?void 0:$.hidden)===!1?(m(),I(ae,{key:0},[o(r,null,{default:s(()=>[o(i,{name:"visibility_off"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("hide_field_on_detail")),1)]),_:1})],64)):(m(),I(ae,{key:1},[o(r,null,{default:s(()=>[o(i,{name:"visibility"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("show_field_on_detail")),1)]),_:1})],64))]}),_:1}),o(f),o(p,{clickable:"",disabled:((y=e.field.meta)==null?void 0:y.width)==="half"||e.localType==="group",onClick:t[2]||(t[2]=$=>e.$emit("setWidth","half"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"border_vertical"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("half_width")),1)]),_:1})]),_:1},8,["disabled"]),o(p,{clickable:"",disabled:((h=e.field.meta)==null?void 0:h.width)==="full"||e.localType==="group",onClick:t[3]||(t[3]=$=>e.$emit("setWidth","full"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"border_right"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("full_width")),1)]),_:1})]),_:1},8,["disabled"]),o(p,{clickable:"",disabled:((g=e.field.meta)==null?void 0:g.width)==="fill"||e.localType==="group",onClick:t[4]||(t[4]=$=>e.$emit("setWidth","fill"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"aspect_ratio"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("fill_width")),1)]),_:1})]),_:1},8,["disabled"]),o(f),o(p,{clickable:"",class:"danger",disabled:((b=e.field.schema)==null?void 0:b.is_primary_key)===!0||e.noDelete,onClick:t[5]||(t[5]=$=>e.$emit("delete"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("delete_field")),1)]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1})}var cD=z(dD,[["render",uD],["__scopeId","data-v-924af9de"]]);function Qt(e){const t=new Image;e.setDragImage(t,0,0)}const pD=K({name:"FieldSelect",components:{FieldSelectMenu:cD,Draggable:Tt},props:{field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]}},emits:["setNestedSort"],setup(e,{emit:t}){const{t:n}=Y(),l=at(),a=Je(),d=Oe(),i=E(!1),{deleteActive:r,deleting:u,deleteField:p}=O(),{duplicateActive:f,duplicateName:_,collections:v,duplicateTo:y,saveDuplicate:h,duplicating:g}=M(),b=F(()=>{var B,q;return(q=Pt((B=e.field.meta)==null?void 0:B.interface))==null?void 0:q.name}),$=F(()=>{var B;return((B=e.field.meta)==null?void 0:B.hidden)===!0}),A=F(()=>dl(e.field.collection,e.field.field)),V=F(()=>e.fields.filter(B=>{var q;return((q=B.meta)==null?void 0:q.group)===e.field.field}));return{t:n,interfaceName:b,formatTitle:wt,editActive:i,setWidth:T,deleteActive:r,deleting:u,deleteField:p,duplicateActive:f,collections:v,duplicateName:_,duplicateTo:y,saveDuplicate:h,duplicating:g,openFieldDetail:L,hidden:$,toggleVisibility:D,localType:A,hideDragImage:Qt,onGroupSortChange:j,nestedFields:V};function T(B){d.updateField(e.field.collection,e.field.field,{meta:{width:B}})}function D(){var B;d.updateField(e.field.collection,e.field.field,{meta:{hidden:!((B=e.field.meta)==null?void 0:B.hidden)}})}function O(){const B=E(!1),q=E(!1);return{deleteActive:B,deleting:q,deleteField:G};async function G(){await d.deleteField(e.field.collection,e.field.field),q.value=!1,B.value=!1}}function M(){const B=E(!1),q=E(e.field.field+"_copy"),G=E(!1),Q=F(()=>a.collections.map(({collection:oe})=>oe).filter(oe=>oe.startsWith("directus_")===!1)),ce=E(e.field.collection);return{duplicateActive:B,duplicateName:q,collections:Q,duplicateTo:ce,saveDuplicate:J,duplicating:G};async function J(){const oe=Fe(fe({},N.exports.cloneDeep(e.field)),{field:q.value,collection:ce.value});oe.meta&&(delete oe.meta.id,delete oe.meta.sort,delete oe.meta.group),oe.schema&&delete oe.schema.comment,delete oe.name,G.value=!0;try{await d.createField(ce.value,oe),ct({title:n("field_create_success",{field:oe.field})}),B.value=!1}catch(_e){Ie(_e)}finally{G.value=!1}}}async function L(){e.field.meta||await d.updateField(e.field.collection,e.field.field,{meta:{}}),l.push(`/settings/data-model/${e.field.collection}/${e.field.field}`)}async function j(B){const q=B.map((G,Q)=>({field:G.field,meta:{sort:Q+1,group:e.field.meta.field}}));t("setNestedSort",q)}}}),mD={class:"label"},fD={class:"name"},_D={class:"header full"},vD={class:"name"},yD={class:"label-inner"},hD={class:"name"},gD={key:0,class:"interface"},bD={key:1,class:"interface"},wD={class:"icons"},kD={class:"form-grid"},$D={class:"field"},SD={class:"type-label"},CD={class:"field"},VD={class:"type-label"};function FD(e,t,n,l,a,d){var V;const i=c("v-icon"),r=c("v-input"),u=c("field-select-menu"),p=c("field-select",!0),f=c("draggable"),_=c("v-card-title"),v=c("v-select"),y=c("v-card-text"),h=c("v-button"),g=c("v-card-actions"),b=c("v-card"),$=c("v-dialog"),A=$e("tooltip");return m(),I("div",{class:ue(["field-select",((V=e.field.meta)==null?void 0:V.width)||"full"])},[e.disabled?(m(),C(r,{key:0,disabled:"",class:"field"},{prepend:s(()=>[x(o(i,{name:"lock"},null,512),[[A,e.t("system_fields_locked")]])]),input:s(()=>[S("div",mD,[S("span",fD,w(e.field.field),1)])]),_:1})):(m(),I(ae,{key:1},[e.localType==="group"?(m(),C(f,{key:0,class:"field-grid group full nested","model-value":e.nestedFields,"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,animation:150,"item-key":"field","fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.onGroupSortChange},{header:s(()=>[S("div",_D,[o(i,{class:"drag-handle",name:"drag_indicator",onClick:t[0]||(t[0]=De(()=>{},["stop"]))}),S("span",vD,w(e.field.field),1),e.hidden?x((m(),C(i,{key:0,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),o(u,{field:e.field,"no-delete":e.nestedFields.length>0,onToggleVisibility:e.toggleVisibility,onSetWidth:t[1]||(t[1]=T=>e.setWidth(T)),onDuplicate:t[2]||(t[2]=T=>e.duplicateActive=!0),onDelete:t[3]||(t[3]=T=>e.deleteActive=!0)},null,8,["field","no-delete","onToggleVisibility"])])]),item:s(({element:T})=>[o(p,{field:T,fields:e.fields,onSetNestedSort:t[4]||(t[4]=D=>e.$emit("setNestedSort",D))},null,8,["field","fields"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"])):(m(),C(r,{key:1,class:ue(["field",{hidden:e.hidden}]),readonly:""},{prepend:s(()=>[o(i,{class:"drag-handle",name:"drag_indicator",onClick:t[5]||(t[5]=De(()=>{},["stop"]))})]),input:s(()=>{var T;return[x(S("div",{class:"label",onClick:t[6]||(t[6]=(...D)=>e.openFieldDetail&&e.openFieldDetail(...D))},[S("div",yD,[S("span",hD,[P(w(e.field.field)+" ",1),((T=e.field.meta)==null?void 0:T.required)===!0?(m(),C(i,{key:0,name:"star",class:"required",sup:""})):R("",!0)]),e.field.meta?(m(),I("span",gD,w(e.interfaceName),1)):(m(),I("span",bD,w(e.t("db_only_click_to_configure")),1))])],512),[[A,e.interfaceName?`${e.field.name} (${e.formatTitle(e.field.type)}) - ${e.interfaceName}`:e.field.name]])]}),append:s(()=>[S("div",wD,[e.field.schema&&e.field.schema.is_primary_key?x((m(),C(i,{key:0,name:"vpn_key",small:""},null,512)),[[A,e.t("primary_key")]]):R("",!0),e.field.meta?R("",!0):x((m(),C(i,{key:1,name:"report_problem",class:"unmanaged",small:""},null,512)),[[A,e.t("db_only_click_to_configure")]]),e.hidden?x((m(),C(i,{key:2,name:"visibility_off",class:"hidden-icon",small:""},null,512)),[[A,e.t("hidden_field")]]):R("",!0),o(u,{field:e.field,onToggleVisibility:e.toggleVisibility,onSetWidth:t[7]||(t[7]=T=>e.setWidth(T)),onDuplicate:t[8]||(t[8]=T=>e.duplicateActive=!0),onDelete:t[9]||(t[9]=T=>e.deleteActive=!0)},null,8,["field","onToggleVisibility"])])]),_:1},8,["class"])),o($,{modelValue:e.duplicateActive,"onUpdate:modelValue":t[13]||(t[13]=T=>e.duplicateActive=T),onEsc:t[14]||(t[14]=T=>e.duplicateActive=!1)},{default:s(()=>[o(b,{class:"duplicate"},{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("duplicate_where_to")),1)]),_:1}),o(y,null,{default:s(()=>[S("div",kD,[S("div",$D,[S("span",SD,w(e.t("collection",0)),1),o(v,{modelValue:e.duplicateTo,"onUpdate:modelValue":t[10]||(t[10]=T=>e.duplicateTo=T),class:"monospace",items:e.collections},null,8,["modelValue","items"])]),S("div",CD,[S("span",VD,w(e.t("field",0)),1),o(r,{modelValue:e.duplicateName,"onUpdate:modelValue":t[11]||(t[11]=T=>e.duplicateName=T),class:"monospace","db-safe":"",autofocus:""},null,8,["modelValue"])])])]),_:1}),o(g,null,{default:s(()=>[o(h,{secondary:"",onClick:t[12]||(t[12]=T=>e.duplicateActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(h,{disabled:e.duplicateName===null,loading:e.duplicating,onClick:e.saveDuplicate},{default:s(()=>[P(w(e.t("duplicate")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o($,{modelValue:e.deleteActive,"onUpdate:modelValue":t[16]||(t[16]=T=>e.deleteActive=T),onEsc:t[17]||(t[17]=T=>e.deleteActive=!1)},{default:s(()=>[o(b,null,{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("delete_field_are_you_sure",{field:e.field.field})),1)]),_:1}),o(g,null,{default:s(()=>[o(h,{secondary:"",onClick:t[15]||(t[15]=T=>e.deleteActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(h,{loading:e.deleting,kind:"danger",onClick:e.deleteField},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))],2)}var AD=z(pD,[["render",FD],["__scopeId","data-v-9025b3ce"]]);const ID=K({name:"FieldsManagement",components:{Draggable:Tt,FieldSelect:AD},props:{collection:{type:String,required:!0}},setup(e){const{t}=Y(),{collection:n}=ze(e),{fields:l}=rt(n),a=Oe(),d=F(()=>N.exports.orderBy(l.value,[_=>{var v,y;return((v=_.meta)==null?void 0:v.sort)?Number((y=_.meta)==null?void 0:y.sort):null},_=>{var v;return(v=_.meta)==null?void 0:v.id}]).filter(_=>_.field.startsWith("$")===!1)),i=F(()=>d.value.filter(_=>{var v;return((v=_.meta)==null?void 0:v.system)===!0})),r=F(()=>d.value.filter(_=>{var v;return((v=_.meta)==null?void 0:v.system)!==!0})),u=F(()=>[{type:"standard",icon:"create",text:t("standard_field")},{type:"presentation",icon:"scatter_plot",text:t("presentation_and_aliases")},{type:"group",icon:"view_in_ar",text:t("field_group")},{divider:!0},{type:"file",icon:"photo",text:t("single_file")},{type:"files",icon:"collections",text:t("multiple_files")},{divider:!0},{type:"m2o",icon:"call_merge",text:t("m2o_relationship")},{type:"o2m",icon:"call_split",text:t("o2m_relationship")},{type:"m2m",icon:"import_export",text:t("m2m_relationship")},{type:"m2a",icon:"gesture",text:t("m2a_relationship")},{divider:!0},{type:"translations",icon:"translate",text:t("translations")}]);return{t,usableFields:r,lockedFields:i,setSort:p,hideDragImage:Qt,addOptions:u,setNestedSort:f,isNil:N.exports.isNil};async function p(_){const v=_.map((y,h)=>({field:y.field,meta:{sort:h+1,group:null}}));await a.updateFields(n.value,v)}async function f(_){_=(_||[]).filter(v=>N.exports.isNil(v)===!1),_.length>0&&await a.updateFields(n.value,_)}}}),ED={class:"fields-management"},DD={key:0,class:"field-grid"},TD=["dashed","onClick"];function PD(e,t,n,l,a,d){const i=c("field-select"),r=c("draggable"),u=c("v-button"),p=c("v-divider"),f=c("v-icon"),_=c("v-list-item-icon"),v=c("v-list-item-content"),y=c("v-list-item"),h=c("v-list"),g=c("v-menu");return m(),I("div",ED,[e.lockedFields.length>0?(m(),I("div",DD,[(m(!0),I(ae,null,we(e.lockedFields,b=>(m(),C(i,{key:b.field,disabled:"",field:b},null,8,["field"]))),128))])):R("",!0),o(r,{class:"field-grid","model-value":e.usableFields.filter(b=>{var $;return e.isNil(($=b==null?void 0:b.meta)==null?void 0:$.group)}),"force-fallback":!0,handle:".drag-handle",group:{name:"fields"},"set-data":e.hideDragImage,"item-key":"field",animation:150,"fallback-on-body":!0,"invert-swap":!0,"onUpdate:modelValue":e.setSort},{item:s(({element:b})=>[o(i,{field:b,fields:e.usableFields,onSetNestedSort:e.setNestedSort},null,8,["field","fields","onSetNestedSort"])]),_:1},8,["model-value","set-data","onUpdate:modelValue"]),o(u,{"full-width":"",to:`/settings/data-model/${e.collection}/+`},{default:s(()=>[P(w(e.t("create_field")),1)]),_:1},8,["to"]),o(g,{"show-arrow":""},{activator:s(({toggle:b,active:$})=>[S("button",{class:ue(["add-field-advanced",{active:$}]),dashed:!$,onClick:b},w(e.t("create_in_advanced_field_creation_mode")),11,TD)]),default:s(()=>[o(h,null,{default:s(()=>[(m(!0),I(ae,null,we(e.addOptions,(b,$)=>(m(),I(ae,{key:$},[b.divider===!0?(m(),C(p,{key:0})):(m(),C(y,{key:1,to:`/settings/data-model/${e.collection}/+?type=${b.type}`},{default:s(()=>[o(_,null,{default:s(()=>[o(f,{name:b.icon},null,8,["name"])]),_:2},1024),o(v,null,{default:s(()=>[P(w(b.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128))]),_:1})]),_:1})])}var OD=z(ID,[["render",PD],["__scopeId","data-v-4cc65bb1"]]);const LD=K({components:{SettingsNavigation:Bt,FieldsManagement:OD},props:{collection:{type:String,required:!0},field:{type:String,default:null},type:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),{collection:l}=ze(e),{info:a,fields:d}=rt(l),i=Je(),r=Oe(),{isNew:u,edits:p,item:f,saving:_,loading:v,error:y,save:h,remove:g,deleting:b,saveAsCopy:$,isBatch:A}=In(E("directus_collections"),l),V=F(()=>p.value.meta?Object.keys(p.value.meta).length>0:!1);it("meta+s",()=>{V.value&&L()});const T=E(!1),{confirmLeave:D,leaveTo:O}=_n(V);return{t,collectionInfo:a,fields:d,confirmDelete:T,isNew:u,edits:p,item:f,saving:_,loading:v,error:y,save:h,remove:g,deleting:b,saveAsCopy:$,isBatch:A,deleteAndQuit:M,saveAndQuit:j,hasEdits:V,confirmLeave:D,leaveTo:O,discardAndLeave:B};async function M(){await g(),await i.hydrate(),await r.hydrate(),n.replace("/settings/data-model")}async function L(){await h(),await i.hydrate(),await r.hydrate()}async function j(){await h(),await i.hydrate(),await r.hydrate(),n.push("/settings/data-model")}function B(){!O.value||(p.value={},D.value=!1,n.push(O.value))}}}),jD={class:"collections-item"},RD={class:"fields"},MD={class:"title type-label"},UD={class:"instant-save"},ND={class:"page-description"};function BD(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("settings-navigation"),h=c("fields-management"),g=c("router-view"),b=c("v-form"),$=c("sidebar-detail"),A=c("v-card-text"),V=c("private-view"),T=$e("tooltip"),D=$e("md");return m(),C(V,{title:e.collectionInfo&&e.collectionInfo.name},{headline:s(()=>[o(i,{items:[{name:e.t("settings_data_model"),to:"/settings/data-model"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/data-model"},{default:s(()=>[o(r,{name:"arrow_back"})]),_:1})]),actions:s(()=>[o(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=O=>e.confirmDelete=O),onEsc:t[2]||(t[2]=O=>e.confirmDelete=!1)},{activator:s(({on:O})=>[e.item&&e.item.collection.startsWith("directus_")===!1?x((m(),C(u,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null,onClick:O},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["disabled","onClick"])),[[T,e.t("delete_collection"),void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:t[0]||(t[0]=O=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),x(o(u,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[T,e.t("save"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(y)]),sidebar:s(()=>[o($,{icon:"info",title:e.t("information"),close:""},{default:s(()=>[x(S("div",ND,null,512),[[D,e.t("page_help_settings_datamodel_fields")]])]),_:1},8,["title"])]),default:s(()=>[S("div",jD,[S("div",RD,[S("h2",MD,[P(w(e.t("fields_and_layout"))+" ",1),S("span",UD,w(e.t("saves_automatically")),1)]),o(h,{collection:e.collection},null,8,["collection"])]),o(g,{name:"field",collection:e.collection,field:e.field,type:e.type},null,8,["collection","field","type"]),o(b,{modelValue:e.edits.meta,"onUpdate:modelValue":t[3]||(t[3]=O=>e.edits.meta=O),collection:"directus_collections",loading:e.loading,"initial-values":e.item&&e.item.meta,"batch-mode":e.isBatch,"primary-key":e.collection,disabled:e.item&&e.item.collection.startsWith("directus_")},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","disabled"])]),o(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=O=>e.confirmLeave=O),onEsc:t[6]||(t[6]=O=>e.confirmLeave=!1)},{default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[4]||(t[4]=O=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var qD=z(LD,[["render",BD],["__scopeId","data-v-2c8d903a"]]);const Er={status:{enabled:!1,inputDisabled:!1,name:"status",label:"status",icon:"flag"},sort:{enabled:!1,inputDisabled:!1,name:"sort",label:"sort",icon:"low_priority"},dateCreated:{enabled:!1,inputDisabled:!1,name:"date_created",label:"created_on",icon:"access_time"},userCreated:{enabled:!1,inputDisabled:!1,name:"user_created",label:"created_by",icon:"account_circle"},dateUpdated:{enabled:!1,inputDisabled:!1,name:"date_updated",label:"updated_on",icon:"access_time"},userUpdated:{enabled:!1,inputDisabled:!1,name:"user_updated",label:"updated_by",icon:"account_circle"}},zD=K({setup(){const{t:e}=Y(),t=at(),n=Je(),l=Oe(),a=ft(),d=Vn(),i=E(["collection_setup"]),r=E(null),u=E(!1),p=E("id"),f=E("auto_int"),_=E(),v=E(),y=E(),h=E(),g=Gt(N.exports.cloneDeep(Er)),b=E(!1);return ge(()=>u.value,$),{t:e,router:t,isOpen:d,currentTab:i,save:A,systemFields:g,primaryKeyFieldName:p,primaryKeyFieldType:f,collectionName:r,saving:b,singleton:u};function $(){g.sort=fe({},Er.sort),g.sort.inputDisabled=u.value}async function A(){b.value=!0;try{await pe.post("/collections",{collection:r.value,fields:[V(),...T()],schema:{},meta:{sort_field:_.value,archive_field:v.value,archive_value:y.value,unarchive_value:h.value,singleton:u.value}});const O=D();if(O.length>0){for(const M of O)await pe.post("/relations",M);await a.hydrate()}await n.hydrate(),await l.hydrate(),ct({title:e("collection_created")}),t.replace(`/settings/data-model/${r.value}`)}catch(O){Ie(O)}finally{b.value=!1}}function V(){return f.value==="uuid"?{field:p.value,type:"uuid",meta:{hidden:!0,readonly:!0,interface:"input",special:["uuid"]},schema:{is_primary_key:!0,length:36,has_auto_increment:!1}}:f.value==="manual"?{field:p.value,type:"string",meta:{interface:"input",readonly:!1,hidden:!1},schema:{is_primary_key:!0,length:255,has_auto_increment:!1}}:{field:p.value,type:"integer",meta:{hidden:!0,interface:"input",readonly:!0},schema:{is_primary_key:!0,has_auto_increment:!0}}}function T(){const O=[];return g.status.enabled===!0&&(O.push({field:g.status.name,type:"string",meta:{width:"full",options:{choices:[{text:"$t:published",value:"published"},{text:"$t:draft",value:"draft"},{text:"$t:archived",value:"archived"}]},interface:"select-dropdown",display:"labels",display_options:{showAsDot:!0,choices:[{text:"$t:published",value:"published",foreground:"#FFFFFF",background:"var(--primary)"},{text:"$t:draft",value:"draft",foreground:"#18222F",background:"#D3DAE4"},{text:"$t:archived",value:"archived",foreground:"#FFFFFF",background:"var(--warning)"}]}},schema:{default_value:"draft",is_nullable:!1}}),v.value="status",y.value="archived",h.value="draft"),g.sort.enabled===!0&&(O.push({field:g.sort.name,type:"integer",meta:{interface:"input",hidden:!0},schema:{}}),_.value=g.sort.name),g.userCreated.enabled===!0&&O.push({field:g.userCreated.name,type:"uuid",meta:{special:["user-created"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),g.dateCreated.enabled===!0&&O.push({field:g.dateCreated.name,type:"timestamp",meta:{special:["date-created"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),g.userUpdated.enabled===!0&&O.push({field:g.userUpdated.name,type:"uuid",meta:{special:["user-updated"],interface:"select-dropdown-m2o",options:{template:"{{avatar.$thumbnail}} {{first_name}} {{last_name}}"},display:"user",readonly:!0,hidden:!0,width:"half"},schema:{}}),g.dateUpdated.enabled===!0&&O.push({field:g.dateUpdated.name,type:"timestamp",meta:{special:["date-updated"],interface:"datetime",readonly:!0,hidden:!0,width:"half",display:"datetime",display_options:{relative:!0}},schema:{}}),O}function D(){const O=[];return g.userCreated.enabled===!0&&O.push({collection:r.value,field:g.userCreated.name,related_collection:"directus_users",schema:{}}),g.userUpdated.enabled===!0&&O.push({collection:r.value,field:g.userUpdated.name,related_collection:"directus_users",schema:{}}),O}}}),KD={class:"grid"},WD={class:"field half"},HD={class:"type-label"},GD={class:"field half"},ZD={class:"type-label"},JD={class:"field half"},QD={class:"type-label"},XD={class:"field half"},YD={class:"type-label"},xD={class:"grid system"},eT={class:"type-label"};function tT(e,t,n,l,a,d){const i=c("v-tab"),r=c("v-tabs"),u=c("v-notice"),p=c("v-icon"),f=c("v-input"),_=c("v-checkbox"),v=c("v-divider"),y=c("v-select"),h=c("v-tab-item"),g=c("v-tabs-items"),b=c("v-button"),$=c("v-drawer"),A=$e("tooltip");return m(),C($,{title:e.t("creating_new_collection"),"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.t(e.currentTab[0]),onCancel:t[7]||(t[7]=V=>e.router.push("/settings/data-model"))},{sidebar:s(()=>[o(r,{modelValue:e.currentTab,"onUpdate:modelValue":t[0]||(t[0]=V=>e.currentTab=V),vertical:""},{default:s(()=>[o(i,{value:"collection_setup"},{default:s(()=>[P(w(e.t("collection_setup")),1)]),_:1}),o(i,{value:"optional_system_fields",disabled:!e.collectionName},{default:s(()=>[P(w(e.t("optional_system_fields")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),actions:s(()=>[e.currentTab[0]==="collection_setup"?x((m(),C(b,{key:0,disabled:!e.collectionName||e.collectionName.length===0,icon:"",rounded:"",onClick:t[6]||(t[6]=V=>e.currentTab=["optional_system_fields"])},{default:s(()=>[o(p,{name:"arrow_forward"})]),_:1},8,["disabled"])),[[A,e.t("next"),void 0,{bottom:!0}]]):R("",!0),e.currentTab[0]==="optional_system_fields"?x((m(),C(b,{key:1,loading:e.saving,icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(p,{name:"check"})]),_:1},8,["loading","onClick"])),[[A,e.t("finish_setup"),void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(g,{modelValue:e.currentTab,"onUpdate:modelValue":t[5]||(t[5]=V=>e.currentTab=V),class:"content"},{default:s(()=>[o(h,{value:"collection_setup"},{default:s(()=>[o(u,{type:"info"},{default:s(()=>[P(w(e.t("creating_collection_info")),1)]),_:1}),S("div",KD,[S("div",WD,[S("div",HD,[P(w(e.t("name"))+" ",1),x(o(p,{class:"required",name:"star",sup:""},null,512),[[A,e.t("required")]])]),o(f,{modelValue:e.collectionName,"onUpdate:modelValue":t[1]||(t[1]=V=>e.collectionName=V),autofocus:"",class:"monospace","db-safe":"",placeholder:e.t("a_unique_table_name")},null,8,["modelValue","placeholder"])]),S("div",GD,[S("div",ZD,w(e.t("singleton")),1),o(_,{modelValue:e.singleton,"onUpdate:modelValue":t[2]||(t[2]=V=>e.singleton=V),block:"",label:e.t("singleton_label")},null,8,["modelValue","label"])]),o(v,{class:"full"}),S("div",JD,[S("div",QD,w(e.t("primary_key_field")),1),o(f,{modelValue:e.primaryKeyFieldName,"onUpdate:modelValue":t[3]||(t[3]=V=>e.primaryKeyFieldName=V),class:"monospace","db-safe":"",placeholder:e.t("a_unique_column_name")},null,8,["modelValue","placeholder"])]),S("div",XD,[S("div",YD,w(e.t("type")),1),o(y,{modelValue:e.primaryKeyFieldType,"onUpdate:modelValue":t[4]||(t[4]=V=>e.primaryKeyFieldType=V),items:[{text:e.t("auto_increment_integer"),value:"auto_int"},{text:e.t("generated_uuid"),value:"uuid"},{text:e.t("manual_string"),value:"manual"}]},null,8,["modelValue","items"])])])]),_:1}),o(h,{value:"optional_system_fields"},{default:s(()=>[o(u,{type:"info"},{default:s(()=>[P(w(e.t("creating_collection_system")),1)]),_:1}),S("div",xD,[(m(!0),I(ae,null,we(e.systemFields,(V,T,D)=>(m(),I("div",{key:T,class:ue(["field",D%2==0?"half":"half-right"])},[S("div",eT,w(e.t(V.label)),1),o(f,{modelValue:V.name,"onUpdate:modelValue":O=>V.name=O,class:ue(["monospace",{active:V.enabled}]),disabled:V.inputDisabled,onFocus:O=>V.enabled=!0},{prepend:s(()=>[o(_,{modelValue:V.enabled,"onUpdate:modelValue":O=>V.enabled=O,disabled:V.inputDisabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),append:s(()=>[o(p,{name:V.icon},null,8,["name"])]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled","onFocus"])],2))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","model-value","sidebar-label"])}var nT=z(zD,[["render",tT],["__scopeId","data-v-42685a5a"]]);const lT=K({components:{SettingsNavigation:Bt},setup(){const{t:e}=Y();return{t:e}}}),oT={class:"not-found"};function aT(e,t,n,l,a,d){const i=c("settings-navigation"),r=c("v-info"),u=c("private-view");return m(),C(u,{title:e.t("page_not_found")},{navigation:s(()=>[o(i)]),default:s(()=>[S("div",oT,[o(r,{title:e.t("page_not_found"),icon:"not_interested"},{default:s(()=>[P(w(e.t("page_not_found_body")),1)]),_:1},8,["title"])])]),_:1},8,["title"])}var iT=z(lT,[["render",aT],["__scopeId","data-v-bf888afe"]]);const rT=K({setup(){const{t:e}=Y(),t=E(!1),n=E(null),l=E(null);return a(),{t:e,bookmarksCount:n,presetsCount:l};async function a(){t.value=!0;try{const d=await pe.get("/presets",{params:{["filter[bookmark][_nnull]"]:!0,fields:["id"],meta:"filter_count,total_count"}});n.value=d.data.meta.filter_count,l.value=d.data.meta.total_count-n.value}catch(d){Ie(d)}finally{t.value=!1}}}}),sT={class:"page-description"};function dT(e,t,n,l,a,d){const i=c("v-divider"),r=c("sidebar-detail"),u=$e("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[S("dl",null,[S("div",null,[S("dt",null,w(e.t("bookmarks")),1),S("dd",null,w(e.bookmarksCount),1)]),S("div",null,[S("dt",null,w(e.t("presets")),1),S("dd",null,w(e.presetsCount),1)])]),o(i),x(S("div",sT,null,512),[[u,e.t("page_help_settings_presets_collection")]])]),_:1},8,["title"])}var uT=z(rT,[["render",dT],["__scopeId","data-v-7ed28445"]]);const cT=K({name:"ContentCollection",components:{SettingsNavigation:Bt,PresetsInfoSidebarDetail:uT,LayoutSidebarDetail:Un,SearchInput:Cn,DrawerBatch:Rl,RefreshSidebarDetail:Za},setup(){const e=E("tabular"),t=E("directus_presets"),n=E({}),l=E({}),a=E(null),d=E(null),i=E(null),{t:r}=Y(),{layouts:u}=$n(),p=He(),f=Ot(),_=E(),{selection:v}=q(),{info:y}=rt(t),{layoutWrapper:h}=pn(e),{confirmDelete:g,deleting:b,batchDelete:$,error:A,batchEditActive:V}=G(),T=F(()=>u.value.find(J=>J.id===e.value)),{batchEditAllowed:D,batchDeleteAllowed:O,createAllowed:M}=ce(),L=Pn();return{t:r,batchDelete:$,batchEditActive:V,confirmDelete:g,currentCollection:y,deleting:b,filter:a,layoutRef:_,layoutWrapper:h,selection:v,layoutOptions:n,layoutQuery:l,layout:e,search:d,clearFilters:Q,batchEditAllowed:D,batchDeleteAllowed:O,deleteError:A,createAllowed:M,drawerBatchRefresh:B,refresh:j,refreshInterval:i,currentLayout:T,collection:t};async function j(){var J,oe,_e;await((_e=(oe=(J=_.value)==null?void 0:J.state)==null?void 0:oe.refresh)==null?void 0:_e.call(oe))}async function B(){v.value=[],await j()}function q(){return{selection:E([])}}function G(){const J=E(!1),oe=E(!1),_e=E(!1),me=E(null);return{batchEditActive:_e,confirmDelete:J,deleting:oe,batchDelete:ee,error:me};async function ee(){oe.value=!0;try{const ne=v.value;await L.delete(ne),v.value=[],await j(),J.value=!1}catch(ne){me.value=ne}finally{oe.value=!1}}}function Q(){a.value=null,d.value=null}function ce(){const J=F(()=>{var ne;return((ne=p==null?void 0:p.currentUser)==null?void 0:ne.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="update"&&te.collection===t.value)}),oe=F(()=>{var ne;return((ne=p==null?void 0:p.currentUser)==null?void 0:ne.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="delete"&&te.collection===t.value)}),_e=F(()=>{var ne;return((ne=p==null?void 0:p.currentUser)==null?void 0:ne.role.admin_access)===!0?!0:!!f.permissions.find(te=>te.action==="create"&&te.collection===t.value)});return{batchEditAllowed:J,batchDeleteAllowed:oe,createAllowed:_e}}}});function pT(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("search-input"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),h=c("settings-navigation"),g=c("v-info"),b=c("drawer-batch"),$=c("presets-info-sidebar-detail"),A=c("layout-sidebar-detail"),V=c("refresh-sidebar-detail"),T=c("export-sidebar-detail"),D=c("v-error"),O=c("v-card-text"),M=c("private-view"),L=$e("tooltip");return e.currentCollection?(m(),C(Be(e.layoutWrapper),{key:0,ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=j=>e.selection=j),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=j=>e.layoutOptions=j),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=j=>e.layoutQuery=j),"filter-user":e.filter,filter:e.filter,search:e.search,collection:e.collection,"clear-filters":e.clearFilters},{default:s(({layoutState:j})=>{var B;return[o(M,{title:e.t("settings_presets"),"small-header":(B=e.currentLayout)==null?void 0:B.smallHeader},{headline:s(()=>[o(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"bookmark_border"})]),_:1})]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.layout||"tabular"}`),Qe(et(j)),null,16))]),actions:s(()=>[o(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=q=>e.search=q),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=q=>e.filter=q),collection:e.collection},null,8,["modelValue","filter","collection"]),e.selection.length>0?(m(),C(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=q=>e.confirmDelete=q),onEsc:t[4]||(t[4]=q=>e.confirmDelete=!1)},{activator:s(({on:q})=>[x(o(u,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:q},{default:s(()=>[o(r,{name:"delete",outline:""})]),_:2},1032,["disabled","onClick"]),[[L,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:t[2]||(t[2]=q=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?x((m(),C(u,{key:1,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=q=>e.batchEditActive=!0)},{default:s(()=>[o(r,{name:"edit",outline:""})]),_:1},8,["disabled"])),[[L,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",to:"/settings/presets/+",disabled:e.createAllowed===!1},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["disabled"]),[[L,e.createAllowed?e.t("create_preset"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(h)]),sidebar:s(()=>[o($),o(A,{modelValue:e.layout,"onUpdate:modelValue":t[7]||(t[7]=q=>e.layout=q)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout||"tabular"}`),Qe(et(j)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout||"tabular"}`),Qe(et(j)),null,16)),o(V,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[8]||(t[8]=q=>e.refreshInterval=q),onRefresh:e.refresh},null,8,["modelValue","onRefresh"]),o(T,{collection:e.collection,filter:e.filter,search:e.search},null,8,["collection","filter","search"])]),default:s(()=>[(m(),C(Be(`layout-${e.layout||"tabular"}`),pt({class:"layout"},j),{"no-results":s(()=>[o(g,{title:e.t("no_presets"),icon:"bookmark",center:"",type:"warning"},{append:s(()=>[o(u,{onClick:e.clearFilters},{default:s(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("no_presets_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":s(()=>[o(g,{title:e.t("no_presets"),icon:"bookmark",center:"",type:"warning"},ot({default:s(()=>[P(w(e.t("no_presets_copy"))+" ",1)]),_:2},[e.createAllowed?{name:"append",fn:s(()=>[o(u,{to:"/settings/presets/+"},{default:s(()=>[P(w(e.t("create_preset")),1)]),_:1})])}:void 0]),1032,["title"])]),_:2},1040)),o(b,{active:e.batchEditActive,"onUpdate:active":t[6]||(t[6]=q=>e.batchEditActive=q),"primary-keys":e.selection,collection:e.collection,onRefresh:e.drawerBatchRefresh},null,8,["active","primary-keys","collection","onRefresh"]),o(y,{"model-value":e.deleteError!==null},{default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("something_went_wrong")),1)]),_:1}),o(O,null,{default:s(()=>[o(D,{error:e.deleteError},null,8,["error"])]),_:1}),o(_,null,{default:s(()=>[o(u,{onClick:t[9]||(t[9]=q=>e.deleteError=null)},{default:s(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:2},1032,["title","small-header"])]}),_:1},8,["selection","layout-options","layout-query","filter-user","filter","search","collection","clear-filters"])):R("",!0)}var mT=z(cT,[["render",pT],["__scopeId","data-v-1ce0624e"]]);const fT=K({components:{SettingsNavigation:Bt},props:{id:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),l=Je(),a=Pn(),{layouts:d}=$n(),{backLink:i}=_e(),r=F(()=>e.id==="+"),{loading:u,preset:p}=oe(),{fields:f}=me(),{edits:_,hasEdits:v,initialValues:y,values:h,layoutQuery:g,layoutOptions:b,updateFilters:$,search:A}=J(),{save:V,saving:T}=Q(),{deleting:D,deleteAndQuit:O,confirmDelete:M}=ce(),L=F({get(){var ne;return(ne=h.value.filter)!=null?ne:null},set(ne){$(ne)}}),j=F(()=>h.value.layout),{layoutWrapper:B}=pn(j);it("meta+s",()=>{v.value&&V()});const{confirmLeave:q,leaveTo:G}=_n(v);return{t,backLink:i,loading:u,preset:p,edits:_,fields:f,values:h,initialValues:y,saving:T,save:V,layoutWrapper:B,layoutQuery:g,layoutOptions:b,layoutFilter:L,hasEdits:v,deleting:D,deleteAndQuit:O,confirmDelete:M,updateFilters:$,search:A,confirmLeave:q,leaveTo:G,discardAndLeave:ee};function Q(){const ne=E(!1);return{saving:ne,save:te};async function te(){var se;ne.value=!0;const Z={};_.value.name&&(Z.bookmark=_.value.name),((se=_.value.name)==null?void 0:se.length)===0&&(Z.bookmark=null),_.value.icon&&(Z.icon=_.value.icon),_.value.color&&(Z.color=_.value.color),_.value.collection&&(Z.collection=_.value.collection),_.value.layout&&(Z.layout=_.value.layout),_.value.layout_query&&(Z.layout_query=_.value.layout_query),_.value.layout_options&&(Z.layout_options=_.value.layout_options),_.value.filter&&(Z.filter=_.value.filter),Z.search=_.value.search,_.value.scope&&(_.value.scope.startsWith("role_")?(Z.role=_.value.scope.substring(5),Z.user=null):_.value.scope.startsWith("user_")?(Z.user=_.value.scope.substring(5),Z.role=null):(Z.role=null,Z.user=null));try{r.value===!0?await pe.post("/presets",Z):await pe.patch(`/presets/${e.id}`,Z),await a.hydrate(),_.value={}}catch(X){Ie(X)}finally{ne.value=!1,n.push("/settings/presets")}}}function ce(){const ne=E(!1),te=E(!1);return{deleting:ne,confirmDelete:te,deleteAndQuit:Z};async function Z(){ne.value=!0;try{await a.delete([Number(e.id)]),n.replace("/settings/presets")}catch(se){Ie(se)}finally{ne.value=!1}}}function J(){const ne=E({}),te=F(()=>Object.keys(ne.value).length>0),Z=F(()=>{const le={collection:null,layout:"tabular",search:null,scope:"all",layout_query:null,layout_options:null,filter:null};if(r.value===!0||p.value===null)return le;let ie="all";return p.value.user!==null?ie=`user_${p.value.user}`:p.value.role!==null&&(ie=`role_${p.value.role}`),{id:p.value.id,collection:p.value.collection,layout:p.value.layout,name:p.value.bookmark,icon:p.value.icon,color:p.value.color,search:p.value.search,scope:ie,layout_query:p.value.layout_query,layout_options:p.value.layout_options,filter:p.value.filter}}),se=F(()=>fe(fe({},Z.value),ne.value)),X=F({get(){return!se.value.layout_query||!se.value.layout?null:se.value.layout_query[se.value.layout]},set(le){se.value.layout_query&&se.value.layout&&N.exports.isEqual(le,se.value.layout_query[se.value.layout])||(ne.value=Fe(fe({},ne.value),{layout_query:Fe(fe({},ne.value.layout_query),{[se.value.layout||"tabular"]:le})}))}}),re=F({get(){return!se.value.layout_options||!se.value.layout?null:se.value.layout_options[se.value.layout]},set(le){se.value.layout_options&&se.value.layout&&N.exports.isEqual(le,se.value.layout_options[se.value.layout])||(ne.value=Fe(fe({},ne.value),{layout_options:Fe(fe({},ne.value.layout_options),{[se.value.layout||"tabular"]:le})}))}}),ve=F({get(){return se.value.search},set(le){ne.value=Fe(fe({},ne.value),{search:le})}});return{edits:ne,initialValues:Z,values:se,layoutQuery:X,layoutOptions:re,hasEdits:te,updateFilters:H,search:ve};function H(le){ne.value=Fe(fe({},ne.value),{filter:le})}}function oe(){const ne=E(!1),te=E(null);return Z(),{loading:ne,preset:te,fetchPreset:Z};async function Z(){if(e.id!=="+"){ne.value=!0;try{const se=await pe.get(`/presets/${e.id}`);te.value=se.data.data}catch(se){Ie(se)}finally{ne.value=!1}}}}function _e(){return{backLink:F(()=>"/settings/presets")}}function me(){const ne=["directus_users","directus_files","directus_activity"];return{fields:F(()=>[{field:"collection",name:t("collection"),type:"string",meta:{interface:"select-dropdown",options:{choices:l.collections.map(Z=>({text:Z.name,value:Z.collection})).filter(Z=>Z.value.startsWith("directus_")?ne.includes(Z.value):!0)},width:"half"}},{field:"scope",name:t("scope"),type:"string",meta:{interface:"system-scope",width:"half"}},{field:"layout",name:t("layout"),type:"string",meta:{interface:"select-dropdown",options:{choices:d.value.map(Z=>({text:Z.name,value:Z.id}))},width:"half"}},{field:"name",name:t("name"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("preset_name_placeholder")}}},{field:"icon",name:"$t:icon",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"bookmark_outline"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"search",name:t("search"),type:"string",meta:{interface:"input",width:"half",options:{placeholder:t("search_items")}}},{field:"filter",name:t("filter"),type:"string",meta:{interface:"system-filter",width:"half",options:{collectionField:"collection"}}},{field:"divider",name:t("divider"),type:"alias",meta:{interface:"presentation-divider",width:"fill",options:{title:t("layout_preview"),icon:"visibility"}}}])}}function ee(){!G.value||(_.value={},q.value=!1,n.push(G.value))}}}),_T={class:"preset-item"},vT={class:"layout"},yT={class:"page-description"},hT={class:"layout-sidebar"},gT={class:"layout-options"};function bT(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("settings-navigation"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),h=c("v-form"),g=c("v-info"),b=c("v-notice"),$=c("sidebar-detail"),A=c("v-card-text"),V=c("private-view"),T=$e("tooltip"),D=$e("md");return m(),C(Be(e.layoutWrapper),{"layout-options":e.layoutOptions,"onUpdate:layout-options":t[7]||(t[7]=O=>e.layoutOptions=O),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[8]||(t[8]=O=>e.layoutQuery=O),filter:e.layoutFilter,search:e.search,collection:e.values.collection,readonly:""},{default:s(({layoutState:O})=>[o(V,{title:e.t("editing_preset")},{headline:s(()=>[o(i,{items:[{name:e.t("settings_presets"),to:"/settings/presets"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",exact:"",to:e.backLink},{default:s(()=>[o(r,{name:"arrow_back"})]),_:1},8,["to"])]),navigation:s(()=>[o(p)]),actions:s(()=>[o(y,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=M=>e.confirmDelete=M),onEsc:t[2]||(t[2]=M=>e.confirmDelete=!1)},{activator:s(({on:M})=>[x(o(u,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.preset===null||e.id==="+",onClick:M},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[T,e.t("delete_label"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:t[0]||(t[0]=M=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),x(o(u,{icon:"",rounded:"",disabled:e.hasEdits===!1,loading:e.saving,onClick:e.save},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[T,e.t("save"),void 0,{bottom:!0}]])]),sidebar:s(()=>[o($,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",yT,null,512),[[D,e.t("page_help_settings_presets_item")]])]),_:1},8,["title"]),S("div",hT,[e.values.layout&&e.values.collection?(m(),C(Be(`layout-sidebar-${e.values.layout}`),Qe(pt({key:0},O)),null,16)):R("",!0),o($,{icon:"layers",title:e.t("layout_options")},{default:s(()=>[S("div",gT,[e.values.layout&&e.values.collection?(m(),C(Be(`layout-options-${e.values.layout}`),Qe(pt({key:0},O)),null,16)):R("",!0)])]),_:2},1032,["title"])])]),default:s(()=>[S("div",_T,[o(h,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=M=>e.edits=M),fields:e.fields,loading:e.loading,"initial-values":e.initialValues,"primary-key":e.id},null,8,["modelValue","fields","loading","initial-values","primary-key"]),S("div",vT,[e.values.layout&&e.values.collection?(m(),C(Be(`layout-${e.values.layout}`),Qe(pt({key:0},O)),{"no-results":s(()=>[o(g,{title:e.t("no_results"),icon:"search",center:""},{default:s(()=>[P(w(e.t("no_results_copy")),1)]),_:1},8,["title"])]),"no-items":s(()=>[o(g,{title:e.t("item_count",0),center:""},{default:s(()=>[P(w(e.t("no_items_copy")),1)]),_:1},8,["title"])]),_:2},1040)):(m(),C(b,{key:1},{default:s(()=>[P(w(e.t("no_layout_collection_selected_yet")),1)]),_:1}))])]),o(y,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=M=>e.confirmLeave=M),onEsc:t[6]||(t[6]=M=>e.confirmLeave=!1)},{default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[4]||(t[4]=M=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["title"])]),_:1},8,["layout-options","layout-query","filter","search","collection"])}var wT=z(fT,[["render",bT],["__scopeId","data-v-03a42f42"]]);const kT=K({setup(){const{t:e}=Y(),{parsedInfo:t}=Ar();return{t:e,parsedInfo:t}}}),$T={key:0},ST={class:"page-description"};function CT(e,t,n,l,a,d){const i=c("v-divider"),r=c("sidebar-detail"),u=$e("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[e.parsedInfo?(m(),I("dl",$T,[S("div",null,[S("dt",null,w(e.t("directus_version")),1),S("dd",null,w(e.parsedInfo.directus.version),1)]),S("div",null,[S("dt",null,w(e.t("node_version")),1),S("dd",null,w(e.parsedInfo.node.version),1)]),S("div",null,[S("dt",null,w(e.t("node_uptime")),1),S("dd",null,w(e.parsedInfo.node.uptime),1)]),S("div",null,[S("dt",null,w(e.t("os_type")),1),S("dd",null,w(e.parsedInfo.os.type),1)]),S("div",null,[S("dt",null,w(e.t("os_version")),1),S("dd",null,w(e.parsedInfo.os.version),1)]),S("div",null,[S("dt",null,w(e.t("os_uptime")),1),S("dd",null,w(e.parsedInfo.os.uptime),1)]),S("div",null,[S("dt",null,w(e.t("os_totalmem")),1),S("dd",null,w(e.parsedInfo.os.totalmem),1)])])):R("",!0),o(i),x(S("div",ST,null,512),[[u,e.t("page_help_settings_project")]])]),_:1},8,["title"])}var VT=z(kT,[["render",CT],["__scopeId","data-v-1a92ed59"]]);const FT=K({components:{SettingsNavigation:Bt,ProjectInfoSidebarDetail:VT},setup(){const{t:e}=Y(),t=at(),n=Gl(),l=rn(),{fields:a}=rt("directus_settings"),d=E(N.exports.clone(n.settings)),i=E(null),r=F(()=>i.value!==null&&Object.keys(i.value).length>0),u=E(!1);it("meta+s",()=>{r.value&&_()});const{confirmLeave:p,leaveTo:f}=_n(r);return{t:e,fields:a,initialValues:d,edits:i,hasEdits:r,saving:u,confirmLeave:p,leaveTo:f,save:_,discardAndLeave:v};async function _(){i.value!==null&&(u.value=!0,await n.updateSettings(i.value),await l.hydrate(),i.value=null,u.value=!1,d.value=N.exports.clone(n.settings))}function v(){!f.value||(i.value={},p.value=!1,t.push(f.value))}}}),AT={class:"settings"};function IT(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("settings-navigation"),f=c("v-form"),_=c("project-info-sidebar-detail"),v=c("v-card-title"),y=c("v-card-text"),h=c("v-card-actions"),g=c("v-card"),b=c("v-dialog"),$=c("private-view"),A=$e("tooltip");return m(),C($,{title:e.t("settings_project")},{headline:s(()=>[o(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"public"})]),_:1})]),actions:s(()=>[x(o(u,{icon:"",rounded:"",disabled:!e.hasEdits,loading:e.saving,onClick:e.save},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["disabled","loading","onClick"]),[[A,e.t("save"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(p)]),sidebar:s(()=>[o(_)]),default:s(()=>[S("div",AT,[o(f,{modelValue:e.edits,"onUpdate:modelValue":t[0]||(t[0]=V=>e.edits=V),"initial-values":e.initialValues,fields:e.fields,"primary-key":1},null,8,["modelValue","initial-values","fields"])]),o(b,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[2]||(t[2]=V=>e.confirmLeave=V),onEsc:t[3]||(t[3]=V=>e.confirmLeave=!1)},{default:s(()=>[o(g,null,{default:s(()=>[o(v,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(y,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(h,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[1]||(t[1]=V=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var ET=z(FT,[["render",IT],["__scopeId","data-v-3d0fc971"]]);const Dr=[{collection:"directus_files",action:"create",permissions:{},fields:["*"]},{collection:"directus_files",action:"read",permissions:{},fields:["*"]},{collection:"directus_files",action:"update",permissions:{},fields:["*"]},{collection:"directus_files",action:"delete",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"create",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"read",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"update",permissions:{},fields:["*"]},{collection:"directus_dashboards",action:"delete",permissions:{},fields:["*"]},{collection:"directus_panels",action:"create",permissions:{},fields:["*"]},{collection:"directus_panels",action:"read",permissions:{},fields:["*"]},{collection:"directus_panels",action:"update",permissions:{},fields:["*"]},{collection:"directus_panels",action:"delete",permissions:{},fields:["*"]},{collection:"directus_folders",action:"create",permissions:{},fields:["*"]},{collection:"directus_folders",action:"read",permissions:{},fields:["*"]},{collection:"directus_folders",action:"update",permissions:{},fields:["*"]},{collection:"directus_folders",action:"delete",permissions:{}},{collection:"directus_users",action:"read",permissions:{},fields:["*"]},{collection:"directus_users",action:"update",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["first_name","last_name","email","password","location","title","description","avatar","language","theme"]},{collection:"directus_roles",action:"read",permissions:{},fields:["*"]},{collection:"directus_shares",action:"read",permissions:{_or:[{role:{_eq:"$CURRENT_ROLE"}},{role:{_null:!0}}]},fields:["*"]},{collection:"directus_shares",action:"create",permissions:{},fields:["*"]},{collection:"directus_shares",action:"update",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]},{collection:"directus_shares",action:"delete",permissions:{user_created:{_eq:"$CURRENT_USER"}},fields:["*"]}],Tr=[{collection:"directus_activity",action:"read",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_activity",action:"create",validation:{comment:{_nnull:!0}}},{collection:"directus_collections",action:"read"},{collection:"directus_fields",action:"read"},{collection:"directus_permissions",action:"read",permissions:{role:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_presets",action:"read",permissions:{_or:[{user:{_eq:"$CURRENT_USER"}},{_and:[{user:{_null:!0}},{role:{_eq:"$CURRENT_ROLE"}}]},{_and:[{user:{_null:!0}},{role:{_null:!0}}]}]}},{collection:"directus_presets",action:"create",validation:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"update",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_presets",action:"delete",permissions:{user:{_eq:"$CURRENT_USER"}}},{collection:"directus_relations",action:"read"},{collection:"directus_roles",action:"read",permissions:{id:{_eq:"$CURRENT_ROLE"}}},{collection:"directus_settings",action:"read"},{collection:"directus_shares",action:"read",permissions:{user_created:{_eq:"$CURRENT_USER"}}},{collection:"directus_users",action:"read",permissions:{id:{_eq:"$CURRENT_USER"}},fields:["id","first_name","last_name","last_page","email","password","location","title","description","tags","preferences_divider","avatar","language","theme","tfa_secret","status","role"]}];const DT=K({setup(){const{t:e}=Y(),t=at(),n=Vn(),l=E(null),a=E(!0),d=E(!1),{saving:i,save:r}=u();return{t:e,router:t,isOpen:n,roleName:l,saving:i,save:r,appAccess:a,adminAccess:d};function u(){const p=E(!1);return{saving:p,save:f};async function f(){p.value=!0;try{const _=await pe.post("/roles",{name:l.value,admin_access:d.value,app_access:a.value});a.value===!0&&d.value===!1&&await pe.post("/permissions",Dr.map(v=>Fe(fe({},v),{role:_.data.data.id}))),t.push(`/settings/roles/${_.data.data.id}`)}catch(_){Ie(_)}finally{p.value=!1}}}}}),TT={class:"form-grid"},PT={class:"field full"},OT={class:"field half"},LT={class:"type-label"},jT={class:"field half"},RT={class:"type-label"};function MT(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-input"),u=c("v-checkbox"),p=c("v-card-text"),f=c("v-button"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog");return m(),C(y,{"model-value":e.isOpen,persistent:"",onEsc:t[3]||(t[3]=h=>e.router.push("/settings/roles"))},{default:s(()=>[o(v,null,{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.t("create_role")),1)]),_:1}),o(p,null,{default:s(()=>[S("div",TT,[S("div",PT,[o(r,{modelValue:e.roleName,"onUpdate:modelValue":t[0]||(t[0]=h=>e.roleName=h),autofocus:"",placeholder:e.t("role_name")+"...",onKeyup:Yn(e.save,["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),S("div",OT,[S("p",LT,w(e.t("fields.directus_roles.app_access")),1),o(u,{modelValue:e.appAccess,"onUpdate:modelValue":t[1]||(t[1]=h=>e.appAccess=h),block:"",label:e.t("enabled")},null,8,["modelValue","label"])]),S("div",jT,[S("p",RT,w(e.t("fields.directus_roles.admin_access")),1),o(u,{modelValue:e.adminAccess,"onUpdate:modelValue":t[2]||(t[2]=h=>e.adminAccess=h),block:"",label:e.t("enabled")},null,8,["modelValue","label"])])])]),_:1}),o(_,null,{default:s(()=>[o(f,{to:"/settings/roles",secondary:""},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(f,{disabled:e.roleName===null,loading:e.saving,onClick:e.save},{default:s(()=>[P(w(e.t("save")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var UT=z(DT,[["render",MT],["__scopeId","data-v-2bf24ab7"]]);const NT={},BT={class:"null"};function qT(e,t){return m(),I("span",BT,"--")}var on=z(NT,[["render",qT],["__scopeId","data-v-cf005d72"]]);const zT=K({name:"RolesCollection",components:{SettingsNavigation:Bt,ValueNull:on},props:{},setup(){const{t:e}=Y(),t=at(),n=E([]),l=E(!1),a=F(()=>{const p=n.value.filter(f=>f.admin_access===!0);return p.length===1?p[0].id:null}),d=[{text:"",value:"icon",sortable:!1,width:42,align:"left"},{text:e("name"),value:"name",sortable:!1,width:140,align:"left"},{text:e("users"),value:"count",sortable:!1,width:140,align:"left"},{text:e("description"),value:"description",sortable:!1,width:470,align:"left"}];r();const i=F(()=>"/settings/roles/+");return{t:e,loading:l,roles:n,tableHeaders:d,addNewLink:i,navigateToRole:u};async function r(){l.value=!0;try{const p=await pe.get("/roles",{params:{limit:-1,fields:["id","name","description","icon","admin_access","users"],deep:{users:{_aggregate:{count:"id"},_groupBy:["role"],_sort:"role",_limit:-1}},sort:"name"}});n.value=[{public:!0,name:e("public_label"),icon:"public",description:e("public_description"),id:"public"},...p.data.data.map(f=>{var _;return Fe(fe({},It(f)),{count:((_=f.users[0])==null?void 0:_.count.id)||0})})]}catch(p){Ie(p)}finally{l.value=!1}}function u({item:p}){p.id!=="public"&&a.value?t.push({name:"settings-roles-item",params:{primaryKey:p.id,lastAdminRoleId:a.value}}):t.push(`/settings/roles/${p.id}`)}}}),KT={class:"page-description"},WT={class:"roles"},HT={class:"description"};function GT(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("settings-navigation"),f=c("sidebar-detail"),_=c("value-null"),v=c("v-table"),y=c("router-view"),h=c("private-view"),g=$e("tooltip"),b=$e("md");return m(),C(h,{title:e.t("settings_permissions")},{headline:s(()=>[o(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"admin_panel_settings"})]),_:1})]),actions:s(()=>[x(o(u,{rounded:"",icon:"",to:e.addNewLink},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to"]),[[g,e.t("create_role"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(p)]),sidebar:s(()=>[o(f,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",KT,null,512),[[b,e.t("page_help_settings_roles_collection")]])]),_:1},8,["title"])]),default:s(()=>[S("div",WT,[o(v,{items:e.roles,headers:e.tableHeaders,"fixed-header":"","item-key":"id",loading:e.loading,"onClick:row":e.navigateToRole},{["item.icon"]:s(({item:$})=>[o(r,{class:ue(["icon",{public:$.public}]),name:$.icon},null,8,["name","class"])]),["item.name"]:s(({item:$})=>[S("span",{class:ue(["name",{public:$.public}])},w($.name),3)]),["item.count"]:s(({item:$})=>[$.public?(m(),C(_,{key:0})):R("",!0)]),["item.description"]:s(({item:$})=>[S("span",HT,w($.description),1)]),_:2},1032,["items","headers","loading","onClick:row"])]),o(y,{name:"add"})]),_:1},8,["title"])}var ZT=z(zT,[["render",GT],["__scopeId","data-v-04f2ad55"]]);const JT=K({props:{isNew:{type:Boolean,default:!1},role:{type:Object,default:null}},setup(){const{t:e}=Y();return{t:e}}}),QT={class:"page-description"};function XT(e,t,n,l,a,d){const i=c("v-divider"),r=c("sidebar-detail"),u=$e("md");return m(),C(r,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[!e.isNew&&e.role?(m(),I(ae,{key:0},[S("dl",null,[S("div",null,[S("dt",null,w(e.t("primary_key")),1),S("dd",null,w(e.role.id),1)])]),o(i)],64)):R("",!0),x(S("div",QT,null,512),[[u,e.t("page_help_settings_roles_item")]])]),_:1},8,["title"])}var Pr=z(JT,[["render",XT],["__scopeId","data-v-27256f44"]]);const YT=K({setup(){const{t:e}=Y();return{t:e}}}),xT={class:"permissions-overview-header"},eP={class:"name"};function tP(e,t,n,l,a,d){const i=c("v-icon"),r=$e("tooltip");return m(),I("div",xT,[S("span",eP,w(e.t("collection")),1),x(o(i,{name:"add"},null,512),[[r,e.t("create")]]),x(o(i,{name:"visibility"},null,512),[[r,e.t("read")]]),x(o(i,{name:"edit"},null,512),[[r,e.t("update")]]),x(o(i,{name:"delete"},null,512),[[r,e.t("delete_label")]]),x(o(i,{name:"share"},null,512),[[r,e.t("share")]])])}var nP=z(YT,[["render",tP],["__scopeId","data-v-8b3821ae"]]);const lP=["create","read","update","delete","share"];function Or(e,t,n){const l=E(!1),a=_t("refresh-permissions");return{getPermission:d,setFullAccess:i,setNoAccess:r,setFullAccessAll:u,setNoAccessAll:p};function d(f){return t.value.find(_=>_.action===f)}async function i(f){if(l.value===!0)return;l.value=!0,e.value.meta===null&&await pe.patch(`/collections/${e.value.collection}`,{meta:{}});const _=d(f);if(_)try{await pe.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(v){Ie(v)}finally{await(a==null?void 0:a()),l.value=!1}else try{await pe.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(v){Ie(v)}finally{await(a==null?void 0:a()),l.value=!1}}async function r(f){if(l.value===!0)return;const _=d(f);if(!!_){l.value=!0;try{await pe.delete(`/permissions/${_.id}`)}catch(v){Ie(v)}finally{await(a==null?void 0:a()),l.value=!1}}}async function u(){l.value!==!0&&(l.value=!0,e.value.meta===null&&await pe.patch(`/collections/${e.value.collection}`,{meta:{}}),await Promise.all(lP.map(async f=>{const _=d(f);if(_)try{await pe.patch(`/permissions/${_.id}`,{fields:"*",permissions:{},validation:{}})}catch(v){Ie(v)}else try{await pe.post("/permissions/",{role:n.value,collection:e.value.collection,action:f,fields:"*",permissions:{},validation:{}})}catch(v){Ie(v)}})),await(a==null?void 0:a()),l.value=!1)}async function p(){if(l.value!==!0){l.value=!0;try{await pe.delete("/permissions",{data:t.value.map(f=>f.id)})}catch(f){Ie(f)}finally{await(a==null?void 0:a()),l.value=!1}}}}const oP=K({props:{collection:{type:Object,required:!0},role:{type:String,default:null},action:{type:String,required:!0},permissions:{type:Array,default:null},loading:{type:Boolean,default:!1},appMinimal:{type:[Boolean,Object],default:!1}},setup(e){const{t}=Y(),n=at(),{collection:l,role:a,permissions:d}=ze(e),{setFullAccess:i,setNoAccess:r,getPermission:u}=Or(l,d,a),p=F(()=>u(e.action)),f=F(()=>{var g;return p.value===void 0?"none":((g=p.value.fields)==null?void 0:g.includes("*"))&&Object.keys(p.value.permissions||{}).length===0&&Object.keys(p.value.validation||{}).length===0?"all":"custom"}),_=E(!1),v=_t("refresh-permissions"),y=F(()=>e.appMinimal===!1?null:Object.keys(e.appMinimal).length===2?"full":"partial");return{t,permissionLevel:f,saving:_,setFullAccess:i,setNoAccess:r,openPermissions:h,appMinimalLevel:y};async function h(){if(e.collection.meta===null&&await pe.patch(`/collections/${e.collection.collection}`,{meta:{}}),p.value)n.push(`/settings/roles/${e.role||"public"}/${p.value.id}`);else{_.value=!0;const g=await pe.post("/permissions",{role:e.role,collection:e.collection.collection,action:e.action});await(v==null?void 0:v()),_.value=!1,n.push(`/settings/roles/${e.role||"public"}/${g.data.data.id}`)}}}});function aP(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-progress-circular"),u=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("v-list"),y=c("v-menu"),h=$e("tooltip");return x((m(),I("div",{class:ue(["permissions-overview-toggle",[{"has-app-minimal":!!e.appMinimal},e.permissionLevel,e.appMinimalLevel]])},[e.appMinimalLevel==="full"?(m(),C(i,{key:0,name:"check",class:"all app-minimal"})):(m(),C(y,{key:1,"show-arrow":""},{activator:s(({toggle:g})=>[S("div",null,[e.loading||e.saving?(m(),C(r,{key:0,indeterminate:"",small:""})):e.permissionLevel==="all"?(m(),C(i,{key:1,clickable:"",name:"check",onClick:g},null,8,["onClick"])):e.appMinimalLevel==="partial"||e.permissionLevel==="custom"?(m(),C(i,{key:2,clickable:"",name:"rule",onClick:g},null,8,["onClick"])):e.permissionLevel==="none"?(m(),C(i,{key:3,clickable:"",name:"block",onClick:g},null,8,["onClick"])):R("",!0)])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,{disabled:e.permissionLevel==="all",clickable:"",onClick:t[0]||(t[0]=g=>e.setFullAccess(e.action))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"check"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("all_access")),1)]),_:1})]),_:1},8,["disabled"]),e.appMinimalLevel?R("",!0):(m(),C(f,{key:0,disabled:e.permissionLevel==="none",clickable:"",onClick:t[1]||(t[1]=g=>e.setNoAccess(e.action))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"block"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("no_access")),1)]),_:1})]),_:1},8,["disabled"])),o(_),o(f,{clickable:"",onClick:e.openPermissions},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"rule"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("use_custom")),1)]),_:1}),o(u,null,{default:s(()=>[o(i,{name:"launch"})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}))],2)),[[h,e.appMinimal&&e.t("required_for_app_access")]])}var iP=z(oP,[["render",aP],["__scopeId","data-v-169ac11c"]]);const rP=K({components:{PermissionsOverviewToggle:iP},props:{role:{type:String,default:null},collection:{type:Object,required:!0},permissions:{type:Array,required:!0},refreshing:{type:Array,required:!0},appMinimal:{type:[Boolean,Array],default:!1}},setup(e){const{t}=Y(),{collection:n,role:l,permissions:a}=ze(e),{setFullAccessAll:d,setNoAccessAll:i,getPermission:r}=Or(n,a,l);return{t,getPermission:r,isLoading:u,setFullAccessAll:d,setNoAccessAll:i};function u(p){const f=r(p);return f?e.refreshing.includes(f.id):!1}}}),sP=e=>(Xe("data-v-75a217f4"),e=e(),Ye(),e),dP={class:"permissions-overview-row"},uP={class:"name"},cP={class:"actions"},pP=sP(()=>S("span",{class:"divider"},"/",-1));function mP(e,t,n,l,a,d){const i=c("permissions-overview-toggle");return m(),I("div",dP,[S("span",uP,[P(w(e.collection.name)+" ",1),S("span",cP,[S("span",{class:"all",onClick:t[0]||(t[0]=(...r)=>e.setFullAccessAll&&e.setFullAccessAll(...r))},w(e.t("all")),1),pP,S("span",{class:"none",onClick:t[1]||(t[1]=(...r)=>e.setNoAccessAll&&e.setNoAccessAll(...r))},w(e.t("none")),1)])]),o(i,{action:"create",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("create"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="create")},null,8,["collection","role","permissions","loading","app-minimal"]),o(i,{action:"read",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("read"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="read")},null,8,["collection","role","permissions","loading","app-minimal"]),o(i,{action:"update",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("update"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="update")},null,8,["collection","role","permissions","loading","app-minimal"]),o(i,{action:"delete",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("delete"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="delete")},null,8,["collection","role","permissions","loading","app-minimal"]),o(i,{action:"share",collection:e.collection,role:e.role,permissions:e.permissions,loading:e.isLoading("share"),"app-minimal":e.appMinimal&&e.appMinimal.find(r=>r.action==="share")},null,8,["collection","role","permissions","loading","app-minimal"])])}var fP=z(rP,[["render",mP],["__scopeId","data-v-75a217f4"]]);const _P=K({components:{PermissionsOverviewHeader:nP,PermissionsOverviewRow:fP},props:{role:{type:String,default:null},permission:{type:String,default:null},appAccess:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=Je(),l=F(()=>n.collections.filter($=>$.collection.startsWith("directus_")===!1&&$.schema)),a=F(()=>N.exports.orderBy(n.collections.filter($=>$.collection.startsWith("directus_")===!0),"name")),d=E(!1),{permissions:i,loading:r,fetchPermissions:u,refreshPermission:p,refreshing:f}=g(),{resetActive:_,resetSystemPermissions:v,resetting:y,resetError:h}=b();return u(),ge(()=>e.permission,u,{immediate:!0}),Yt("refresh-permissions",u),{t,systemVisible:d,regularCollections:l,systemCollections:a,permissions:i,loading:r,fetchPermissions:u,refreshPermission:p,refreshing:f,resetActive:_,resetSystemPermissions:v,resetting:y,resetError:h,appMinimalPermissions:Tr};function g(){const $=E([]),A=E(!1),V=E([]);return{permissions:$,loading:A,fetchPermissions:T,refreshPermission:D,refreshing:V};async function T(){A.value=!0;try{const O={filter:{role:{}},limit:-1};e.role===null?O.filter.role={_null:!0}:O.filter.role={_eq:e.role};const M=await pe.get("/permissions",{params:O});$.value=M.data.data}catch(O){Ie(O)}finally{A.value=!1}}async function D(O){V.value.includes(O)===!1&&V.value.push(O);try{const M=await pe.get(`/permissions/${O}`);$.value=$.value.map(L=>L.id===O?M.data.data:L)}catch(M){Ie(M)}finally{V.value=V.value.filter(M=>M!==O)}}}function b(){const $=E(!1),A=E(!1),V=E(null);return{resetActive:$,resetSystemPermissions:T,resetting:A,resetError:V};async function T(D){A.value=!0;const O=i.value.filter(M=>M.collection.startsWith("directus_")).map(M=>M.id);try{O.length>0&&await pe.delete("/permissions",{data:O}),e.role!==null&&e.appAccess===!0&&D===!0&&await pe.post("/permissions",Dr.map(M=>Fe(fe({},M),{role:e.role}))),await u(),$.value=!1}catch(M){V.value=M}finally{A.value=!1}}}}}),vP={class:"permissions-overview"},yP={class:"title type-label"},hP={class:"instant-save"},gP={class:"table"},bP={key:0},wP={key:0,class:"reset-toggle"},kP=P(" / ");function $P(e,t,n,l,a,d){const i=c("permissions-overview-header"),r=c("permissions-overview-row"),u=c("v-icon"),p=c("transition-expand"),f=c("router-view"),_=c("v-card-title"),v=c("v-button"),y=c("v-card-actions"),h=c("v-card"),g=c("v-dialog");return m(),I("div",vP,[S("h2",yP,[P(w(e.t("permissions"))+" ",1),S("span",hP,w(e.t("saves_automatically")),1)]),S("div",gP,[o(i),(m(!0),I(ae,null,we(e.regularCollections,b=>(m(),C(r,{key:b.collection,collection:b,role:e.role,permissions:e.permissions.filter($=>$.collection===b.collection),refreshing:e.refreshing},null,8,["collection","role","permissions","refreshing"]))),128)),S("button",{class:"system-toggle",onClick:t[0]||(t[0]=b=>e.systemVisible=!e.systemVisible)},[P(w(e.t("system_collections"))+" ",1),o(u,{name:e.systemVisible?"expand_less":"expand_more"},null,8,["name"])]),o(p,null,{default:s(()=>[e.systemVisible?(m(),I("div",bP,[(m(!0),I(ae,null,we(e.systemCollections,b=>(m(),C(r,{key:b.collection,collection:b,role:e.role,permissions:e.permissions.filter($=>$.collection===b.collection),refreshing:e.refreshing,"app-minimal":e.appAccess&&e.appMinimalPermissions.filter($=>$.collection===b.collection)},null,8,["collection","role","permissions","refreshing","app-minimal"]))),128))])):R("",!0)]),_:1}),e.systemVisible&&e.appAccess?(m(),I("span",wP,[P(w(e.t("reset_system_permissions_to"))+" ",1),S("button",{onClick:t[1]||(t[1]=b=>e.resetActive="minimum")},w(e.t("app_access_minimum")),1),kP,S("button",{onClick:t[2]||(t[2]=b=>e.resetActive="recommended")},w(e.t("recommended_defaults")),1)])):R("",!0)]),o(f,{name:"permissionsDetail","role-key":e.role,"permission-key":e.permission},null,8,["role-key","permission-key"]),o(g,{"model-value":!!e.resetActive,"onUpdate:modelValue":t[5]||(t[5]=b=>e.resetActive=!1),onEsc:t[6]||(t[6]=b=>e.resetActive=!1)},{default:s(()=>[o(h,null,{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("reset_system_permissions_copy")),1)]),_:1}),o(y,null,{default:s(()=>[o(v,{secondary:"",onClick:t[3]||(t[3]=b=>e.resetActive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(v,{loading:e.resetting,onClick:t[4]||(t[4]=b=>e.resetSystemPermissions(e.resetActive==="recommended"))},{default:s(()=>[P(w(e.t("reset")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])])}var Lr=z(_P,[["render",$P],["__scopeId","data-v-554c2db2"]]);const SP=K({props:{modelValue:{type:Boolean,default:!1},role:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(""),a=E([]),d=E(e.role),i=E(!1),r=E([]);return ge(()=>e.modelValue,()=>{p()}),{t:n,emails:l,inviteUsers:u,roles:a,roleSelected:d,loading:i,uniqueValidationErrors:r};async function u(){var f,_,v,y,h,g;i.value=!0;try{const b=l.value.split(/,|\n/).filter($=>$).map($=>$.trim());await pe.post("/users/invite",{email:b,role:d.value}),l.value="",t("update:modelValue",!1)}catch(b){r.value=(v=(_=(f=b==null?void 0:b.response)==null?void 0:f.data)==null?void 0:_.errors)==null?void 0:v.filter(A=>{var V;return((V=A.extensions)==null?void 0:V.code)==="RECORD_NOT_UNIQUE"});const $=(g=(h=(y=b==null?void 0:b.response)==null?void 0:y.data)==null?void 0:h.errors)==null?void 0:g.filter(A=>{var V;return((V=A==null?void 0:A.extensions)==null?void 0:V.code)!=="RECORD_NOT_UNIQUE"});$.length>0&&$.forEach(A=>Ie(A))}finally{i.value=!1}}async function p(){const f=await pe.get("/roles");a.value=f.data.data.map(_=>({text:_.name,value:_.id})),a.value.length>0&&d.value===null&&(d.value=a.value[0].value)}}}),CP={class:"grid"},VP={class:"field"},FP={class:"type-label"},AP={key:0,class:"field"},IP={class:"type-label"};function EP(e,t,n,l,a,d){const i=c("v-card-title"),r=c("v-textarea"),u=c("v-select"),p=c("v-notice"),f=c("v-card-text"),_=c("v-button"),v=c("v-card-actions"),y=c("v-card"),h=c("v-dialog");return m(),C(h,{"model-value":e.modelValue,"onUpdate:modelValue":t[3]||(t[3]=g=>e.$emit("update:modelValue",g)),onEsc:t[4]||(t[4]=g=>e.$emit("update:modelValue",!1))},{default:s(()=>[o(y,null,{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.t("invite_users")),1)]),_:1}),o(f,null,{default:s(()=>[S("div",CP,[S("div",VP,[S("div",FP,w(e.t("emails")),1),o(r,{modelValue:e.emails,"onUpdate:modelValue":t[0]||(t[0]=g=>e.emails=g),nullable:!1,placeholder:"admin@example.com, user@example.com..."},null,8,["modelValue"])]),e.role===null?(m(),I("div",AP,[S("div",IP,w(e.t("role")),1),o(u,{modelValue:e.roleSelected,"onUpdate:modelValue":t[1]||(t[1]=g=>e.roleSelected=g),items:e.roles},null,8,["modelValue","items"])])):R("",!0),e.uniqueValidationErrors.length>0?(m(),C(p,{key:1,class:"field",type:"danger"},{default:s(()=>[(m(!0),I(ae,null,we(e.uniqueValidationErrors,(g,b)=>(m(),I("div",{key:b},[g.extensions.invalid?(m(),I(ae,{key:0},[P(w(e.t("email_already_invited",{email:g.extensions.invalid})),1)],64)):b===0?(m(),I(ae,{key:1},[P(w(e.t("validationError.unique")),1)],64)):R("",!0)]))),128))]),_:1})):R("",!0)])]),_:1}),o(v,null,{default:s(()=>[o(_,{secondary:"",onClick:t[2]||(t[2]=g=>e.$emit("update:modelValue",!1))},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(_,{disabled:e.emails===null||e.emails.length===0,loading:e.loading,onClick:e.inviteUsers},{default:s(()=>[P(w(e.t("invite")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}var jr=z(SP,[["render",EP],["__scopeId","data-v-52e00551"]]);const DP=K({name:"RolesItem",components:{SettingsNavigation:Bt,RevisionsDrawerDetail:ll,RoleInfoSidebarDetail:Pr,PermissionsOverview:Lr,UsersInvite:jr},props:{primaryKey:{type:String,required:!0},permissionKey:{type:String,default:null},lastAdminRoleId:{type:String,default:null}},setup(e){const{t}=Y(),n=at(),l=He(),a=E(!1),{primaryKey:d}=ze(e),{edits:i,hasEdits:r,item:u,saving:p,loading:f,error:_,save:v,remove:y,deleting:h,isBatch:g}=In(E("directus_roles"),d),b=E(!1),$=F(()=>!!fe(fe({},u.value),i.value).admin_access),A=F(()=>!!fe(fe({},u.value),i.value).app_access);it("meta+s",()=>{r.value&&D()});const{confirmLeave:V,leaveTo:T}=_n(r);return{t,item:u,loading:f,error:_,edits:i,hasEdits:r,saving:p,saveAndQuit:O,deleteAndQuit:M,confirmDelete:b,deleting:h,isBatch:g,adminEnabled:$,userInviteModalActive:a,appAccess:A,confirmLeave:V,leaveTo:T,discardAndLeave:L};async function D(){await v(),await l.hydrate()}async function O(){await v(),await l.hydrate(),n.push("/settings/roles")}async function M(){await y(),n.replace("/settings/roles")}function L(){!T.value||(i.value={},V.value=!1,n.push(T.value))}}}),TP={class:"roles"};function PP(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("settings-navigation"),h=c("users-invite"),g=c("v-notice"),b=c("permissions-overview"),$=c("v-form"),A=c("role-info-sidebar-detail"),V=c("revisions-drawer-detail"),T=c("v-card-text"),D=c("private-view"),O=$e("tooltip");return m(),C(D,{title:e.loading?e.t("loading"):e.t("editing_role",{role:e.item&&e.item.name})},{headline:s(()=>[o(i,{items:[{name:e.t("settings_permissions"),to:"/settings/roles"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:s(()=>[o(r,{name:"arrow_back"})]),_:1})]),actions:s(()=>[[1,2].includes(+e.primaryKey)===!1?(m(),C(v,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=M=>e.confirmDelete=M),onEsc:t[2]||(t[2]=M=>e.confirmDelete=!1)},{activator:s(({on:M})=>[e.primaryKey!==e.lastAdminRoleId?x((m(),C(u,{key:0,rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null,onClick:M},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["disabled","onClick"])),[[O,e.t("delete_label"),void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:t[0]||(t[0]=M=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(u,{rounded:"",icon:"",secondary:"",onClick:t[3]||(t[3]=M=>e.userInviteModalActive=!0)},{default:s(()=>[o(r,{name:"person_add"})]),_:1},512),[[O,e.t("invite_users"),void 0,{bottom:!0}]]),x(o(u,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[O,e.t("save"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(y)]),sidebar:s(()=>[o(A,{role:e.item},null,8,["role"]),o(V,{collection:"directus_roles","primary-key":e.primaryKey},null,8,["primary-key"])]),default:s(()=>[o(h,{modelValue:e.userInviteModalActive,"onUpdate:modelValue":t[4]||(t[4]=M=>e.userInviteModalActive=M),role:e.primaryKey},null,8,["modelValue","role"]),S("div",TP,[e.adminEnabled?(m(),C(g,{key:0,type:"info"},{default:s(()=>[P(w(e.t("admins_have_all_permissions")),1)]),_:1})):(m(),C(b,{key:1,role:e.primaryKey,permission:e.permissionKey,"app-access":e.appAccess},null,8,["role","permission","app-access"])),o($,{modelValue:e.edits,"onUpdate:modelValue":t[5]||(t[5]=M=>e.edits=M),collection:"directus_roles","primary-key":e.primaryKey,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch},null,8,["modelValue","primary-key","loading","initial-values","batch-mode"])]),o(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[7]||(t[7]=M=>e.confirmLeave=M),onEsc:t[8]||(t[8]=M=>e.confirmLeave=!1)},{default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(T,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[6]||(t[6]=M=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var OP=z(DP,[["render",PP],["__scopeId","data-v-0511bbb4"]]);function Rr(e){return(e.fields||[]).length===0&&Object.keys(e.validation||{}).length===0&&Object.keys(e.presets||{}).length===0&&Object.keys(e.permissions||{}).length===0}const LP=K({props:{roleKey:{type:String,default:null},permission:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const{t:n}=Y(),l=at(),a=E(!1);return{t:n,save:d,loading:a};async function d(){a.value=!0;try{Rr(e.permission)?await pe.delete(`/permissions/${e.permission.id}`):await pe.patch(`/permissions/${e.permission.id}`,e.permission),t("refresh"),l.push(`/settings/roles/${e.roleKey||"public"}`)}catch(i){Ie(i)}finally{a.value=!1}}}}),jP={class:"actions"};function RP(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=$e("tooltip");return m(),I("div",jP,[x(o(r,{loading:e.loading,icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(i,{name:"check"})]),_:1},8,["loading","onClick"]),[[u,e.t("save"),void 0,{bottom:!0}]])])}var MP=z(LP,[["render",RP],["__scopeId","data-v-47610afd"]]);const UP=K({props:{currentTab:{type:Array,default:null},tabs:{type:Array,required:!0}},emits:["update:currentTab"],setup(e,{emit:t}){return{internalCurrentTab:Ke(e,"currentTab",t)}}}),NP={class:"text"};function BP(e,t,n,l,a,d){const i=c("v-tab"),r=c("v-tabs");return m(),C(r,{modelValue:e.internalCurrentTab,"onUpdate:modelValue":t[0]||(t[0]=u=>e.internalCurrentTab=u),vertical:""},{default:s(()=>[(m(!0),I(ae,null,we(e.tabs,u=>(m(),C(i,{key:u.value,value:u.value},{default:s(()=>[S("span",NP,w(u.text),1),S("span",{class:ue(["dot",{on:u.hasValue}])},null,2)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}var qP=z(UP,[["render",BP],["__scopeId","data-v-678d5948"]]);const zP=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"permission",t),a=F(()=>[{field:"permissions",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,fields:a,permissionSync:l}}}),KP={key:0,class:"app-minimal"},WP={class:"app-minimal-preview"};function HP(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-form"),u=c("v-divider");return m(),I("div",null,[o(i,{type:"info"},{default:s(()=>[P(w(e.t("permissions_for_role",{action:e.t(e.permission.action==="delete"?"delete_label":e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(r,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=p=>e.permissionSync=p),fields:e.fields},null,8,["modelValue","fields"]),e.appMinimal?(m(),I("div",KP,[o(u),o(i,{type:"warning"},{default:s(()=>[P(w(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",WP,w(e.appMinimal),1)])):R("",!0)])}var GP=z(zP,[["render",HP],["__scopeId","data-v-da09841c"]]);const ZP=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null},appMinimal:{type:Object,default:void 0}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Oe(),a=Ke(e,"permission",t),d=F(()=>l.getFieldsForCollectionSorted(e.permission.collection).map(u=>({text:u.name,value:u.field}))),i=F({get(){return a.value.fields?a.value.fields.includes("*")?d.value.map(({value:r})=>r):a.value.fields:[]},set(r){r&&r.length>0?a.value=Fe(fe({},a.value),{fields:r}):a.value=Fe(fe({},a.value),{fields:null})}});return{t:n,fields:i,fieldsInCollection:d}}}),JP={class:"type-label"},QP={key:0,class:"app-minimal"},XP={class:"app-minimal-preview"};function YP(e,t,n,l,a,d){const i=c("v-notice"),r=c("interface-select-multiple-checkbox"),u=c("v-divider");return m(),I("div",null,[o(i,{type:"info"},{default:s(()=>[P(w(e.t("fields_for_role",{role:e.role?e.role.name:e.t("public_label"),action:e.t(e.permission.action).toLowerCase()})),1)]),_:1}),S("p",JP,w(e.t("field",0)),1),o(r,{value:e.fields,type:"json",choices:e.fieldsInCollection,onInput:t[0]||(t[0]=p=>e.fields=p)},null,8,["value","choices"]),e.appMinimal?(m(),I("div",QP,[o(u),o(i,{type:"warning"},{default:s(()=>[P(w(e.t("the_following_are_minimum_permissions")),1)]),_:1}),S("pre",XP,w(e.appMinimal),1)])):R("",!0)])}var xP=z(ZP,[["render",YP],["__scopeId","data-v-51594cba"]]);const eO=K({props:{permission:{type:Object,required:!0},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"permission",t),a=F(()=>[{field:"validation",name:n("rule"),type:"json",meta:{interface:"system-filter",options:{collectionName:l.value.collection}}}]);return{t:n,permissionSync:l,fields:a}}});function tO(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-form");return m(),I("div",null,[o(i,{type:"info"},{default:s(()=>[P(w(e.t("validation_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(r,{modelValue:e.permissionSync,"onUpdate:modelValue":t[0]||(t[0]=u=>e.permissionSync=u),fields:e.fields},null,8,["modelValue","fields"])])}var nO=z(eO,[["render",tO],["__scopeId","data-v-e3088adc"]]);const lO=K({props:{permission:{type:Object,default:null},role:{type:Object,default:null}},emits:["update:permission"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"permission",t),a=F({get(){return l.value.presets},set(d){l.value=Fe(fe({},l.value),{presets:d})}});return{t:n,presets:a}}});function oO(e,t,n,l,a,d){const i=c("v-notice"),r=c("interface-input-code");return m(),I("div",null,[o(i,{type:"info"},{default:s(()=>[P(w(e.t("presets_for_role",{action:e.t(e.permission.action).toLowerCase(),role:e.role?e.role.name:e.t("public_label")})),1)]),_:1}),o(r,{value:e.presets,language:"json",type:"json",onInput:t[0]||(t[0]=u=>e.presets=u)},null,8,["value"])])}var aO=z(lO,[["render",oO],["__scopeId","data-v-660c7066"]]);const iO=K({components:{Actions:MP,Tabs:qP,Permissions:GP,Fields:xP,Validation:nO,Presets:aO},props:{roleKey:{type:String,default:null},permissionKey:{type:String,required:!0}},emits:["refresh"],setup(e){const{t}=Y(),n=at(),l=Je(),a=Vn(),d=E(),i=E(),r=E(!1),u=F(()=>{var b;return d.value?(b=l.collections.find($=>$.collection===d.value.collection))==null?void 0:b.name:null}),p=F(()=>r.value||!d.value?t("loading"):e.roleKey?i.value.name+" -> "+u.value+" -> "+t(d.value.action):t("public_label")+" -> "+u.value+" -> "+t(d.value.action));ge(()=>e.permissionKey,g,{immediate:!0});const f=F(()=>{if(!d.value)return[];const b=d.value.action,$=[];return["read","update","delete","share"].includes(b)&&$.push({text:t("item_permissions"),value:"permissions",hasValue:d.value.permissions!==null&&Object.keys(d.value.permissions).length>0}),["create","read","update"].includes(b)&&$.push({text:t("field_permissions"),value:"fields",hasValue:d.value.fields!==null}),["create","update"].includes(b)&&$.push({text:t("field_validation"),value:"validation",hasValue:d.value.validation!==null&&Object.keys(d.value.validation).length>0}),["create","update"].includes(b)&&$.push({text:t("field_presets"),value:"presets",hasValue:d.value.presets!==null&&Object.keys(d.value.presets).length>0}),$}),_=E([]),v=F(()=>{var $;const b=($=_.value)==null?void 0:$[0];return b?f.value.find(A=>A.value===b):null});ge(f,(b,$)=>{var A,V;b&&$&&b.length===$.length||(_.value=[(V=(A=f==null?void 0:f.value)==null?void 0:A[0])==null?void 0:V.value])},{immediate:!0});const y=F(()=>d.value?Tr.find(b=>b.collection===d.value.collection&&b.action===d.value.action):null);return{isOpen:a,permission:d,role:i,loading:r,modalTitle:p,tabs:f,currentTab:_,currentTabInfo:v,appMinimal:y,close:h};async function h(){d.value&&Rr(d.value)?(await pe.delete(`/permissions/${d.value.id}`),n.replace(`/settings/roles/${e.roleKey||"public"}`)):n.push(`/settings/roles/${e.roleKey||"public"}`)}async function g(){var b;r.value=!0;try{if(e.roleKey){const A=await pe.get(`/roles/${e.roleKey}`);i.value=A.data.data}const $=await pe.get(`/permissions/${e.permissionKey}`);d.value=$.data.data}catch($){((b=$==null?void 0:$.response)==null?void 0:b.status)===403?n.push(`/settings/roles/${e.roleKey||"public"}`):Ie($)}finally{r.value=!1}}}}),rO={key:0,class:"content"};function sO(e,t,n,l,a,d){const i=c("tabs"),r=c("permissions"),u=c("fields"),p=c("validation"),f=c("presets"),_=c("actions"),v=c("v-drawer");return m(),C(v,{title:e.modalTitle,"model-value":e.isOpen,class:"new-collection",persistent:"","sidebar-label":e.currentTabInfo&&e.currentTabInfo.text,onCancel:e.close},ot({default:s(()=>[e.loading?R("",!0):(m(),I("div",rO,[e.currentTab[0]==="permissions"?(m(),C(r,{key:0,permission:e.permission,"onUpdate:permission":t[1]||(t[1]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.permissions},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="fields"?(m(),C(u,{key:1,permission:e.permission,"onUpdate:permission":t[2]||(t[2]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.fields},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="validation"?(m(),C(p,{key:2,permission:e.permission,"onUpdate:permission":t[3]||(t[3]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.validation},null,8,["permission","role","app-minimal"])):R("",!0),e.currentTab[0]==="presets"?(m(),C(f,{key:3,permission:e.permission,"onUpdate:permission":t[4]||(t[4]=y=>e.permission=y),role:e.role,"app-minimal":e.appMinimal&&e.appMinimal.presets},null,8,["permission","role","app-minimal"])):R("",!0)]))]),_:2},[e.loading?void 0:{name:"sidebar",fn:s(()=>[o(i,{"current-tab":e.currentTab,"onUpdate:current-tab":t[0]||(t[0]=y=>e.currentTab=y),tabs:e.tabs},null,8,["current-tab","tabs"])])},e.loading?void 0:{name:"actions",fn:s(()=>[o(_,{"role-key":e.roleKey,permission:e.permission,onRefresh:t[5]||(t[5]=y=>e.$emit("refresh",Number(e.permissionKey)))},null,8,["role-key","permission"])])}]),1032,["title","model-value","sidebar-label","onCancel"])}var Mr=z(iO,[["render",sO],["__scopeId","data-v-16a8989c"]]);const dO=K({name:"RolesItem",components:{SettingsNavigation:Bt,PermissionsOverview:Lr,RoleInfoSidebarDetail:Pr},props:{permissionKey:{type:String,default:null}},setup(){const{t:e}=Y();return{t:e}}}),uO={class:"roles"};function cO(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("settings-navigation"),p=c("permissions-overview"),f=c("role-info-sidebar-detail"),_=c("private-view");return m(),C(_,{title:e.t("public_label")},{headline:s(()=>[P(w(e.t("settings_permissions")),1)]),"title-outer:prepend":s(()=>[o(r,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/roles/"},{default:s(()=>[o(i,{name:"arrow_back"})]),_:1})]),navigation:s(()=>[o(u)]),sidebar:s(()=>[o(f,{role:null})]),default:s(()=>[S("div",uO,[o(p,{role:null,permission:e.permissionKey},null,8,["permission"])])]),_:1},8,["title"])}var pO=z(dO,[["render",cO],["__scopeId","data-v-1df5a737"]]);const mO=K({name:"WebhooksCollection",components:{SettingsNavigation:Bt,LayoutSidebarDetail:Un,SearchInput:Cn},setup(){const{t:e}=Y(),t=E(),n=E([]),{layout:l,layoutOptions:a,layoutQuery:d,filter:i,search:r}=Mn(E("directus_webhooks")),{addNewLink:u,batchLink:p}=b(),{confirmDelete:f,deleting:_,batchDelete:v}=g(),{layoutWrapper:y}=pn(l);return{t:e,addNewLink:u,batchDelete:v,batchLink:p,confirmDelete:f,deleting:_,layoutRef:t,layoutWrapper:y,filter:i,selection:n,layoutOptions:a,layoutQuery:d,layout:l,search:r,clearFilters:$};async function h(){var A,V,T;await((T=(V=(A=t.value)==null?void 0:A.state)==null?void 0:V.refresh)==null?void 0:T.call(V))}function g(){const A=E(!1),V=E(!1);return{confirmDelete:A,deleting:V,batchDelete:T};async function T(){V.value=!0,A.value=!1;const D=n.value;await pe.delete(`/webhooks/${D}`),await h(),n.value=[],V.value=!1,A.value=!1}}function b(){const A=F(()=>"/settings/webhooks/+"),V=F(()=>`/settings/webhooks/${n.value}`);return{addNewLink:A,batchLink:V}}function $(){i.value=null,r.value=null}}}),fO={class:"page-description"};function _O(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("settings-navigation"),f=c("search-input"),_=c("v-card-title"),v=c("v-card-actions"),y=c("v-card"),h=c("v-dialog"),g=c("v-info"),b=c("sidebar-detail"),$=c("layout-sidebar-detail"),A=c("private-view"),V=$e("tooltip"),T=$e("md");return m(),C(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[5]||(t[5]=D=>e.selection=D),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[6]||(t[6]=D=>e.layoutOptions=D),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[7]||(t[7]=D=>e.layoutQuery=D),filter:e.filter,search:e.search,collection:"directus_webhooks"},{default:s(({layoutState:D})=>[o(A,{title:e.t("webhooks")},{headline:s(()=>[o(i,{items:[{name:e.t("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"anchor"})]),_:1})]),navigation:s(()=>[o(p)]),actions:s(()=>[o(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=O=>e.search=O),collection:"directus_webhooks"},null,8,["modelValue"]),e.selection.length>0?(m(),C(h,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=O=>e.confirmDelete=O),onEsc:t[3]||(t[3]=O=>e.confirmDelete=!1)},{activator:s(({on:O})=>[o(u,{rounded:"",icon:"",class:"action-delete",secondary:"",onClick:O},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["onClick"])]),default:s(()=>[o(y,null,{default:s(()=>[o(_,null,{default:s(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(v,null,{default:s(()=>[o(u,{secondary:"",onClick:t[1]||(t[1]=O=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?x((m(),C(u,{key:1,rounded:"",icon:"",secondary:"",to:e.batchLink},{default:s(()=>[o(r,{name:"edit"})]),_:1},8,["to"])),[[V,e.t("edit"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",to:e.addNewLink},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to"]),[[V,e.t("create_webhook"),void 0,{bottom:!0}]])]),sidebar:s(()=>[o(b,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",fO,null,512),[[T,e.t("page_help_settings_webhooks_collection")]])]),_:1},8,["title"]),o($,{modelValue:e.layout,"onUpdate:modelValue":t[4]||(t[4]=O=>e.layout=O)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout}`),Qe(et(D)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout}`),Qe(et(D)),null,16))]),default:s(()=>[(m(),C(Be(`layout-${e.layout}`),pt({class:"layout"},D),{"no-results":s(()=>[o(g,{title:e.t("no_results"),icon:"search",center:""},{append:s(()=>[o(u,{onClick:e.clearFilters},{default:s(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"])]),"no-items":s(()=>[o(g,{title:e.t("webhooks_count",0),icon:"anchor",center:"",type:"info"},{append:s(()=>[o(u,{to:{path:"/settings/webhooks/+"}},{default:s(()=>[P(w(e.t("create_webhook")),1)]),_:1})]),default:s(()=>[P(w(e.t("no_webhooks_copy"))+" ",1)]),_:1},8,["title"])]),_:2},1040))]),_:2},1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","search"])}var vO=z(mO,[["render",_O],["__scopeId","data-v-2f24d6f4"]]);const yO=K({name:"WebhooksItem",components:{SettingsNavigation:Bt,RevisionsDrawerDetail:ll,SaveOptions:Ul},props:{primaryKey:{type:String,required:!0}},setup(e){const{t}=Y(),n=at(),{primaryKey:l}=ze(e),{isNew:a,edits:d,hasEdits:i,item:r,saving:u,loading:p,error:f,save:_,remove:v,deleting:y,saveAsCopy:h,isBatch:g,validationErrors:b}=In(E("directus_webhooks"),l),$=E(!1),A=F(()=>{var G;return p.value?t("loading"):a.value?t("creating_webhook"):(G=r.value)==null?void 0:G.name});it("meta+s",()=>{i.value&&O()}),it("meta+shift+s",()=>{i.value&&M()});const{confirmLeave:V,leaveTo:T}=_n(i);return{t,item:r,loading:p,error:f,isNew:a,edits:d,hasEdits:i,saving:u,saveAndQuit:D,deleteAndQuit:j,confirmDelete:$,deleting:y,saveAndStay:O,saveAndAddNew:M,saveAsCopyAndNavigate:L,discardAndStay:q,isBatch:g,title:A,validationErrors:b,confirmLeave:V,leaveTo:T,discardAndLeave:B};async function D(){await _(),n.push("/settings/webhooks")}async function O(){await _()}async function M(){await _(),n.push("/settings/webhooks/+")}async function L(){const G=await h();G&&n.push(`/settings/webhooks/${G}`)}async function j(){await v(),n.replace("/settings/webhooks")}function B(){!T.value||(d.value={},V.value=!1,n.push(T.value))}function q(){d.value={},V.value=!1}}}),hO={class:"page-description"};function gO(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("save-options"),h=c("settings-navigation"),g=c("v-form"),b=c("sidebar-detail"),$=c("revisions-drawer-detail"),A=c("v-card-text"),V=c("private-view"),T=$e("md");return m(),C(V,{title:e.title},{headline:s(()=>[o(i,{items:[{name:e.t("settings_webhooks"),to:"/settings/webhooks"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",exact:"",to:"/settings/webhooks/"},{default:s(()=>[o(r,{name:"arrow_back"})]),_:1})]),actions:s(()=>[o(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[1]||(t[1]=D=>e.confirmDelete=D),onEsc:t[2]||(t[2]=D=>e.confirmDelete=!1)},{activator:s(({on:D})=>[o(u,{rounded:"",icon:"",class:"action-delete",disabled:e.item===null,onClick:D},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["disabled","onClick"])]),default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:t[0]||(t[0]=D=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(u,{rounded:"",icon:"",loading:e.saving,disabled:e.hasEdits===!1,onClick:e.saveAndQuit},{"append-outer":s(()=>[e.hasEdits===!0?(m(),C(y,{key:0,onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:s(()=>[o(r,{name:"check"})]),_:1},8,["loading","disabled","onClick"])]),navigation:s(()=>[o(h)]),sidebar:s(()=>[o(b,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",hO,null,512),[[T,e.t("page_help_settings_webhooks_item")]])]),_:1},8,["title"]),e.isNew===!1?(m(),C($,{key:0,collection:"directus_webhooks","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:s(()=>[o(g,{modelValue:e.edits,"onUpdate:modelValue":t[3]||(t[3]=D=>e.edits=D),loading:e.loading,"initial-values":e.item,collection:"directus_webhooks","batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","loading","initial-values","batch-mode","primary-key","validation-errors"]),o(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[5]||(t[5]=D=>e.confirmLeave=D),onEsc:t[6]||(t[6]=D=>e.confirmLeave=!1)},{default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:s(()=>[o(u,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(u,{onClick:t[4]||(t[4]=D=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var bO=z(yO,[["render",gO],["__scopeId","data-v-c70f9d00"]]);const wO={class:"drawer-content"},kO=K({props:{modelValue:{type:Boolean,default:!1},translationString:{default:()=>null}},emits:["update:modelValue","savedKey"],setup(e,{emit:t}){const n=e,{t:l}=Y(),a=E(!1),d=E({key:null,translations:null}),i=F({get(){return d.value},set(g){if(d.value.key=g.key,!g.translations){d.value.translations=null;return}d.value.translations=[...new Map(g.translations.map(b=>[b.language,b])).values()]}}),r=E({key:null,translations:null}),u=F(()=>[{field:"key",name:"$t:key",type:"string",meta:{interface:"input",width:"full",required:!0,options:{placeholder:"$t:translation_string_key_placeholder",font:"monospace",dbSafe:!0}}},{field:"translations",name:"$t:translations",type:"json",meta:{interface:"list",width:"full",required:!0,options:{placeholder:"$t:translation_string_translations_placeholder",template:"{{ language }} {{ translation }}",fields:[{field:"language",name:"$t:language",type:"string",meta:{interface:"system-language",width:"half",display:"formatted-value",display_options:{font:"monospace",color:"var(--primary)",background:"var(--primary-alt)"}}},{field:"translation",name:"$t:translation",type:"string",meta:{interface:"input",width:"half",options:{placeholder:"$t:field_options.directus_collections.translation_placeholder"}}}]}}}]),{translationStrings:p,updating:f,update:_}=nl();ge(()=>n.translationString,g=>{var b,$,A,V;d.value.key=(b=g==null?void 0:g.key)!=null?b:null,d.value.translations=($=g==null?void 0:g.translations)!=null?$:null,r.value.key=(A=g==null?void 0:g.key)!=null?A:null,r.value.translations=(V=g==null?void 0:g.translations)!=null?V:null},{immediate:!0});function v(){d.value.key=null,d.value.translations=null,r.value.key=null,r.value.translations=null,t("update:modelValue",!1)}async function y(){const g=p.value?[...p.value,d.value]:[d.value];try{await _(g),t("savedKey",d.value.key),v()}catch{}}async function h(){const g=p.value?p.value.filter(b=>b.key!==d.value.key):[];try{await _(g),a.value=!1,v()}catch{}}return(g,b)=>{const $=c("v-icon"),A=c("v-button"),V=c("v-card-title"),T=c("v-card-actions"),D=c("v-card"),O=c("v-dialog"),M=c("v-form"),L=c("v-drawer"),j=$e("tooltip");return m(),C(L,{title:e.translationString?W(l)("edit_translation_string"):W(l)("create_translation_string"),icon:"translate","model-value":e.modelValue,"onUpdate:modelValue":v,onCancel:v},{actions:s(()=>[e.translationString?(m(),C(O,{key:0,modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=B=>a.value=B),onEsc:b[2]||(b[2]=B=>a.value=!1)},{activator:s(({on:B})=>[o(A,{class:"delete-action",rounded:"",icon:"",secondary:"",onClick:B},{default:s(()=>[o($,{name:"delete"})]),_:2},1032,["onClick"])]),default:s(()=>[o(D,null,{default:s(()=>[o(V,null,{default:s(()=>[P(w(W(l)("delete_translation_string_copy",{key:d.value.key})),1)]),_:1}),o(T,null,{default:s(()=>[o(A,{secondary:"",onClick:b[0]||(b[0]=B=>a.value=!1)},{default:s(()=>[P(w(W(l)("cancel")),1)]),_:1}),o(A,{kind:"danger",loading:W(f),onClick:h},{default:s(()=>[P(w(W(l)("delete_label")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),x(o(A,{loading:W(f),disabled:!d.value.key||!d.value.translations||W(N.exports.isEqual)(d.value,r.value),icon:"",rounded:"",onClick:y},{default:s(()=>[o($,{name:"check"})]),_:1},8,["loading","disabled"]),[[j,W(l)("save"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",wO,[o(M,{modelValue:W(i),"onUpdate:modelValue":b[3]||(b[3]=B=>kt(i)?i.value=B:null),autofocus:!e.translationString,"initial-values":r.value,fields:W(u)},null,8,["modelValue","autofocus","initial-values","fields"])])]),_:1},8,["title","model-value"])}}});var Ur=z(kO,[["__scopeId","data-v-a856c408"]]);const $O={key:1,class:"translation-strings-display"},SO={key:0,class:"translation-display-text"},CO={class:"header"},VO={class:"lang"},FO={key:1,class:"translation-item-text"},AO=K({props:{translations:{default:()=>null},hideDisplayText:{type:Boolean,default:!1}},setup(e){const t=e,{t:n}=Y(),{currentUser:l}=He(),a=F(()=>{var d;return!t.translations||t.translations.length===0?null:l&&"id"in l&&(d=t.translations.find(i=>i.language===l.language))!=null?d:t.translations[0]});return(d,i)=>{const r=c("v-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-list"),_=c("v-menu"),v=$e("tooltip");return!W(a)&&!e.hideDisplayText?(m(),C(W(on),{key:0})):(m(),I("div",$O,[e.hideDisplayText?R("",!0):(m(),I("span",SO,w(W(a).translation),1)),o(_,{class:"menu","show-arrow":"",disabled:!e.translations||e.translations.length===0},{activator:s(({toggle:y,deactivate:h,active:g})=>[x(o(r,{small:!e.hideDisplayText,class:ue(["icon",{active:g}]),name:"info",tabindex:"-1",onClick:De(y,["stop"]),onBlur:h},null,8,["small","class","onClick","onBlur"]),[[v,e.translations&&e.translations.length===0&&W(n)("no_translations"),void 0,{bottom:!0}]])]),default:s(()=>[o(f,{class:"translations"},{default:s(()=>[(m(!0),I(ae,null,we(e.translations,y=>(m(),C(p,{key:y.language},{default:s(()=>[o(u,null,{default:s(()=>[S("div",CO,[S("div",VO,[o(r,{name:"translate",small:""}),P(" "+w(y.language),1)])]),y.translation?(m(),I("div",FO,w(y.translation),1)):(m(),C(W(on),{key:0}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])]))}}});var Nr=z(AO,[["__scopeId","data-v-a9ceeca0"]]);const IO={class:"page-description"},EO={class:"translation-strings"},DO={class:"key"},TO=K({setup(e){const{t}=Y(),n=[{text:t("key"),value:"key",sortable:!1,width:250,align:"left"},{text:t("translations"),value:"translations",sortable:!1,width:800,align:"left"}],l=E(!1),a=E(null),{loading:d,translationStrings:i}=nl(),r=F(()=>i.value?i.value:[]);function u({item:f}){a.value=f||null,l.value=!0}function p(f){f||(a.value=null,l.value=f)}return(f,_)=>{const v=c("v-breadcrumb"),y=c("v-icon"),h=c("v-button"),g=c("sidebar-detail"),b=c("v-table"),$=c("private-view"),A=$e("tooltip"),V=$e("md");return m(),C($,{title:W(t)("settings_translation_strings")},{headline:s(()=>[o(v,{items:[{name:W(t)("settings"),to:"/settings"}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(h,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(y,{name:"translate"})]),_:1})]),actions:s(()=>[x(o(h,{rounded:"",icon:"",onClick:u},{default:s(()=>[o(y,{name:"add"})]),_:1},512),[[A,W(t)("create_translation_string"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(Bt)]),sidebar:s(()=>[o(g,{icon:"info_outline",title:W(t)("information"),close:""},{default:s(()=>[x(S("div",IO,null,512),[[V,W(t)("page_help_settings_translation_strings_collection")]])]),_:1},8,["title"])]),default:s(()=>[S("div",EO,[o(b,{headers:n,"fixed-header":"","item-key":"key",items:W(r),loading:W(d),"onClick:row":u},{["item.key"]:s(({item:T})=>[S("span",DO,w(T.key),1)]),["item.translations"]:s(({item:T})=>[o(Nr,{translations:T.translations},null,8,["translations"])]),_:2},1032,["items","loading"])]),o(Ur,{"model-value":l.value,"translation-string":a.value,"onUpdate:modelValue":p},null,8,["model-value","translation-string"])]),_:1},8,["title"])}}});var PO=z(TO,[["__scopeId","data-v-3aa66e60"]]),OO=wn({id:"settings",name:"$t:settings",icon:"settings",color:"var(--primary)",routes:[{path:"",redirect:"/settings/data-model"},{name:"settings-project",path:"project",component:ET},{path:"data-model",component:mn,children:[{name:"settings-collections",path:"",component:rA,beforeEnter(){Je().hydrate()},children:[{path:"+",name:"settings-add-new",components:{add:nT}}]},{name:"settings-fields",path:":collection",component:qD,async beforeEnter(e){const n=Je().getCollection(e.params.collection);if(!n)return{name:"settings-not-found",params:{_:e.path.split("/").slice(1)}};(n==null?void 0:n.meta)||await pe.patch(`/collections/${e.params.collection}`,{meta:{}}),Oe().hydrate()},props:e=>({collection:e.params.collection,field:e.params.field,type:e.query.type}),children:[{path:":field",name:"settings-fields-field",components:{field:sD}}]}]},{path:"roles",component:mn,children:[{name:"settings-roles-collection",path:"",component:ZT,children:[{path:"+",name:"settings-add-new-role",components:{add:UT}}]},{path:"public",component:pO,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Mr}}]},{name:"settings-roles-item",path:":primaryKey",component:OP,props:!0,children:[{path:":permissionKey",components:{permissionsDetail:Mr}}]}]},{path:"presets",component:mn,children:[{name:"settings-presets-collection",path:"",component:mT},{name:"settings-presets-item",path:":id",component:wT,props:!0}]},{path:"webhooks",component:mn,children:[{name:"settings-webhooks-collection",path:"",component:vO},{name:"settings-webhooks-item",path:":primaryKey",component:bO,props:!0}]},{path:"translation-strings",component:mn,children:[{name:"settings-translation-strings-collection",path:"",component:PO}]},{name:"settings-not-found",path:":_(.+)+",component:iT}],preRegisterCheck:e=>e.role.admin_access===!0}),LO=Object.freeze(Object.defineProperty({__proto__:null,default:OO},Symbol.toStringTag,{value:"Module"}));let Hn=null,an=null;function Br(){return Hn===null&&(Hn=E(null)),an===null&&(an=E(!1)),(an==null?void 0:an.value)===!1&&e(),{roles:Hn,loading:an};async function e(){if(!an||!Hn)return;Hn.value||(an.value=!0);const t=await pe.get("/roles",{params:{sort:"name"}});Hn.value=t.data.data,an.value=!1}}const jO=K({props:{role:{type:Object,required:!0},lastAdmin:{type:Boolean,default:!1}},setup(e){const{t}=Y(),{isAdmin:n}=He(),l=F(()=>e.role.id!=="public"&&e.lastAdmin?{name:"settings-roles-item",params:{primaryKey:e.role.id,lastAdminRoleId:e.role.id}}:`/settings/roles/${e.role.id}`);return{t,isAdmin:n,settingLink:l}}});function RO(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-text-overflow"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=$e("context-menu");return x((m(),C(f,{to:`/users/roles/${e.role.id}`},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.role.icon},null,8,["name"])]),_:1}),o(u,null,{default:s(()=>[P(w(e.role.name),1)]),_:1}),e.isAdmin?(m(),C(v,{key:0,ref:"contextMenu","show-arrow":"",placement:"bottom-start"},{default:s(()=>[o(_,null,{default:s(()=>[o(f,{clickable:"",to:e.settingLink},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"list_alt"})]),_:1}),o(u,null,{default:s(()=>[o(p,{text:e.t("edit_role")},null,8,["text"])]),_:1})]),_:1},8,["to"])]),_:1})]),_:1},512)):R("",!0)]),_:1},8,["to"])),[[y,"contextMenu"]])}var MO=z(jO,[["render",RO]]);const UO=K({components:{NavigationRole:MO},props:{currentRole:{type:String,default:null}},setup(){const{t:e}=Y(),{roles:t,loading:n}=Br(),l=F(()=>{if(!t.value)return null;const a=t.value.filter(d=>d.admin_access===!0);return a.length===1?a[0].id:null});return{t:e,roles:t,loading:n,lastAdminRoleId:l}}});function NO(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-skeleton-loader"),v=c("navigation-role"),y=c("v-list");return m(),C(y,{nav:""},{default:s(()=>[o(p,{to:"/users",exact:"",active:e.currentRole===null},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"folder_shared"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("all_users")),1)]),_:1})]),_:1},8,["active"]),e.roles&&e.roles.length>0||e.loading?(m(),C(f,{key:0})):R("",!0),e.loading?(m(),I(ae,{key:1},we(4,h=>o(p,{key:h},{default:s(()=>[o(_,{type:"list-item-icon"})]),_:2},1024)),64)):R("",!0),(m(!0),I(ae,null,we(e.roles,h=>(m(),C(v,{key:h.id,role:h,"last-admin":e.lastAdminRoleId===h.id,active:e.currentRole===h.id},null,8,["role","last-admin","active"]))),128))]),_:1})}var qr=z(UO,[["render",NO],["__scopeId","data-v-40ea5313"]]);const BO=K({name:"UsersCollection",components:{UsersNavigation:qr,LayoutSidebarDetail:Un,SearchInput:Cn,UsersInvite:jr,DrawerBatch:Rl},props:{role:{type:String,default:null}},setup(e){const{t}=Y(),{roles:n}=Br(),l=E(!1),a=He(),d=Ot(),i=E(),r=E([]),{layout:u,layoutOptions:p,layoutQuery:f,filter:_,search:v,resetPreset:y}=Mn(E("directus_users")),{addNewLink:h}=ce(),{confirmDelete:g,deleting:b,batchDelete:$,error:A,batchEditActive:V}=Q(),{breadcrumb:T,title:D}=J(),O=F(()=>e.role!==null?{_and:[{role:{_eq:e.role}}]}:null),M=F(()=>{var te,Z;if(!!((Z=(te=a.currentUser)==null?void 0:te.role)==null?void 0:Z.admin_access))return!0;const ee=d.permissions.find(se=>se.collection==="directus_users"&&se.action==="create"),ne=d.permissions.find(se=>se.collection==="directus_roles"&&se.action==="read");return!!ee&&!!ne}),{layoutWrapper:L}=pn(u),{batchEditAllowed:j,batchDeleteAllowed:B,createAllowed:q}=_e();return Xn(()=>{r.value=[]}),kl(()=>{r.value=[]}),{t,canInviteUsers:M,addNewLink:h,breadcrumb:T,title:D,layoutRef:i,layoutWrapper:L,selection:r,layoutOptions:p,layoutQuery:f,layout:u,search:v,clearFilters:oe,userInviteModalActive:l,refresh:G,batchEditAllowed:j,batchDeleteAllowed:B,createAllowed:q,resetPreset:y,confirmDelete:g,deleting:b,batchDelete:$,deleteError:A,batchEditActive:V,filter:_,roleFilter:O,mergeFilters:Dl};async function G(){var me,ee,ne;await((ne=(ee=(me=i.value)==null?void 0:me.state)==null?void 0:ee.refresh)==null?void 0:ne.call(ee))}function Q(){const me=E(!1),ee=E(!1),ne=E(!1),te=E();return{batchEditActive:ne,confirmDelete:me,deleting:ee,batchDelete:Z,error:te};async function Z(){ee.value=!0;const se=r.value;try{await pe.delete("/users",{data:se}),await G(),r.value=[],me.value=!1}catch(X){te.value=X,Ie(X)}finally{ee.value=!1}}}function ce(){return{addNewLink:F(()=>e.role?`/users/roles/${e.role}/+`:"/users/+")}}function J(){const me=F(()=>e.role?[{name:t("user_directory"),to:"/users"}]:null),ee=F(()=>{var ne,te;return e.role?(te=(ne=n.value)==null?void 0:ne.find(Z=>Z.id===e.role))==null?void 0:te.name:t("user_directory")});return{breadcrumb:me,title:ee}}function oe(){_.value=null,v.value=null}function _e(){const me=F(()=>{var se;return((se=a==null?void 0:a.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!d.permissions.find(X=>X.action==="update"&&X.collection==="directus_users")}),ee=F(()=>{var se;return((se=a==null?void 0:a.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!d.permissions.find(X=>X.action==="delete"&&X.collection==="directus_users")}),ne=F(()=>{var se;return((se=a==null?void 0:a.currentUser)==null?void 0:se.role.admin_access)===!0?!0:!!d.permissions.find(X=>X.action==="create"&&X.collection==="directus_users")});return{batchEditAllowed:me,batchDeleteAllowed:ee,createAllowed:ne}}}}),qO={class:"page-description"};function zO(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("search-input"),f=c("v-card-title"),_=c("v-card-actions"),v=c("v-card"),y=c("v-dialog"),h=c("users-navigation"),g=c("users-invite"),b=c("v-info"),$=c("drawer-batch"),A=c("sidebar-detail"),V=c("layout-sidebar-detail"),T=c("export-sidebar-detail"),D=c("private-view"),O=$e("tooltip"),M=$e("md");return m(),C(Be(e.layoutWrapper),{ref:"layoutRef",selection:e.selection,"onUpdate:selection":t[10]||(t[10]=L=>e.selection=L),"layout-options":e.layoutOptions,"onUpdate:layout-options":t[11]||(t[11]=L=>e.layoutOptions=L),"layout-query":e.layoutQuery,"onUpdate:layout-query":t[12]||(t[12]=L=>e.layoutQuery=L),filter:e.mergeFilters(e.filter,e.roleFilter),"filter-user":e.filter,"filter-system":e.roleFilter,search:e.search,collection:"directus_users","reset-preset":e.resetPreset},{default:s(({layoutState:L})=>[o(D,{title:e.title},ot({"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:s(()=>[o(r,{name:"people_alt"})]),_:1})]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.layout}`),Qe(et(L)),null,16))]),actions:s(()=>[o(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=j=>e.search=j),filter:e.filter,"onUpdate:filter":t[1]||(t[1]=j=>e.filter=j),collection:"directus_users"},null,8,["modelValue","filter"]),e.selection.length>0?(m(),C(y,{key:0,modelValue:e.confirmDelete,"onUpdate:modelValue":t[3]||(t[3]=j=>e.confirmDelete=j),onEsc:t[4]||(t[4]=j=>e.confirmDelete=!1)},{activator:s(({on:j})=>[x(o(u,{disabled:e.batchDeleteAllowed!==!0,rounded:"",icon:"",class:"action-delete",secondary:"",onClick:j},{default:s(()=>[o(r,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[O,e.batchDeleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(v,null,{default:s(()=>[o(f,null,{default:s(()=>[P(w(e.t("batch_delete_confirm",e.selection.length)),1)]),_:1}),o(_,null,{default:s(()=>[o(u,{secondary:"",onClick:t[2]||(t[2]=j=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(u,{kind:"danger",loading:e.deleting,onClick:e.batchDelete},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),e.selection.length>0?x((m(),C(u,{key:1,rounded:"",icon:"",secondary:"",disabled:e.batchEditAllowed===!1,onClick:t[5]||(t[5]=j=>e.batchEditActive=!0)},{default:s(()=>[o(r,{name:"edit"})]),_:1},8,["disabled"])),[[O,e.batchEditAllowed?e.t("edit"):e.t("not_allowed"),void 0,{bottom:!0}]]):R("",!0),e.canInviteUsers?x((m(),C(u,{key:2,rounded:"",icon:"",secondary:"",onClick:t[6]||(t[6]=j=>e.userInviteModalActive=!0)},{default:s(()=>[o(r,{name:"person_add"})]),_:1},512)),[[O,e.t("invite_users"),void 0,{bottom:!0}]]):R("",!0),x(o(u,{rounded:"",icon:"",to:e.addNewLink,disabled:e.createAllowed===!1},{default:s(()=>[o(r,{name:"add"})]),_:1},8,["to","disabled"]),[[O,e.createAllowed?e.t("create_item"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(h,{"current-role":e.role},null,8,["current-role"])]),sidebar:s(()=>[o(A,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[x(S("div",qO,null,512),[[M,e.t("page_help_users_collection")]])]),_:1},8,["title"]),o(V,{modelValue:e.layout,"onUpdate:modelValue":t[9]||(t[9]=j=>e.layout=j)},{default:s(()=>[(m(),C(Be(`layout-options-${e.layout}`),Qe(et(L)),null,16))]),_:2},1032,["modelValue"]),(m(),C(Be(`layout-sidebar-${e.layout}`),Qe(et(L)),null,16)),o(T,{collection:"directus_users","layout-query":e.layoutQuery,filter:e.mergeFilters(e.filter,e.roleFilter),search:e.search},null,8,["layout-query","filter","search"])]),default:s(()=>[e.canInviteUsers?(m(),C(g,{key:0,modelValue:e.userInviteModalActive,"onUpdate:modelValue":[t[7]||(t[7]=j=>e.userInviteModalActive=j),e.refresh]},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),(m(),C(Be(`layout-${e.layout}`),pt({class:"layout"},L),{"no-results":s(()=>[!e.filter&&!e.search?(m(),C(b,{key:0,title:e.t("user_count",0),icon:"people_alt",center:""},ot({default:s(()=>[P(w(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:s(()=>[o(u,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:s(()=>[P(w(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])):(m(),C(b,{key:1,title:e.t("no_results"),icon:"search",center:""},{append:s(()=>[o(u,{onClick:e.clearFilters},{default:s(()=>[P(w(e.t("clear_filters")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("no_results_copy"))+" ",1)]),_:1},8,["title"]))]),"no-items":s(()=>[o(b,{title:e.t("user_count",0),icon:"people_alt",center:""},ot({default:s(()=>[P(w(e.t("no_users_copy"))+" ",1)]),_:2},[e.canInviteUsers?{name:"append",fn:s(()=>[o(u,{to:e.role?{path:`/users/roles/${e.role}/+`}:{path:"/users/+"}},{default:s(()=>[P(w(e.t("create_user")),1)]),_:1},8,["to"])])}:void 0]),1032,["title"])]),_:2},1040)),o($,{active:e.batchEditActive,"onUpdate:active":t[8]||(t[8]=j=>e.batchEditActive=j),"primary-keys":e.selection,collection:"directus_users",onRefresh:e.refresh},null,8,["active","primary-keys","onRefresh"])]),_:2},[e.breadcrumb?{name:"headline",fn:s(()=>[o(i,{items:e.breadcrumb},null,8,["items"])])}:void 0]),1032,["title"])]),_:1},8,["selection","layout-options","layout-query","filter","filter-user","filter-system","search","reset-preset"])}var zr=z(BO,[["render",zO],["__scopeId","data-v-36487765"]]);const KO={alias:"input",bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",unknown:"input",csv:"tags",hash:"input-hash",geometry:"map","geometry.Point":"map","geometry.LineString":"map","geometry.Polygon":"map","geometry.MultiPoint":"map","geometry.MultiLineString":"map","geometry.MultiPolygon":"map"};function Kr(e){return KO[e]||"input"}function Wr(e){return{formFields:F(()=>{let n=N.exports.clone(e.value);return n=n.map((l,a)=>{var i;if(!l.meta)return l;let d=Pt(l.meta.interface);return d===void 0&&(l.meta.interface=Kr(l.type),d=Pt(l.meta.interface)),(d==null?void 0:d.hideLabel)===!0&&(l.hideLabel=!0),(d==null?void 0:d.hideLoader)===!0&&(l.hideLoader=!0),a!==0&&l.meta.width==="half"&&((i=n[a-1].meta)==null?void 0:i.width)==="half"&&(l.meta.width="half-right"),l}),n=n.filter(l=>{var d;return(((d=l.field)==null?void 0:d.startsWith("$"))||!1)===!1}),n=N.exports.orderBy(n,[l=>{var a;return!!((a=l.meta)==null?void 0:a.system)},"meta.sort","meta.id"],["desc","asc","asc"]),n=It(n),n})}}const WO=K({props:{user:{type:Object,default:null},isNew:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=E("");return ge([()=>e.user,()=>e.isNew],async()=>{!e.user||e.user.last_access&&(n.value=await Ft(new Date(e.user.last_access),String(t("date-fns_date_short"))))},{immediate:!0}),{t,lastAccessDate:n}}}),HO={key:0},GO={key:0},ZO={key:1},JO={key:2},QO={key:3},XO={key:4},YO={key:5},xO={class:"page-description"};function eL(e,t,n,l,a,d){const i=c("router-link"),r=c("v-divider"),u=c("sidebar-detail"),p=$e("md");return m(),C(u,{icon:"info_outline",title:e.t("information"),close:""},{default:s(()=>[e.isNew===!1&&e.user?(m(),I("dl",HO,[e.user.id?(m(),I("div",GO,[S("dt",null,w(e.t("key")),1),S("dd",null,w(e.user.id),1)])):R("",!0),e.user.last_page?(m(),I("div",ZO,[S("dt",null,w(e.t("last_page")),1),S("dd",null,[o(i,{to:e.user.last_page},{default:s(()=>[P(w(e.user.last_page),1)]),_:1},8,["to"])])])):R("",!0),e.user.last_access?(m(),I("div",JO,[S("dt",null,w(e.t("last_access")),1),S("dd",null,w(e.lastAccessDate),1)])):R("",!0),e.user.created_on?(m(),I("div",QO,[S("dt",null,w(e.t("created_on")),1),S("dd",null,w(e.user.created_on),1)])):R("",!0),e.user.created_by?(m(),I("div",XO,[S("dt",null,w(e.t("created_by")),1),S("dd",null,w(e.user.created_by),1)])):R("",!0),e.user.modified_on?(m(),I("div",YO,[S("dt",null,w(e.t("modified_on")),1),S("dd",null,w(e.user.modified_on),1)])):R("",!0)])):R("",!0),o(r),x(S("div",xO,null,512),[[p,e.t("page_help_users_item")]])]),_:1},8,["title"])}var tL=z(WO,[["render",eL],["__scopeId","data-v-f606e54a"]]);const nL=K({name:"UsersItem",components:{UsersNavigation:qr,RevisionsDrawerDetail:ll,SaveOptions:Ul,CommentsSidebarDetail:wo,UserInfoSidebarDetail:tL},props:{primaryKey:{type:String,required:!0},role:{type:String,default:null}},setup(e){const{t,locale:n}=Y(),l=at(),a=E(),d=Oe(),i=Je(),r=He(),u=rn(),{primaryKey:p}=ze(e),{breadcrumb:f}=Se(),{info:_}=rt("directus_users"),v=E(null),{isNew:y,edits:h,hasEdits:g,item:b,saving:$,loading:A,save:V,remove:T,deleting:D,saveAsCopy:O,isBatch:M,archive:L,archiving:j,isArchived:B,validationErrors:q}=In(E("directus_users"),p);e.role&&(h.value=fe({role:e.role},h.value));const G=F(()=>re.value&&g.value),{confirmLeave:Q,leaveTo:ce}=_n(g),J=E(!1),oe=E(!1),_e=E(null),me=F(()=>{if(A.value===!0)return t("loading");if(y.value===!1&&b.value){const Re=b.value;return Et(Re)}return t("adding_user")}),{loading:ee,avatarSrc:ne,roleName:te}=Ee(),{createAllowed:Z,deleteAllowed:se,archiveAllowed:X,saveAllowed:re,updateAllowed:ve,revisionsAllowed:H,fields:le}=qn(E("directus_users"),b,y),ie=["id","external_id","last_page","created_on","created_by","modified_by","modified_on","last_access"],de=F(()=>le.value.filter(Re=>(!y.value&&["provider","external_identifier"].includes(Re.field)&&(Re.meta.readonly=!0),!ie.includes(Re.field)))),{formFields:ye}=Wr(de),he=F(()=>X.value===!1?t("not_allowed"):B.value===!0?t("unarchive"):t("archive"));return it("meta+s",Ae,a),it("meta+shift+s",Le,a),{t,router:l,title:me,item:b,loading:A,isNew:y,breadcrumb:f,edits:h,hasEdits:g,saving:$,saveAndQuit:Ce,deleteAndQuit:lt,confirmDelete:J,deleting:D,saveAndStay:Ae,saveAndAddNew:Le,saveAsCopyAndNavigate:Ge,discardAndStay:je,isBatch:M,revisionsDrawerDetail:v,previewLoading:ee,avatarSrc:ne,roleName:te,confirmLeave:Q,leaveTo:ce,discardAndLeave:Te,formFields:ye,createAllowed:Z,deleteAllowed:se,saveAllowed:re,archiveAllowed:X,isArchived:B,updateAllowed:ve,toggleArchive:ke,confirmArchive:oe,collectionInfo:_,archiving:j,archiveTooltip:he,form:a,userName:Et,revisionsAllowed:H,validationErrors:q,revert:Ue,avatarError:_e,isSavable:G};function Se(){return{breadcrumb:F(()=>[{name:t("user_directory"),to:"/users"}])}}async function Ce(){try{const Re=await V();await Me(Re),await Ve(),l.push("/users")}catch{}}async function Ae(){var Re,xe;try{const tt=await V();if(await Me(tt),(xe=(Re=v.value)==null?void 0:Re.refresh)==null||xe.call(Re),e.primaryKey==="+"){const ut=tt.id;l.replace(`/users/${ut}`)}}catch{}}async function Le(){try{const Re=await V();await Me(Re),await Ve(),l.push("/users/+")}catch{}}async function Ge(){try{const Re=await O();Re&&l.push(`/users/${Re}`)}catch{}}async function lt(){try{await T(),l.replace("/users")}catch{}}async function Me(Re){var tt,ut,yt,Xt;if(r.currentUser.id!==((tt=b.value)==null?void 0:tt.id))return;const xe=(Xt=Re==null?void 0:Re.language)!=null?Xt:(yt=(ut=u.info)==null?void 0:ut.project)==null?void 0:yt.default_language;xe&&xe!==n.value&&(await uo(xe),await d.hydrate(),await i.hydrate())}async function Ve(){var Re;r.currentUser.id===((Re=b.value)==null?void 0:Re.id)&&await r.hydrate()}function Ee(){const Re=E(!1),xe=E(null),tt=E(null);return ge(()=>e.primaryKey,ut,{immediate:!0}),{loading:Re,avatarSrc:xe,roleName:tt};async function ut(){var yt,Xt,hn;if(e.primaryKey!=="+"){Re.value=!0;try{const gn=await pe.get(`/users/${e.primaryKey}`,{params:{fields:["role.name","avatar.id"]}});xe.value=((yt=gn.data.data.avatar)==null?void 0:yt.id)?dt(Ze()+`assets/${gn.data.data.avatar.id}?key=system-medium-cover`):null,tt.value=(hn=(Xt=gn.data.data)==null?void 0:Xt.role)==null?void 0:hn.name}catch(gn){Ie(gn)}finally{Re.value=!1}}}}function Te(){!ce.value||(h.value={},Q.value=!1,l.push(ce.value))}function je(){h.value={},Q.value=!1}async function ke(){await L(),B.value===!0?l.push("/users"):oe.value=!1}function Ue(Re){h.value=fe(fe({},h.value),Re)}}}),lL={class:"user-item"},oL={key:0,class:"user-box"},aL={class:"avatar"},iL=["src","alt"],rL={class:"user-box-content"},sL={class:"name type-label"},dL={key:0,class:"title"},uL={key:0,class:"email"},cL={key:1,class:"location"};function pL(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-breadcrumb"),p=c("v-card-title"),f=c("v-card-actions"),_=c("v-card"),v=c("v-dialog"),y=c("save-options"),h=c("users-navigation"),g=c("v-skeleton-loader"),b=c("v-chip"),$=c("v-form"),A=c("v-card-text"),V=c("user-info-sidebar-detail"),T=c("revisions-drawer-detail"),D=c("comments-sidebar-detail"),O=c("private-view"),M=$e("tooltip");return m(),C(O,{title:e.title},{"title-outer:prepend":s(()=>[o(r,{class:"header-icon",rounded:"",icon:"",secondary:"",exact:"",onClick:t[0]||(t[0]=L=>e.router.back())},{default:s(()=>[o(i,{name:"arrow_back"})]),_:1})]),headline:s(()=>[o(u,{items:e.breadcrumb},null,8,["items"])]),actions:s(()=>[o(v,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=L=>e.confirmDelete=L),disabled:e.deleteAllowed===!1,onEsc:t[3]||(t[3]=L=>e.confirmDelete=!1)},{activator:s(({on:L})=>[x(o(r,{rounded:"",icon:"",class:"action-delete",secondary:"",disabled:e.item===null||e.deleteAllowed!==!0,onClick:L},{default:s(()=>[o(i,{name:"delete"})]),_:2},1032,["disabled","onClick"]),[[M,e.deleteAllowed?e.t("delete_label"):e.t("not_allowed"),void 0,{bottom:!0}]])]),default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("delete_are_you_sure")),1)]),_:1}),o(f,null,{default:s(()=>[o(r,{secondary:"",onClick:t[1]||(t[1]=L=>e.confirmDelete=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(r,{kind:"danger",loading:e.deleting,onClick:e.deleteAndQuit},{default:s(()=>[P(w(e.t("delete_label")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.collectionInfo.meta&&e.collectionInfo.meta.archive_field&&!e.isNew?(m(),C(v,{key:0,modelValue:e.confirmArchive,"onUpdate:modelValue":t[5]||(t[5]=L=>e.confirmArchive=L),disabled:e.archiveAllowed===!1,onEsc:t[6]||(t[6]=L=>e.confirmArchive=!1)},{activator:s(({on:L})=>[e.collectionInfo.meta&&e.collectionInfo.meta.singleton===!1?x((m(),C(r,{key:0,rounded:"",icon:"",secondary:"",disabled:e.item===null||e.archiveAllowed!==!0,onClick:L},{default:s(()=>[o(i,{name:e.isArchived?"unarchive":"archive"},null,8,["name"])]),_:2},1032,["disabled","onClick"])),[[M,e.archiveTooltip,void 0,{bottom:!0}]]):R("",!0)]),default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.isArchived?e.t("unarchive_confirm"):e.t("archive_confirm")),1)]),_:1}),o(f,null,{default:s(()=>[o(r,{secondary:"",onClick:t[4]||(t[4]=L=>e.confirmArchive=!1)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1}),o(r,{kind:"warning",loading:e.archiving,onClick:e.toggleArchive},{default:s(()=>[P(w(e.isArchived?e.t("unarchive"):e.t("archive")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"])):R("",!0),x(o(r,{rounded:"",icon:"",loading:e.saving,disabled:!e.isSavable,onClick:e.saveAndQuit},{"append-outer":s(()=>[e.isSavable?(m(),C(y,{key:0,"disabled-options":e.createAllowed?[]:["save-and-add-new","save-as-copy"],onSaveAndStay:e.saveAndStay,onSaveAndAddNew:e.saveAndAddNew,onSaveAsCopy:e.saveAsCopyAndNavigate,onDiscardAndStay:e.discardAndStay},null,8,["disabled-options","onSaveAndStay","onSaveAndAddNew","onSaveAsCopy","onDiscardAndStay"])):R("",!0)]),default:s(()=>[o(i,{name:"check"})]),_:1},8,["loading","disabled","onClick"]),[[M,e.saveAllowed?e.t("save"):e.t("not_allowed"),void 0,{bottom:!0}]])]),navigation:s(()=>[o(h,{"current-role":e.item&&e.item.role||e.role},null,8,["current-role"])]),sidebar:s(()=>[o(V,{"is-new":e.isNew,user:e.item},null,8,["is-new","user"]),e.isBatch===!1&&e.isNew===!1&&e.revisionsAllowed?(m(),C(T,{key:0,ref:"revisionsDrawerDetail",collection:"directus_users","primary-key":e.primaryKey,onRevert:e.revert},null,8,["primary-key","onRevert"])):R("",!0),e.isBatch===!1&&e.isNew===!1?(m(),C(D,{key:1,collection:"directus_users","primary-key":e.primaryKey},null,8,["primary-key"])):R("",!0)]),default:s(()=>[S("div",lL,[e.isNew===!1?(m(),I("div",oL,[S("div",aL,[e.loading||e.previewLoading?(m(),C(g,{key:0})):e.avatarSrc&&!e.avatarError?(m(),I("img",{key:1,src:e.avatarSrc,alt:e.t("avatar"),onError:t[7]||(t[7]=L=>e.avatarError=L)},null,40,iL)):(m(),C(i,{key:2,name:"account_circle","x-large":""}))]),S("div",rL,[e.loading?(m(),I(ae,{key:0},[o(g,{type:"text"}),o(g,{type:"text"}),o(g,{type:"text"})],64)):e.isNew===!1&&e.item?(m(),I(ae,{key:1},[S("div",sL,[P(w(e.userName(e.item))+" ",1),e.item.title?(m(),I("span",dL,", "+w(e.item.title),1)):R("",!0)]),e.item.email?(m(),I("div",uL,[o(i,{name:"alternate_email",small:""}),P(" "+w(e.item.email),1)])):R("",!0),e.item.location?(m(),I("div",cL,[o(i,{name:"place",small:""}),P(" "+w(e.item.location),1)])):R("",!0),e.roleName?(m(),C(b,{key:2,class:ue(e.item.status),small:""},{default:s(()=>[P(w(e.roleName),1)]),_:1},8,["class"])):R("",!0)],64)):R("",!0)])])):R("",!0),o($,{ref:"form",modelValue:e.edits,"onUpdate:modelValue":t[8]||(t[8]=L=>e.edits=L),disabled:e.isNew?!1:e.updateAllowed===!1,fields:e.formFields,loading:e.loading,"initial-values":e.item,"batch-mode":e.isBatch,"primary-key":e.primaryKey,"validation-errors":e.validationErrors},null,8,["modelValue","disabled","fields","loading","initial-values","batch-mode","primary-key","validation-errors"])]),o(v,{modelValue:e.confirmLeave,"onUpdate:modelValue":t[10]||(t[10]=L=>e.confirmLeave=L),onEsc:t[11]||(t[11]=L=>e.confirmLeave=!1)},{default:s(()=>[o(_,null,{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(A,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o(f,null,{default:s(()=>[o(r,{secondary:"",onClick:e.discardAndLeave},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1},8,["onClick"]),o(r,{onClick:t[9]||(t[9]=L=>e.confirmLeave=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])}var Hr=z(nL,[["render",pL],["__scopeId","data-v-152a9e6a"]]),mL=wn({id:"users",name:"$t:user_directory",icon:"people_alt",routes:[{name:"users-collection",path:"",component:zr},{name:"users-item",path:":primaryKey",component:Hr,props:!0},{path:"roles",redirect:"/users"},{name:"roles-collection",path:"roles/:role",component:zr,props:!0},{name:"roles-item-add",path:"roles/:role/+",component:Hr,props:e=>({primaryKey:"+",role:e.params.role})}],preRegisterCheck(e,t){return e.role.admin_access?!0:!!t.find(a=>a.collection==="directus_users"&&a.action==="read")}}),fL=Object.freeze(Object.defineProperty({__proto__:null,default:mL},Symbol.toStringTag,{value:"Module"}));const{modulesRaw:Ko}=El();let Gr=[];async function _L(){const t=Object.values({"./activity/index.ts":D8,"./content/index.ts":hS,"./docs/index.ts":US,"./files/index.ts":l6,"./insights/index.ts":NF,"./settings/index.ts":LO,"./users/index.ts":fL}).map(n=>n.default);try{const n=await U(()=>import(`${Ze()}extensions/modules/index.js`),[]);t.push(...n.default)}catch(n){console.warn("Couldn't load custom modules"),console.warn(n)}Gr=t}async function vL(){const e=He(),t=Ot(),n=[];for(const l of Gr)!e.currentUser||(l.preRegisterCheck?await l.preRegisterCheck(e.currentUser,t.permissions)&&n.push(l):n.push(l));for(const l of n)Wt.addRoute({name:l.id,path:`/${l.id}`,component:mn,children:l.routes});Ko.value=n}function yL(){for(const e of Ko.value)Wt.removeRoute(e.id);Ko.value=[]}function Gn(e){const t=Gl();return t.settings?t.settings[e]:null}function hL(){const e=He();return e.currentUser?e.currentUser.theme==="auto"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.currentUser.theme:"light"}const Zr={name:"OpenStreetMap",type:"raster",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileSize:256,attribution:"\xA9 OpenStreetMap contributors"},gL={version:8,glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"};function cl(){return Gn("mapbox_key")?[kL(),Zr,...Gn("basemaps")||[]]:[Zr,...Gn("basemaps")||[]]}function Wo(e){if(wL(e.url),e.type=="style")return e.url;{const t=fe({},gL),n={type:"raster"};return e.attribution&&(n.attribution=e.attribution),e.type=="raster"&&(n.tiles=bL(e.url),n.tileSize=e.tileSize||512),e.type=="tile"&&(n.url=e.url),t.layers=[{id:e.name,source:e.name,type:"raster"}],t.sources={[e.name]:n},t}}function bL(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const l=n[1].charCodeAt(0),a=n[2].charCodeAt(0);let d;for(d=l;d<=a;++d)t.push(e.replace(n[0],String.fromCharCode(d)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const l=parseInt(n[2],10);for(let a=parseInt(n[1],10);a<=l;a++)t.push(e.replace(n[0],a.toString()));return t}if(n=/\{(([a-z0-9]+)(,([a-z0-9]+))+)\}/.exec(e),n){const l=n[1].split(",");for(const a of l)t.push(e.replace(n[0],a));return t}return t.push(e),t}function wL(e){e=e.replace(/^mapbox:\//,"https://api.mapbox.com/styles/v1");try{const t=new URL(e);if(t.host=="api.mapbox.com"){const n=t.searchParams.get("access_token");n&&(oo.accessToken=n)}}catch{return}}function kL(){const e={name:"Mapbox",type:"style",url:"mapbox://styles/directus/cktaiz31c509n18nrxj63zdy6"};return hL()==="dark"&&(e.url="mapbox://styles/directus/cl0bombrr001115taz5ilsynw"),e}function Jr(e=[Je,Oe,He,vl,Pn,Gl,rn,Xo,ft,Ot,Qn,_l]){return e.map(t=>t())}async function pl(){var i,r,u,p,f;const e=Jr(),t=Vt(),n=He(),l=rn(),a=Ot(),{refresh:d}=nl();if(!t.hydrated&&!t.hydrating){t.hydrating=!0;try{await n.hydrate();let _="en-US";if(((r=(i=l.info)==null?void 0:i.project)==null?void 0:r.default_language)&&(_=l.info.project.default_language),(u=n.currentUser)==null?void 0:u.role){await a.hydrate();const v=["userStore","permissionsStore"];await Promise.all(e.filter(({$id:y})=>!v.includes(y)).map(y=>{var h;return(h=y.hydrate)==null?void 0:h.call(y)})),await vL(),await d(),((p=n.currentUser)==null?void 0:p.language)&&(_=(f=n.currentUser)==null?void 0:f.language)}await uo(_),t.basemap=cl()[0].name}catch(_){t.error=_}finally{t.hydrating=!1}t.hydrated=!0}}async function $L(e=Jr()){var n;const t=Vt();if(t.hydrated!==!1){for(const l of e)await((n=l.dehydrate)==null?void 0:n.call(l));yL(),t.hydrated=!1}}const Qr=["pointermove","pointerdown","keydown"],SL=5*60*1e3;let Ho,Hl=!0,Go=!1;const vn=ha();function CL(){document.addEventListener("visibilitychange",Yr);for(const e of Qr)document.addEventListener(e,Xr);xr()}function VL(){document.removeEventListener("visibilitychange",Yr);for(const e of Qr)document.removeEventListener(e,Xr)}function Xr(){Go===!0&&(Go=!1,vn.emit("active")),xr()}function Yr(){document.visibilityState==="hidden"&&Hl===!0&&(Hl=!1,vn.emit("hide")),document.visibilityState==="visible"&&Hl===!1&&(Hl=!0,vn.emit("show"))}function xr(){Ho&&clearTimeout(Ho),Ho=setTimeout(()=>{Go=!0,vn.emit("idle")},SL)}function FL(e,t){return t?"/shares/auth":e===go?"/auth/login":`/auth/login/${e}`}async function Zo({credentials:e,provider:t,share:n}){const l=Vt(),a=await pe.post(FL(t,n),Fe(fe({},e),{mode:"cookie"})),d=a.data.data.access_token;pe.defaults.headers.common.Authorization=`Bearer ${d}`,a.data.data.expires<=21e8&&(yn=setTimeout(()=>Tn(),a.data.data.expires-1e4)),l.accessTokenExpiry=Date.now()+a.data.data.expires,l.authenticated=!0,await pl()}let yn,Zn=!1,Jo=!1,es=!0;vn.on("idle",()=>{clearTimeout(yn),Zn=!0});vn.on("hide",()=>{clearTimeout(yn),Zn=!0});vn.on("active",()=>{Zn===!0&&(Tn(),Zn=!1)});vn.on("show",()=>{Zn===!0&&(Tn(),Zn=!1)});async function Tn({navigate:e}={navigate:!0}){if(es)es=!1;else if(!pe.defaults.headers.common.Authorization)return;if(Jo)return;const t=Vt();if(t.accessTokenExpiry&&Date.now()<t.accessTokenExpiry-1e4){clearTimeout(yn),yn=setTimeout(()=>Tn(),t.accessTokenExpiry-1e4-Date.now());return}Jo=!0;try{const n=await pe.post("/auth/refresh",void 0,{transformRequest(a,d){var i;return(i=d==null?void 0:d.common)==null||delete i.Authorization,a}}),l=n.data.data.access_token;return pe.defaults.headers.common.Authorization=`Bearer ${l}`,clearTimeout(yn),n.data.data.expires<=21e8&&(yn=setTimeout(()=>Tn(),n.data.data.expires-1e4)),t.accessTokenExpiry=Date.now()+n.data.data.expires,t.authenticated=!0,l}catch{await ml({navigate:e,reason:Jn.SESSION_EXPIRED})}finally{Jo=!1}}var Jn;(function(e){e.SIGN_OUT="SIGN_OUT",e.SESSION_EXPIRED="SESSION_EXPIRED"})(Jn||(Jn={}));async function ml(e={}){const t=Vt(),n={navigate:!0,reason:Jn.SIGN_OUT};delete pe.defaults.headers.common.Authorization,clearTimeout(yn);const l=fe(fe({},n),e);if(l.reason===Jn.SIGN_OUT&&await pe.post("/auth/logout"),t.authenticated=!1,await $L(),l.navigate===!0){const a={path:"/login",query:{reason:l.reason}};Wt.push(a)}}const fl=lo.create({baseURL:Ze(),withCredentials:!0,headers:{"Cache-Control":"no-store"}}),Qo=new wd({concurrency:5,intervalCap:5,interval:500,carryoverConcurrencyCount:!0}),AL=e=>{const n=vl().startRequest(),l=fe({id:n},e);return new Promise(a=>{e.url&&e.url==="/auth/refresh"?(Qo.pause(),a(l),Qo.start()):Qo.add(()=>a(l))})},IL=e=>{var l;const t=vl(),n=(l=e.config)==null?void 0:l.id;return n&&t.endRequest(n),e},EL=async e=>{var d,i,r,u,p,f,_,v;const t=vl(),n=(i=(d=e.response)==null?void 0:d.config)==null?void 0:i.id;n&&t.endRequest(n);const l=(r=e.response)==null?void 0:r.status,a=(v=(_=(f=(p=(u=e.response)==null?void 0:u.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:_.extensions)==null?void 0:v.code;if(l===401&&a==="INVALID_CREDENTIALS"&&e.request.responseURL.includes("refresh")===!1&&e.request.responseURL.includes("login")===!1&&e.request.responseURL.includes("tfa")===!1){let y;try{y=await Tn()}catch{return ml({reason:Jn.SESSION_EXPIRED}),Promise.reject()}if(y)return fl.request(Fe(fe({},e.config),{headers:{Authorization:`Bearer ${y}`}}))}return Promise.reject(e)};fl.interceptors.request.use(AL);fl.interceptors.response.use(IL,EL);var pe=fl;function DL(){var e;return((e=fl.defaults.headers.common.Authorization)==null?void 0:e.split(" ")[1])||null}function dt(e,t){const n=t||DL();return n?_o(e,{access_token:n}):e}const ft=Lt({id:"relationsStore",state:()=>({relations:[]}),actions:{async hydrate(){const e=await pe.get("/relations",{params:{limit:-1}});this.relations=e.data.data},async dehydrate(){this.$reset()},getRelationsForCollection(e){return this.relations.filter(t=>t.collection===e||t.related_collection===e)},async upsertRelation(e,t,n){const l=this.getRelationForField(e,t);try{if(l){if(N.exports.isEqual(l,n))return;const a=await pe.patch(`/relations/${e}/${t}`,n);this.relations=this.relations.map(d=>d.collection===e&&d.field===t?a.data.data:d)}else{const a=await pe.post("/relations",n);this.relations=[...this.relations,a.data.data]}}catch(a){Ie(a)}},getRelationsForField(e,t){var d;if(!Oe().getField(e,t))return[];const a=this.getRelationsForCollection(e).filter(i=>{var r;return i.collection===e&&i.field===t||i.related_collection===e&&((r=i.meta)==null?void 0:r.one_field)===t});if(a.length>0&&((d=a[0].meta)==null?void 0:d.junction_field)!==null){const r=this.relations.find(u=>{var p;return u.collection===a[0].collection&&u.field===((p=a[0].meta)==null?void 0:p.junction_field)});r&&a.push(r)}return a},getRelationForField(e,t){return Oe().getField(e,t)&&this.getRelationsForCollection(e).filter(d=>{var i;return d.collection===e&&d.field===t||d.related_collection===e&&((i=d.meta)==null?void 0:i.one_field)===t}).find(d=>d.collection===e&&d.field===t)||null}}}),Je=Lt({id:"collectionsStore",state:()=>({collections:[]}),getters:{visibleCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1).filter(e=>{var t;return((t=e.meta)==null?void 0:t.hidden)!==!0})},allCollections(){return this.collections.filter(({collection:e})=>e.startsWith("directus_")===!1)},crudSafeSystemCollections(){return N.exports.orderBy(this.collections.filter(e=>e.collection.startsWith("directus_")===!0),["collection"],["asc"]).filter(e=>X3.includes(e.collection)===!1)}},actions:{async hydrate(){const t=(await pe.get("/collections",{params:{limit:-1}})).data.data;this.collections=t.map(this.prepareCollectionForApp)},prepareCollectionForApp(e){var d,i;const t=((d=e.meta)==null?void 0:d.icon)||"label",n=(i=e.meta)==null?void 0:i.color;let l=wt(e.collection);const a=j$(e);if(e.meta&&Jt(e.meta.translations))for(let r=0;r<e.meta.translations.length;r++){const{language:u,translation:p,singular:f,plural:_}=e.meta.translations[r],v=p?p.replace(/([{}@$|])/g,"{'$1'}"):null;Ne.global.mergeLocaleMessage(u,fe(fe(fe({},v&&{collection_names:{[e.collection]:v}}),f&&{collection_names_singular:{[e.collection]:f}}),_&&{collection_names_plural:{[e.collection]:_}}))}return Ne.global.te(`collection_names.${e.collection}`)&&(l=Ne.global.t(`collection_names.${e.collection}`)),Fe(fe({},e),{name:l,type:a,icon:t,color:n})},async dehydrate(){this.$reset()},translateCollections(){this.collections=this.collections.map(e=>(Ne.global.te(`collection_names.${e.collection}`)&&(e.name=Ne.global.t(`collection_names.${e.collection}`)),e))},async upsertCollection(e,t){const n=this.getCollection(e),l=N.exports.omit(t,["name","type","icon","color"]);try{if(n){if(N.exports.isEqual(n,t))return;const a=await pe.patch(`/collections/${e}`,l);this.collections=this.collections.map(d=>d.collection===e?this.prepareCollectionForApp(a.data.data):d)}else{const a=await pe.post("/collections",l);this.collections=[...this.collections,this.prepareCollectionForApp(a.data.data)]}}catch(a){Ie(a)}},async updateCollection(e,t){try{await pe.patch(`/collections/${e}`,t),await this.hydrate(),ct({title:Ne.global.t("update_collection_success")})}catch(n){Ie(n)}},async deleteCollection(e){const t=ft();try{await pe.delete(`/collections/${e}`),await this.hydrate(),await t.hydrate(),ct({title:Ne.global.t("delete_collection_success")})}catch(n){Ie(n)}},getCollection(e){return this.collections.find(t=>t.collection===e)||null}}}),TL={collection:"directus_files",field:"$thumbnail",schema:null,name:"$thumbnail",type:"integer",meta:{id:-1,collection:"directus_files",field:"$thumbnail",sort:null,special:null,interface:null,options:null,display:"file",display_options:null,hidden:!1,translations:null,readonly:!0,width:"full",group:null,note:null,required:!1,conditions:null}};let ts;const Oe=Lt({id:"fieldsStore",state:()=>({fields:[]}),actions:{async hydrate(){const t=(await pe.get("/fields",{params:{limit:-1}})).data.data;this.fields=[...t.map(this.parseField),TL],this.translateFields()},async dehydrate(){this.$reset()},parseField(e){let t=wt(e.field);if(e.meta&&Jt(e.meta.translations)&&e.meta.translations.length>0)for(let n=0;n<e.meta.translations.length;n++){const{language:l,translation:a}=e.meta.translations[n],d=a?a.replace(/([{}@$|])/g,"{'$1'}"):null;Ne.global.mergeLocaleMessage(l,fe({},d&&{fields:{[e.collection]:{[e.field]:d}}}))}return Ne.global.te(`fields.${e.collection}.${e.field}`)&&(t=Ne.global.t(`fields.${e.collection}.${e.field}`)),Fe(fe({},e),{name:t})},translateFields(){this.fields=this.fields.map(e=>(Ne.global.te(`fields.${e.collection}.${e.field}`)&&(e.name=Ne.global.t(`fields.${e.collection}.${e.field}`)),e))},async upsertField(e,t,n){const l=this.getField(e,t),a=N.exports.omit(n,["name"]);return l?N.exports.isEqual(n,l)?void 0:await this.updateField(e,t,a):await this.createField(e,a)},async createField(e,t){const n=[...this.fields];try{const l=await pe.post(`/fields/${e}`,t),a=this.parseField(l.data.data);return this.fields=[...this.fields,a],a}catch(l){this.fields=n,Ie(l)}},async updateField(e,t,n){const l=[...this.fields];this.fields=this.fields.map(a=>a.collection===e&&a.field===t?N.exports.merge({},a,n):a);try{const a=await pe.patch(`/fields/${e}/${t}`,n);this.fields=this.fields.map(d=>d.collection===e&&d.field===t?this.parseField(a.data.data):d)}catch(a){this.fields=l,Ie(a)}},async updateFields(e,t){const n=$t(),l=[...this.fields];ts=n,this.fields=this.fields.map(a=>{if(a.collection===e){const d=t.find(i=>i.field===a.field);if(d)return N.exports.merge({},a,d)}return a});try{const a=await pe.patch(`/fields/${e}`,t);ts===n&&(this.fields=this.fields.map(d=>{if(d.collection===e){const i=a.data.data.find(r=>r.field===d.field);if(i)return this.parseField(i)}return d}),this.translateFields())}catch(a){this.fields=l,Ie(a)}},async deleteField(e,t){const n=ft(),l=Je(),a=[...this.fields],d=[...n.relations];this.fields=this.fields.filter(i=>!(i.field===t&&i.collection===e)),n.relations=n.relations.filter(i=>{var r;return!(i.collection===e&&i.field===t||i.related_collection===e&&((r=i.meta)==null?void 0:r.one_field)===t)});try{await pe.delete(`/fields/${e}/${t}`),await l.hydrate()}catch(i){this.fields=a,n.relations=d,Ie(i)}},getPrimaryKeyFieldForCollection(e){const t=this.fields.find(n=>{var l;return n.collection===e&&((l=n.schema)==null?void 0:l.is_primary_key)===!0});return t!=null?t:null},getFieldsForCollection(e){return N.exports.orderBy(this.fields.filter(t=>t.collection===e),[t=>{var n;return((n=t.meta)==null?void 0:n.system)===!0},t=>{var n,l;return((n=t.meta)==null?void 0:n.sort)?Number((l=t.meta)==null?void 0:l.sort):null}],["desc","asc"])},getFieldsForCollectionAlphabetical(e){return this.getFieldsForCollection(e).sort((t,n)=>t.field<n.field?-1:(t.field>n.field,1))},getFieldsForCollectionSorted(e){const t=N.exports.orderBy(this.fields.filter(l=>l.collection===e),"meta.sort"),n=t.filter(l=>{var a;return!((a=l.meta)==null?void 0:a.group)});for(const[l,a]of n.entries()){const d=t.filter(i=>{var r;return((r=i.meta)==null?void 0:r.group)===a.field});d.length&&n.splice(l+1,0,...N.exports.orderBy(d,"meta.sort"))}return n},getField(e,t){return t.includes(".")?this.getRelationalField(e,t)||null:this.fields.find(n=>n.collection===e&&n.field===t)||null},getFieldGroupChildren(e,t){return this.fields.filter(n=>{var l;return n.collection===e&&((l=n.meta)==null?void 0:l.group)===t})||null},getRelationalField(e,t){const n=ft(),[l,...a]=t.split(".");if(l.includes(":")){const[p,f]=l.split(":");return this.getField(f,a.join("."))}const d=n.getRelationsForField(e,l),i=d==null?void 0:d.find(p=>{var f;return p.field===l||((f=p.meta)==null?void 0:f.one_field)===l});if(i===void 0)return!1;const r=i.field===l?i.related_collection:i.collection;if(r===null)return!1;const u=a.join(".");return this.getField(r,u)}}}),Qn=Lt({id:"insightsStore",state:()=>({dashboards:[]}),actions:{async hydrate(){const e=He(),t=Ot();if(e.isAdmin!==!0&&!t.hasPermission("directus_dashboards","read"))this.dashboards=[];else try{const n=await pe.get("/dashboards",{params:{limit:-1,fields:["*","panels.*"],sort:["name"]}});this.dashboards=n.data.data}catch{this.dashboards=[]}},async dehydrate(){this.$reset()}}}),Xo=Lt({id:"latencyStore",state:()=>({latency:[]}),actions:{async dehydrate(){this.$reset()},save(e){this.latency.push(e),this.latency=this.latency.slice(-20)}}}),_l=Lt({id:"notificationsStore",state:()=>({dialogs:[],queue:[],previous:[],notifications:[],unread:0}),actions:{async hydrate(){const e=He();e.currentUser&&!("share"in e.currentUser)&&await this.getUnreadCount()},async getUnreadCount(){const e=He();if(!e.currentUser||!("id"in e.currentUser))return;const t=await pe.get("/notifications",{params:{filter:{_and:[{recipient:{_eq:e.currentUser.id}},{status:{_eq:"inbox"}}]},aggregate:{count:"id"}}});this.unread=t.data.data[0].count.id},add(e){const t=$t(),n=Date.now();return e.dialog===!0?(e.persist=!0,this.dialogs=[...this.dialogs,Fe(fe({},e),{id:t,timestamp:n})]):this.queue=[...this.queue,Fe(fe({},e),{id:t,timestamp:n})],e.persist!==!0&&setTimeout(()=>{this.remove(t)},3e3),t},hide(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e),this.previous=[...this.previous,n])},remove(e){const n=[...this.queue,...this.dialogs].find(l=>l.id===e);!n||(n.dialog===!0?this.dialogs=this.dialogs.filter(l=>l.id!==e):this.queue=this.queue.filter(l=>l.id!==e))},update(e,t){this.queue=this.queue.map(n),this.dialogs=this.dialogs.map(n),this.previous=this.queue.map(n);function n(l){return l.id===e?fe(fe({},l),t):l}}},getters:{lastFour(){const e=[...this.queue,...this.previous.filter(l=>l.dialog!==!0)],n=N.exports.reverse(N.exports.sortBy(e,["timestamp"])).slice(0,4);return N.exports.reverse(n)}}}),Ot=Lt({id:"permissionsStore",state:()=>({permissions:[]}),actions:{async hydrate(){const e=He(),t=await pe.get("/permissions",{params:{limit:-1,filter:{role:{_eq:e.currentUser.role.id}}}});this.permissions=t.data.data.map(n=>(n.permissions&&(n.permissions=An(n.permissions)),n.validation&&(n.validation=An(n.validation)),n))},dehydrate(){this.$reset()},getPermissionsForUser(e,t){const n=He();return this.permissions.find(l=>{var a,d;return l.action===t&&l.collection===e&&l.role===((d=(a=n.currentUser)==null?void 0:a.role)==null?void 0:d.id)})||null},hasPermission(e,t){var l,a;return((a=(l=He().currentUser)==null?void 0:l.role)==null?void 0:a.admin_access)===!0?!0:!!this.getPermissionsForUser(e,t)}}}),ns={bookmark:null,role:null,user:null,search:null,filter:null,layout:null,layout_query:null,layout_options:null,refresh_interval:null},ls={directus_files:{collection:"directus_files",layout:"cards",layout_query:{cards:{sort:["-uploaded_on"]}},layout_options:{cards:{icon:"insert_drive_file",title:"{{ title }}",subtitle:"{{ type }} \u2022 {{ filesize }}",size:4,imageFit:"crop"}}},directus_users:{collection:"directus_users",layout:"cards",layout_query:{cards:{sort:["email"]}},layout_options:{cards:{icon:"account_circle",title:"{{ first_name }} {{ last_name }}",subtitle:"{{ email }}",size:4}}},directus_activity:{collection:"directus_activity",layout:"tabular",layout_query:{tabular:{sort:["-timestamp"],fields:["action","collection","timestamp","user"]}},layout_options:{tabular:{widths:{action:100,collection:210,timestamp:240,user:240}}}},directus_roles:{collection:"directus_roles",layout:"tabular",layout_query:{tabular:{fields:["icon","name","description"]}},layout_options:{tabular:{widths:{icon:36,name:248,description:500}}}},directus_webhooks:{collection:"directus_webhooks",layout:"tabular",layout_query:{tabular:{fields:["status","method","name","collections","actions"]}},layout_options:{tabular:{widths:{status:32,method:100,name:210,collections:240,actions:210}}}}},os={},Pn=Lt({id:"presetsStore",state:()=>({collectionPresets:[]}),getters:{bookmarks(){return N.exports.orderBy(this.collectionPresets.filter(e=>e.bookmark!==null),[e=>e.user===null&&e.role===null,e=>e.user===null&&e.role!==null,"bookmark"])}},actions:{async hydrate(){const e=He();if(!e.currentUser||"share"in e.currentUser)return;const{id:t,role:n}=e.currentUser,a=(await Promise.all([pe.get("/presets",{params:{"filter[user][_eq]":t,limit:-1}}),pe.get("/presets",{params:{"filter[role][_eq]":n.id,"filter[user][_null]":!0,limit:-1}}),pe.get("/presets",{params:{"filter[role][_null]":!0,"filter[user][_null]":!0,limit:-1}})])).map(d=>d.data.data).flat();for(const d of Object.keys(ls))a.find(r=>r.collection===d&&!r.user&&!r.role&&!r.bookmark)||a.push(N.exports.merge({},ns,ls[d]));this.collectionPresets=a},async dehydrate(){this.$reset()},async create(e){const t=await pe.post("/presets",e);return this.collectionPresets.push(t.data.data),t.data.data},async update(e,t){const n=$t();os[e]=n;const l=await pe.patch(`/presets/${e}`,t);return os[e]===n&&(this.collectionPresets=this.collectionPresets.map(a=>{const d=l.data.data;return a.id===d.id?d:a})),l.data.data},async delete(e){await pe.delete("/presets",{data:e}),this.collectionPresets=this.collectionPresets.filter(t=>!e.includes(t.id))},getPresetForCollection(e){const t=He();if(t.currentUser===null)return null;const{id:n,role:l}=t.currentUser,a=Fe(fe({},ns),{collection:e,user:n}),d=this.collectionPresets.filter(p=>{const f=p.user===n||p.user===null,_=p.role===l.id||p.role===null,v=p.collection===e;return p.bookmark?!1:!!(f&&v||_&&v)});if(d.length===0)return a;if(d.length===1)return d[0];const i=d.find(p=>p.user===n);if(i)return i;const r=d.find(p=>p.role===l.id);return r||d[d.length-1]},getBookmark(e){return this.collectionPresets.find(t=>t.id===e)||null},async savePreset(e){const t=He();if(t.currentUser===null)return null;const{id:n}=t.currentUser;if(e=N.exports.cloneDeep(e),e.id===void 0||e.id===null)return await this.create(Fe(fe({},e),{user:n}));if(e.user!==n)return"id"in e&&delete e.id,await this.create(Fe(fe({},e),{user:n}));{const l=e.id;return delete e.id,await this.update(l,e)}},saveLocal(e){this.collectionPresets=this.collectionPresets.map(t=>t.id===e.id?fe({},e):t)},async clearLocalSave(e){const t=await pe.get(`/presets/${e.id}`);this.collectionPresets=this.collectionPresets.map(n=>n.id===t.data.data.id?t.data.data:n)}}}),vl=Lt({id:"requestsStore",state:()=>({queue:[]}),getters:{queueHasItems(){return this.queue.length>0}},actions:{startRequest(){const e=$t();return this.queue=[...this.queue,e],setTimeout(()=>this.endRequest(e),3500),e},endRequest(e){this.queue=this.queue.filter(t=>t!==e)}}}),rn=Lt({id:"serverStore",state:()=>({info:null}),actions:{async hydrate(){var t,n,l;const e=await pe.get("/server/info",{params:{limit:-1}});this.info=e.data.data,await uo((l=(n=(t=this.info)==null?void 0:t.project)==null?void 0:n.default_language)!=null?l:"en-US")},dehydrate(){this.$reset()}}}),Gl=Lt({id:"settingsStore",state:()=>({settings:null}),actions:{async hydrate(){const e=He();if(!e.currentUser||"share"in e.currentUser)return;const t=await pe.get("/settings");this.settings=t.data.data},async dehydrate(){this.$reset()},async updateSettings(e){const t=fe({},this.settings),n=N.exports.merge({},this.settings,e);this.settings=n;try{const l=await pe.patch("/settings",e);this.settings=l.data.data,ct({title:Ne.global.t("settings_update_success")})}catch(l){this.settings=t,Ie(l)}}}});var PL=Object.freeze(Object.defineProperty({__proto__:null,useAppStore:Vt,useCollectionsStore:Je,useFieldsStore:Oe,useInsightsStore:Qn,useLatencyStore:Xo,useNotificationsStore:_l,usePermissionsStore:Ot,usePresetsStore:Pn,useRelationsStore:ft,useRequestsStore:vl,useServerStore:rn,useSettingsStore:Gl,useUserStore:He},Symbol.toStringTag,{value:"Module"}));function OL(){Yt(vu,PL),Yt(yu,pe),Yt(hu,{interfaces:kn().interfaces,displays:Il().displays,layouts:$n().layouts,modules:El().modules,panels:tl().panels})}function nt(e){return getComputedStyle(document.body).getPropertyValue(e).trim()}const LL=(e,t)=>`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
	<style>
		circle {
			fill: ${e};
		}
	</style>

	<circle cx="100" cy="100" r="100"/>

	${t?"":'<path d="M143.122 109.533c-.663-.167-1.216-.334-1.715-.557a3.945 3.945 0 01-1.216-.836c.332-2.952 0-5.514.276-8.411 1.106-11.253 8.132-7.688 14.439-9.526 3.928-1.114 7.855-3.398 8.851-8.078-4.315-5.069-9.128-9.526-14.383-13.314-17.094-12.255-39.444-17.157-59.747-13.76a30.762 30.762 0 0013.428 12.535s-5.502 0-10.218-3.548c-1.383.558-4.15 1.654-5.478 2.322 10.788 10.417 27.66 11.587 39.776 2.228-.055.112-1.107 1.727-2.379 8.468-2.821 14.372-10.954 13.258-21.022 9.637-20.911-7.631-32.418-.557-42.873-15.04a9.73 9.73 0 00-4.924 8.467c0 3.621 1.992 6.685 4.868 8.356 1.57-2.098 2.275-2.695 5.014-2.695-4.239 2.42-4.737 4.533-6.563 10.382-2.213 7.075-1.272 14.317-11.617 16.211-5.477.279-5.366 4.011-7.358 9.582-2.489 7.242-5.808 10.139-12.281 16.99 2.655 3.231 5.421 3.621 8.243 2.451 5.808-2.45 10.29-10.027 14.494-14.929 4.702-5.46 15.988-3.12 24.507-8.467 5.864-3.622 8.74-8.524 4.868-16.824 2.49 2.785 3.983 6.295 4.204 10.027 9.848-1.28 23.014 10.807 35.019 12.813-1.217-1.56-2.213-3.231-2.932-4.958-1.383-3.342-1.826-6.406-1.55-9.08 1.107 6.629 7.746 15.152 18.423 15.932 2.71.223 5.697-.112 8.795-1.058 3.707-1.115 7.137-2.563 11.23-1.783 3.043.557 5.864 2.117 7.635 4.735 2.655 3.9 8.464 4.735 11.064-.056-5.864-15.43-22.018-16.433-28.878-18.216z" fill="#FFF"/>'}
</svg>`;function jL(e,t=!1){e=e||nt("--primary");const n=LL(e,t),l=document.createElement("div");if(l.innerHTML=n.trim(),l.firstChild){const a=new XMLSerializer().serializeToString(l.firstChild),d="data:image/svg+xml;base64,"+window.btoa(a),i=document.querySelector("link[rel*='icon']")||document.createElement("link");i.type="image/x-icon",i.rel="icon",i.href=d,document.getElementsByTagName("head")[0].appendChild(i)}}const RL=K({setup(){const{t:e}=Y(),t=Vt(),n=He(),l=rn(),{hydrating:a}=ze(t),d=F(()=>{var u,p;return{"--brand":((p=(u=l.info)==null?void 0:u.project)==null?void 0:p.project_color)||"var(--primary)"}});st(()=>CL()),Dt(()=>VL()),ge([()=>{var u,p;return(p=(u=l.info)==null?void 0:u.project)==null?void 0:p.project_color},()=>{var u,p;return(p=(u=l.info)==null?void 0:u.project)==null?void 0:p.project_logo}],()=>{var p,f,_,v;const u=!!((f=(p=l.info)==null?void 0:p.project)==null?void 0:f.project_logo);jL((v=(_=l.info)==null?void 0:_.project)==null?void 0:v.project_color,u)},{immediate:!0}),ge(()=>n.currentUser,u=>{var p;document.body.classList.remove("dark"),document.body.classList.remove("light"),document.body.classList.remove("auto"),u!=null&&u.theme?(document.body.classList.add(u.theme),(p=document.querySelector('head meta[name="theme-color"]'))==null||p.setAttribute("content",u.theme==="light"?"#ffffff":"#263238")):document.body.classList.add("light")},{immediate:!0}),ge(()=>{var u,p;return(p=(u=l.info)==null?void 0:u.project)==null?void 0:p.project_name},u=>{document.title=u||"Directus"},{immediate:!0});const i=F(()=>{var u,p;return((p=(u=l.info)==null?void 0:u.project)==null?void 0:p.custom_css)||""}),r=F(()=>t.error);return OL(),{t:e,hydrating:a,brandStyle:d,error:r,customCSS:i}}}),ML={key:0,class:"hydrating"};function UL(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("v-error"),u=c("v-info"),p=c("router-view");return m(),I("div",{id:"directus",style:We(e.brandStyle)},[o(Ut,{name:"fade"},{default:s(()=>[e.hydrating?(m(),I("div",ML,[o(i,{indeterminate:""})])):R("",!0)]),_:1}),e.error?(m(),C(u,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:s(()=>[o(r,{error:e.error},null,8,["error"])]),default:s(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.hydrating?R("",!0):(m(),C(p,{key:1})),(m(),C(ao,{to:"#custom-css"},[P(w(e.customCSS),1)]))],4)}var NL=z(RL,[["render",UL],["__scopeId","data-v-646bda64"]]);const BL=K({components:{ValueNull:on},props:{display:{type:String,default:null},options:{type:Object,default:()=>({})},interface:{type:String,default:null},interfaceOptions:{type:Object,default:null},value:{type:[String,Number,Object,Array,Boolean],default:null},type:{type:String,required:!0},collection:{type:String,required:!0},field:{type:String,required:!0}},setup(e){return{displayInfo:F(()=>el(e.display))}}});function qL(e,t,n,l,a,d){const i=c("value-null"),r=c("v-text-overflow");return e.value===null||e.value===void 0?(m(),C(i,{key:0})):e.displayInfo===null?(m(),C(r,{key:1,class:"display",text:e.value},null,8,["text"])):(m(),C(Be(`display-${e.display}`),pt({key:2},e.options,{interface:e.interface,"interface-options":e.interfaceOptions,value:e.value,type:e.type,collection:e.collection,field:e.field}),null,16,["interface","interface-options","value","type","collection","field"]))}var zL=z(BL,[["render",qL],["__scopeId","data-v-3c1719c8"]]);const KL={alias:"raw",bigInteger:"formatted-value",binary:"raw",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"formatted-value",float:"formatted-value",integer:"formatted-value",json:"raw",string:"formatted-value",text:"formatted-value",time:"datetime",timestamp:"datetime",uuid:"formatted-value",unknown:"raw",csv:"labels",hash:"formatted-value",geometry:"raw","geometry.Point":"raw","geometry.LineString":"raw","geometry.Polygon":"raw","geometry.MultiPoint":"raw","geometry.MultiLineString":"raw","geometry.MultiPolygon":"raw"};function as(e){return KL[e]||"raw"}const WL=K({components:{ValueNull:on},props:{collection:{type:String,default:null},fields:{type:Array,default:null},item:{type:Object,default:null},template:{type:String,required:!0}},setup(e){const t=Oe(),n=E(),l=/({{.*?}})/g;return{parts:F(()=>e.template.split(l).filter(d=>d).map(d=>{var _,v,y,h,g,b,$;if(d.startsWith("{{")===!1)return d;let i=d.replace(/{{/g,"").replace(/}}/g,"").trim();const r=t.getField(e.collection,i)||((_=e.fields)==null?void 0:_.find(A=>A.field===i));r&&r.collection==="directus_files"&&r.field==="$thumbnail"&&(i=i.split(".").filter(A=>A!=="$thumbnail").join("."));const u=N.exports.get(e.item,i);return u===void 0?null:!r||(((v=r==null?void 0:r.meta)==null?void 0:v.display)||as(r.type))==="raw"||!el((y=r.meta)==null?void 0:y.display)?u:{component:(h=r.meta)==null?void 0:h.display,options:(g=r.meta)==null?void 0:g.display_options,value:u,interface:(b=r.meta)==null?void 0:b.interface,interfaceOptions:($=r.meta)==null?void 0:$.options,type:r.type,collection:r.collection,field:r.field}}).map(d=>d!=null?d:null)),templateEl:n,translate:Ua}}}),HL=e=>(Xe("data-v-c51c776c"),e=e(),Ye(),e),GL={ref:"templateEl",class:"render-template"},ZL=HL(()=>S("span",{class:"vertical-aligner"},null,-1)),JL={key:2},QL={key:3};function XL(e,t,n,l,a,d){const i=c("value-null");return m(),I("div",GL,[ZL,(m(!0),I(ae,null,we(e.parts,(r,u)=>(m(),I(ae,{key:u},[r===null||typeof r=="object"&&r.value===null?(m(),C(i,{key:0})):typeof r=="object"&&r.component?(m(),C(Be(`display-${r.component}`),pt({key:1},r.options,{value:r.value,interface:r.interface,"interface-options":r.interfaceOptions,type:r.type,collection:r.collection,field:r.field}),null,16,["value","interface","interface-options","type","collection","field"])):typeof r=="string"?(m(),I("span",JL,w(e.translate(r)),1)):(m(),I("span",QL,w(r),1))],64))),128))],512)}var YL=z(WL,[["render",XL],["__scopeId","data-v-c51c776c"]]);function On(e){var p;const t=_t((e==null?void 0:e.group)||"item-group",null);if(Wa(t))return{active:E(!1),toggle:()=>{},activate:()=>{},deactivate:()=>{}};const{register:n,unregister:l,toggle:a,selection:d}=t;let i=!1;((p=e==null?void 0:e.active)==null?void 0:p.value)===!0&&(i=!0),(e==null?void 0:e.value)&&d.value.includes(e.value)&&(i=!0);const r=E(i),u={active:r,value:e==null?void 0:e.value};return n(u),(e==null?void 0:e.active)!==void 0&&e.watch===!0&&ge(e.active,()=>{e.active!==void 0&&(e.active.value===!0&&(r.value===!1&&a(u),r.value=!0),e.active.value===!1&&(r.value===!0&&a(u),r.value=!1))}),wl(()=>l(u)),{active:r,toggle:()=>{a(u)},activate:()=>{r.value===!1&&a(u)},deactivate:()=>{r.value===!0&&a(u)}}}function Yo(e={},t={},n="item-group"){const l=qt([]),a=E([]),d=F({get(){return Jt(e.selection)&&Jt(e.selection.value)?e.selection.value:a.value},set(y){Jt(e.onSelectionChange)&&e.onSelectionChange(y),a.value=[...y]}});return Yt(n,{register:i,unregister:r,toggle:u,selection:d}),ge(d,v,{immediate:!0}),$l().then(v),ge(()=>{var y;return(y=t==null?void 0:t.mandatory)==null?void 0:y.value},(y,h)=>{var g;N.exports.isEqual(y,h)||(!d.value||d.value.length===0&&((g=t==null?void 0:t.mandatory)==null?void 0:g.value)===!0)&&(d.value=[_(l.value[0])])}),{items:l,selection:d,internalSelection:a,getValueForItem:_,updateChildren:v};function i(y){var g;l.value=[...l.value,y];const h=_(y);d.value.length===0&&((g=t==null?void 0:t.mandatory)==null?void 0:g.value)===!0&&l.value.length===1&&(d.value=[h]),y.active.value&&d.value.includes(h)===!1&&u(y)}function r(y){l.value=l.value.filter(h=>h!==y)}function u(y){var h;((h=t==null?void 0:t.multiple)==null?void 0:h.value)===!0?f(y):p(y),Jt(e.onToggle)&&e.onToggle(y)}function p(y){var g;const h=_(y);if(d.value[0]===h&&((g=t==null?void 0:t.mandatory)==null?void 0:g.value)!==!0){d.value=[];return}d.value[0]!==h&&(d.value=[h])}function f(y){var g,b;const h=_(y);if(d.value.includes(h)){if(((g=t==null?void 0:t.mandatory)==null?void 0:g.value)===!0&&d.value.length===1){v();return}d.value=d.value.filter($=>$!==h);return}if(((b=t==null?void 0:t.max)==null?void 0:b.value)&&t.max.value!==-1&&d.value.length>=t.max.value){v();return}d.value=[...d.value,h]}function _(y){return y.value||l.value.findIndex(h=>y===h)}function v(){l.value.forEach(y=>{y.active.value=d.value.includes(_(y))})}}const xL=K({props:{icon:{type:String,required:!0},title:{type:String,required:!0},badge:{type:[Boolean,String,Number],default:null},close:{type:Boolean,default:!1}},setup(e){const{active:t,toggle:n}=On({value:e.title,group:"sidebar-detail"}),l=Vt(),{sidebarOpen:a}=ze(l);return{active:t,toggle:n,sidebarOpen:a}}}),e9={class:"icon"},t9={key:0,class:"icon"},n9={class:"content"};function l9(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-badge"),u=c("transition-expand"),p=$e("tooltip");return m(),I("div",{class:ue(["sidebar-detail",{open:e.sidebarOpen}])},[x(S("button",{class:ue(["toggle",{open:e.active}]),onClick:t[0]||(t[0]=(...f)=>e.toggle&&e.toggle(...f))},[S("div",e9,[o(r,{dot:e.badge===!0,bordered:"",value:e.badge,disabled:!e.badge},{default:s(()=>[o(i,{name:e.icon},null,8,["name"])]),_:1},8,["dot","value","disabled"])]),x(S("div",{class:"title"},w(e.title),513),[[Mt,e.sidebarOpen]]),e.close?R("",!0):(m(),I("div",t9,[o(i,{class:"expand-icon",name:e.active?"expand_less":"expand_more"},null,8,["name"])]))],2),[[p,e.title,void 0,{left:!0}]]),e.close?x((m(),I("div",{key:0,class:"close",onClick:t[1]||(t[1]=f=>e.sidebarOpen=!1)},[o(i,{name:"close"})],512)),[[Mt,e.sidebarOpen]]):R("",!0),o(u,{class:"scroll-container"},{default:s(()=>[x(S("div",null,[S("div",n9,[be(e.$slots,"default",{},void 0,!0)])],512),[[Mt,e.active]])]),_:3})],2)}var o9=z(xL,[["render",l9],["__scopeId","data-v-95ed4d2c"]]);const a9=K({props:{user:{type:String,required:!0}},setup(e){const{t}=Y(),n=at(),l=E(!1),a=E(null),d=E(null),i=F(()=>{var f;return d.value===null?null:((f=d.value.avatar)==null?void 0:f.id)?dt(`${Ze()}assets/${d.value.avatar.id}?key=system-medium-cover`):null}),r=E(!1);return ge(r,()=>{r.value===!0&&d.value===null&&l.value===!1&&u()}),Dt(()=>{l.value=!1,a.value=null,d.value=null}),{t,loading:l,error:a,data:d,active:r,avatarSrc:i,userName:Et,navigateToUser:p};async function u(){l.value=!0,a.value=null;try{const f=await pe.get(`/users/${e.user}`,{params:{fields:["id","first_name","last_name","avatar.id","role.name","status","email"]}});d.value=f.data.data}catch(f){a.value=f}finally{l.value=!1}}function p(){d.value&&n.push(`/users/${d.value.id}`)}}}),i9={key:0,class:"loading"},r9={key:1,class:"error"},s9=["src","alt"],d9={class:"data"},u9={class:"name type-title"},c9={class:"email"};function p9(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-icon"),u=c("v-avatar"),p=c("v-menu");return m(),C(p,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=f=>e.active=f),"show-arrow":"",placement:"top",trigger:"hover",delay:300},{activator:s(()=>[be(e.$slots,"default",{},void 0,!0)]),default:s(()=>[e.loading?(m(),I("div",i9,[o(i,{class:"avatar"}),S("div",null,[o(i,{type:"text"}),o(i,{type:"text"}),o(i,{type:"text"})])])):e.error?(m(),I("div",r9,w(e.error),1)):e.data?(m(),I("div",{key:2,class:"user-box",onClick:t[0]||(t[0]=De((...f)=>e.navigateToUser&&e.navigateToUser(...f),["stop"]))},[o(u,{"x-large":"",class:"avatar"},{default:s(()=>[e.avatarSrc?(m(),I("img",{key:0,src:e.avatarSrc,alt:e.data.first_name},null,8,s9)):(m(),C(r,{key:1,name:"person"}))]),_:1}),S("div",d9,[S("div",u9,w(e.userName(e.data)),1),S("div",{class:ue(["status-role",e.data.status])},w(e.t(e.data.status))+" "+w(e.data.role.name),3),S("div",c9,w(e.data.email),1)])])):R("",!0)]),_:3},8,["modelValue"])}var m9=z(a9,[["render",p9],["__scopeId","data-v-3201fe3a"]]);const f9=K({props:{frontmatter:{type:Object,required:!0}},emits:["update:title","update:modularExtension"],setup(e,{emit:t}){const n=Ht(),l=_t("main-element"),a=F(()=>{var d;return(d=e.frontmatter)==null?void 0:d.pageClass});return ge(()=>e.frontmatter,()=>{t("update:title",e.frontmatter.title),t("update:modularExtension",e.frontmatter.modularExtension)},{immediate:!0}),st(()=>{if(n.hash&&(l==null?void 0:l.value)){const d=document.querySelector(n.hash);d&&l.value.scrollTo({top:d.offsetTop-100})}}),{pageClass:a}}});function _9(e,t,n,l,a,d){return m(),I("div",{class:ue(["md",e.pageClass])},[be(e.$slots,"default",{},void 0,!0)],2)}var v9=z(f9,[["render",_9],["__scopeId","data-v-58afec75"]]);const y9={};function h9(e,t){return m(),C(ka,pt({name:"bounce",tag:"div"},e.$attrs),{default:s(()=>[be(e.$slots,"default")]),_:3},16)}var g9=z(y9,[["render",h9]]);const b9={};function w9(e,t){return m(),C(Ut,{name:"dialog"},{default:s(()=>[be(e.$slots,"default")]),_:3})}var k9=z(b9,[["render",w9]]);function $9(e="",t=!1,n){const l=t?"width":"height",a=`offset${So(l)}`;return{beforeEnter(i){n("beforeEnter"),i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,visibility:i.style.visibility,overflow:i.style.overflow,[l]:i.style[l]}},enter(i){n("enter");const r=i._initialStyle;if(!r)return;const u=`${i[a]}px`;i.style.setProperty("transition","none","important"),i.style.visibility="hidden",i.style.visibility=r.visibility,i.style.overflow="hidden",i.style[l]="0",i.offsetHeight,i.style.transition=r.transition!==""?r.transition:`${l} var(--medium) var(--transition)`,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[l]=u})},afterEnter(i){n("afterEnter"),d(i)},enterCancelled(i){n("enterCancelled"),d(i)},leave(i){n("leave"),i._initialStyle={transition:"",visibility:"",overflow:i.style.overflow,[l]:i.style[l]},i.style.overflow="hidden",i.style[l]=`${i[a]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[l]="0")},afterLeave(i){n("afterLeave"),e&&i._parent&&i._parent.classList.remove(e),d(i)},leaveCancelled(i){n("leaveCancelled"),e&&i._parent&&i._parent.classList.remove(e),d(i)}};function d(i){if(!i._initialStyle)return;const r=i._initialStyle[l];i.style.overflow=i._initialStyle.overflow,r!=null&&(i.style[l]=r),delete i._initialStyle}}const S9=K({props:{xAxis:{type:Boolean,default:!1},expandedParentClass:{type:String,default:""}},emits:["beforeEnter","enter","afterEnter","enterCancelled","leave","afterLeave","leaveCancelled"],setup(e,{emit:t}){return{methods:$9(e.expandedParentClass,e.xAxis,t)}}});function C9(e,t,n,l,a,d){return m(),C(Ut,pt({name:"expand-transition",mode:"in-out"},Sl(e.methods)),{default:s(()=>[be(e.$slots,"default")]),_:3},16)}var V9=z(S9,[["render",C9]]);const yl={xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}};function hl(e){return F(()=>e.xSmall?"x-small":e.small?"small":e.large?"large":e.xLarge?"x-large":null)}const F9=K({props:fe({size:{type:Number,default:null},tile:{type:Boolean,default:!1}},yl),setup(e){return{sizeClass:hl(e)}}});function A9(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-avatar",[{tile:e.tile},e.sizeClass]])},[be(e.$slots,"default")],2)}var I9=z(F9,[["render",A9],["__scopeId","data-v-fee7284a"]]);const E9=K({props:{value:{type:[Boolean,String,Number],default:null},dot:{type:Boolean,default:!1},left:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},icon:{type:String,default:null},bordered:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),D9={key:1};function T9(e,t,n,l,a,d){const i=c("v-icon");return m(),I("div",{class:ue(["v-badge",{dot:e.dot,bordered:e.bordered}])},[e.disabled?R("",!0):(m(),I("span",{key:0,class:ue(["badge",{dot:e.dot,bordered:e.bordered,left:e.left,bottom:e.bottom}])},[e.icon?(m(),C(i,{key:0,name:e.icon,color:e.color,"x-small":""},null,8,["name","color"])):(m(),I("span",D9,w(e.value),1))],2)),be(e.$slots,"default",{},void 0,!0)],2)}var P9=z(E9,[["render",T9],["__scopeId","data-v-1a740429"]]);const O9=K({props:{items:{type:Array,default:()=>[]}},setup(){return{}}}),L9={class:"v-breadcrumb"},j9={key:2,class:"section-link"};function R9(e,t,n,l,a,d){const i=c("v-icon"),r=c("router-link");return m(),I("span",L9,[(m(!0),I(ae,null,we(e.items,(u,p)=>(m(),I("span",{key:u.name,class:ue(["section",{disabled:u.disabled}])},[p>0?(m(),C(i,{key:0,name:"chevron_right",small:""})):R("",!0),u.disabled?(m(),I("span",j9,[u.icon?(m(),C(i,{key:0,name:u.icon},null,8,["name"])):R("",!0),P(" "+w(u.name),1)])):(m(),C(r,{key:1,to:u.to,class:"section-link"},{default:s(()=>[u.icon?(m(),C(i,{key:0,name:u.icon,small:""},null,8,["name"])):R("",!0),P(" "+w(u.name),1)]),_:2},1032,["to"]))],2))),128))])}var M9=z(O9,[["render",R9],["__scopeId","data-v-884352f6"]]);const U9=K({props:fe({autofocus:{type:Boolean,default:!1},kind:{type:String,default:"normal"},fullWidth:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},value:{type:[Number,String],default:void 0},dashed:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},align:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},download:{type:String,default:void 0}},yl),emits:["click"],setup(e,{emit:t}){const n=Ht(),{route:l,isActive:a,isExactActive:d}=$a(e),i=hl(e),r=F(()=>e.disabled?"button":Jt(e.href)?"a":e.to?"router-link":"button"),{active:u,toggle:p}=On({value:e.value,group:"item-group"}),f=F(()=>{if(e.active!==void 0)return e.active;if(e.to){const v=!e.query||N.exports.isEqual(n.query,l.value.query);return e.exact?d.value&&v||u.value:a.value&&v||u.value}return!1});return{sizeClass:i,onClick:_,component:r,isActiveRoute:f,toggle:p};function _(v){e.loading!==!0&&(p(),t("click",v))}}}),N9={class:"spinner"};function B9(e,t,n,l,a,d){const i=c("v-progress-circular"),r=$e("focus");return m(),I("div",{class:ue(["v-button",{secondary:e.secondary,warning:e.warning,danger:e.danger,"full-width":e.fullWidth,rounded:e.rounded}])},[be(e.$slots,"prepend-outer",{},void 0,!0),x((m(),C(Be(e.component),{download:e.download,class:ue(["button",[e.sizeClass,`align-${e.align}`,{active:e.isActiveRoute,icon:e.icon,outlined:e.outlined,loading:e.loading,dashed:e.dashed,tile:e.tile,"full-width":e.fullWidth},e.kind]]),type:e.type,disabled:e.disabled,to:e.to!==""?e.to:void 0,href:e.href,target:e.component==="a"?"_blank":void 0,rel:e.component==="a"?"noopener noreferrer":void 0,onClick:e.onClick},{default:s(()=>[S("span",{class:ue(["content",{invisible:e.loading}])},[be(e.$slots,"default",Qe(et({active:e.active,toggle:e.toggle})),void 0,!0)],2),S("div",N9,[e.loading?be(e.$slots,"loading",{key:0},()=>[o(i,{"x-small":e.xSmall,small:e.small,indeterminate:""},null,8,["x-small","small"])],!0):R("",!0)])]),_:3},8,["download","class","type","disabled","to","href","target","rel","onClick"])),[[r,e.autofocus]]),be(e.$slots,"append-outer",{},void 0,!0)],2)}var q9=z(U9,[["render",B9],["__scopeId","data-v-0b5a1e2e"]]);const z9={},K9={class:"v-card-actions"};function W9(e,t){return m(),I("div",K9,[be(e.$slots,"default")])}var H9=z(z9,[["render",W9],["__scopeId","data-v-1c0af2d8"]]);const G9={},Z9={class:"v-card-subtitle"};function J9(e,t){return m(),I("div",Z9,[be(e.$slots,"default",{},void 0,!0)])}var Q9=z(G9,[["render",J9],["__scopeId","data-v-61d074a0"]]);const X9={},Y9={class:"v-card-text"};function x9(e,t){return m(),I("div",Y9,[be(e.$slots,"default",{},void 0,!0)])}var ej=z(X9,[["render",x9],["__scopeId","data-v-641303f3"]]);const tj={},nj={class:"v-card-title type-label"};function lj(e,t){return m(),I("div",nj,[be(e.$slots,"default",{},void 0,!0)])}var oj=z(tj,[["render",lj],["__scopeId","data-v-4ef4d67b"]]);const aj=K({props:{disabled:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},setup(){return{}}});function ij(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-card",{disabled:e.disabled,tile:e.tile}])},[be(e.$slots,"default",{},void 0,!0)],2)}var rj=z(aj,[["render",ij],["__scopeId","data-v-50411ea0"]]);const sj=K({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},iconIndeterminate:{type:String,default:"indeterminate_check_box"},block:{type:Boolean,default:!1},customValue:{type:Boolean,default:!1},checked:{type:Boolean,default:null}},emits:["update:indeterminate","update:modelValue","update:value"],setup(e,{emit:t}){const n=Ke(e,"value",t),l=F(()=>e.checked!==null?e.checked:e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0),a=F(()=>e.indeterminate===!0||e.checked===null&&e.modelValue===null?e.iconIndeterminate:l.value?e.iconOn:e.iconOff);return{isChecked:l,toggleInput:d,icon:a,internalValue:n};function d(){if(e.indeterminate===!0&&t("update:indeterminate",!1),e.modelValue instanceof Array){const i=[...e.modelValue];e.modelValue.includes(e.value)===!1?i.push(e.value):i.splice(i.indexOf(e.value),1),t("update:modelValue",i)}else t("update:modelValue",!e.modelValue)}}}),dj={key:0,class:"prepend"},uj={class:"label type-text"},cj={key:1,class:"append"};function pj(e,t,n,l,a,d){const i=c("v-icon");return m(),C(Be(e.customValue?"div":"button"),{class:ue(["v-checkbox",{checked:e.isChecked,indeterminate:e.indeterminate,block:e.block}]),type:"button",role:"checkbox","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:De(e.toggleInput,["stop"])},{default:s(()=>[e.$slots.prepend?(m(),I("div",dj,[be(e.$slots,"prepend",{},void 0,!0)])):R("",!0),o(i,{class:"checkbox",name:e.icon,disabled:e.disabled},null,8,["name","disabled"]),S("span",uj,[e.customValue===!1?be(e.$slots,"default",{key:0},()=>[P(w(e.label),1)],!0):x((m(),I("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=r=>e.internalValue=r),class:"custom-input"},null,512)),[[io,e.internalValue]])]),e.$slots.append?(m(),I("div",cj,[be(e.$slots,"append",{},void 0,!0)])):R("",!0)]),_:3},8,["aria-pressed","disabled","class","onClick"])}var mj=z(sj,[["render",pj],["__scopeId","data-v-7e3bd693"]]);const fj=K({name:"VCheckboxTreeCheckbox",props:{text:{type:String,required:!0},value:{type:[String,Number],required:!0},children:{type:Array,default:null},modelValue:{type:Array,default:()=>[]},valueCombining:{type:String,required:!0},checked:{type:Boolean,default:null},search:{type:String,default:null},hidden:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1},parentValue:{type:[String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>{let $=e.children||[];return e.search&&($=$.filter(T=>T[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(T[e.itemChildren]))),e.showSelectionOnly&&($=$.filter(T=>e.modelValue.includes(T[e.itemValue])||V(T[e.itemChildren])||e.modelValue.includes(e.parentValue)||e.modelValue.includes(e.value))),$.map(T=>T[e.itemValue]);function A(T){return T?T.some(D=>D[e.itemText].toLowerCase().includes(e.search.toLowerCase())||A(D[e.itemChildren])):!1}function V(T){return T?T.some(D=>e.modelValue.includes(D[e.itemValue])||V(D[e.itemChildren])):!1}}),l=F(()=>e.showSelectionOnly===!0&&e.modelValue.includes(e.value)?!0:n.value.length>0),a=F(()=>e.showSelectionOnly===!0?n.value.length>0:typeof e.search=="string"&&e.search.length>0),d=F(()=>{var $;return(($=e.children)==null?void 0:$.map(A=>A[e.itemValue]))||[]}),i=F({get(){return e.modelValue||[]},set($){const A=N.exports.difference($,e.modelValue),V=N.exports.difference(e.modelValue,$);if(e.children)switch(e.valueCombining){case"all":return f($,{added:A,removed:V});case"branch":return _($,{added:A,removed:V});case"leaf":return v($,{added:A,removed:V});case"indeterminate":return y($,{added:A,removed:V});case"exclusive":return h($,{added:A,removed:V});default:return g($)}g($)}}),r=F(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="leaf"?b("leaf").every(A=>e.modelValue.includes(A)):null),u=F(()=>{const $=b("all");if(e.valueCombining==="all"||e.valueCombining==="branch")return $.some(A=>e.modelValue.includes(A))&&e.modelValue.includes(e.value)===!1;if(e.valueCombining==="indeterminate")return $.some(A=>e.modelValue.includes(A))&&$.every(A=>e.modelValue.includes(A))===!1;if(e.valueCombining==="leaf"){const A=b("leaf");return A.some(V=>e.modelValue.includes(V))&&A.every(V=>e.modelValue.includes(V))===!1}return e.valueCombining==="exclusive"?$.some(A=>e.modelValue.includes(A)):null}),p=F(()=>e.checked!==null?e.checked:e.valueCombining==="all"?null:e.valueCombining==="branch"&&e.modelValue.includes(e.value)?!0:null);return{groupCheckedStateOverride:r,childrenCheckedStateOverride:p,treeValue:i,groupIndeterminateState:u,visibleChildrenValues:n,groupShown:l,groupOpen:a};function f($,{added:A,removed:V}){const T=b("all");if((A==null?void 0:A[0])===e.value){const O=[...$.filter(M=>M!==e.value&&d.value.includes(M)===!1),...T,e.value];return g(O)}if((V==null?void 0:V[0])===e.value){const O=$.filter(M=>M!==e.value&&T.includes(M)===!1);return g(O)}if(d.value.every(O=>$.includes(O))){const O=[...$.filter(M=>M!==e.value&&T.includes(M)===!1),...T,e.value];return g(O)}const D=$.filter(O=>O!==e.value);return g(D)}function _($,{added:A,removed:V}){var D;const T=b("all");if((e.modelValue.includes(e.value)||e.checked===!0)&&A&&A.length===1&&d.value.includes(A[0])){const O=[...$.filter(M=>M!==e.value&&M!==A[0]),...d.value.filter(M=>M!==A[0])];return g(O)}if(e.modelValue.includes(e.value)&&T.some(O=>$.includes(O))){const O=e.children.find(L=>{const j=b("all",L[e.itemChildren]);return $.some(B=>j.includes(B))===!0}),M=[...$.filter(L=>L!==e.value),...(e.children||[]).filter(L=>L[e.itemChildren]?L[e.itemValue]!==(O==null?void 0:O[e.itemValue]):!0).map(L=>L[e.itemValue]),...((D=O==null?void 0:O[e.itemChildren])!=null?D:[]).filter(L=>{const j=b("all",L[e.itemChildren]);return $.some(B=>j.includes(B))===!1}).map(L=>L[e.itemValue])];return g(M)}if(A==null?void 0:A.includes(e.value)){const O=[...$.filter(M=>M!==e.value&&T.includes(M)===!1),e.value];return g(O)}if(V==null?void 0:V.includes(e.value)){const O=$.filter(M=>M!==e.value&&T.includes(M)===!1);return g(O)}if(d.value.every(O=>$.includes(O))){const O=[...$.filter(M=>M!==e.value&&T.includes(M)===!1),e.value];return g(O)}return g($)}function v($,{added:A}){const V=b("all"),T=b("leaf");if(A==null?void 0:A.includes(e.value))if(T.every(D=>$.includes(D))){const D=$.filter(O=>O!==e.value&&V.includes(O)===!1);return g(D)}else{const D=[...$.filter(O=>O!==e.value&&V.includes(O)===!1),...T];return g(D)}return g($)}function y($,{added:A,removed:V}){const T=b("all");if((A==null?void 0:A[0])===e.value){const D=[...$.filter(O=>O!==e.value&&d.value.includes(O)===!1),...T,e.value];return g(D)}if((V==null?void 0:V[0])===e.value){const D=$.filter(O=>O!==e.value&&T.includes(O)===!1);return g(D)}if(d.value.some(D=>$.includes(D))){const D=[...$.filter(O=>O!==e.value),e.value];return g(D)}return d.value.every(D=>$.includes(D)===!1)?g($.filter(D=>D!==e.value)):g($)}function h($,{added:A}){const V=b("all");if((A==null?void 0:A[0])===e.value){const T=[...$.filter(D=>D!==e.value&&V.includes(D)===!1),e.value];return g(T)}if(V.some(T=>$.includes(T))){const T=[...$.filter(D=>D!==e.value)];return g(T)}return g($)}function g($){t("update:modelValue",$)}function b($,A=e.children){const V=[];return T(A),V;function T(D){if(!!D)for(const O of D)$==="all"&&V.push(O[e.itemValue]),$==="branch"&&O[e.itemChildren]&&V.push(O[e.itemValue]),$==="leaf"&&!O[e.itemChildren]&&V.push(O[e.itemValue]),O[e.itemChildren]&&T(O[e.itemChildren])}}}});function _j(e,t,n,l,a,d){const i=c("v-highlight"),r=c("v-checkbox"),u=c("v-checkbox-tree-checkbox",!0),p=c("v-list-group"),f=c("v-list-item");return e.children?x((m(),C(p,{key:0,value:e.value,open:e.groupOpen,"arrow-placement":"before"},{activator:s(()=>[o(r,{modelValue:e.treeValue,"onUpdate:modelValue":t[0]||(t[0]=_=>e.treeValue=_),indeterminate:e.groupIndeterminateState,checked:e.groupCheckedStateOverride,label:e.text,value:e.value,disabled:e.disabled},{default:s(()=>[o(i,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","indeterminate","checked","label","value","disabled"])]),default:s(()=>[(m(!0),I(ae,null,we(e.children,_=>(m(),C(u,{key:_[e.itemValue],modelValue:e.treeValue,"onUpdate:modelValue":t[1]||(t[1]=v=>e.treeValue=v),"value-combining":e.valueCombining,checked:e.childrenCheckedStateOverride,hidden:e.visibleChildrenValues.includes(_[e.itemValue])===!1,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:_[e.itemText],value:_[e.itemValue],children:_[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly,"parent-value":e.value},null,8,["modelValue","value-combining","checked","hidden","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only","parent-value"]))),128))]),_:1},8,["value","open"])),[[Mt,e.groupShown]]):e.children?R("",!0):x((m(),C(f,{key:1,class:"item"},{default:s(()=>[o(r,{modelValue:e.treeValue,"onUpdate:modelValue":t[2]||(t[2]=_=>e.treeValue=_),disabled:e.disabled,checked:e.checked,label:e.text,value:e.value},{default:s(()=>[o(i,{text:e.text,query:e.search},null,8,["text","query"])]),_:1},8,["modelValue","disabled","checked","label","value"])]),_:1},512)),[[Mt,!e.hidden]])}var vj=z(fj,[["render",_j],["__scopeId","data-v-57134db0"]]);const yj=K({name:"VCheckboxTree",components:{VCheckboxTreeCheckbox:vj},props:{choices:{type:Array,default:()=>[]},modelValue:{type:Array,default:null},valueCombining:{type:String,default:"all"},search:{type:String,default:null},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemChildren:{type:String,default:"children"},disabled:{type:Boolean,default:!1},showSelectionOnly:{type:Boolean,default:!1}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const n=F({get(){return e.modelValue||[]},set(a){t("update:modelValue",a)}}),l=E([]);return{value:n,openSelection:l}}});function hj(e,t,n,l,a,d){const i=c("v-checkbox-tree-checkbox"),r=c("v-list");return m(),C(r,{modelValue:e.openSelection,"onUpdate:modelValue":t[1]||(t[1]=u=>e.openSelection=u),mandatory:!1,onToggle:t[2]||(t[2]=u=>e.$emit("group-toggle",u))},{default:s(()=>[(m(!0),I(ae,null,we(e.choices,u=>(m(),C(i,{key:u[e.itemValue],modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),"value-combining":e.valueCombining,search:e.search,"item-text":e.itemText,"item-value":e.itemValue,"item-children":e.itemChildren,text:u[e.itemText],value:u[e.itemValue],children:u[e.itemChildren],disabled:e.disabled,"show-selection-only":e.showSelectionOnly},null,8,["modelValue","value-combining","search","item-text","item-value","item-children","text","value","children","disabled","show-selection-only"]))),128))]),_:1},8,["modelValue"])}var gj=z(yj,[["render",hj]]);const bj=K({props:fe({active:{type:Boolean,default:null},close:{type:Boolean,default:!1},closeIcon:{type:String,default:"close"},outlined:{type:Boolean,default:!1},label:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},yl),emits:["update:active","click","close"],setup(e,{emit:t}){const n=E(!0),l=F({get:()=>e.active!==null?e.active:n.value,set:r=>{t("update:active",r),n.value=r}});return{sizeClass:hl(e),internalActive:l,onClick:d,onCloseClick:i};function d(r){e.disabled||t("click",r)}function i(r){e.disabled||(l.value=!l.value,t("close",r))}}}),wj={class:"chip-content"};function kj(e,t,n,l,a,d){const i=c("v-icon");return e.internalActive?(m(),I("span",{key:0,class:ue(["v-chip",[e.sizeClass,{outlined:e.outlined,label:e.label,disabled:e.disabled,close:e.close}]]),onClick:t[1]||(t[1]=(...r)=>e.onClick&&e.onClick(...r))},[S("span",wj,[be(e.$slots,"default",{},void 0,!0),e.close?(m(),I("span",{key:0,class:ue(["close-outline",{disabled:e.disabled}]),onClick:t[0]||(t[0]=De((...r)=>e.onCloseClick&&e.onCloseClick(...r),["stop"]))},[o(i,{class:"close",name:e.closeIcon,"x-small":""},null,8,["name"])],2)):R("",!0)])],2)):R("",!0)}var $j=z(bj,[["render",kj],["__scopeId","data-v-d55b27c0"]]);const Sj=K({props:{modelValue:{type:Boolean,default:void 0},label:{type:String,default:Ne.global.t("toggle")},startOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(e.startOpen),l=F({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(r){n.value=r,t("update:modelValue",r)}});return{internalActive:l,enable:a,disable:d,toggle:i};function a(){l.value=!0}function d(){l.value=!1}function i(){l.value=!l.value}}});function Cj(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-divider"),u=c("transition-expand");return m(),I("div",{class:ue(["v-detail",{disabled:e.disabled}])},[be(e.$slots,"activator",Qe(et({active:e.internalActive,enable:e.enable,disable:e.disable,toggle:e.toggle})),()=>[o(r,{onClick:t[0]||(t[0]=p=>e.internalActive=!e.internalActive)},{default:s(()=>[e.disabled?R("",!0):(m(),C(i,{key:0,name:e.internalActive?"expand_more":"chevron_right",small:""},null,8,["name"])),be(e.$slots,"title",{},()=>[P(w(e.label),1)],!0)]),_:3})],!0),o(u,null,{default:s(()=>[x(S("div",null,[be(e.$slots,"default",{},void 0,!0)],512),[[Mt,e.internalActive]])]),_:3})],2)}var Vj=z(Sj,[["render",Cj],["__scopeId","data-v-47c16e2c"]]);const Fj=K({props:{modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},placement:{type:String,default:"center",validator:e=>["center","right"].includes(e)}},emits:["esc","update:modelValue"],setup(e,{emit:t}){it("escape",(p,f)=>{d.value&&(t("esc"),f())});const n=E(!1),l=E(null),a=F(()=>$t()),d=F({get(){return e.modelValue!==void 0?e.modelValue:n.value},set(p){n.value=p,t("update:modelValue",p)}}),i=y8();return{emitToggle:r,className:l,nudge:u,leave:i,id:a,internalActive:d};function r(){e.persistent===!1?t("update:modelValue",!e.modelValue):u()}function u(){l.value="nudge",setTimeout(()=>{l.value=null},200)}}}),Aj={class:"v-dialog"};function Ij(e,t,n,l,a,d){const i=c("v-overlay"),r=c("transition-dialog");return m(),I("div",Aj,[be(e.$slots,"activator",Qe(et({on:()=>e.internalActive=!0}))),(m(),C(ao,{to:"#dialog-outlet"},[o(r,{onAfterLeave:e.leave},{default:s(()=>[e.internalActive?(m(),C(Be(e.placement==="right"?"div":"span"),{key:0,class:ue(["container",[e.className,e.placement]])},{default:s(()=>[o(i,{active:"",absolute:"",onClick:e.emitToggle},null,8,["onClick"]),be(e.$slots,"default")]),_:3},8,["class"])):R("",!0)]),_:3},8,["onAfterLeave"])]))])}var Ej=z(Fj,[["render",Ij],["__scopeId","data-v-02af2763"]]);const Dj=K({props:{vertical:{type:Boolean,default:!1},inlineTitle:{type:Boolean,default:!0},large:{type:Boolean,default:!1}}}),Tj={key:0,class:"wrapper"},Pj={key:0,class:"type-text"},Oj=["aria-orientation"];function Lj(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-divider",{vertical:e.vertical,inlineTitle:e.inlineTitle,large:e.large}])},[e.$slots.icon||e.$slots.default?(m(),I("span",Tj,[be(e.$slots,"icon",{class:"icon"}),!e.vertical&&e.$slots.default?(m(),I("span",Pj,[be(e.$slots,"default")])):R("",!0)])):R("",!0),S("hr",{role:"separator","aria-orientation":e.vertical?"vertical":"horizontal"},null,8,Oj)],2)}var jj=z(Dj,[["render",Lj],["__scopeId","data-v-70aa2cf8"]]);const Rj=K({props:{showSidebarToggle:{type:Boolean,default:!1}},emits:["toggle:sidebar"],setup(){return{active:E(!1)}}}),Mj={class:"action-buttons"};function Uj(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button");return m(),I("div",{class:ue(["actions",{active:e.active}])},[o(r,{class:"expand",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[0]||(t[0]=u=>e.active=!e.active)},{default:s(()=>[o(i,{name:"arrow_left"})]),_:1}),S("div",Mj,[e.showSidebarToggle?(m(),C(r,{key:0,class:"sidebar-toggle",icon:"",rounded:"",secondary:"",outlined:"",onClick:t[1]||(t[1]=u=>e.$emit("toggle:sidebar"))},{default:s(()=>[o(i,{name:"info"})]),_:1})):R("",!0),be(e.$slots,"default",{},void 0,!0)])],2)}var Nj=z(Rj,[["render",Uj],["__scopeId","data-v-7ddd5ffe"]]);const Bj=K({components:{HeaderBarActions:Nj},props:{title:{type:String,default:null},showSidebarToggle:{type:Boolean,default:!1},primaryActionIcon:{type:String,default:"menu"},small:{type:Boolean,default:!1}},emits:["primary","toggle:sidebar"],setup(){const e=E(),t=E(!1),n=new IntersectionObserver(([l])=>{t.value=l.boundingClientRect.y===-1},{threshold:[1]});return st(()=>{n.observe(e.value)}),Dt(()=>{n.disconnect()}),{headerEl:e,collapsed:t}}}),qj=e=>(Xe("data-v-c54480fe"),e=e(),Ye(),e),zj={key:0,class:"title-outer-prepend"},Kj={class:"headline"},Wj={class:"title"},Hj={class:"type-title"},Gj=qj(()=>S("div",{class:"spacer"},null,-1));function Zj(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("header-bar-actions");return m(),I("header",{ref:"headerEl",class:ue(["header-bar",{collapsed:e.collapsed,small:e.small}])},[o(r,{secondary:"",class:"nav-toggle",icon:"",rounded:"",onClick:t[0]||(t[0]=p=>e.$emit("primary"))},{default:s(()=>[o(i,{name:e.primaryActionIcon},null,8,["name"])]),_:1}),e.$slots["title-outer:prepend"]?(m(),I("div",zj,[be(e.$slots,"title-outer:prepend",{},void 0,!0)])):R("",!0),S("div",{class:ue(["title-container",{full:!e.$slots["title-outer:append"]}])},[S("div",Kj,[be(e.$slots,"headline",{},void 0,!0)]),S("div",Wj,[be(e.$slots,"title",{},()=>[be(e.$slots,"title:prepend",{},void 0,!0),S("h1",Hj,w(e.title),1),be(e.$slots,"title:append",{},void 0,!0)],!0)]),be(e.$slots,"title-outer:append",{},void 0,!0)],2),Gj,be(e.$slots,"actions:prepend",{},void 0,!0),o(u,{"show-sidebar-toggle":e.showSidebarToggle,"onToggle:sidebar":t[1]||(t[1]=p=>e.$emit("toggle:sidebar"))},{default:s(()=>[be(e.$slots,"actions",{},void 0,!0)]),_:3},8,["show-sidebar-toggle"]),be(e.$slots,"actions:append",{},void 0,!0)],2)}var Jj=z(Bj,[["render",Zj],["__scopeId","data-v-c54480fe"]]);const Qj=K({components:{HeaderBar:Jj},props:{title:{type:String,required:!0},subtitle:{type:String,default:null},modelValue:{type:Boolean,default:void 0},persistent:{type:Boolean,default:!1},icon:{type:String,default:"box"},sidebarLabel:{type:String,default:Ne.global.t("sidebar")},cancelable:{type:Boolean,default:!0}},emits:["cancel","update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),a=E();Yt("main-element",a);const d=F({get(){return e.modelValue===void 0?l.value:e.modelValue},set(i){l.value=i,t("update:modelValue",i)}});return{t:n,internalActive:d,mainEl:a}}}),Xj={class:"v-drawer"},Yj={class:"content"},xj={key:1,class:"sidebar"},eR={ref:"mainEl",class:"main"},tR={key:0,class:"subtitle"};function nR(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-overlay"),p=c("header-bar"),f=c("v-detail"),_=c("v-dialog"),v=$e("tooltip");return m(),C(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.internalActive=y),persistent:e.persistent,placement:"right",onEsc:t[4]||(t[4]=y=>e.$emit("cancel"))},{activator:s(({on:y})=>[be(e.$slots,"activator",Qe(et({on:y})),void 0,!0)]),default:s(()=>[S("article",Xj,[e.cancelable?x((m(),C(r,{key:0,class:"cancel",icon:"",rounded:"",secondary:"",onClick:t[0]||(t[0]=y=>e.$emit("cancel"))},{default:s(()=>[o(i,{name:"close"})]),_:1},512)),[[v,e.t("cancel"),void 0,{bottom:!0}]]):R("",!0),S("div",Yj,[e.$slots.sidebar?(m(),C(u,{key:0,absolute:"",onClick:t[1]||(t[1]=y=>e.sidebarActive=!1)})):R("",!0),e.$slots.sidebar?(m(),I("nav",xj,[be(e.$slots,"sidebar",{},void 0,!0)])):R("",!0),S("main",eR,[o(p,{title:e.title,"primary-action-icon":"close",onPrimary:t[2]||(t[2]=y=>e.$emit("cancel"))},{title:s(()=>[be(e.$slots,"title",{},void 0,!0)]),headline:s(()=>[be(e.$slots,"subtitle",{},()=>[e.subtitle?(m(),I("p",tR,w(e.subtitle),1)):R("",!0)],!0)]),"title-outer:prepend":s(()=>[be(e.$slots,"title-outer:prepend",{},()=>[o(r,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:s(()=>[o(i,{name:e.icon},null,8,["name"])]),_:1})],!0)]),"actions:prepend":s(()=>[be(e.$slots,"actions:prepend",{},void 0,!0)]),actions:s(()=>[be(e.$slots,"actions",{},void 0,!0)]),"title:append":s(()=>[be(e.$slots,"header:append",{},void 0,!0)]),_:3},8,["title"]),e.$slots.sidebar?(m(),C(f,{key:0,class:"mobile-sidebar",label:e.sidebarLabel},{default:s(()=>[S("nav",null,[be(e.$slots,"sidebar",{},void 0,!0)])]),_:3},8,["label"])):R("",!0),be(e.$slots,"default",{},void 0,!0)],512)])])]),_:3},8,["modelValue","persistent"])}var lR=z(Qj,[["render",nR],["__scopeId","data-v-67243b93"]]);const oR=K({props:{error:{type:[Object,Error],required:!0}},setup(e){const{t}=Y(),n=F(()=>{var r,u,p,f,_,v,y,h;return((v=(_=(f=(p=(u=(r=e.error)==null?void 0:r.response)==null?void 0:u.data)==null?void 0:p.errors)==null?void 0:f[0])==null?void 0:_.extensions)==null?void 0:v.code)||((h=(y=e.error)==null?void 0:y.extensions)==null?void 0:h.code)||"UNKNOWN"}),l=F(()=>{var u,p,f,_,v,y;let r=((v=(_=(f=(p=(u=e.error)==null?void 0:u.response)==null?void 0:p.data)==null?void 0:f.errors)==null?void 0:_[0])==null?void 0:v.message)||((y=e.error)==null?void 0:y.message);return r.length>200&&(r=r.substring(0,197)+"..."),r}),a=E(!1),d=F(()=>{var r;return!!((r=navigator.clipboard)==null?void 0:r.writeText)});return{t,code:n,copyError:i,showCopy:d,copied:a,message:l};async function i(){var u,p;const r=((p=(u=e.error)==null?void 0:u.response)==null?void 0:p.data)||e.error;await navigator.clipboard.writeText(JSON.stringify(r,N.exports.isPlainObject(r)?null:Object.getOwnPropertyNames(r),2)),a.value=!0}}}),aR={class:"v-error selectable"};function iR(e,t,n,l,a,d){const i=c("v-icon"),r=$e("tooltip");return m(),I("div",aR,[S("output",null,"["+w(e.code)+"] "+w(e.message),1),e.showCopy?x((m(),C(i,{key:0,small:"",class:"copy-error",name:e.copied?"check":"content_copy",clickable:"",onClick:e.copyError},null,8,["name","onClick"])),[[r,e.t("copy_details")]]):R("",!0)])}var rR=z(oR,[["render",iR],["__scopeId","data-v-7ea421c6"]]);const sR=K({props:{items:{type:Array,required:!0},modelValue:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue===null?e.items:e.items.filter(a=>a.value===e.modelValue));return{toggle:l,visibleItems:n};function l(a){e.disabled!==!0&&(e.modelValue===a.value?t("update:modelValue",null):t("update:modelValue",a.value))}}}),dR={class:"v-fancy-select"},uR=["onClick"],cR={class:"icon"},pR={class:"content"},mR={class:"text"},fR={class:"description"};function _R(e,t,n,l,a,d){const i=c("v-divider"),r=c("v-icon");return m(),I("div",dR,[o(ka,{tag:"div",name:"option"},{default:s(()=>[(m(!0),I(ae,null,we(e.visibleItems,(u,p)=>(m(),I(ae,{key:p},[u.divider===!0?(m(),C(i,{key:0})):(m(),I("div",{key:1,class:ue(["v-fancy-select-option",{active:u.value===e.modelValue,disabled:e.disabled}]),style:We({"--index":p}),onClick:f=>e.toggle(u)},[S("div",cR,[o(r,{name:u.icon},null,8,["name"])]),S("div",pR,[S("div",mR,w(u.text),1),S("div",fR,w(u.description),1)]),e.modelValue===u.value&&e.disabled===!1?(m(),C(r,{key:0,name:"cancel",onClick:De(f=>e.toggle(u),["stop"])},null,8,["onClick"])):u.iconRight?(m(),C(r,{key:1,class:"icon-right",name:u.iconRight},null,8,["name"])):R("",!0)],14,uR))],64))),128))]),_:1})])}var vR=z(sR,[["render",_R],["__scopeId","data-v-70a5597b"]]);const yR=K({name:"FieldListItem",props:{field:{type:Object,required:!0},depth:{type:Number,default:void 0}},emits:["add"],setup(){return{formatTitle:wt}}});function hR(e,t,n,l,a,d){const i=c("v-list-item-content"),r=c("v-list-item"),u=c("field-list-item",!0),p=c("v-list-group");return e.field.children===void 0||e.depth===0?(m(),C(r,{key:0,disabled:e.field.disabled,clickable:"",onClick:t[0]||(t[0]=f=>e.$emit("add",e.field))},{default:s(()=>[o(i,null,{default:s(()=>[P(w(e.field.name||e.formatTitle(e.field.field)),1)]),_:1})]),_:1},8,["disabled"])):(m(),C(p,{key:1,value:e.field.key,clickable:"",onClick:t[2]||(t[2]=f=>e.$emit("add",e.field))},{activator:s(()=>[P(w(e.field.name||e.formatTitle(e.field.field)),1)]),default:s(()=>[(m(!0),I(ae,null,we(e.field.children,f=>(m(),C(u,{key:f.key,field:f,depth:e.depth-1,onAdd:t[1]||(t[1]=_=>e.$emit("add",_))},null,8,["field","depth"]))),128))]),_:1},8,["value"]))}var gR=z(yR,[["render",hR]]);function xo(e,t,n=()=>!0){const l=Oe(),a=ft(),d=E([]),i=E(new Set);return ge(()=>e.value,r,{immediate:!0}),{treeList:d,loadFieldRelations:y,refresh:r};function r(){var h;i.value=new Set,d.value=(h=u(e.value))!=null?h:[];for(const g of d.value)g.relatedCollection&&(g.children=u(g.relatedCollection,g))}function u(h,g){var T;const b=(T=t==null?void 0:t.value)==null?void 0:T.fields.filter(D=>D.collection===h),V=l.getFieldsForCollectionSorted(h).concat(b||[]).filter(D=>{var O,M,L,j,B,q;return((M=(O=D.meta)==null?void 0:O.special)==null?void 0:M.includes("group"))||!((j=(L=D.meta)==null?void 0:L.special)==null?void 0:j.includes("alias"))&&!((q=(B=D.meta)==null?void 0:B.special)==null?void 0:q.includes("no-data"))}).filter(D=>n(D)).filter(D=>{var O,M;return(g==null?void 0:g.group)===!0?((O=D.meta)==null?void 0:O.group)===(g==null?void 0:g.field):N.exports.isNil((M=D.meta)==null?void 0:M.group)}).flatMap(D=>p(D,g));return V.length?V:void 0}function p(h,g){var V,T;const b=f(h),$=(g==null?void 0:g.path)?g.path+".":"",A=(g==null?void 0:g.key)?g.key+".":"";if((T=(V=h==null?void 0:h.meta)==null?void 0:V.special)==null?void 0:T.includes("group")){const D={name:h.name,field:h.field,collection:h.collection,relatedCollection:void 0,key:g?g.key:"",path:$+h.field,group:!0,type:h.type};return Fe(fe({},D),{children:u(h.collection,D)})}return b.length<=1?{name:h.name,field:h.field,collection:h.collection,relatedCollection:b[0],key:A+h.field,path:$+h.field,type:h.type}:b.map(D=>({name:`${h.name} (${D})`,field:`${h.field}:${D}`,collection:h.collection,relatedCollection:D,key:A+`${h.field}:${D}`,path:$+`${h.field}:${D}`,type:h.type}))}function f(h){const g=_(h);if(!(g==null?void 0:g.meta))return[];switch(gu({relation:g,collection:h.collection,field:h.field})){case"o2m":return[g.meta.many_collection];case"m2o":return[g.meta.one_collection];case"m2a":return g.meta.one_allowed_collections;default:return[]}}function _(h){var b;return[...a.getRelationsForField(h.collection,h.field),...((b=t==null?void 0:t.value)==null?void 0:b.relations)||[]].find($=>{var A;return $.collection===h.collection&&$.field===h.field||$.related_collection===h.collection&&((A=$.meta)==null?void 0:A.one_field)===h.field})}function v([h,...g],b){for(const $ of b||[])if($.field===h)return g.length?v(g,$.children):$}function y(h){if(!i.value.has(h)){i.value.add(h);const g=v(h.split("."),d.value);for(const b of(g==null?void 0:g.children)||[])(b==null?void 0:b.relatedCollection)&&(b.children=u(b.relatedCollection,b))}}}const bR=K({components:{FieldListItem:gR},props:{disabled:{type:Boolean,default:!1},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},collection:{type:String,default:null},depth:{type:Number,default:void 0},placeholder:{type:String,default:null},inject:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(!1),{collection:a,inject:d}=ze(e),{treeList:i,loadFieldRelations:r}=xo(a,d);return ge(()=>e.modelValue,$,{immediate:!0}),st(()=>{n.value&&(n.value.addEventListener("selectstart",_),$())}),Dt(()=>{n.value&&n.value.removeEventListener("selectstart",_)}),{menuActive:l,treeList:i,addField:v,onInput:u,contentEl:n,onClick:p,loadFieldRelations:r,onKeyDown:f};function u(){if(!n.value)return;const A=b();t("update:modelValue",A)}function p(A){var M;const V=A.target;if(V.tagName.toLowerCase()!=="button")return;const T=V.dataset.field;t("update:modelValue",e.modelValue.replace(`{{${T}}}`,""));const D=V.previousElementSibling,O=V.nextElementSibling;!D||!O||!(D instanceof HTMLElement)||!(O instanceof HTMLElement)||(V.remove(),h(D,O),(M=window.getSelection())==null||M.removeAllRanges(),u())}function f(A){var V;(A.key==="{"||A.key==="}")&&(A.preventDefault(),l.value=!0),((V=n.value)==null?void 0:V.innerHTML)===""&&(n.value.innerHTML='<span class="text"></span>')}function _(){var D;if(!n.value)return;const A=window.getSelection();if(!A||A.rangeCount<=0)return;const V=A.getRangeAt(0);if(!V)return;const T=V.startContainer;if(!(T instanceof HTMLElement&&T.classList.contains("text"))&&!((D=T.parentElement)==null?void 0:D.classList.contains("text"))){A.removeAllRanges();const O=new Range;let M=null;for(let L=0;L<n.value.childNodes.length||!M;L++){const j=n.value.children[L];j.classList.contains("text")&&(M=j)}M||(M=document.createElement("span"),M.classList.add("text"),n.value.appendChild(M)),O.setStart(M,0),A.addRange(O)}}function v(A){var O,M,L,j;if(!n.value)return;const V=document.createElement("button");if(V.dataset.field=A.key,V.setAttribute("contenteditable","false"),V.innerText=String(A.name),((O=window.getSelection())==null?void 0:O.rangeCount)==0){const B=document.createRange();B.selectNodeContents(n.value.children[0]),(M=window.getSelection())==null||M.addRange(B)}const T=(L=window.getSelection())==null?void 0:L.getRangeAt(0);if(!T)return;T.deleteContents();const D=g();if(D)n.value.insertBefore(V,D),(j=window.getSelection())==null||j.removeAllRanges();else{n.value.appendChild(V);const B=document.createElement("span");B.classList.add("text"),n.value.appendChild(B)}u()}function y(A,V){if(A===void 0)return;const T=A.find(D=>D.field===V[0]);if(T!==void 0)return V.length===1?T:y(T.children,V.slice(1))}function h(A,V){A.innerText+=V.innerText,V.remove()}function g(){var j,B,q,G;const A=(j=window.getSelection())==null?void 0:j.getRangeAt(0);if(!A)return;const V=A.startContainer;if(V.nodeType!==Node.TEXT_NODE)return;const T=V.parentElement;if(!T||!(T instanceof HTMLSpanElement)||!T.classList.contains("text"))return;const D=A.startOffset,O=((B=T.textContent)==null?void 0:B.slice(0,D))||"",M=((q=T.textContent)==null?void 0:q.slice(D))||"";T.innerText=O;const L=document.createElement("span");return L.classList.add("text"),L.innerText=M,(G=n.value)==null||G.insertBefore(L,T.nextSibling),L}function b(){if(!n.value)return null;const A=Array.from(n.value.childNodes).reduce((V,T)=>{const D=T,O=D.tagName;return O&&O.toLowerCase()==="button"?V+=`{{${D.dataset.field}}}`:"textContent"in D?V+=D.textContent:V+=""},"");return e.nullable===!0&&A===""?null:A}function $(){if(!!n.value){if(e.modelValue===null||e.modelValue===""){n.value.innerHTML='<span class="text"></span>';return}if(e.modelValue!==b()){const A=/({{.*?}})/g,V=e.modelValue.split(A).map(T=>{if(T.startsWith("{{")===!1)return`<span class="text">${T}</span>`;const D=T.replace(/({|})/g,"").trim(),O=D.split(".");for(let L=0;L<O.length;L++)r(O.slice(0,L).join("."));const M=y(i.value,O);return M?`<button contenteditable="false" data-field="${D}" ${e.disabled?"disabled":""}>${M.name}</button>`:""}).join("");n.value.innerHTML=V}}}}}),wR=e=>(Xe("data-v-38d70e16"),e=e(),Ye(),e),kR=["contenteditable"],$R=wR(()=>S("span",{class:"text"},null,-1)),SR=[$R],CR={key:0,class:"placeholder"};function VR(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("field-list-item"),p=c("v-list"),f=c("v-menu");return m(),C(f,{modelValue:e.menuActive,"onUpdate:modelValue":t[4]||(t[4]=_=>e.menuActive=_),attached:""},{activator:s(({toggle:_})=>[o(r,{disabled:e.disabled},{input:s(()=>[S("span",{ref:"contentEl",class:"content",contenteditable:!e.disabled,onKeydown:t[0]||(t[0]=(...v)=>e.onKeyDown&&e.onKeyDown(...v)),onInput:t[1]||(t[1]=(...v)=>e.onInput&&e.onInput(...v)),onClick:t[2]||(t[2]=(...v)=>e.onClick&&e.onClick(...v))},SR,40,kR),e.placeholder&&!e.modelValue?(m(),I("span",CR,w(e.placeholder),1)):R("",!0)]),append:s(()=>[o(i,{name:"add_box",outline:"",clickable:"",disabled:e.disabled,onClick:_},null,8,["disabled","onClick"])]),_:2},1032,["disabled"])]),default:s(()=>[e.disabled?R("",!0):(m(),C(p,{key:0,mandatory:!1,onToggle:t[3]||(t[3]=_=>e.loadFieldRelations(_.value))},{default:s(()=>[(m(!0),I(ae,null,we(e.treeList,_=>(m(),C(u,{key:_.field,field:_,depth:e.depth,onAdd:e.addField},null,8,["field","depth","onAdd"]))),128))]),_:1}))]),_:1},8,["modelValue"])}var FR=z(bR,[["render",VR],["__scopeId","data-v-38d70e16"]]);const AR={key:0,class:"functions"},IR={name:"VFieldListItem"};function ER(e){const t=e,{t:n}=Y(),l=F(()=>t.includeFunctions?R$(t.field.type):[]);return(a,d)=>{const i=c("v-text-overflow"),r=c("v-list-item-content"),u=c("v-icon"),p=c("v-list-item-icon"),f=c("v-list-item"),_=c("v-divider"),v=c("v-field-list-item",!0),y=c("v-list-group");return e.field.children||W(l).length>0?(m(),C(y,{key:0,clickable:!e.field.disabled,value:e.field.path,onClick:d[1]||(d[1]=h=>a.$emit("add",e.field.key))},{activator:s(()=>[o(r,null,{default:s(()=>[o(i,{text:e.field.name||W(wt)(e.field.field),highlight:e.search},null,8,["text","highlight"])]),_:1})]),default:s(()=>[W(l).length>0?(m(),I("div",AR,[(m(!0),I(ae,null,we(W(l),h=>(m(),C(f,{key:h,disabled:e.field.disabled,clickable:"",onClick:g=>a.$emit("add",`${h}(${e.field.key})`)},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{name:"auto_awesome",small:"",color:"var(--primary)"})]),_:1}),o(r,null,{default:s(()=>[o(i,{text:`${W(n)(`functions.${h}`)} (${e.field.name||W(wt)(e.field.field)})`,highlight:e.search},null,8,["text","highlight"])]),_:2},1024)]),_:2},1032,["disabled","onClick"]))),128)),e.field.children&&e.field.children.length>0?(m(),C(_,{key:0})):R("",!0)])):R("",!0),(m(!0),I(ae,null,we(e.field.children,h=>(m(),C(v,{key:h.key,field:h,search:e.search,"include-functions":e.includeFunctions,onAdd:d[0]||(d[0]=g=>a.$emit("add",g))},null,8,["field","search","include-functions"]))),128))]),_:1},8,["clickable","value"])):(m(),C(f,{key:1,disabled:e.field.disabled,clickable:"",onClick:d[2]||(d[2]=h=>a.$emit("add",e.field.key))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{text:e.field.name||W(wt)(e.field.field),highlight:e.search},null,8,["text","highlight"])]),_:1})]),_:1},8,["disabled"]))}}const DR=K(Fe(fe({},IR),{props:{field:null,search:{default:void 0},includeFunctions:{type:Boolean,default:!1}},emits:["add"],setup:ER}));var TR=z(DR,[["__scopeId","data-v-3caf846a"]]);const PR=K({props:{collection:null,field:{default:void 0},disabledFields:{default:()=>[]},includeFunctions:{type:Boolean,default:!1}},emits:["select-field"],setup(e){const t=e,n=Oe(),{collection:l}=ze(t),a=F(()=>{var y,h;return(h=(y=n.getFieldsForCollection(l.value))==null?void 0:y.length)!=null?h:0}),d=E(""),{treeList:i,loadFieldRelations:r,refresh:u}=xo(l,void 0,v),p=N.exports.debounce(()=>u(),250);ge(d,()=>p());const{t:f}=Y(),_=F(()=>{const y=i.value.map(h);if(t.field)return y.filter(g=>g.field===t.field);return y;function h(g){var $,A;let b=!1;return(($=t.disabledFields)==null?void 0:$.includes(g.key))&&(b=!0),Fe(fe({},g),{disabled:b,children:(A=g.children)==null?void 0:A.map(h)})}});function v(y){if(!d.value)return!0;const h=n.getFieldGroupChildren(l.value,y.field);return(h==null?void 0:h.some(b=>g(b)))||g(y);function g(b){return b.field.toLowerCase().includes(d.value.toLowerCase())||b.name.toLowerCase().includes(d.value.toLowerCase())}}return(y,h)=>{const g=c("v-icon"),b=c("v-input"),$=c("v-list-item-content"),A=c("v-list-item"),V=c("v-list");return m(),C(V,{mandatory:!1,onToggle:h[2]||(h[2]=T=>W(r)(T.value))},{default:s(()=>[be(y.$slots,"prepend",{},void 0,!0),W(a)>20?(m(),C(A,{key:0},{default:s(()=>[o($,null,{default:s(()=>[o(b,{modelValue:d.value,"onUpdate:modelValue":h[0]||(h[0]=T=>d.value=T),autofocus:"",small:"",placeholder:W(f)("search")},{append:s(()=>[o(g,{small:"",name:"search"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})):R("",!0),(m(!0),I(ae,null,we(W(_),T=>(m(),C(TR,{key:T.field,field:T,search:d.value,"include-functions":e.includeFunctions,onAdd:h[1]||(h[1]=D=>y.$emit("select-field",D))},null,8,["field","search","include-functions"]))),128))]),_:3})}}});var OR=z(PR,[["__scopeId","data-v-3dd38f13"]]);function Zl(e){let t;return e.includes("(")&&e.includes(")")&&(t=e.split("(")[0],e=e.match(co)[1]),{fn:t!=null?t:null,field:e}}function LR(e){var t;return Array.isArray((t=e.meta)==null?void 0:t.special)&&e.meta.special.some(n=>["m2o","o2m","m2m","m2a","files","translations"].includes(n))?"object":["bigInteger","integer","float","decimal"].includes(e.type)?"number":["string","text","uuid","hash"].includes(e.type)?"string":["boolean"].includes(e.type)?"boolean":["time","timestamp","date","dateTime"].includes(e.type)?"string":["json","csv"].includes(e.type)||e.type.startsWith("geometry")?"object":"undefined"}const jR=K({props:{field:{type:Object,required:!0},batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},primaryKey:{type:[Number,String],default:null},modelValue:{type:[String,Number,Object,Array,Boolean],default:void 0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){const{t}=Y(),n=F(()=>{var l,a;return!!Pt(((a=(l=e.field)==null?void 0:l.meta)==null?void 0:a.interface)||"input")});return{t,interfaceExists:n,getDefaultInterfaceForType:Kr}}});function RR(e,t,n,l,a,d){var u;const i=c("v-skeleton-loader"),r=c("v-notice");return m(),I("div",{class:ue(["interface",{subdued:e.batchMode&&e.batchActive===!1}])},[e.loading&&e.field.hideLoader!==!0?(m(),C(i,{key:0})):R("",!0),e.interfaceExists?(m(),C(Be(e.field.meta&&e.field.meta.interface?`interface-${e.field.meta.interface}`:`interface-${e.getDefaultInterfaceForType(e.field.type)}`),pt({key:1},e.field.meta&&e.field.meta.options||{},{autofocus:e.disabled!==!0&&e.autofocus,disabled:e.disabled,loading:e.loading,value:e.modelValue===void 0?(u=e.field.schema)==null?void 0:u.default_value:e.modelValue,width:e.field.meta&&e.field.meta.width||"full",type:e.field.type,collection:e.field.collection,field:e.field.field,"field-data":e.field,"primary-key":e.primaryKey,length:e.field.schema&&e.field.schema.max_length,onInput:t[0]||(t[0]=p=>e.$emit("update:modelValue",p))}),null,16,["autofocus","disabled","loading","value","width","type","collection","field","field-data","primary-key","length"])):(m(),C(r,{key:2,type:"warning"},{default:s(()=>[P(w(e.t("interface_not_found",{interface:e.field.meta&&e.field.meta.interface})),1)]),_:1}))],2)}var MR=z(jR,[["render",RR],["__scopeId","data-v-6f93e439"]]);const UR=K({props:{batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},field:{type:Object,required:!0},disabled:{type:Boolean,default:!1},toggle:{type:Function,required:!0},active:{type:Boolean,default:!1},edited:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},badge:{type:String,default:null},loading:{type:Boolean,default:!1}},emits:["toggle-batch"],setup(){const{t:e}=Y();return{t:e}}});function NR(e,t,n,l,a,d){var f;const i=c("v-checkbox"),r=c("v-icon"),u=c("v-chip"),p=$e("tooltip");return m(),I("div",{class:ue(["label type-label",{disabled:e.disabled,edited:e.edited&&!e.batchMode&&!e.hasError&&!e.loading}])},[e.batchMode?(m(),C(i,{key:0,"model-value":e.batchActive,value:e.field.field,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("toggle-batch",e.field))},null,8,["model-value","value"])):R("",!0),x(S("span",{class:"field-name",onClick:t[1]||(t[1]=(..._)=>e.toggle&&e.toggle(..._))},[P(w(e.field.name)+" ",1),((f=e.field.meta)==null?void 0:f.required)===!0?(m(),C(r,{key:0,class:"required",sup:"",name:"star"})):R("",!0),e.disabled?R("",!0):(m(),C(r,{key:1,class:ue(["ctx-arrow",{active:e.active}]),name:"arrow_drop_down"},null,8,["class"]))],512),[[p,e.edited?e.t("edited"):null]]),e.badge?(m(),C(u,{key:1,"x-small":""},{default:s(()=>[P(w(e.badge),1)]),_:1})):R("",!0)],2)}var BR=z(UR,[["render",NR],["__scopeId","data-v-792c5ca7"]]);const qR=K({props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Object,Array,Boolean],default:null},initialValue:{type:[String,Number,Object,Array,Boolean],default:null},restricted:{type:Boolean,default:!1}},emits:["update:modelValue","unset","edit-raw","copy-raw","paste-raw"],setup(e){const{t}=Y(),n=F(()=>{var r,u;const i=(u=(r=e.field)==null?void 0:r.schema)==null?void 0:u.default_value;return i!==void 0?i:null}),l=F(()=>{var i,r;return((r=(i=e.field)==null?void 0:i.schema)==null?void 0:r.is_nullable)===!1}),a=F(()=>{var i;return!!((i=navigator==null?void 0:navigator.clipboard)==null?void 0:i.writeText)}),d=F(()=>{var i;return!!((i=navigator==null?void 0:navigator.clipboard)==null?void 0:i.readText)});return{t,defaultValue:n,isRequired:l,isCopySupported:a,isPasteSupported:d}}});function zR(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("v-divider"),_=c("v-list");return m(),C(_,null,{default:s(()=>[o(p,{clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("edit-raw"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"code"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.restricted?e.t("view_raw_value"):e.t("edit_raw_value")),1)]),_:1})]),_:1}),e.isCopySupported?(m(),C(p,{key:0,disabled:e.modelValue===null,clickable:"",onClick:t[1]||(t[1]=v=>e.$emit("copy-raw"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"copy_outline"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("copy_raw_value")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),e.isPasteSupported&&!e.restricted?(m(),C(p,{key:1,clickable:"",onClick:t[2]||(t[2]=v=>e.$emit("paste-raw"))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"paste_outline"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("paste_raw_value")),1)]),_:1})]),_:1})):R("",!0),e.restricted?R("",!0):(m(),C(f,{key:2})),!e.restricted&&e.defaultValue!==null?(m(),C(p,{key:3,disabled:e.modelValue===e.defaultValue,clickable:"",onClick:t[3]||(t[3]=v=>e.$emit("update:modelValue",e.defaultValue))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"settings_backup_restore"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("reset_to_default")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),!e.restricted&&e.initialValue?(m(),C(p,{key:4,disabled:e.initialValue===void 0||e.modelValue===e.initialValue,clickable:"",onClick:t[4]||(t[4]=v=>e.$emit("unset",e.field))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"undo"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("undo_changes")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0),!e.restricted&&(e.defaultValue===null||!e.isRequired)?(m(),C(p,{key:5,disabled:e.modelValue===null,clickable:"",onClick:t[5]||(t[5]=v=>e.$emit("update:modelValue",null))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:"delete_outline"})]),_:1}),o(u,null,{default:s(()=>[P(w(e.t("clear_value")),1)]),_:1})]),_:1},8,["disabled"])):R("",!0)]),_:1})}var KR=z(qR,[["render",zR]]);function is(e,t){var i,r;const{t:n}=Y(),{field:l,fn:a}=Zl(t),d=(r=(i=Oe().getField(e,l))==null?void 0:i.name)!=null?r:l;return a?n(`functions.${a}`)+` (${d})`:d}const WR={key:1,class:"label-spacer"},HR={key:2,class:"type-note"},GR={key:3,class:"validation-error selectable"},ZR=K({props:{field:null,batchMode:{type:Boolean,default:!1},batchActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{default:void 0},initialValue:{default:void 0},primaryKey:{default:void 0},loading:{type:Boolean,default:!1},validationError:{default:void 0},autofocus:{type:Boolean,default:!1},badge:{default:void 0}},emits:["toggle-batch","unset","update:modelValue"],setup(e,{emit:t}){const n=e,{t:l}=Y(),a=F(()=>{var b,$;return!!(n.disabled||(($=(b=n.field)==null?void 0:b.meta)==null?void 0:$.readonly)===!0||n.batchMode&&n.batchActive===!1)}),d=F(()=>{var $,A;const b=(A=($=n.field)==null?void 0:$.schema)==null?void 0:A.default_value;if(b!==void 0)return b}),i=F(()=>n.modelValue!==void 0?n.modelValue:n.initialValue!==void 0?n.initialValue:d.value),r=F(()=>n.modelValue!==void 0&&N.exports.isEqual(n.modelValue,n.initialValue)===!1),{showRaw:u,rawValue:p,copyRaw:f,pasteRaw:_}=g(),v=F(()=>n.validationError?n.validationError.code==="RECORD_NOT_UNIQUE"?l("validationError.unique"):l(`validationError.${n.validationError.type}`,n.validationError):null),y=F(()=>n.validationError&&n.validationError.field.includes("(")&&n.validationError.field.includes(")")?is(n.field.collection,n.validationError.field)+": ":null);function h(b){(N.exports.isEqual(b,n.initialValue)||n.initialValue===void 0&&N.exports.isEqual(b,d.value))&&n.batchMode===!1?t("unset",n.field):t("update:modelValue",b)}function g(){const b=E(!1),$=F(()=>LR(n.field)),A=F({get(){switch($.value){case"object":return JSON.stringify(i.value,null,"	");case"string":case"number":case"boolean":default:return i.value}},set(D){switch($.value){case"string":t("update:modelValue",D);break;case"number":t("update:modelValue",Number(D));break;case"boolean":t("update:modelValue",D==="true");break;case"object":t("update:modelValue",JSON.parse(D));break;default:t("update:modelValue",D);break}}});async function V(){var D;try{await((D=navigator==null?void 0:navigator.clipboard)==null?void 0:D.writeText(A.value)),ct({title:l("copy_raw_value_success")})}catch{ct({type:"error",title:l("copy_raw_value_fail")})}}async function T(){var D;try{const O=await((D=navigator==null?void 0:navigator.clipboard)==null?void 0:D.readText());A.value=O,ct({title:l("paste_raw_value_success")})}catch{ct({type:"error",title:l("paste_raw_value_fail")})}}return{showRaw:b,rawValue:A,copyRaw:V,pasteRaw:T}}return(b,$)=>{var Q,ce,J,oe;const A=c("v-menu"),V=c("v-card-title"),T=c("v-textarea"),D=c("v-card-text"),O=c("v-button"),M=c("v-card-actions"),L=c("v-card"),j=c("v-dialog"),B=c("v-icon"),q=$e("md"),G=$e("tooltip");return m(),I("div",{key:e.field.field,class:ue(["field",[((Q=e.field.meta)==null?void 0:Q.width)||"full",{invalid:e.validationError}]])},[e.field.hideLabel!==!0?(m(),C(A,{key:0,placement:"bottom-start","show-arrow":""},{activator:s(({toggle:_e,active:me})=>[o(BR,{field:e.field,toggle:_e,active:me,"batch-mode":e.batchMode,"batch-active":e.batchActive,edited:W(r),"has-error":!!e.validationError,badge:e.badge,loading:e.loading,onToggleBatch:$[0]||($[0]=ee=>b.$emit("toggle-batch",ee))},null,8,["field","toggle","active","batch-mode","batch-active","edited","has-error","badge","loading"])]),default:s(()=>[o(KR,{field:e.field,"model-value":W(i),"initial-value":e.initialValue,restricted:W(a),"onUpdate:modelValue":$[1]||($[1]=_e=>h(_e)),onUnset:$[2]||($[2]=_e=>b.$emit("unset",_e)),onEditRaw:$[3]||($[3]=_e=>u.value=!0),onCopyRaw:W(f),onPasteRaw:W(_)},null,8,["field","model-value","initial-value","restricted","onCopyRaw","onPasteRaw"])]),_:1})):["full","fill"].includes((ce=e.field.meta)==null?void 0:ce.width)===!1?(m(),I("div",WR)):R("",!0),o(MR,{autofocus:e.autofocus,"model-value":W(i),field:e.field,loading:e.loading,"batch-mode":e.batchMode,"batch-active":e.batchActive,disabled:W(a),"primary-key":e.primaryKey,"onUpdate:modelValue":$[4]||($[4]=_e=>h(_e))},null,8,["autofocus","model-value","field","loading","batch-mode","batch-active","disabled","primary-key"]),o(j,{modelValue:W(u),"onUpdate:modelValue":$[7]||($[7]=_e=>kt(u)?u.value=_e:null),onEsc:$[8]||($[8]=_e=>u.value=!1)},{default:s(()=>[o(L,null,{default:s(()=>[o(V,null,{default:s(()=>[P(w(W(a)?W(l)("view_raw_value"):W(l)("edit_raw_value")),1)]),_:1}),o(D,null,{default:s(()=>[o(T,{modelValue:W(p),"onUpdate:modelValue":$[5]||($[5]=_e=>kt(p)?p.value=_e:null),disabled:W(a),class:"raw-value",placeholder:W(l)("enter_raw_value")},null,8,["modelValue","disabled","placeholder"])]),_:1}),o(M,null,{default:s(()=>[o(O,{onClick:$[6]||($[6]=_e=>u.value=!1)},{default:s(()=>[P(w(W(l)("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.field.meta&&e.field.meta.note?x((m(),I("small",HR,null,512)),[[q,e.field.meta.note]]):R("",!0),e.validationError?(m(),I("small",GR,[((J=e.field.meta)==null?void 0:J.validation_message)?(m(),I(ae,{key:0},[P(w((oe=e.field.meta)==null?void 0:oe.validation_message)+" ",1),x(o(B,{small:"",right:"",name:"help_outline"},null,512),[[G,W(v)]])],64)):(m(),I(ae,{key:1},[P(w(W(y))+w(W(v)),1)],64))])):R("",!0)],2)}}});var JR=z(ZR,[["__scopeId","data-v-6392fc91"]]);const QR=e=>(Xe("data-v-08c43820"),e=e(),Ye(),e),XR={class:"validation-errors-list"},YR=["onClick"],xR=QR(()=>S("span",null,":\xA0",-1)),eM=K({props:{validationErrors:null,fields:null},emits:["scroll-to-field"],setup(e){const t=e,{t:n}=Y(),l=F(()=>t.validationErrors.map(a=>{var f,_,v;const{field:d,fn:i}=Zl(a.field),r=t.fields.find(y=>y.field===d),u=t.fields.find(y=>y.field===a.group);let p=(f=r==null?void 0:r.name)!=null?f:a.field;return i&&(r==null?void 0:r.collection)&&(p=is(r.collection,a.field)),Fe(fe({},a),{fieldName:p,groupName:(_=u==null?void 0:u.name)!=null?_:a.group,customValidationMessage:(v=r==null?void 0:r.meta)==null?void 0:v.validation_message})}));return(a,d)=>{const i=c("v-icon"),r=c("v-notice"),u=$e("tooltip");return m(),C(r,{type:"danger",class:"full selectable"},{default:s(()=>[S("div",null,[S("p",null,w(W(n)("validation_errors_notice")),1),S("ul",XR,[(m(!0),I(ae,null,we(W(l),(p,f)=>(m(),I("li",{key:f},[S("strong",{class:"field",onClick:_=>a.$emit("scroll-to-field",p.group||p.field)},[p.field&&p.hidden&&p.group?(m(),I(ae,{key:0},[P(w(`${p.fieldName} (${W(n)("hidden_in_group",{group:p.groupName})})`),1)],64)):p.field&&p.hidden?(m(),I(ae,{key:1},[P(w(`${p.fieldName} (${W(n)("hidden")})`),1)],64)):p.field?(m(),I(ae,{key:2},[P(w(p.fieldName),1)],64)):R("",!0)],8,YR),xR,p.customValidationMessage?(m(),I(ae,{key:0},[P(w(p.customValidationMessage)+" ",1),x(o(i,{small:"",name:"help_outline"},null,512),[[u,p.code==="RECORD_NOT_UNIQUE"?W(n)("validationError.unique",p):W(n)(`validationError.${p.type}`,p)]])],64)):(m(),I(ae,{key:1},[p.code==="RECORD_NOT_UNIQUE"?(m(),I(ae,{key:0},[P(w(W(n)("validationError.unique",p)),1)],64)):(m(),I(ae,{key:1},[P(w(W(n)(`validationError.${p.type}`,p)),1)],64))],64))]))),128))])])]),_:1})}}});var tM=z(eM,[["__scopeId","data-v-08c43820"]]);const nM=K({name:"VForm",components:{FormField:JR,ValidationErrors:tM},props:{collection:{type:String,default:void 0},fields:{type:Array,default:void 0},initialValues:{type:Object,default:null},modelValue:{type:Object,default:null},loading:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},primaryKey:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!1},group:{type:String,default:null},badge:{type:String,default:null},nested:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:n}=Y(),l=Oe(),a=F(()=>Object.assign({},e.initialValues,e.modelValue)),d=E(),{width:i}=Sn(d),r=F(()=>d.value===null?null:i.value>792?"grid with-fill":"grid"),u=E({});kd(()=>{u.value={}});const{formFields:p,getFieldsForGroup:f,fieldsForGroup:_,isDisabled:v}=$(),{toggleBatchField:y,batchActiveFields:h}=D(),g=F(()=>{var M,L;for(let j=0;j<p.value.length;j++)if(p.value[j].meta&&!((M=p.value[j].meta)==null?void 0:M.readonly)&&!((L=p.value[j].meta)==null?void 0:L.hidden))return j;return null}),b=F(()=>{var M;for(let L=0;L<p.value.length;L++)if(p.value[L].meta&&!((M=p.value[L].meta)==null?void 0:M.hidden))return L;return null});return ge(()=>e.validationErrors,(M,L)=>{var j;e.nested||N.exports.isEqual(M,L)||(M==null?void 0:M.length)>0&&((j=d==null?void 0:d.value)==null||j.scrollIntoView({behavior:"smooth"}))}),Yt("values",a),{t:n,formFields:p,values:a,setValue:A,batchActiveFields:h,toggleBatchField:y,unsetValue:T,firstEditableFieldIndex:g,firstVisibleFieldIndex:b,isNil:N.exports.isNil,apply:V,el:d,gridClass:r,omit:N.exports.omit,getFieldsForGroup:f,fieldsForGroup:_,isDisabled:v,scrollToField:O,formFieldEls:u};function $(){const M=F(()=>{if(e.collection)return l.getFieldsForCollection(e.collection);if(e.fields)return e.fields;throw new Error("[v-form]: You need to pass either the collection or fields prop.")}),L=F(()=>M.value.reduce(function(J,oe){var _e,me;return((_e=oe.schema)==null?void 0:_e.default_value)!==void 0&&!(oe.schema.is_primary_key&&oe.schema.data_type==="integer"&&typeof oe.schema.default_value=="string")&&(J[oe.field]=(me=oe.schema)==null?void 0:me.default_value),J},{})),j=F(()=>{if(e.group!==null)return M.value;const J=_e=>{var me,ee;if(((me=_e.schema)==null?void 0:me.has_auto_increment)===!0||((ee=_e.schema)==null?void 0:ee.is_primary_key)===!0&&e.primaryKey!=="+"){const ne=N.exports.cloneDeep(_e);return ne.meta||(ne.meta={}),ne.meta.readonly=!0,ne}return _e},oe=Object.assign({},L.value,a.value);return M.value.map(_e=>ti(oe,J(_e)))}),B=F(()=>j.value.filter(J=>{var oe,_e;return((oe=J.meta)==null?void 0:oe.group)===e.group||e.group===null&&N.exports.isNil((_e=J.meta)==null?void 0:_e.group)})),{formFields:q}=Wr(B),G=F(()=>q.value.map(J=>{var oe;return ce((oe=J.meta)==null?void 0:oe.field)}));return{formFields:q,isDisabled:Q,getFieldsForGroup:ce,fieldsForGroup:G};function Q(J){var oe,_e;return e.loading||e.disabled===!0||((oe=J.meta)==null?void 0:oe.readonly)===!0||((_e=J.schema)==null?void 0:_e.is_generated)===!0||e.batchMode&&h.value.includes(J.field)===!1}function ce(J){var _e,me;const oe=j.value.filter(ee=>{var ne;return((ne=ee.meta)==null?void 0:ne.group)===J||J===null&&N.exports.isNil(ee.meta)});for(const ee of oe)((me=(_e=ee.meta)==null?void 0:_e.special)==null?void 0:me.includes("group"))&&oe.push(...ce(ee.meta.field));return oe}}function A(M,L){if(v(M))return;const j=e.modelValue?N.exports.cloneDeep(e.modelValue):{};j[M.field]=L,t("update:modelValue",j)}function V(M){const L=Object.keys(M).filter(j=>{var q,G;const B=(q=e.fields)==null?void 0:q.find(Q=>Q.field===j);return B?((G=B.schema)==null?void 0:G.is_primary_key)||!v(B):!1});t("update:modelValue",N.exports.pick(N.exports.assign({},e.modelValue,M),L))}function T(M){if(!v(M)&&M.field in(e.modelValue||{})){const L=fe({},e.modelValue);delete L[M.field],t("update:modelValue",L)}}function D(){const M=E([]);return{batchActiveFields:M,toggleBatchField:L};function L(j){var B;M.value.includes(j.field)?(M.value=M.value.filter(q=>q!==j.field),T(j)):(M.value=[...M.value,j.field],A(j,(B=j.schema)==null?void 0:B.default_value))}}function O(M){const{field:L}=Zl(M);!u.value[L]||u.value[L].$el.scrollIntoView({behavior:"smooth"})}}});function lM(e,t,n,l,a,d){const i=c("validation-errors"),r=c("form-field");return m(),I("div",{ref:"el",class:ue(["v-form",e.gridClass])},[!e.nested&&e.validationErrors.length>0?(m(),C(i,{key:0,"validation-errors":e.validationErrors,fields:e.formFields,onScrollToField:e.scrollToField},null,8,["validation-errors","fields","onScrollToField"])):R("",!0),(m(!0),I(ae,null,we(e.formFields,(u,p)=>{var f,_,v,y,h,g,b;return m(),I(ae,null,[((_=(f=u.meta)==null?void 0:f.special)==null?void 0:_.includes("group"))?x((m(),C(Be(`interface-${((v=u.meta)==null?void 0:v.interface)||"group-standard"}`),pt({key:0,ref:$=>{e.formFieldEls[u.field]=$},key:u.field,class:[((y=u.meta)==null?void 0:y.width)||"full",p===e.firstVisibleFieldIndex?"first-visible-field":""],field:u,fields:e.fieldsForGroup[p],values:e.modelValue||{},"initial-values":e.initialValues||{},disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors},((h=u.meta)==null?void 0:h.options)||{},{onApply:e.apply}),null,16,["class","field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","onApply"])),[[Mt,!((g=u.meta)==null?void 0:g.hidden)]]):((b=u.meta)==null?void 0:b.hidden)?R("",!0):(m(),C(r,{ref:$=>{e.formFieldEls[u.field]=$},key:u.field,class:ue(p===e.firstVisibleFieldIndex?"first-visible-field":""),field:u,autofocus:p===e.firstEditableFieldIndex&&e.autofocus,"model-value":(e.values||{})[u.field],"initial-value":(e.initialValues||{})[u.field],disabled:e.isDisabled(u),"batch-mode":e.batchMode,"batch-active":e.batchActiveFields.includes(u.field),"primary-key":e.primaryKey,loading:e.loading,"validation-error":e.validationErrors.find($=>$.field===u.field||$.field.endsWith(`(${u.field})`)),badge:e.badge,"onUpdate:modelValue":$=>e.setValue(u,$),onUnset:$=>e.unsetValue(u),onToggleBatch:$=>e.toggleBatchField(u)},null,8,["class","field","autofocus","model-value","initial-value","disabled","batch-mode","batch-active","primary-key","loading","validation-error","badge","onUpdate:modelValue","onUnset","onToggleBatch"]))],64)}),256))],2)}var oM=z(nM,[["render",lM],["__scopeId","data-v-5edf8493"]]);const aM=K({props:{closeDelay:{type:Number,default:0},openDelay:{type:Number,default:0},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const t=E(!1);return{hover:t,onMouseEnter:n,onMouseLeave:l};function n(){e.disabled!==!0&&setTimeout(()=>{t.value=!0},e.openDelay)}function l(){e.disabled!==!0&&setTimeout(()=>{t.value=!1},e.closeDelay)}}});function iM(e,t,n,l,a,d){return m(),C(Be(e.tag),{onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{default:s(()=>[be(e.$slots,"default",Qe(et({hover:e.hover})))]),_:3},8,["onMouseenter","onMouseleave"])}var rM=z(aM,[["render",iM]]);const sM=K({name:"VHighlight",props:{query:{type:[String,Array],default:null},text:{type:String,default:""}},setup(e){return{parts:F(()=>{let n=Sa(e.text.toLowerCase());const l=Tl(e.query);if(l.length===0)return[{highlighted:!1,text:e.text}];const a=N.exports.flatten(l.filter(f=>f).map(f=>{f=Sa(f.toLowerCase());const _=[];let v=0,y=n.indexOf(f,v);for(;y>-1;)v=y+f.length,_.push([y,v]),y=n.indexOf(f,y+1);return _}));if(a.sort((f,_)=>f[0]!==_[0]?f[0]-_[0]:f[1]-_[1]),a.length===0)return[{highlighted:!1,text:e.text}];const d=[];let i=a[0][0],r=a[0][1];a.shift();for(const[f,_]of a)f>=r?(d.push([i,r]),i=f,r=_):_>r&&(r=_);d.push([i,r]);let u=0;const p=[];for(const[f,_]of d)u!==f&&p.push({highlighted:!1,text:e.text.slice(u,f)}),p.push({highlighted:!0,text:e.text.slice(f,_)}),u=_;return u!==n.length&&p.push({highlighted:!1,text:e.text.slice(u)}),p})}}});function dM(e,t,n,l,a,d){return m(!0),I(ae,null,we(e.parts,({highlighted:i,text:r},u)=>(m(),I(ae,null,[i?(m(),I("mark",{key:u,class:"highlight"},w(r),1)):(m(),I(ae,{key:1},[P(w(r),1)],64))],64))),256)}var uM=z(sM,[["render",dM],["__scopeId","data-v-40e82be6"]]);const cM={},pM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},mM=S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.2 14.15a1.8 1.8 0 01-.35-.12c-.1-.05-.14-.18-.13-.3.02-.41-.01-.78.03-1.2.18-1.85 1.38-1.26 2.46-1.57.58-.16 1.17-.47 1.42-1.06.07-.16.02-.35-.1-.48a13.66 13.66 0 00-2.27-1.98 14.25 14.25 0 00-9.85-2.31.2.2 0 00-.15.32A5.17 5.17 0 0011.93 7c.1.06.06.2-.06.18-.3-.06-.68-.18-1.06-.4a.43.43 0 00-.38-.05l-.44.18a.2.2 0 00-.05.34 5.32 5.32 0 006.14.42c.1-.06.25.07.22.18-.07.21-.15.52-.23.95-.48 2.37-1.87 2.18-3.58 1.59-3.36-1.19-5.3-.22-7-2.1-.19-.21-.5-.29-.7-.09a1.55 1.55 0 00.1 2.29c.15.12.36.07.5-.06.07-.06.13-.1.21-.14.1-.04.16.11.07.18-.4.33-.51.7-.76 1.48-.38 1.16-.22 2.36-1.98 2.67-.93.04-.91.66-1.25 1.58A5.2 5.2 0 01.3 18.27c-.4.41-.44 1.18.14 1.23.18 0 .36-.03.55-.1.99-.4 1.75-1.65 2.47-2.46.8-.9 2.72-.51 4.17-1.4.82-.48 1.3-1.1 1.08-2.07-.02-.12.12-.2.18-.09.1.2.18.41.23.63.05.22.25.39.47.4 1.36.1 3.02 1.3 4.63 1.88.32.11.56-.26.43-.57-.1-.24-.18-.48-.23-.7-.02-.13.16-.16.22-.05a3.5 3.5 0 002.88 1.88c.46.03.97-.02 1.5-.18.63-.18 1.22-.42 1.91-.3.52.1 1 .36 1.3.79.36.5 1.04.7 1.54.38.28-.19.29-.58.13-.87-1.14-2.08-3.61-2.25-4.7-2.52z"},null,-1),fM=[mM];function _M(e,t,n,l,a,d){return m(),I("svg",pM,fM)}var vM=z(cM,[["render",_M]]);const yM={},hM={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},gM=S("path",{d:"M18.38 3.6c-.38-.4-.83-.6-1.36-.6H6.98c-.53 0-1 .2-1.4.6-.38.42-.56.88-.56 1.42V21L12 18l6.98 3V5.02c0-.54-.2-1-.6-1.41zm-8.05 11.5l6.7-6.7-1.4-1.4-5.3 5.3-1.92-1.93L7 11.79l3.33 3.33z"},null,-1),bM=[gM];function wM(e,t,n,l,a,d){return m(),I("svg",hM,bM)}var kM=z(yM,[["render",wM]]);const $M={},SM={viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},CM=S("path",{d:"M2.036 16.961l8.578 3.944a.886.886 0 00.772 0l8.576-3.944c.357-.164.536-.443.536-.836V5.875a.924.924 0 00-.016-.166v-.048a.95.95 0 00-.037-.118l-.014-.039a.91.91 0 00-.073-.138l-.021-.03a1.067 1.067 0 00-.081-.097l-.043-.03a.901.901 0 00-.102-.083l-.025-.018a1.003 1.003 0 00-.124-.069l-8.578-3.944a.886.886 0 00-.772 0L2.036 5.039a.935.935 0 00-.124.069l-.025.018a.901.901 0 00-.102.083l-.03.032a.915.915 0 00-.08.097l-.021.03a.916.916 0 00-.074.138l-.025.037a1.006 1.006 0 00-.037.118v.048a.924.924 0 00-.016.166v10.25c0 .393.178.671.534.836zm1.306-9.646l6.735 3.102v8.223l-6.735-3.104V7.315zm8.578 11.323v-8.221l6.735-3.102v8.223l-6.735 3.1zm-.921-15.7l6.376 2.937-6.376 2.937-6.376-2.937 6.376-2.937z"},null,-1),VM=[CM];function FM(e,t,n,l,a,d){return m(),I("svg",SM,VM)}var AM=z($M,[["render",FM]]);const IM={},EM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},DM=S("path",{d:"M10.588 13.412c.408.408.879.611 1.412.611.533 0 1.004-.203 1.412-.611.408-.408.611-.879.611-1.412 0-.533-.203-1.004-.611-1.412-.408-.408-.879-.612-1.412-.612-.533 0-1.004.204-1.412.612-.408.408-.612.879-.612 1.412 0 .533.204 1.004.612 1.412zM9.176 9.176C9.961 8.392 10.902 8 12 8c1.098 0 2.04.392 2.823 1.176C15.608 9.961 16 10.902 16 12c0 1.098-.392 2.04-1.177 2.823C14.04 15.608 13.098 16 12 16c-1.098 0-2.04-.392-2.824-1.177C8.392 14.04 8 13.098 8 12c0-1.098.392-2.04 1.176-2.824z"},null,-1),TM=S("path",{d:"M13 3v6h-2V3h2zM13 15v6h-2v-6h2z"},null,-1),PM=[DM,TM];function OM(e,t,n,l,a,d){return m(),I("svg",EM,PM)}var LM=z(IM,[["render",OM]]);const jM={},RM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},MM=S("path",{d:"M3 3h18v18H3z"},null,-1),UM=[MM];function NM(e,t,n,l,a,d){return m(),I("svg",RM,UM)}var BM=z(jM,[["render",NM]]);const qM={},zM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},KM=S("path",{d:"M11 2H2v9h9V2zm0 11H2v9h9v-9zm2-11h9v9h-9V2zm9 11h-9v9h9v-9z"},null,-1),WM=[KM];function HM(e,t,n,l,a,d){return m(),I("svg",zM,WM)}var GM=z(qM,[["render",HM]]);const ZM={},JM={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},QM=S("path",{d:"M1 1h6v6H1V1zm0 8h6v6H1V9zm6 8H1v6h6v-6zM9 1h6v6H9V1zm6 8H9v6h6V9zm-6 8h6v6H9v-6zM23 1h-6v6h6V1zm-6 8h6v6h-6V9zm6 8h-6v6h6v-6z"},null,-1),XM=[QM];function YM(e,t,n,l,a,d){return m(),I("svg",JM,XM)}var xM=z(ZM,[["render",YM]]);const eU={},tU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},nU=S("path",{d:"M6 3H3v3h3V3zm0 5H3v3h3V8zm-3 5h3v3H3v-3zm3 5H3v3h3v-3zM8 3h3v3H8V3zm3 5H8v3h3V8zm-3 5h3v3H8v-3zm3 5H8v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3zm2-15h3v3h-3V3zm3 5h-3v3h3V8zm-3 5h3v3h-3v-3zm3 5h-3v3h3v-3z"},null,-1),lU=[nU];function oU(e,t,n,l,a,d){return m(),I("svg",tU,lU)}var aU=z(eU,[["render",oU]]);const iU={},rU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},sU=S("path",{d:"M3 3h2v2H3V3zm4 0h2v2H7V3zm0 4h2v2H7V7zm2 4H7v2h2v-2zm-2 4h2v2H7v-2zm2 4H7v2h2v-2zM5 7H3v2h2V7zm-2 4h2v2H3v-2zm2 4H3v2h2v-2zm-2 4h2v2H3v-2zM13 3h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm2-16h2v2h-2V3zm2 4h-2v2h2V7zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm6-16h-2v2h2V3zm-2 4h2v2h-2V7zm2 4h-2v2h2v-2zm-2 4h2v2h-2v-2zm2 4h-2v2h2v-2z"},null,-1),dU=[sU];function uU(e,t,n,l,a,d){return m(),I("svg",rU,dU)}var cU=z(iU,[["render",uU]]);const pU={},mU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},fU=S("path",{d:"M5 4H4v1h1V4zm0 6H4v1h1v-1zm-1 6h1v1H4v-1zm1-9H4v1h1V7zm-1 6h1v1H4v-1zm1 6H4v1h1v-1zM7 4h1v1H7V4zm1 6H7v1h1v-1zm-1 6h1v1H7v-1zm1-9H7v1h1V7zm-1 6h1v1H7v-1zm1 6H7v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1zm2-15h1v1h-1V4zm1 6h-1v1h1v-1zm-1 6h1v1h-1v-1zm1-9h-1v1h1V7zm-1 6h1v1h-1v-1zm1 6h-1v1h1v-1z"},null,-1),_U=[fU];function vU(e,t,n,l,a,d){return m(),I("svg",mU,_U)}var yU=z(pU,[["render",vU]]);const hU={},gU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},bU=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),wU=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),kU=S("path",{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"},null,-1),$U=[bU,wU,kU];function SU(e,t,n,l,a,d){return m(),I("svg",gU,$U)}var CU=z(hU,[["render",SU]]);const VU={},FU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},AU=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),IU=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),EU=S("path",{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"},null,-1),DU=[AU,IU,EU];function TU(e,t,n,l,a,d){return m(),I("svg",FU,DU)}var PU=z(VU,[["render",TU]]);const OU={},LU={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},jU=S("path",{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"},null,-1),RU=S("path",{d:"M0 0h48v48H0z",fill:"none"},null,-1),MU=S("path",{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"},null,-1),UU=[jU,RU,MU];function NU(e,t,n,l,a,d){return m(),I("svg",LU,UU)}var BU=z(OU,[["render",NU]]);const qU={},zU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},KU=S("path",{d:"M 3 2 L 3 11 L 21 11 L 3 2 z M 5 5.2363281 L 12.527344 9 L 5 9 L 5 5.2363281 z M 3 13 L 3 22 L 21 13 L 3 13 z"},null,-1),WU=[KU];function HU(e,t,n,l,a,d){return m(),I("svg",zU,WU)}var GU=z(qU,[["render",HU]]);const ZU={},JU={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},QU=S("path",{d:"M3,2 L3,11 L21,11 L3,2 Z M5,5.2363281 L12.527344,9 L5,9 L5,5.2363281 Z M3,13 L3,22 L21,13 L3,13 Z",transform:"translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "},null,-1),XU=[QU];function YU(e,t,n,l,a,d){return m(),I("svg",JU,XU)}var xU=z(ZU,[["render",YU]]);const eN={},tN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},nN=S("path",{d:"M11.17 8l-2-2H4v12h16V8h-8.83zM4 4h6l2 2h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2l.01-12A2 2 0 014 4zm10.44 5l4 4-4 4v-3H11v-2h3.44V9z"},null,-1),lN=[nN];function oN(e,t,n,l,a,d){return m(),I("svg",tN,lN)}var aN=z(eN,[["render",oN]]);const iN={},rN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},sN=$d('<path d="M9.1875 6L11.1562 8.01562H20.0156V18H3.98438V6H9.1875ZM9.98438 3.98438H3.98438C2.90625 3.98438 2.01562 4.92188 2.01562 6V18C2.01562 19.0781 2.90625 20.0156 3.98438 20.0156H20.0156C21.0938 20.0156 21.9844 19.0781 21.9844 18V8.01562C21.9844 6.89062 21.0938 6 20.0156 6H12L9.98438 3.98438Z"></path><rect x="13" y="12" width="6" height="5" rx="1"></rect><rect x="17" y="11" width="1" height="1"></rect><rect x="14" y="11" width="1" height="1"></rect><path d="M17 11H18C18 9.89543 17.1046 9 16 9C14.8954 9 14 9.89543 14 11H15C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11Z"></path>',5),dN=[sN];function uN(e,t,n,l,a,d){return m(),I("svg",rN,dN)}var cN=z(iN,[["render",uN]]);const pN={},mN={viewBox:"0 0 24 24",width:"24",height:"24",fill:"none","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",xmlns:"http://www.w3.org/2000/svg"},fN=S("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),_N=S("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4a2 2 0 00-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},null,-1),vN=[fN,_N];function yN(e,t,n,l,a,d){return m(),I("svg",mN,vN)}var hN=z(pN,[["render",yN]]);const gN=K({props:{name:{type:String,required:!0}},render(){const e=Sd(Cd({prefix:"fab",iconName:this.name}));return pa({template:e==null?void 0:e.html[0]})}});Vd.add(Fd);const bN=["directus","bookmark_save","box","commit_node","grid_1","grid_2","grid_3","grid_4","grid_5","grid_6","signal_wifi_1_bar","signal_wifi_2_bar","signal_wifi_3_bar","flip_horizontal","flip_vertical","folder_move","folder_lock","logout"],wN=["500px","accessible_icon","accusoft","acquisitions_incorporated","adn","adversal","affiliatetheme","airbnb","algolia","alipay","amazon","amazon_pay","amilia","android","angellist","angrycreative","angular","app_store","app_store_ios","apper","apple","apple_pay","artstation","asymmetrik","atlassian","audible","autoprefixer","avianex","aviato","aws","bandcamp","battle_net","behance","behance_square","bimobject","bitbucket","bitcoin","bity","black_tie","blackberry","blogger","blogger_b","bluetooth","bluetooth_b","bootstrap","btc","buffer","buromobelexperte","buy_n_large","buysellads","canadian_maple_leaf","cc_amazon_pay","cc_amex","cc_apple_pay","cc_diners_club","cc_discover","cc_jcb","cc_mastercard","cc_paypal","cc_stripe","cc_visa","centercode","centos","chrome","chromecast","cloudflare","cloudscale","cloudsmith","cloudversify","codepen","codiepie","confluence","connectdevelop","contao","cotton_bureau","cpanel","creative_commons","creative_commons_by","creative_commons_nc","creative_commons_nc_eu","creative_commons_nc_jp","creative_commons_nd","creative_commons_pd","creative_commons_pd_alt","creative_commons_remix","creative_commons_sa","creative_commons_sampling","creative_commons_sampling_plus","creative_commons_share","creative_commons_zero","critical_role","css3","css3_alt","cuttlefish","d_and_d","d_and_d_beyond","dailymotion","dashcube","deezer","delicious","deploydog","deskpro","dev","deviantart","dhl","diaspora","digg","digital_ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble_square","dropbox","drupal","dyalog","earlybirds","ebay","edge","edge_legacy","elementor","ello","ember","empire","envira","erlang","ethereum","etsy","evernote","expeditedssl","facebook","facebook_f","facebook_messenger","facebook_square","fantasy_flight_games","fedex","fedora","figma","firefox","firefox_browser","first_order","first_order_alt","firstdraft","flickr","flipboard","fly","font_awesome","font_awesome_alt","font_awesome_flag","fonticons","fonticons_fi","fort_awesome","fort_awesome_alt","forumbee","foursquare","free_code_camp","freebsd","fulcrum","galactic_republic","galactic_senate","get_pocket","gg","gg_circle","git","git_alt","git_square","github","github_alt","github_square","gitkraken","gitlab","gitter","glide","glide_g","gofore","goodreads","goodreads_g","google","google_drive","google_pay","google_play","google_plus","google_plus_g","google_plus_square","google_wallet","gratipay","grav","gripfire","grunt","guilded","gulp","hacker_news","hacker_news_square","hackerrank","hips","hire_a_helper","hive","hooli","hornbill","hotjar","houzz","html5","hubspot","ideal","imdb","innosoft","instagram","instagram_square","instalod","intercom","internet_explorer","invision","ioxhost","itch_io","itunes","itunes_note","java","jedi_order","jenkins","jira","joget","joomla","js","js_square","jsfiddle","kaggle","keybase","keycdn","kickstarter","kickstarter_k","korvue","laravel","lastfm","lastfm_square","leanpub","less","line","linkedin","linkedin_in","linode","linux","lyft","magento","mailchimp","mandalorian","markdown","mastodon","maxcdn","mdb","medapps","medium","medium_m","medrt","meetup","megaport","mendeley","microblog","microsoft","mix","mixcloud","mixer","mizuni","modx","monero","napster","neos","nimblr","node","node_js","npm","ns8","nutritionix","octopus_deploy","odnoklassniki","odnoklassniki_square","old_republic","opencart","openid","opera","optin_monster","orcid","osi","page4","pagelines","palfed","patreon","paypal","penny_arcade","perbyte","periscope","phabricator","phoenix_framework","phoenix_squadron","php","pied_piper","pied_piper_alt","pied_piper_hat","pied_piper_pp","pied_piper_square","pinterest","pinterest_p","pinterest_square","playstation","product_hunt","pushed","python","qq","quinscape","quora","r_project","raspberry_pi","ravelry","react","reacteurope","readme","rebel","red_river","reddit","reddit_alien","reddit_square","redhat","renren","replyd","researchgate","resolving","rev","rocketchat","rockrms","rust","safari","salesforce","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","shopify","shopware","simplybuilt","sistrix","sith","sketch","skyatlas","skype","slack","slack_hash","slideshare","snapchat","snapchat_ghost","snapchat_square","soundcloud","sourcetree","speakap","speaker_deck","spotify","squarespace","stack_exchange","stack_overflow","stackpath","staylinked","steam","steam_square","steam_symbol","sticker_mule","strava","stripe","stripe_s","studiovinari","stumbleupon","stumbleupon_circle","superpowers","supple","suse","swift","symfony","teamspeak","telegram","telegram_plane","tencent_weibo","the_red_yeti","themeco","themeisle","think_peaks","tiktok","trade_federation","trello","tumblr","tumblr_square","twitch","twitter","twitter_square","typo3","uber","ubuntu","uikit","umbraco","uncharted","uniregistry","unity","unsplash","untappd","ups","usb","usps","ussunnah","vaadin","viacoin","viadeo","viadeo_square","viber","vimeo","vimeo_square","vimeo_v","vine","vk","vnv","vuejs","watchman_monitoring","waze","weebly","weibo","weixin","whatsapp","whatsapp_square","whmcs","wikipedia_w","windows","wix","wizards_of_the_coast","wodu","wolf_pack_battalion","wordpress","wordpress_simple","wpbeginner","wpexplorer","wpforms","wpressr","xbox","xing","xing_square","y_combinator","yahoo","yammer","yandex","yandex_international","yarn","yelp","yoast","youtube","youtube_square","zhihu"],kN=K({components:{CustomIconDirectus:vM,CustomIconBookmarkSave:kM,CustomIconBox:AM,CustomIconCommitNode:LM,CustomIconGrid1:BM,CustomIconGrid2:GM,CustomIconGrid3:xM,CustomIconGrid4:aU,CustomIconGrid5:cU,CustomIconGrid6:yU,CustomIconSignalWifi1Bar:CU,CustomIconSignalWifi2Bar:PU,CustomIconSignalWifi3Bar:BU,CustomIconFlipHorizontal:GU,CustomIconFlipVertical:xU,CustomIconFolderMove:aN,CustomIconFolderLock:cN,CustomIconLogout:hN,SocialIcon:gN},props:fe({name:{type:String,required:!0},filled:{type:Boolean,default:!1},sup:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},color:{type:String,default:null}},yl),emits:["click"],setup(e,{emit:t}){const n=F(()=>e.sup?"sup":hl(e).value),l=F(()=>bN.includes(e.name)?`custom-icon-${e.name}`.replace(/_/g,"-"):null),a=F(()=>wN.includes(e.name)?e.name.replace(/_/g,"-"):null);return{sizeClass:n,customIconName:l,socialIconName:a,emitClick:d};function d(i){e.disabled||t("click",i)}}}),$N=["role","tabindex"],SN=["data-icon"];function CN(e,t,n,l,a,d){const i=c("socialIcon");return m(),I("span",{class:ue(["v-icon",[e.sizeClass,{"has-click":!e.disabled&&e.clickable,left:e.left,right:e.right}]]),role:e.clickable?"button":null,tabindex:e.clickable?0:null,style:We({"--v-icon-color":e.color}),onClick:t[0]||(t[0]=(...r)=>e.emitClick&&e.emitClick(...r))},[e.customIconName?(m(),C(Be(e.customIconName),{key:0})):e.socialIconName?(m(),C(i,{key:1,name:e.socialIconName},null,8,["name"])):(m(),I("i",{key:2,class:ue({filled:e.filled}),"data-icon":e.name},null,10,SN))],14,$N)}var VN=z(kN,[["render",CN],["__scopeId","data-v-e8796568"]]);const FN=K({props:{icon:{type:String,default:"box"},title:{type:String,required:!0},type:{type:String,default:"info"},center:{type:Boolean,default:!1}}}),AN={class:"icon"},IN={class:"title type-title"},EN={class:"content"};function DN(e,t,n,l,a,d){const i=c("v-icon");return m(),I("div",{class:ue(["v-info",[e.type,{center:e.center}]])},[S("div",AN,[o(i,{large:"",name:e.icon,outline:""},null,8,["name"])]),S("h2",IN,w(e.title),1),S("p",EN,[be(e.$slots,"default",{},void 0,!0)]),be(e.$slots,"append",{},void 0,!0)],2)}var TN=z(FN,[["render",DN],["__scopeId","data-v-0b8e46a0"]]);const PN={key:0,class:"prepend-outer"},ON={key:0,class:"prepend"},LN={key:1,class:"prefix"},jN=["placeholder","autocomplete","type","min","max","step","disabled","value"],RN={key:2,class:"suffix"},MN={key:3},UN={key:4,class:"append"},NN={key:1,class:"append-outer"},BN={inheritAttrs:!1};function qN(e,{emit:t}){const n=e,l=Ad(),a=E(null),d=F(()=>({input:v,keydown:f,blur:g=>{_(),typeof l.onBlur=="function"&&l.onBlur(g)},focus:g=>t("focus",g)})),i=F(()=>N.exports.omit(l,["class"])),r=F(()=>[{"full-width":n.fullWidth,"has-click":n.clickable,disabled:n.disabled,small:n.small},...(l.class||"").split(" ")]),u=F(()=>n.disabled===!1&&(n.max===void 0||parseInt(String(n.modelValue),10)<n.max)),p=F(()=>n.disabled===!1&&(n.min===void 0||parseInt(String(n.modelValue),10)>n.min));function f(g){if(!g.key)return;const b=g.key.toLowerCase(),$=["meta","shift","alt","backspace","delete","tab"],A=g.target.value;n.slug===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890-_~ ".split("").includes(b)||$.includes(b)||b.startsWith("arrow"))===!1&&g.preventDefault(),b===" "&&A.endsWith(n.slugSeparator)&&g.preventDefault()),n.dbSafe===!0&&(("abcdefghijklmnopqrstuvwxyz01234567890_ ".split("").includes(b)||$.includes(b)||b.startsWith("arrow"))===!1&&g.preventDefault(),A.length===0&&"0123456789".split("").includes(b)&&g.preventDefault()),t("keydown",g)}function _(){n.modelValue&&n.trim&&["string","text"].includes(n.type)&&t("update:modelValue",String(n.modelValue).trim())}function v(g){let b=g.target.value;if(n.nullable===!0&&b===""){t("update:modelValue",null);return}if(n.type==="number"){const $=Number(b);n.modelValue!==$&&t("update:modelValue",$)}else{if(n.slug===!0){const $=b.endsWith(" ");b=Id(b,{separator:n.slugSeparator,preserveTrailingDash:!0}),$&&(b+=n.slugSeparator)}n.dbSafe===!0&&(b=b.replace(/\s/g,"_"),b=b.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),t("update:modelValue",b)}}function y(){if(!!a.value&&u.value!==!1&&(a.value.stepUp(),a.value.value!=null))return t("update:modelValue",Number(a.value.value))}function h(){if(!!a.value&&p.value!==!1)return a.value.stepDown(),a.value.value?t("update:modelValue",Number(a.value.value)):t("update:modelValue",n.min||0)}return(g,b)=>{const $=c("v-icon"),A=$e("focus");return m(),I("div",{class:ue(["v-input",W(r)]),onClick:b[0]||(b[0]=V=>g.$emit("click",V))},[g.$slots["prepend-outer"]?(m(),I("div",PN,[be(g.$slots,"prepend-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),S("div",{class:ue(["input",{disabled:e.disabled,active:e.active}])},[g.$slots.prepend?(m(),I("div",ON,[be(g.$slots,"prepend",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0),e.prefix?(m(),I("span",LN,w(e.prefix),1)):R("",!0),be(g.$slots,"input",{},()=>[x(S("input",pt({ref:(V,T)=>{T.input=V,a.value=V}},W(i),{placeholder:e.placeholder?String(e.placeholder):void 0,autocomplete:e.autocomplete,type:e.type,min:e.min,max:e.max,step:e.step,disabled:e.disabled,value:e.modelValue===void 0||e.modelValue===null?"":String(e.modelValue)},Sl(W(d))),null,16,jN),[[A,e.autofocus]])],!0),e.suffix?(m(),I("span",RN,w(e.suffix),1)):R("",!0),e.type==="number"&&!e.hideArrows?(m(),I("span",MN,[o($,{class:ue([{disabled:!W(u)},"step-up"]),name:"keyboard_arrow_up",tabindex:"-1",clickable:"",disabled:!W(u),onClick:y},null,8,["class","disabled"]),o($,{class:ue([{disabled:!W(p)},"step-down"]),name:"keyboard_arrow_down",tabindex:"-1",clickable:"",disabled:!W(p),onClick:h},null,8,["class","disabled"])])):R("",!0),g.$slots.append?(m(),I("div",UN,[be(g.$slots,"append",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2),g.$slots["append-outer"]?(m(),I("div",NN,[be(g.$slots,"append-outer",{value:e.modelValue,disabled:e.disabled},void 0,!0)])):R("",!0)],2)}}const zN=K(Fe(fe({},BN),{props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},prefix:{default:void 0},suffix:{default:void 0},fullWidth:{type:Boolean,default:!0},placeholder:{default:void 0},modelValue:{default:void 0},nullable:{type:Boolean,default:!0},slug:{type:Boolean,default:!1},slugSeparator:{default:"-"},type:{default:"text"},hideArrows:{type:Boolean,default:!1},max:{default:void 0},min:{default:void 0},step:{default:1},active:{type:Boolean,default:!1},dbSafe:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},autocomplete:{default:"off"},small:{type:Boolean,default:!1}},emits:["click","keydown","update:modelValue","focus"],setup:qN}));var KN=z(zN,[["__scopeId","data-v-a42feabe"]]);const WN=K({props:{mandatory:{type:Boolean,default:!1},max:{type:Number,default:-1},multiple:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0},scope:{type:String,default:"item-group"}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,multiple:l,max:a,mandatory:d}=ze(e);return Yo({selection:n,onSelectionChange:i=>t("update:modelValue",i)},{multiple:l,max:a,mandatory:d},e.scope),{}}}),HN={class:"v-item-group"};function GN(e,t,n,l,a,d){return m(),I("div",HN,[be(e.$slots,"default")])}var ZN=z(WN,[["render",GN]]);const JN=K({props:{value:{type:String,default:null},scope:{type:String,default:"item-group"},active:{type:Boolean,default:void 0},watch:{type:Boolean,default:!0}},setup(e){const{active:t}=ze(e),{active:n,toggle:l}=On({value:e.value,group:e.scope,watch:e.watch,active:t});return{isActive:n,toggle:l}}}),QN={class:"v-item"};function XN(e,t,n,l,a,d){return m(),I("div",QN,[be(e.$slots,"default",Qe(et({active:e.isActive,toggle:e.toggle})))])}var YN=z(JN,[["render",XN]]);const xN=K({props:{multiple:{type:Boolean,default:!0},to:{type:String,default:""},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},scope:{type:String,default:"v-list"},value:{type:[String,Number],default:void 0},dense:{type:Boolean,default:!1},open:{type:Boolean,default:!1},arrowPlacement:{type:[String,Boolean],default:"after",validator:e=>["before","after",!1].includes(e)}},emits:["click"],setup(e,{emit:t}){const{active:n,toggle:l}=On({group:e.scope,value:e.value});return{groupActive:F(()=>n.value||e.open),toggle:l,onClick:d};function d(i){if(e.to)return null;if(e.clickable)return t("click",i);i.stopPropagation(),l()}}}),eB={class:"v-list-group"},tB={key:0,class:"items"};function nB(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item");return m(),I("li",eB,[o(u,{class:"activator",active:e.active,to:e.to,exact:e.exact,query:e.query,disabled:e.disabled,dense:e.dense,clickable:"",onClick:e.onClick},{default:s(()=>[e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="before"?(m(),C(r,{key:0,class:ue(["activator-icon",{active:e.groupActive}])},{default:s(()=>[o(i,{name:"chevron_right",disabled:e.disabled,onClick:De(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0),be(e.$slots,"activator",{active:e.groupActive},void 0,!0),e.$slots.default&&e.arrowPlacement&&e.arrowPlacement==="after"?(m(),C(r,{key:1,class:ue(["activator-icon",{active:e.groupActive}])},{default:s(()=>[o(i,{name:"chevron_right",disabled:e.disabled,onClick:De(e.toggle,["stop","prevent"])},null,8,["disabled","onClick"])]),_:1},8,["class"])):R("",!0)]),_:3},8,["active","to","exact","query","disabled","dense","onClick"]),e.groupActive?(m(),I("ul",tB,[be(e.$slots,"default",{},void 0,!0)])):R("",!0)])}var lB=z(xN,[["render",nB],["__scopeId","data-v-2419d436"]]);const oB={},aB={class:"v-list-item-content"};function iB(e,t){return m(),I("div",aB,[be(e.$slots,"default")])}var rB=z(oB,[["render",iB],["__scopeId","data-v-275e8d1e"]]);const sB=K({props:{center:{type:Boolean,default:!1}}});function dB(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-list-item-hint",{center:e.center}])},[be(e.$slots,"default",{},void 0,!0)],2)}var uB=z(sB,[["render",dB],["__scopeId","data-v-13faae5b"]]);const cB=K({props:{center:{type:Boolean,default:!1}}});function pB(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-list-item-icon",{center:e.center}])},[be(e.$slots,"default")],2)}var mB=z(cB,[["render",pB],["__scopeId","data-v-1b25e368"]]);const fB=K({props:{block:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},to:{type:[String,Object],default:""},href:{type:String,default:void 0},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},active:{type:Boolean,default:void 0},dashed:{type:Boolean,default:!1},exact:{type:Boolean,default:!1},query:{type:Boolean,default:!1},download:{type:String,default:void 0},value:{type:[String,Number],default:void 0},nav:{type:Boolean,default:!1},scope:{type:String,default:"v-list"}},emits:["click"],setup(e,{emit:t}){const n=Ht(),{route:l,isActive:a,isExactActive:d}=$a(e),i=F(()=>e.to?"router-link":e.href?"a":"li");On({value:e.value,group:e.scope});const r=F(()=>Boolean(e.to||e.href||e.clickable)),u=F(()=>{if(e.active!==void 0)return e.active;if(e.to){const f=!e.query||N.exports.isEqual(n.query,l.value.query);return e.exact?d.value&&f:a.value&&f}return!1});return{component:i,isLink:r,isActiveRoute:u,onClick:p};function p(f){e.disabled!==!0&&t("click",f)}}});function _B(e,t,n,l,a,d){return m(),C(Be(e.component),{class:ue(["v-list-item",{active:e.isActiveRoute,dense:e.dense,link:e.isLink,disabled:e.disabled,dashed:e.dashed,block:e.block,nav:e.nav,clickable:e.clickable}]),to:e.to!==""?e.to:void 0,href:e.href,download:e.download,target:e.component==="a"?"_blank":void 0,onClick:e.onClick},{default:s(()=>[be(e.$slots,"default")]),_:3},8,["to","class","href","download","target","onClick"])}var vB=z(fB,[["render",_B],["__scopeId","data-v-1e51adfe"]]);const yB=K({props:{modelValue:{type:Array,default:null},nav:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},mandatory:{type:Boolean,default:!0},scope:{type:String,default:"v-list"}},emits:["update:modelValue","toggle"],setup(e,{emit:t}){const{modelValue:n,multiple:l,mandatory:a}=ze(e);return Yo({selection:n,onSelectionChange:d=>{t("update:modelValue",d)},onToggle:d=>{t("toggle",d)}},{mandatory:a,multiple:l},e.scope),{}}});function hB(e,t,n,l,a,d){return m(),I("ul",{class:ue(["v-list",{nav:e.nav,dense:e.dense}])},[be(e.$slots,"default")],2)}var gB=z(yB,[["render",hB],["__scopeId","data-v-bb15acea"]]);function bB(e,t,n){const l=E(null),a=E({}),d=E({}),i=E(n.value.placement);Dt(()=>{p()}),ge(n,()=>{var _;(_=l.value)==null||_.setOptions({placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f()})},{immediate:!0});const r=new MutationObserver(()=>{var _;(_=l.value)==null||_.forceUpdate()});return{popperInstance:l,placement:i,start:u,stop:p,styles:a,arrowStyles:d};function u(){return new Promise(_=>{l.value=Ed(e.value,t.value,{placement:n.value.attached?"bottom-start":n.value.placement,modifiers:f(_),strategy:"fixed"}),l.value.forceUpdate(),r.observe(t.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0})})}function p(){var _;(_=l.value)==null||_.destroy(),r.disconnect()}function f(_=()=>{}){var y,h;const v=[Dd,Fe(fe({},Td),{options:{offset:n.value.attached?[0,0]:[(y=n.value.offsetX)!=null?y:0,(h=n.value.offsetY)!=null?h:8]}}),Fe(fe({},Pd),{options:{padding:8}}),Od,Ld,jd,{name:"placementUpdater",enabled:!0,phase:"afterWrite",fn({state:g}){i.value=g.placement}},{name:"applyStyles",enabled:!0,phase:"write",fn({state:g}){a.value=g.styles.popper,d.value=g.styles.arrow,_()}}];return n.value.arrow===!0&&v.push(Fe(fe({},Rd),{options:{padding:6}})),n.value.attached===!0&&v.push({name:"sameWidth",enabled:!0,fn:({state:g})=>{g.styles.popper.width=`${g.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}),v}}const wB=K({props:{placement:{type:String,default:"bottom"},modelValue:{type:Boolean,default:void 0},closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},attached:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trigger:{type:String,default:null,validator:e=>["hover","click","keyDown"].includes(e)},delay:{type:Number,default:0},offsetY:{type:Number,default:8},offsetX:{type:Number,default:0},fullHeight:{type:Boolean,default:!1},seamless:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(null),l=E(null),a=E({getBoundingClientRect(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}}),d=F(()=>$t()),i=E(null),{start:r,stop:u,styles:p,arrowStyles:f,placement:_}=bB(l,i,F(()=>({placement:e.placement,attached:e.attached,arrow:e.showArrow,offsetY:e.offsetY,offsetX:e.offsetX}))),{isActive:v,activate:y,deactivate:h,toggle:g}=T();ge(v,L=>{var j;L===!0&&(l.value=((j=n.value)==null?void 0:j.children[0])||a.value,$l(()=>{i.value=document.getElementById(d.value)}))});const{onClick:b,onPointerEnter:$,onPointerLeave:A}=M(),V=E(!1);return{id:d,activator:n,popper:i,reference:l,isActive:v,toggle:g,deactivate:h,onContentClick:O,onClickOutsideMiddleware:D,styles:p,arrowStyles:f,popperPlacement:_,activate:y,onClick:b,onPointerLeave:A,onPointerEnter:$,hoveringOnPopperContent:V};function T(){const L=E(!1),j=F({get(){return e.modelValue!==void 0?e.modelValue:L.value},async set(Q){L.value=Q,t("update:modelValue",Q)}});return ge(i,async()=>{i.value!==null?await r():u()},{immediate:!0}),{isActive:j,activate:B,deactivate:q,toggle:G};function B(Q){Q&&(a.value={getBoundingClientRect(){return{top:Q.clientY,left:Q.clientX,bottom:0,right:0,width:0,height:0}}}),j.value=!0}function q(){j.value=!1}function G(){e.disabled!==!0&&(j.value=!j.value)}}function D(L){var j;return!((j=n.value)==null?void 0:j.contains(L.target))}function O(L){e.closeOnContentClick===!0&&L.target!==L.currentTarget&&h()}function M(){const L=E(!1);return ge(L,N.exports.debounce(G=>{G?v.value||y():h()},e.delay)),{onClick:j,onPointerLeave:q,onPointerEnter:B};function j(){e.trigger==="click"&&g()}function B(){e.trigger==="hover"&&(L.value=!0)}function q(){e.trigger==="hover"&&(L.value=!1)}}}}),kB=["id","data-placement"];function $B(e,t,n,l,a,d){const i=c("transition-bounce"),r=$e("click-outside");return m(),I("div",{class:"v-menu",onClick:t[5]||(t[5]=(...u)=>e.onClick&&e.onClick(...u))},[S("div",{ref:"activator",class:ue(["v-menu-activator",{attached:e.attached}]),onPointerenter:t[0]||(t[0]=De((...u)=>e.onPointerEnter&&e.onPointerEnter(...u),["stop"])),onPointerleave:t[1]||(t[1]=De((...u)=>e.onPointerLeave&&e.onPointerLeave(...u),["stop"]))},[be(e.$slots,"activator",Qe(et({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34),(m(),C(ao,{to:"#menu-outlet"},[o(i,null,{default:s(()=>[e.isActive?x((m(),I("div",{id:e.id,key:e.id,class:ue(["v-menu-popper",{active:e.isActive,attached:e.attached}]),"data-placement":e.popperPlacement,style:We(e.styles)},[S("div",{class:ue(["arrow",{active:e.showArrow&&e.isActive}]),style:We(e.arrowStyles),"data-popper-arrow":""},null,6),S("div",{class:ue(["v-menu-content",{"full-height":e.fullHeight,seamless:e.seamless}]),onClick:t[2]||(t[2]=De((...u)=>e.onContentClick&&e.onContentClick(...u),["stop"])),onPointerenter:t[3]||(t[3]=De((...u)=>e.onPointerEnter&&e.onPointerEnter(...u),["stop"])),onPointerleave:t[4]||(t[4]=De((...u)=>e.onPointerLeave&&e.onPointerLeave(...u),["stop"]))},[be(e.$slots,"default",Qe(et({toggle:e.toggle,active:e.isActive,activate:e.activate,deactivate:e.deactivate})),void 0,!0)],34)],14,kB)),[[r,{handler:e.deactivate,middleware:e.onClickOutsideMiddleware,disabled:e.isActive===!1||e.closeOnClick===!1,events:["click"]}]]):R("",!0)]),_:3})]))])}var SB=z(wB,[["render",$B],["__scopeId","data-v-502cb6b2"]]);const CB=K({props:{type:{type:String,default:"normal"},icon:{type:[String,Boolean],default:null},center:{type:Boolean,default:!1}},setup(e){return{iconName:F(()=>e.icon!==!1&&typeof e.icon=="string"?e.icon:e.type=="info"?"info":e.type=="success"?"check_circle":e.type=="warning"?"warning":e.type=="danger"?"error":"info")}}});function VB(e,t,n,l,a,d){const i=c("v-icon");return m(),I("div",{class:ue(["v-notice",[e.type,{center:e.center}]])},[e.icon!==!1?(m(),C(i,{key:0,name:e.iconName,left:""},null,8,["name"])):R("",!0),be(e.$slots,"default")],2)}var FB=z(CB,[["render",VB],["__scopeId","data-v-763dd568"]]);const AB=K({props:{active:{type:Boolean,default:!1},absolute:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){return{onClick:n};function n(l){t("click",l)}}}),IB=e=>(Xe("data-v-3e74acbb"),e=e(),Ye(),e),EB=IB(()=>S("div",{class:"overlay"},null,-1)),DB={key:0,class:"content"};function TB(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-overlay",{active:e.active,absolute:e.absolute,"has-click":e.clickable}]),onClick:t[0]||(t[0]=(...i)=>e.onClick&&e.onClick(...i))},[EB,e.active?(m(),I("div",DB,[be(e.$slots,"default",{},void 0,!0)])):R("",!0)],2)}var PB=z(AB,[["render",TB],["__scopeId","data-v-3e74acbb"]]);const OB=K({props:{disabled:{type:Boolean,default:!1},length:{type:Number,default:null,required:!0,validator:e=>e%1==0},totalVisible:{type:Number,default:void 0,validator:e=>e>=0},modelValue:{type:Number,default:null},showFirstLast:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>{if(e.totalVisible===void 0)return[];let i,r;if(Wa(e.totalVisible)||e.length<=e.totalVisible)i=1,r=e.length;else{const u=Math.floor(e.totalVisible/2),p=Math.ceil(e.totalVisible/2)-1;e.modelValue<=u?(i=1,r=e.totalVisible):e.modelValue+p>=e.length?(i=e.length-e.totalVisible+1,r=e.length):(i=e.modelValue-u,r=e.modelValue+p)}return Array.from(Array(r+1-i).keys()).map(u=>i+u)});return{toPage:d,toPrev:l,toNext:a,visiblePages:n};function l(){d(e.modelValue-1)}function a(){d(e.modelValue+1)}function d(i){t("update:modelValue",i)}}}),LB={class:"v-pagination"},jB=P(" 1 "),RB={key:1,class:"gap"},MB={key:2,class:"gap"};function UB(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button");return m(),I("div",LB,[o(r,{class:"previous",disabled:e.disabled||e.modelValue===1,secondary:"",icon:"",small:"",onClick:e.toPrev},{default:s(()=>[o(i,{name:"chevron_left"})]),_:1},8,["disabled","onClick"]),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible?(m(),C(r,{key:0,class:"page",secondary:"",small:"",disabled:e.disabled,onClick:t[0]||(t[0]=u=>e.toPage(1))},{default:s(()=>[jB]),_:1},8,["disabled"])):R("",!0),e.showFirstLast&&e.modelValue>Math.ceil(e.totalVisible/2)+1&&e.length>e.totalVisible+1?(m(),I("span",RB," ... ")):R("",!0),(m(!0),I(ae,null,we(e.visiblePages,u=>(m(),C(r,{key:u,class:ue([{active:e.modelValue===u},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:p=>e.toPage(u)},{default:s(()=>[P(w(u),1)]),_:2},1032,["class","disabled","onClick"]))),128)),e.showFirstLast&&e.modelValue<e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible+1?(m(),I("span",MB," ... ")):R("",!0),e.showFirstLast&&e.modelValue<=e.length-Math.ceil(e.totalVisible/2)&&e.length>e.totalVisible?(m(),C(r,{key:3,class:ue([{active:e.modelValue===e.length},"page"]),secondary:"",small:"",disabled:e.disabled,onClick:t[1]||(t[1]=u=>e.toPage(e.length))},{default:s(()=>[P(w(e.length),1)]),_:1},8,["class","disabled"])):R("",!0),o(r,{class:"next",disabled:e.disabled||e.modelValue===e.length,secondary:"",icon:"",small:"",onClick:e.toNext},{default:s(()=>[o(i,{name:"chevron_right"})]),_:1},8,["disabled","onClick"])])}var NB=z(OB,[["render",UB],["__scopeId","data-v-7c59d706"]]);const BB=K({props:fe({indeterminate:{type:Boolean,default:!1},value:{type:Number,default:0}},yl),emits:["animationiteration"],setup(e){const t=hl(e),n=F(()=>({"stroke-dasharray":e.value/100*78.5+", 78.5"}));return{sizeClass:t,circleStyle:n}}}),qB=e=>(Xe("data-v-a75ea6ac"),e=e(),Ye(),e),zB=qB(()=>S("path",{class:"circle-background",d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,-1));function KB(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-progress-circular",e.sizeClass])},[(m(),I("svg",{class:ue(["circle",{indeterminate:e.indeterminate}]),viewBox:"0 0 30 30",onAnimationiteration:t[0]||(t[0]=i=>e.$emit("animationiteration"))},[zB,S("path",{class:"circle-path",style:We(e.circleStyle),d:"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z",transform:"translate(2.5 2.5)"},null,4)],34)),be(e.$slots,"default",{},void 0,!0)],2)}var WB=z(BB,[["render",KB],["__scopeId","data-v-a75ea6ac"]]);const HB=K({props:{absolute:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},top:{type:Boolean,default:!1},value:{type:Number,default:0},colorful:{type:Boolean,default:!1}},emits:["animationiteration"],setup(e){return{color:F(()=>e.value<=33?"danger":e.value<=66?"warning":"success")}}});function GB(e,t,n,l,a,d){return m(),I("div",{class:ue(["v-progress-linear",[{absolute:e.absolute,bottom:e.bottom,fixed:e.fixed,indeterminate:e.indeterminate,rounded:e.rounded,top:e.top,colorful:e.colorful},e.color]]),onAnimationiteration:t[0]||(t[0]=i=>e.$emit("animationiteration"))},[S("div",{class:"inner",style:We({width:e.value+"%"})},null,4),be(e.$slots,"default",{value:e.value},void 0,!0)],34)}var ZB=z(HB,[["render",GB],["__scopeId","data-v-4aeb976a"]]);const JB=K({props:{value:{type:[String,Number],required:!0},modelValue:{type:[String,Number],default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},block:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue===e.value),l=F(()=>n.value?e.iconOn:e.iconOff);return{isChecked:n,emitValue:a,icon:l};function a(){t("update:modelValue",e.value)}}}),QB=["aria-pressed","disabled"],XB={class:"label type-text"};function YB(e,t,n,l,a,d){const i=c("v-icon");return m(),I("button",{class:ue(["v-radio",{checked:e.isChecked,block:e.block}]),type:"button","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...r)=>e.emitValue&&e.emitValue(...r))},[o(i,{name:e.icon},null,8,["name"]),S("span",XB,[be(e.$slots,"label",{},()=>[P(w(e.label),1)],!0)])],10,QB)}var xB=z(JB,[["render",YB],["__scopeId","data-v-596b3818"]]);function rs(e,t,n){const l=E(""),a=F({get(){return l.value||(d.value?e.value:"")},set(i){i===null?(l.value="",n(null)):(l.value=i,n(i))}}),d=F(()=>{if(t.value===null)return!1;const i=t.value.map(r=>r.value);return e.value!==null&&e.value.length>0&&i.includes(e.value)===!1});return{otherValue:a,usesOtherValue:d}}function ss(e,t,n){const l=E([]);return ge(e,i=>{i!==null&&Array.isArray(i)!==!1&&t.value!==null&&i.forEach(r=>{if(t.value===null)return;t.value.map(f=>f.value).includes(r)===!0===!1&&l.value.map(v=>v.value).includes(r)===!0===!1&&a(r)})}),{otherValues:l,addOtherValue:a,setOtherValue:d};function a(i=""){l.value=[...l.value,{key:$t(),value:i}]}function d(i,r){const u=l.value.find(f=>f.key===i),p=(e.value||[]).filter(f=>f!==(u==null?void 0:u.value));if(r===null)l.value=l.value.filter(f=>f.key!==i),p.length===0?n(null):n(p);else{l.value=l.value.map(_=>(_.key===i&&(_.value=r),_));const f=[...p,r];n(f)}}}const eq=K({name:"SelectListItem",props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),tq={key:0,class:"item-text"};function nq(e,t,n,l,a,d){const i=c("v-divider"),r=c("v-icon"),u=c("v-list-item-icon"),p=c("v-checkbox"),f=c("v-list-item-content"),_=c("v-list-item");return e.item.divider===!0?(m(),C(i,{key:0})):(m(),C(_,{key:1,active:e.multiple?(e.modelValue||[]).includes(e.item.value):e.modelValue===e.item.value,disabled:e.item.disabled,clickable:"",value:e.item.value,onClick:t[1]||(t[1]=v=>e.multiple?null:e.$emit("update:modelValue",e.item.value))},{default:s(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),C(u,{key:0},{default:s(()=>[o(r,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),o(f,null,{default:s(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",tq,w(e.item.text),1)):(m(),C(p,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=v=>e.$emit("update:modelValue",v.length>0?v:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),_:1},8,["active","disabled","value"]))}var ds=z(eq,[["render",nq]]);const lq=K({name:"SelectListItemGroup",components:{SelectListItem:ds},props:{item:{type:Object,required:!0},modelValue:{type:[String,Number,Array],default:null},multiple:{type:Boolean,required:!0},allowOther:{type:Boolean,required:!0}},emits:["update:modelValue"]}),oq={key:0,class:"item-text"};function aq(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-checkbox"),p=c("v-list-item-content"),f=c("select-list-item-group",!0),_=c("select-list-item"),v=c("v-list-group");return m(),C(v,{clickable:e.item.selectable,value:e.item.value},{activator:s(()=>[e.multiple===!1&&e.allowOther===!1&&e.item.icon?(m(),C(r,{key:0},{default:s(()=>[o(i,{name:e.item.icon},null,8,["name"])]),_:1})):R("",!0),o(p,null,{default:s(()=>[e.multiple===!1||e.item.selectable===!1?(m(),I("span",oq,w(e.item.text),1)):(m(),C(u,{key:1,"model-value":e.modelValue||[],label:e.item.text,value:e.item.value,disabled:e.item.disabled,"onUpdate:modelValue":t[0]||(t[0]=y=>e.$emit("update:modelValue",y.length>0?y:null))},null,8,["model-value","label","value","disabled"]))]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.item.children,(y,h)=>(m(),I(ae,{key:h},[y.children?(m(),C(f,{key:0,item:y,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=g=>e.$emit("update:modelValue",g))},null,8,["item","model-value","multiple","allow-other"])):(m(),C(_,{key:1,"model-value":e.modelValue,item:y,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=g=>e.$emit("update:modelValue",g))},null,8,["model-value","item","multiple","allow-other"]))],64))),128))]),_:1},8,["clickable","value"])}var iq=z(lq,[["render",aq]]);const rq=K({components:{SelectListItemGroup:iq,SelectListItem:ds},props:{items:{type:Array,required:!0},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},itemIcon:{type:String,default:null},itemDisabled:{type:String,default:"disabled"},itemSelectable:{type:String,default:"selectable"},itemChildren:{type:String,default:"children"},modelValue:{type:[Array,String,Number,Boolean],default:null},multiple:{type:Boolean,default:!1},mandatory:{type:Boolean,default:!0},placeholder:{type:String,default:null},fullWidth:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showDeselect:{type:Boolean,default:!1},allowOther:{type:Boolean,default:!1},closeOnContentClick:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},label:{type:Boolean,default:!1},multiplePreviewThreshold:{type:Number,default:3},placement:{type:String,default:"bottom"}},emits:["update:modelValue","group-toggle"],setup(e,{emit:t}){const{t:n}=Y(),{internalItems:l}=_(),{displayValue:a}=v(),{modelValue:d}=ze(e),{otherValue:i,usesOtherValue:r}=rs(d,l,y=>t("update:modelValue",y)),{otherValues:u,addOtherValue:p,setOtherValue:f}=ss(d,l,y=>t("update:modelValue",y));return{t:n,internalItems:l,displayValue:a,otherValue:i,usesOtherValue:r,otherValues:u,addOtherValue:p,setOtherValue:f};function _(){return{internalItems:F(()=>{const h=b=>{if(typeof b=="string")return{text:b,value:b};if(b.divider===!0)return{value:null,divider:!0};const $=N.exports.get(b,e.itemChildren)?N.exports.get(b,e.itemChildren).map(h):null;return{text:N.exports.get(b,e.itemText),value:N.exports.get(b,e.itemValue),icon:N.exports.get(b,e.itemIcon),disabled:N.exports.get(b,e.itemDisabled),selectable:N.exports.get(b,e.itemSelectable),children:$}};return e.items.map(h)})}}function v(){return{displayValue:F(()=>{if(Array.isArray(e.modelValue)){if(e.modelValue.length<e.multiplePreviewThreshold)return e.modelValue.map(g=>h(g)||g).join(", ");{const g=l.value.length+u.value.length,b=e.modelValue.length;return g===b?n("all_items"):n("item_count",b)}}return h(e.modelValue)||e.modelValue})};function h(g){return b(l.value);function b($){var V;let A=(V=$.find(T=>T.value===g))==null?void 0:V.text;for(const T of $)A||T.children&&(A=b(T.children));return A}}}}}),sq=["onClick"],dq=["placeholder"],uq=["value","placeholder","onInput","onBlur"];function cq(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-divider"),v=c("select-list-item-group"),y=c("select-list-item"),h=c("v-checkbox"),g=c("v-list"),b=c("v-menu"),$=$e("focus");return m(),C(b,{class:"v-select",disabled:e.disabled,attached:e.inline===!1,"show-arrow":e.inline===!0,"close-on-content-click":e.closeOnContentClick,placement:e.placement},{activator:s(({toggle:A,active:V})=>[e.inline?(m(),I("div",{key:0,class:ue(["inline-display",{placeholder:!e.displayValue,label:e.label,active:V}]),onClick:A},[be(e.$slots,"preview",{},()=>[P(w(e.displayValue||e.placeholder),1)],!0),o(i,{name:"expand_more",class:ue({active:V})},null,8,["class"])],10,sq)):be(e.$slots,"preview",{key:1},()=>[o(r,{"full-width":e.fullWidth,readonly:"","model-value":e.displayValue,clickable:"",placeholder:e.placeholder,disabled:e.disabled,active:V,onClick:A},ot({append:s(()=>[o(i,{name:"expand_more",class:ue({active:V})},null,8,["class"]),be(e.$slots,"append",{},void 0,!0)]),_:2},[e.$slots.prepend?{name:"prepend",fn:s(()=>[be(e.$slots,"prepend",{},void 0,!0)])}:void 0]),1032,["full-width","model-value","placeholder","disabled","active","onClick"])],!0)]),default:s(()=>[o(g,{class:"list",mandatory:e.mandatory,onToggle:t[9]||(t[9]=A=>e.$emit("group-toggle",A))},{default:s(()=>[e.showDeselect?(m(),I(ae,{key:0},[o(f,{clickable:"",disabled:e.modelValue===null,onClick:t[0]||(t[0]=A=>e.$emit("update:modelValue",null))},{default:s(()=>[e.multiple===!0?(m(),C(u,{key:0},{default:s(()=>[o(i,{name:"close"})]),_:1})):R("",!0),o(p,null,{default:s(()=>[P(w(e.multiple?e.t("deselect_all"):e.t("deselect")),1)]),_:1}),e.multiple===!1?(m(),C(u,{key:1},{default:s(()=>[o(i,{name:"close"})]),_:1})):R("",!0)]),_:1},8,["disabled"]),o(_)],64)):R("",!0),(m(!0),I(ae,null,we(e.internalItems,(A,V)=>(m(),I(ae,{key:V},[A.children?(m(),C(v,{key:0,item:A,"model-value":e.modelValue,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[1]||(t[1]=T=>e.$emit("update:modelValue",T))},null,8,["item","model-value","multiple","allow-other"])):(m(),C(y,{key:1,"model-value":e.modelValue,item:A,multiple:e.multiple,"allow-other":e.allowOther,"onUpdate:modelValue":t[2]||(t[2]=T=>e.$emit("update:modelValue",T))},null,8,["model-value","item","multiple","allow-other"]))],64))),128)),e.allowOther&&e.multiple===!1?(m(),C(f,{key:1,active:e.usesOtherValue,onClick:t[5]||(t[5]=De(()=>{},["stop"]))},{default:s(()=>[o(p,null,{default:s(()=>[x(S("input",{"onUpdate:modelValue":t[3]||(t[3]=A=>e.otherValue=A),class:"other-input",placeholder:e.t("other"),onFocus:t[4]||(t[4]=A=>e.otherValue?e.$emit("update:modelValue",e.otherValue):null)},null,40,dq),[[io,e.otherValue]])]),_:1})]),_:1},8,["active"])):R("",!0),e.allowOther&&e.multiple===!0?(m(),I(ae,{key:2},[(m(!0),I(ae,null,we(e.otherValues,A=>(m(),C(f,{key:A.key,active:(e.modelValue||[]).includes(A.value),onClick:t[7]||(t[7]=De(()=>{},["stop"]))},{default:s(()=>[o(u,null,{default:s(()=>[o(h,{"model-value":e.modelValue||[],value:A.value,"onUpdate:modelValue":t[6]||(t[6]=V=>e.$emit("update:modelValue",V.length>0?V:null))},null,8,["model-value","value"])]),_:2},1024),o(p,null,{default:s(()=>[x(S("input",{class:"other-input",value:A.value,placeholder:e.t("other"),onInput:V=>e.setOtherValue(A.key,V.target.value),onBlur:V=>A.value.length===0&&e.setOtherValue(A.key,null)},null,40,uq),[[$]])]),_:2},1024),o(u,null,{default:s(()=>[o(i,{name:"close",clickable:"",onClick:V=>e.setOtherValue(A.key,null)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["active"]))),128)),o(f,{onClick:t[8]||(t[8]=De(A=>e.addOtherValue(),["stop"]))},{default:s(()=>[o(u,null,{default:s(()=>[o(i,{name:"add"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("other")),1)]),_:1})]),_:1})],64)):R("",!0)]),_:1},8,["mandatory"])]),_:3},8,["disabled","attached","show-arrow","close-on-content-click","placement"])}var pq=z(rq,[["render",cq],["__scopeId","data-v-a0800880"]]);const mq=K({props:{},setup(){return{}}}),fq={class:"v-sheet"};function _q(e,t,n,l,a,d){return m(),I("div",fq,[be(e.$slots,"default",{},void 0,!0)])}var vq=z(mq,[["render",_q],["__scopeId","data-v-714b5c50"]]);const yq=K({props:{type:{type:String,default:"input"}}}),us=e=>(Xe("data-v-9bf1f4de"),e=e(),Ye(),e),hq=us(()=>S("div",{class:"icon"},null,-1)),gq=us(()=>S("div",{class:"text"},null,-1));function bq(e,t,n,l,a,d){return m(),I("div",{class:ue([e.type,"v-skeleton-loader"])},[e.type==="list-item-icon"?(m(),I(ae,{key:0},[hq,gq],64)):R("",!0)],2)}var wq=z(yq,[["render",bq],["__scopeId","data-v-9bf1f4de"]]);const kq=K({props:{disabled:{type:Boolean,default:!1},showThumbLabel:{type:Boolean,default:!1},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},showTicks:{type:Boolean,default:!1},alwaysShowValue:{type:Boolean,default:!0},modelValue:{type:Number,default:0}},emits:["change","update:modelValue"],setup(e,{emit:t}){return{styles:F(()=>{if(e.modelValue===null)return{"--_v-slider-percentage":50};let d=(e.modelValue-e.min)/(e.max-e.min)*100;return isNaN(d)&&(d=0),{"--_v-slider-percentage":d}}),onChange:l,onInput:a};function l(d){const i=d.target;t("change",Number(i.value))}function a(d){const i=d.target;t("update:modelValue",Number(i.value))}}}),$q=e=>(Xe("data-v-dc62a1b4"),e=e(),Ye(),e),Sq={key:0,class:"prepend"},Cq=["disabled","value","max","min","step"],Vq=$q(()=>S("div",{class:"fill"},null,-1)),Fq={key:0,class:"ticks"},Aq={key:1,class:"thumb-label-wrapper"},Iq={key:1,class:"append"};function Eq(e,t,n,l,a,d){return m(),I("div",{class:"v-slider",style:We(e.styles)},[e.$slots.prepend?(m(),I("div",Sq,[be(e.$slots,"prepend",{value:e.modelValue},void 0,!0)])):R("",!0),S("div",{class:ue(["slider",{disabled:e.disabled}])},[S("input",{disabled:e.disabled,type:"range",value:e.modelValue,max:e.max,min:e.min,step:e.step,onChange:t[0]||(t[0]=(...i)=>e.onChange&&e.onChange(...i)),onInput:t[1]||(t[1]=(...i)=>e.onInput&&e.onInput(...i))},null,40,Cq),Vq,e.showTicks?(m(),I("div",Fq,[(m(!0),I(ae,null,we((e.max-e.min)/e.step+1,i=>(m(),I("span",{key:i,class:"tick"}))),128))])):R("",!0),e.showThumbLabel?(m(),I("div",Aq,[S("div",{class:ue(["thumb-label",{visible:e.alwaysShowValue}])},[be(e.$slots,"thumb-label type-text",{value:e.modelValue},()=>[P(w(e.modelValue),1)],!0)],2)])):R("",!0)],2),e.$slots.append?(m(),I("div",Iq,[be(e.$slots,"append",{value:e.modelValue},void 0,!0)])):R("",!0)],4)}var Dq=z(kq,[["render",Eq],["__scopeId","data-v-dc62a1b4"]]);const Tq=K({props:{value:{type:String,default:null},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>e.modelValue instanceof Array?e.modelValue.includes(e.value):e.modelValue===!0);return{isChecked:n,toggleInput:l};function l(){if(e.modelValue instanceof Array){const a=[...e.modelValue];n.value===!1?a.push(e.value):a.splice(a.indexOf(e.value),1),t("update:modelValue",a)}else t("update:modelValue",!n.value)}}}),Pq=e=>(Xe("data-v-9eb85040"),e=e(),Ye(),e),Oq=["aria-pressed","disabled"],Lq=Pq(()=>S("span",{class:"switch"},null,-1)),jq={class:"label type-label"};function Rq(e,t,n,l,a,d){return m(),I("button",{class:"v-switch",type:"button",role:"switch","aria-pressed":e.isChecked?"true":"false",disabled:e.disabled,onClick:t[0]||(t[0]=(...i)=>e.toggleInput&&e.toggleInput(...i))},[Lq,S("span",jq,[be(e.$slots,"label",{},()=>[P(w(e.label),1)],!0)])],8,Oq)}var Mq=z(Tq,[["render",Rq],["__scopeId","data-v-9eb85040"]]);const Uq=e=>(Xe("data-v-6f0ccd0a"),e=e(),Ye(),e),Nq={key:1,class:"select cell",scope:"col"},Bq=["onClick"],qq={class:"name"},zq={key:0,class:"description-dot"},Kq=["onClick"],Wq={class:"name"},Hq={key:0,class:"description-dot"},Gq=["onPointerdown"],Zq=Uq(()=>S("th",{class:"spacer cell",scope:"col"},null,-1)),Jq={key:1,class:"spacer cell",scope:"col"},Qq=K({props:{headers:null,sort:null,showSelect:{default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},allowHeaderReorder:{type:Boolean},reordering:{type:Boolean},someItemsSelected:{type:Boolean,default:!1},allItemsSelected:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},hasItemAppendSlot:{type:Boolean,default:!1},manualSortKey:{default:void 0}},emits:["update:sort","toggle-select-all","update:headers","update:reordering"],setup(e,{emit:t}){const n=e,{t:l}=Y(),a=E(!1),d=E(0),i=E(0),r=E(null),u=Ca(),p=F(()=>u["header-context-menu"]!==void 0);Kn(window,"pointermove",N.exports.throttle(b,40)),Kn(window,"pointerup",$);const f=Ke(n,"headers",t);function _(V){const T=[];return V.align&&T.push(`align-${V.align}`),(V.sortable||p.value)&&T.push("actionable"),V.width&&V.width<90&&T.push("small"),n.sort.by===V.value&&(n.sort.desc===!1?T.push("sort-asc"):T.push("sort-desc")),T}function v(V){return n.sort.by===V.value&&n.sort.desc===!1?"sort_desc":"sort_asc"}function y(V){if(V.sortable!==!1&&a.value!==!0)return V.value===n.sort.by?n.mustSort?t("update:sort",{by:n.sort.by,desc:!n.sort.desc}):n.sort.desc===!1?t("update:sort",{by:n.sort.by,desc:!0}):t("update:sort",{by:null,desc:!1}):t("update:sort",{by:V.value,desc:!1})}function h(){t("toggle-select-all",!n.allItemsSelected)}function g(V,T){const O=T.target.parentElement;a.value=!0,d.value=T.pageX,i.value=O.offsetWidth,r.value=V}function b(V){if(a.value===!0){const T=i.value+(V.pageX-d.value),O=N.exports.clone(n.headers).map(M=>{var L;return M.value===((L=r.value)==null?void 0:L.value)?Fe(fe({},M),{width:Math.max(32,T)}):M});t("update:headers",O)}}function $(){a.value===!0&&(a.value=!1)}function A(){n.sort.by===n.manualSortKey?t("update:sort",{by:null,desc:!1}):t("update:sort",{by:n.manualSortKey,desc:!1})}return(V,T)=>{const D=c("v-icon"),O=c("v-checkbox"),M=c("v-menu"),L=$e("tooltip");return m(),I("thead",{class:ue(["table-header",{resizing:a.value,reordering:e.reordering}])},[o(W(Tt),{modelValue:W(f),"onUpdate:modelValue":T[2]||(T[2]=j=>kt(f)?f.value=j:null),"force-fallback":!0,class:ue({fixed:e.fixed}),"item-key":"value",tag:"tr",disabled:!e.allowHeaderReorder,"set-data":W(Qt),handle:".reorder-handle",animation:"150","ghost-class":"header-order-ghost","swap-threshold":"0.5",onStart:T[3]||(T[3]=j=>V.$emit("update:reordering",!0)),onEnd:T[4]||(T[4]=j=>V.$emit("update:reordering",!1))},{header:s(()=>[e.showManualSort?(m(),I("th",{key:0,class:ue(["manual cell",{"sorted-manually":e.sort.by===e.manualSortKey}]),scope:"col",onClick:A},[x(o(D,{name:"sort",small:""},null,512),[[L,W(l)("toggle_manual_sorting")]])],2)):R("",!0),e.showSelect!=="none"?(m(),I("th",Nq,[e.showSelect==="multiple"?(m(),C(O,{key:0,"model-value":e.allItemsSelected,indeterminate:e.someItemsSelected,"onUpdate:modelValue":h},null,8,["model-value","indeterminate"])):R("",!0)])):R("",!0)]),item:s(({element:j})=>[S("th",{class:ue([_(j),"cell"]),scope:"col",style:We({width:j.width+"px"})},[W(p)?(m(),C(M,{key:0,"show-arrow":"",placement:"bottom-start"},{activator:s(({toggle:B})=>[S("div",{class:"content reorder-handle",onClick:B},[S("span",qq,[j.description?x((m(),I("span",zq,null,512)),[[L,j.description]]):R("",!0),be(V.$slots,`header.${j.value}`,{header:j},()=>[P(w(j.text),1)],!0)]),W(p)?(m(),C(D,{key:0,name:e.sort.by===j.value?"sort":"arrow_drop_down",class:"action-icon",small:""},null,8,["name"])):R("",!0)],8,Bq)]),default:s(()=>[be(V.$slots,"header-context-menu",Qe(et({header:j})),void 0,!0)]),_:2},1024)):(m(),I("div",{key:1,class:"content reorder-handle",onClick:B=>y(j)},[S("span",Wq,[j.description?x((m(),I("span",Hq,null,512)),[[L,j.description]]):R("",!0),be(V.$slots,`header.${j.value}`,{header:j},()=>[P(w(j.text),1)],!0)]),j.sortable?x((m(),C(D,{key:0,name:"sort",class:"action-icon",small:""},null,512)),[[L,W(l)(v(j)),void 0,{top:!0}]]):R("",!0)],8,Kq)),e.showResize?(m(),I("span",{key:2,class:"resize-handle",onClick:T[0]||(T[0]=De(()=>{},["stop"])),onPointerdown:B=>g(j,B)},null,40,Gq)):R("",!0)],6)]),footer:s(()=>[Zq,V.$slots["header-append"]?(m(),I("td",{key:0,class:"manual append cell",onClick:T[1]||(T[1]=De(()=>{},["stop"]))},[be(V.$slots,"header-append",{},void 0,!0)])):R("",!0),e.hasItemAppendSlot&&!V.$slots["header-append"]?(m(),I("th",Jq)):R("",!0)]),_:3},8,["modelValue","class","disabled","set-data"])],2)}}});var Xq=z(Qq,[["__scopeId","data-v-6f0ccd0a"]]);const Yq=e=>(Xe("data-v-23aa01a8"),e=e(),Ye(),e),xq=Yq(()=>S("td",{class:"spacer cell"},null,-1)),ez=K({props:{headers:null,item:null,showSelect:{default:"none"},showManualSort:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},subdued:{type:Boolean,default:!1},sortedManually:{type:Boolean,default:!1},hasClickListener:{type:Boolean,default:!1},height:{default:48}},emits:["click","item-selected"],setup(e){const t=e;bl(l=>({"026be09b":W(n)}));const n=F(()=>t.height+2+"px");return(l,a)=>{const d=c("v-icon"),i=c("v-checkbox"),r=c("v-text-overflow"),u=c("value-null");return m(),I("tr",{class:ue(["table-row",{subdued:e.subdued,clickable:e.hasClickListener}]),onClick:a[4]||(a[4]=p=>l.$emit("click",p))},[e.showManualSort?(m(),I("td",{key:0,class:"manual cell",onClick:a[0]||(a[0]=De(()=>{},["stop"]))},[o(d,{name:"drag_handle",class:ue(["drag-handle",{"sorted-manually":e.sortedManually}])},null,8,["class"])])):R("",!0),e.showSelect!=="none"?(m(),I("td",{key:1,class:"select cell",onClick:a[2]||(a[2]=De(()=>{},["stop"]))},[o(i,{"icon-on":e.showSelect==="one"?"radio_button_checked":void 0,"icon-off":e.showSelect==="one"?"radio_button_unchecked":void 0,"model-value":e.isSelected,"onUpdate:modelValue":a[1]||(a[1]=p=>l.$emit("item-selected",p))},null,8,["icon-on","icon-off","model-value"])])):R("",!0),(m(!0),I(ae,null,we(e.headers,p=>(m(),I("td",{key:p.value,class:ue(["cell",`align-${p.align}`])},[be(l.$slots,`item.${p.value}`,{item:e.item},()=>[p.value.split(".").reduce((f,_)=>f[_],e.item)?(m(),C(r,{key:0,text:p.value.split(".").reduce((f,_)=>f[_],e.item)},null,8,["text"])):(m(),C(u,{key:1}))],!0)],2))),128)),xq,l.$slots["item-append"]?(m(),I("td",{key:2,class:"append cell",onClick:a[3]||(a[3]=De(()=>{},["stop"]))},[be(l.$slots,"item-append",{},void 0,!0)])):R("",!0)],2)}}});var tz=z(ez,[["__scopeId","data-v-23aa01a8"]]);const nz=["summary"],lz={key:1},oz={class:"loading-text"},az={key:2},iz={class:"no-items-text"},rz=K({props:{headers:null,items:null,itemKey:{default:"id"},sort:{default:void 0},mustSort:{type:Boolean,default:!1},showSelect:{default:"none"},showResize:{type:Boolean,default:!1},showManualSort:{type:Boolean,default:!1},manualSortKey:{default:void 0},allowHeaderReorder:{type:Boolean,default:!1},modelValue:{default:()=>[]},fixedHeader:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{default:Ne.global.t("loading")},noItemsText:{default:Ne.global.t("no_items")},serverSort:{type:Boolean,default:!1},rowHeight:{default:48},selectionUseKeys:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click:row","update:sort","update:items","item-selected","update:modelValue","manual-sort","update:headers"],setup(e,{emit:t}){const n=e;bl(D=>({"3b6f54c3":W(b).rows,"0b45a2f7":W(b).header}));const l={text:"",value:"",align:"left",sortable:!0,width:null},a=Ca(),d=F({get:()=>n.headers.map(D=>fe(fe({},l),D)).map(D=>(D.width&&D.width<24&&(D.width=24),D)),set:D=>{t("update:headers",D.map(O=>{const M=[];return N.exports.forEach(O,(L,j)=>{L!==l[j]&&M.push(j)}),N.exports.pick(O,M)}))}}),i=E({by:null,desc:!1}),r=F({get:()=>n.sort||i.value,set:D=>{t("update:sort",D),i.value=D}}),u=E(!1),p=F(()=>a["header-append"]!==void 0),f=F(()=>a["header-context-menu"]!==void 0),_=F(()=>a["item-append"]!==void 0),v=F(()=>{let D=d.value.length+1;return n.showSelect!=="none"&&D++,n.showManualSort&&D++,_.value&&D++,`1 / span ${D}`}),y=F({get:()=>{if(n.serverSort===!0||r.value.by===n.manualSortKey||r.value.by===null)return n.items;const D=N.exports.sortBy(n.items,[r.value.by]);return r.value.desc===!0?D.reverse():D},set:D=>{t("update:items",D)}}),h=F(()=>n.loading===!1&&n.modelValue.length===n.items.length),g=F(()=>n.modelValue.length>0&&h.value===!1),b=F(()=>{return{header:D("auto"),rows:D()};function D(O){let M=d.value.map(L=>L.width?O!=null?O:`${L.width}px`:"160px").reduce((L,j)=>L+=" "+j,"");return n.showSelect!=="none"&&(M="36px "+M),n.showManualSort&&(M="36px "+M),M=M+" 1fr",(_.value||p.value)&&(M+=" auto"),M}});function $(D){if(n.disabled)return;t("item-selected",D);let O=N.exports.clone(n.modelValue);D.value===!0?n.selectionUseKeys?O.push(D.item[n.itemKey]):O.push(D.item):O=O.filter(M=>n.selectionUseKeys?M!==D.item[n.itemKey]:M[n.itemKey]!==D.item[n.itemKey]),t("update:modelValue",O)}function A(D){return(n.selectionUseKeys?n.modelValue:n.modelValue.map(M=>M[n.itemKey])).includes(D[n.itemKey])}function V(D){n.disabled||(D===!0?n.selectionUseKeys?t("update:modelValue",N.exports.clone(n.items).map(O=>O[n.itemKey])):t("update:modelValue",N.exports.clone(n.items)):t("update:modelValue",[]))}function T(D){if(n.disabled)return;const O=y.value[D.oldIndex][n.itemKey],M=y.value[D.newIndex][n.itemKey];t("manual-sort",{item:O,to:M})}return(D,O)=>{const M=c("v-progress-linear");return m(),I("div",{class:ue(["v-table",{loading:e.loading,inline:e.inline,disabled:e.disabled}])},[S("table",{summary:W(d).map(L=>L.text).join(", ")},[o(Xq,{headers:W(d),"onUpdate:headers":O[0]||(O[0]=L=>kt(d)?d.value=L:null),sort:W(r),"onUpdate:sort":O[1]||(O[1]=L=>kt(r)?r.value=L:null),reordering:u.value,"onUpdate:reordering":O[2]||(O[2]=L=>u.value=L),"show-select":e.showSelect,"show-resize":e.showResize,"some-items-selected":W(g),"all-items-selected":W(h),fixed:e.fixedHeader,"show-manual-sort":e.showManualSort,"must-sort":e.mustSort,"has-item-append-slot":W(_),"manual-sort-key":e.manualSortKey,"allow-header-reorder":e.allowHeaderReorder,onToggleSelectAll:V},ot({_:2},[we(W(d),L=>({name:`header.${L.value}`,fn:s(()=>[be(D.$slots,`header.${L.value}`,{header:L},void 0,!0)])})),W(p)?{name:"header-append",fn:s(()=>[be(D.$slots,"header-append",{},void 0,!0)])}:void 0,W(f)?{name:"header-context-menu",fn:s(({header:L})=>[be(D.$slots,"header-context-menu",Qe(et({header:L})),void 0,!0)])}:void 0]),1032,["headers","sort","reordering","show-select","show-resize","some-items-selected","all-items-selected","fixed","show-manual-sort","must-sort","has-item-append-slot","manual-sort-key","allow-header-reorder"]),e.loading?(m(),I("thead",{key:0,class:ue(["loading-indicator",{sticky:e.fixedHeader}])},[S("th",{scope:"colgroup",style:We({gridColumn:W(v)})},[e.loading?(m(),C(M,{key:0,indeterminate:""})):R("",!0)],4)],2)):R("",!0),e.loading&&e.items.length===0?(m(),I("tbody",lz,[S("tr",oz,[S("td",{style:We({gridColumn:W(v)})},w(e.loadingText),5)])])):R("",!0),!e.loading&&e.items.length===0?(m(),I("tbody",az,[S("tr",iz,[S("td",{style:We({gridColumn:W(v)})},w(e.noItemsText),5)])])):(m(),C(W(Tt),{key:3,modelValue:W(y),"onUpdate:modelValue":O[3]||(O[3]=L=>kt(y)?y.value=L:null),"force-fallback":!0,"item-key":e.itemKey,tag:"tbody",handle:".drag-handle",disabled:e.disabled||W(r).by!==e.manualSortKey,"set-data":W(Qt),onEnd:T},{item:s(({element:L})=>[o(tz,{headers:W(d),item:L,"show-select":!e.disabled&&e.showSelect,"show-manual-sort":!e.disabled&&e.showManualSort,"is-selected":A(L),subdued:e.loading||u.value,"sorted-manually":W(r).by===e.manualSortKey,"has-click-listener":!e.disabled&&e.clickable,height:e.rowHeight,onClick:j=>e.clickable?D.$emit("click:row",{item:L,event:j}):null,onItemSelected:j=>$({item:L,value:!A(L)})},ot({_:2},[we(W(d),j=>({name:`item.${j.value}`,fn:s(()=>[be(D.$slots,`item.${j.value}`,{item:L},void 0,!0)])})),W(_)?{name:"item-append",fn:s(()=>[be(D.$slots,"item-append",{item:L},void 0,!0)])}:void 0]),1032,["headers","item","show-select","show-manual-sort","is-selected","subdued","sorted-manually","has-click-listener","height","onClick","onItemSelected"])]),_:3},8,["modelValue","item-key","disabled","set-data"]))],8,nz),be(D.$slots,"footer",{},void 0,!0)],2)}}});var sz=z(rz,[["__scopeId","data-v-cc150272"]]);const dz=K({props:{value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=On({value:e.value,group:"v-tabs-items"});return{active:t,toggle:n}}}),uz={key:0,class:"v-tab-item"};function cz(e,t,n,l,a,d){return e.active?(m(),I("div",uz,[be(e.$slots,"default",Qe(et({active:e.active,toggle:e.toggle})))])):R("",!0)}var pz=z(dz,[["render",cz]]);const mz=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null}},setup(e){const{active:t,toggle:n}=On({value:e.value,group:"v-tabs"}),l=_t("v-tabs-vertical",E(!1));return{active:t,toggle:n,onClick:a,vertical:l};function a(){e.disabled===!1&&n()}}});function fz(e,t,n,l,a,d){const i=c("v-list-item");return e.vertical?(m(),C(i,{key:0,class:"v-tab vertical",active:e.active,disabled:e.disabled,clickable:"",onClick:e.onClick},{default:s(()=>[be(e.$slots,"default",Qe(et({active:e.active,toggle:e.toggle})),void 0,!0)]),_:3},8,["active","disabled","onClick"])):(m(),I("div",{key:1,class:ue(["v-tab horizontal",{active:e.active,disabled:e.disabled}]),onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},[be(e.$slots,"default",Qe(et({active:e.active,toggle:e.toggle})),void 0,!0)],2))}var _z=z(mz,[["render",fz],["__scopeId","data-v-2c97bb1b"]]);const vz=K({props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){function n(l){t("update:modelValue",l)}return{update:n}}});function yz(e,t,n,l,a,d){const i=c("v-item-group");return m(),C(i,{class:"v-tabs-items","model-value":e.modelValue,scope:"v-tabs-items","onUpdate:modelValue":e.update},{default:s(()=>[be(e.$slots,"default")]),_:3},8,["model-value","onUpdate:modelValue"])}var hz=z(vz,[["render",yz]]);const gz=K({props:{vertical:{type:Boolean,default:!1},modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n,vertical:l}=ze(e);Yt("v-tabs-vertical",l);const{items:a}=Yo({selection:n,onSelectionChange:d},{multiple:E(!1),mandatory:E(!0)},"v-tabs");function d(i){t("update:modelValue",i)}return{update:d,items:a}}}),bz={key:1,class:"v-tabs horizontal"};function wz(e,t,n,l,a,d){const i=c("v-list");return e.vertical?(m(),C(i,{key:0,class:"v-tabs vertical alt-colors",nav:""},{default:s(()=>[be(e.$slots,"default")]),_:3})):(m(),I("div",bz,[be(e.$slots,"default")]))}var kz=z(gz,[["render",wz],["__scopeId","data-v-c201e160"]]);const $z=K({props:{text:{type:[String,Number,Array,Object,Boolean],required:!0},highlight:{type:String,default:null},placement:{type:String,default:"top",validator:e=>["top","bottom","left","right","start","end"].includes(e)}},setup(){const e=E(),t=E(!1),{width:n}=Sn(e);return ge(n,()=>{!e.value||(t.value=e.value.offsetWidth<e.value.scrollWidth)},{immediate:!0}),{el:e,hasEllipsis:t}}}),Sz={ref:"el",class:"v-text-overflow"};function Cz(e,t,n,l,a,d){const i=c("v-highlight"),r=$e("tooltip");return x((m(),I("div",Sz,[e.highlight?(m(),C(i,{key:0,query:e.highlight,text:e.text},null,8,["query","text"])):(m(),I(ae,{key:1},[P(w(e.text),1)],64))],512)),[[r,e.hasEllipsis&&e.text,e.placement]])}var Vz=z($z,[["render",Cz],["__scopeId","data-v-24d83a1a"]]);const Fz=K({props:{disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!0},modelValue:{type:String,default:null},nullable:{type:Boolean,default:!0},expandOnFocus:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=F(()=>({input:a,blur:d})),l=F(()=>e.modelValue&&e.modelValue.length>0);return{listeners:n,hasContent:l};function a(i){const r=i.target.value;e.nullable===!0&&r===""?t("update:modelValue",null):t("update:modelValue",r)}function d(){e.modelValue&&e.trim&&t("update:modelValue",e.modelValue.trim())}}}),Az={key:0,class:"prepend"},Iz=["placeholder","disabled","value"],Ez={key:1,class:"append"};function Dz(e,t,n,l,a,d){const i=$e("focus");return m(),I("div",{class:ue(["v-textarea",{disabled:e.disabled,"expand-on-focus":e.expandOnFocus,"full-width":e.fullWidth,"has-content":e.hasContent}])},[e.$slots.prepend?(m(),I("div",Az,[be(e.$slots,"prepend",{},void 0,!0)])):R("",!0),x(S("textarea",pt(e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue},Sl(e.listeners)),null,16,Iz),[[i,e.autofocus]]),e.$slots.append?(m(),I("div",Ez,[be(e.$slots,"append",{},void 0,!0)])):R("",!0)],2)}var Tz=z(Fz,[["render",Dz],["__scopeId","data-v-09beb298"]]);const Pz=K({components:{SearchInput:Cn},props:{active:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]},collection:{type:String,required:!0},multiple:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["update:active","input"],setup(e,{emit:t}){const{t:n}=Y(),{save:l,cancel:a}=M(),{internalActive:d}=D(),{internalSelection:i,onSelect:r}=O(),{collection:u}=ze(e),{info:p}=rt(u),{layout:f,layoutOptions:_,layoutQuery:v,search:y,filter:h}=Mn(u,E(null),!0),g=E(f.value||"tabular"),b=E(_.value),$=E(v.value),A=F({get(){return i.value},set(L){r(L)}}),{layoutWrapper:V}=pn(f),T=F({get(){return e.filter?h.value?{_and:[e.filter,h.value]}:e.filter:h.value},set(L){h.value=L}});return{t:n,save:l,cancel:a,internalActive:d,layoutWrapper:V,layoutSelection:A,layoutFilter:T,localLayout:g,localOptions:b,localQuery:$,collectionInfo:p,search:y,presetFilter:h};function D(){const L=E(!1);return{internalActive:F({get(){return e.active===void 0?L.value:e.active},set(B){L.value=B,t("update:active",B)}})}}function O(){const L=E(null),j=F({get(){return L.value===null?e.selection:L.value},set(q){L.value=q}});return ge(()=>e.active,()=>{L.value=null}),{internalSelection:j,onSelect:B};function B(q){if(q.length===0){L.value=[];return}e.multiple===!0?L.value=q:L.value=[q[q.length-1]]}}function M(){return{save:L,cancel:j};function L(){t("input",i.value),d.value=!1}function j(){d.value=!1}}}});function Oz(e,t,n,l,a,d){const i=c("v-breadcrumb"),r=c("v-icon"),u=c("v-button"),p=c("search-input"),f=c("v-info"),_=c("v-drawer"),v=$e("tooltip");return m(),C(Be(e.layoutWrapper),{selection:e.layoutSelection,"onUpdate:selection":t[3]||(t[3]=y=>e.layoutSelection=y),"layout-options":e.localOptions,"onUpdate:layout-options":t[4]||(t[4]=y=>e.localOptions=y),"layout-query":e.localQuery,"onUpdate:layout-query":t[5]||(t[5]=y=>e.localQuery=y),filter:e.layoutFilter,search:e.search,collection:e.collection,"select-mode":"","show-select":e.multiple?"multiple":"one"},{default:s(({layoutState:y})=>[o(_,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=h=>e.internalActive=h),title:e.t("select_item"),onCancel:e.cancel},{subtitle:s(()=>[o(i,{items:[{name:e.collectionInfo.name,disabled:!0}]},null,8,["items"])]),"title-outer:prepend":s(()=>[o(u,{class:"header-icon",rounded:"",icon:"",secondary:"",disabled:""},{default:s(()=>[o(r,{name:e.collectionInfo.icon,color:e.collectionInfo.color},null,8,["name","color"])]),_:1})]),"actions:prepend":s(()=>[(m(),C(Be(`layout-actions-${e.localLayout}`),Qe(et(y)),null,16))]),actions:s(()=>[o(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=h=>e.search=h),filter:e.presetFilter,"onUpdate:filter":t[1]||(t[1]=h=>e.presetFilter=h),collection:e.collection},null,8,["modelValue","filter","collection"]),x(o(u,{icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(r,{name:"check"})]),_:1},8,["onClick"]),[[v,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[(m(),C(Be(`layout-${e.localLayout}`),pt({class:"layout"},y),{"no-results":s(()=>[o(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),"no-items":s(()=>[o(f,{title:e.t("item_count",0),icon:e.collectionInfo.icon,center:""},null,8,["title","icon"])]),_:2},1040))]),_:2},1032,["modelValue","title","onCancel"])]),_:1},8,["selection","layout-options","layout-query","filter","search","collection","show-select"])}var sn=z(Pz,[["render",Oz],["__scopeId","data-v-8ea36c04"]]);const Lz=K({components:{DrawerCollection:sn},props:{multiple:{type:Boolean,default:!1},preset:{type:Object,default:()=>({})},fileId:{type:String,default:null},fromUrl:{type:Boolean,default:!1},fromLibrary:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{uploading:l,progress:a,upload:d,onBrowseSelect:i,done:r,numberOfFiles:u}=T(),{onDragEnter:p,onDragLeave:f,onDrop:_,dragging:v}=D(),{url:y,isValidURL:h,loading:g,importFromURL:b}=M(),{setSelection:$}=O(),A=E(null),V=F(()=>e.folder?{folder:{id:{_eq:e.folder}}}:null);return{t:n,uploading:l,progress:a,onDragEnter:p,onDragLeave:f,onDrop:_,dragging:v,onBrowseSelect:i,done:r,numberOfFiles:u,activeDialog:A,filterByFolder:V,url:y,isValidURL:h,urlLoading:g,importFromURL:b,setSelection:$};function T(){const L=E(!1),j=E(0),B=E(0),q=E(0);return{uploading:L,progress:j,upload:G,onBrowseSelect:Q,numberOfFiles:B,done:q};async function G(ce){L.value=!0,j.value=0;const J={};e.folder&&(J.folder=e.folder);try{if(B.value=ce.length,e.multiple===!0){const oe=await ci(Array.from(ce),{onProgressChange:_e=>{j.value=Math.round(_e.reduce((me,ee)=>me+=ee)/ce.length),q.value=_e.filter(me=>me===100).length},preset:fe(fe({},e.preset),J)});oe&&t("input",oe)}else{const oe=await ui(Array.from(ce)[0],{onProgressChange:_e=>{j.value=_e,q.value=_e===100?1:0},fileId:e.fileId,preset:fe(fe({},e.preset),J)});oe&&t("input",oe)}}catch(oe){Ie(oe)}finally{L.value=!1,q.value=0,B.value=0}}function Q(ce){var oe;const J=(oe=ce.target)==null?void 0:oe.files;J&&G(J)}}function D(){const L=E(!1);let j=0;return{onDragEnter:B,onDragLeave:q,onDrop:G,dragging:L};function B(){j++,j===1&&(L.value=!0)}function q(){j--,j===0&&(L.value=!1)}function G(Q){var J;j=0,L.value=!1;const ce=(J=Q.dataTransfer)==null?void 0:J.files;ce&&d(ce)}}function O(){return{setSelection:L};async function L(j){if(j[0]){const B=j[0],q=await pe.get(`/files/${B}`);t("input",q.data.data)}else t("input",null)}}function M(){const L=E(""),j=E(!1),B=F(()=>{try{return new URL(L.value),!0}catch{return!1}});return{url:L,loading:j,isValidURL:B,importFromURL:q};async function q(){j.value=!0;try{const G=await pe.post("/files/import",{url:L.value,data:{folder:e.folder}});rl.emit(Dn.upload),e.multiple?t("input",[G.data.data]):t("input",G.data.data),A.value=null,L.value=""}catch(G){Ie(G)}finally{j.value=!1}}}}}),jz={class:"type-label"},Rz={class:"type-text"},Mz={class:"type-label"},Uz={class:"type-text"},Nz={class:"type-label"},Bz={class:"type-text"},qz=["multiple"];function zz(e,t,n,l,a,d){const i=c("v-progress-linear"),r=c("v-icon"),u=c("v-list-item-icon"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu"),y=c("drawer-collection"),h=c("v-card-title"),g=c("v-input"),b=c("v-card-text"),$=c("v-button"),A=c("v-card-actions"),V=c("v-card"),T=c("v-dialog");return m(),I("div",{"data-dropzone":"",class:ue(["v-upload",{dragging:e.dragging,uploading:e.uploading}]),onDragenter:t[8]||(t[8]=De((...D)=>e.onDragEnter&&e.onDragEnter(...D),["prevent"])),onDragover:t[9]||(t[9]=De(()=>{},["prevent"])),onDragleave:t[10]||(t[10]=De((...D)=>e.onDragLeave&&e.onDragLeave(...D),["prevent"])),onDrop:t[11]||(t[11]=De((...D)=>e.onDrop&&e.onDrop(...D),["stop","prevent"]))},[e.dragging?(m(),I(ae,{key:0},[S("p",jz,w(e.t("drop_to_upload")),1),S("p",Rz,w(e.t("upload_pending")),1)],64)):e.uploading?(m(),I(ae,{key:1},[S("p",Mz,w(e.progress)+"%",1),S("p",Uz,w(e.multiple&&e.numberOfFiles>1?e.t("upload_files_indeterminate",{done:e.done,total:e.numberOfFiles}):e.t("upload_file_indeterminate")),1),o(i,{value:e.progress,rounded:""},null,8,["value"])],64)):(m(),I(ae,{key:2},[S("p",Nz,w(e.t("drag_file_here")),1),S("p",Bz,w(e.t("click_to_browse")),1),S("input",{class:"browse",type:"file",multiple:e.multiple,onInput:t[0]||(t[0]=(...D)=>e.onBrowseSelect&&e.onBrowseSelect(...D))},null,40,qz),e.fromUrl!==!1||e.fromLibrary!==!1?(m(),I(ae,{key:0},[o(v,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:D})=>[o(r,{clickable:"",class:"options",name:"more_vert",onClick:D},null,8,["onClick"])]),default:s(()=>[o(_,null,{default:s(()=>[e.fromLibrary?(m(),C(f,{key:0,clickable:"",onClick:t[1]||(t[1]=D=>e.activeDialog="choose")},{default:s(()=>[o(u,null,{default:s(()=>[o(r,{name:"folder_open"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("choose_from_library")),1)]),_:1})]),_:1})):R("",!0),e.fromUrl?(m(),C(f,{key:1,clickable:"",onClick:t[2]||(t[2]=D=>e.activeDialog="url")},{default:s(()=>[o(u,null,{default:s(()=>[o(r,{name:"link"})]),_:1}),o(p,null,{default:s(()=>[P(w(e.t("import_from_url")),1)]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),o(y,{collection:"directus_files",active:e.activeDialog==="choose",multiple:e.multiple,filter:e.filterByFolder,"onUpdate:active":t[3]||(t[3]=D=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","multiple","filter","onInput"]),o(T,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,onEsc:t[6]||(t[6]=D=>e.activeDialog=null),"onUpdate:modelValue":t[7]||(t[7]=D=>e.activeDialog=null)},{default:s(()=>[o(V,null,{default:s(()=>[o(h,null,{default:s(()=>[P(w(e.t("import_from_url")),1)]),_:1}),o(b,null,{default:s(()=>[o(g,{modelValue:e.url,"onUpdate:modelValue":t[4]||(t[4]=D=>e.url=D),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),o(A,null,{default:s(()=>[o($,{disabled:e.urlLoading,secondary:"",onClick:t[5]||(t[5]=D=>e.activeDialog=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["disabled"]),o($,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:s(()=>[P(w(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])],64)):R("",!0)],64))],34)}var Kz=z(Lz,[["render",zz],["__scopeId","data-v-25e58ef6"]]);async function Wz(){const e=new Date,t=Md(e),n=await Promise.all([...Array(7).keys()].map((r,u)=>Ft(Va(t,{days:u}),"E"))),l=await Promise.all([...Array(7).keys()].map((r,u)=>Ft(Va(t,{days:u}),"EEEE"))),a=await Promise.all([...Array(12).keys()].map((r,u)=>Ft(Cl(e,{month:u}),"LLL"))),d=await Promise.all([...Array(12).keys()].map((r,u)=>Ft(Cl(e,{month:u}),"LLLL"))),i=await Promise.all([Ft(Cl(e,{hours:0,minutes:0,seconds:0}),"a"),Ft(Cl(e,{hours:23,minutes:59,seconds:59}),"a")]);return{weekdays:{longhand:l,shorthand:n},months:{longhand:d,shorthand:a},amPM:i}}const Hz=K({props:{modelValue:{type:String,default:null},disabled:{type:Boolean,default:!1},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null);let a;st(async()=>{if(l.value){const f=await Wz();a=Ud(l.value,Fe(fe({},i.value),{locale:f}))}ge(()=>e.modelValue,()=>{e.modelValue?a==null||a.setDate(e.modelValue,!1):a==null||a.clear()},{immediate:!0})}),wl(()=>{a&&(a.close(),a=null)});const d={static:!0,inline:!0,nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></svg>',prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>',wrap:!0,onChange(f,_,v){const y=f.length>0?f[0]:null;r(y)},onClose(f,_,v){const y=f.length>0?f[0]:null;r(y)},onReady(f,_,v){var h,g,b;const y=document.createElement("button");y.innerHTML=n("interfaces.datetime.set_to_now"),y.classList.add("set-to-now-button"),y.tabIndex=-1,y.addEventListener("click",u),v.calendarContainer.appendChild(y),e.use24?e.includeSeconds?(g=v.secondElement)==null||g.addEventListener("keyup",p):(b=v.minuteElement)==null||b.addEventListener("keyup",p):(h=v.amPM)==null||h.addEventListener("keyup",p)}},i=F(()=>Object.assign({},d,{enableSeconds:e.includeSeconds,enableTime:["dateTime","time","timestamp"].includes(e.type),noCalendar:e.type==="time",time_24hr:e.use24}));function r(f){if(!f)return t("update:modelValue",null);switch(e.type){case"dateTime":t("update:modelValue",cn(f,"yyyy-MM-dd'T'HH:mm:ss"));break;case"date":t("update:modelValue",cn(f,"yyyy-MM-dd"));break;case"time":t("update:modelValue",cn(f,"HH:mm:ss"));break;case"timestamp":t("update:modelValue",xn(f));break}e.type==="date"&&t("close")}function u(){a==null||a.setDate(new Date,!0)}function p(f){f.key==="Enter"&&(a==null||a.close(),t("close"))}return{t:n,wrapper:l}}}),Gz={ref:"wrapper",class:"v-date-picker"},Zz=["placeholder"];function Jz(e,t,n,l,a,d){return m(),I("div",Gz,[S("input",{class:"input",type:"text",placeholder:e.t("enter_a_value"),"data-input":""},null,8,Zz)],512)}var Qz=z(Hz,[["render",Jz],["__scopeId","data-v-a97ee226"]]);function Xz(e){e.component("VAvatar",I9),e.component("VBadge",P9),e.component("VBreadcrumb",M9),e.component("VButton",q9),e.component("VCardActions",H9),e.component("VCardSubtitle",Q9),e.component("VCardText",ej),e.component("VCardTitle",oj),e.component("VCard",rj),e.component("VCheckbox",mj),e.component("VCheckboxTree",gj),e.component("VChip",$j),e.component("VDetail",Vj),e.component("VDialog",Ej),e.component("VDivider",jj),e.component("VError",rR),e.component("VFancySelect",vR),e.component("VFieldTemplate",FR),e.component("VFieldList",OR),e.component("VForm",oM),e.component("VHover",rM),e.component("VHighlight",uM),e.component("VIcon",VN),e.component("VInfo",TN),e.component("VInput",KN),e.component("VItemGroup",ZN),e.component("VItem",YN),e.component("VListGroup",lB),e.component("VListItemContent",rB),e.component("VListItemHint",uB),e.component("VListItemIcon",mB),e.component("VListItem",vB),e.component("VList",gB),e.component("VMenu",SB),e.component("VDrawer",lR),e.component("VNotice",FB),e.component("VOverlay",PB),e.component("VPagination",NB),e.component("VProgressCircular",WB),e.component("VProgressLinear",ZB),e.component("VRadio",xB),e.component("VSelect",pq),e.component("VSheet",vq),e.component("VSkeletonLoader",wq),e.component("VSlider",Dq),e.component("VSwitch",Mq),e.component("VTabItem",pz),e.component("VTab",_z),e.component("VTable",sz),e.component("VTabsItems",hz),e.component("VTabs",kz),e.component("VTemplateInput",Ya),e.component("VTextarea",Tz),e.component("VTextOverflow",Vz),e.component("VUpload",Kz),e.component("VDatePicker",Qz),e.component("TransitionBounce",g9),e.component("TransitionDialog",k9),e.component("TransitionExpand",V9),e.component("RenderDisplay",zL),e.component("RenderTemplate",YL),e.component("ExportSidebarDetail",Ja),e.component("SidebarDetail",o9),e.component("UserPopover",m9),e.component("ValueNull",on),e.component("DocsWrapper",v9)}const cs=(e,{value:t})=>{const{handler:n,middleware:l,events:a,disabled:d}=xz(t);ge(()=>t,i=>{JSON.stringify(i)!==JSON.stringify(t)&&ms(e,{value:i,oldValue:null})}),d!==!0&&(e.$clickOutsideHandlers=a.map(i=>({event:i,handler:r=>eK({event:r,el:e,handler:n,middleware:l})})),e.$clickOutsideHandlers.forEach(({event:i,handler:r})=>{setTimeout(()=>{!e.$clickOutsideHandlers||document.documentElement.addEventListener(i,r,!1)})}))},ps=e=>{(e.$clickOutsideHandlers||[]).forEach(({event:n,handler:l})=>{document.documentElement.removeEventListener(n,l,!1)})},ms=(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(ps(e),cs(e,{value:t}))},Yz={beforeMount:cs,unmounted:ps,updated:ms};function xz(e){const t=typeof e=="function";let n;if(t)n={handler:e,middleware:()=>!0,events:["pointerdown"],disabled:!1};else{const l=e;n={handler:l.handler||(()=>{}),middleware:l.middleware||(()=>!0),events:l.events||["pointerdown"],disabled:l.disabled!==void 0?!!l.disabled:!1}}return n}function eK({el:e,event:t,handler:n,middleware:l}){t.stopPropagation();const a=t.composedPath();(a?a.indexOf(e)<0:e.contains(t.target)===!1)!==!1&&l(t)&&n(t)}function tK(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.addEventListener("contextmenu",fs(n)),document.documentElement.addEventListener("pointerdown",_s(n))}function nK(e,t){var l;const n=(l=t.instance)==null?void 0:l.$refs[t.value];e.removeEventListener("contextmenu",fs(n)),document.documentElement.removeEventListener("pointerdown",_s(n))}const lK={mounted:tK,unmounted:nK};function fs(e){return t=>{t.stopPropagation(),t.preventDefault(),!!e&&e.activate(t)}}function _s(e){return t=>{!e||t.composedPath().find(l=>l.id===e.id)||e.deactivate(t)}}const oK={mounted(e,t){t.value?e.focus():e.blur()}},aK=300,Jl={};function ea(e,t){t.value&&(e.dataset.tooltip=$t(),Jl[e.dataset.tooltip]=rK(e,t),e.addEventListener("mouseenter",Jl[e.dataset.tooltip]),e.addEventListener("mouseleave",vs))}function ta(e){e.removeEventListener("mouseenter",Jl[e.dataset.tooltip]),e.removeEventListener("mouseleave",vs),clearTimeout(Ql),na().classList.remove("visible"),delete Jl[e.dataset.tooltip]}const iK={beforeMount:ea,unmounted:ta,updated(e,t){t.value&&!t.oldValue?ea(e,t):!t.value&&t.oldValue?ta(e):(ta(e),ea(e,t))}};let Ql;function rK(e,t){return()=>{const n=na();t.modifiers.instant?(hs(n),ys(e,t,n)):(clearTimeout(Ql),Ql=window.setTimeout(()=>{hs(n),ys(e,t,n)},aK))}}function vs(){const e=na();clearTimeout(Ql),sK(e)}function ys(e,t,n){var f;const l=10,a=20,d=e.getBoundingClientRect();let i=d.top+pageYOffset,r=d.left+pageXOffset,u;n.innerText=t.value,n.classList.remove("top","bottom","left","right","start","end");let p=(f=t.arg)!=null?f:"top";"top"in t.modifiers&&(p="top"),"right"in t.modifiers&&(p="right"),"bottom"in t.modifiers&&(p="bottom"),"left"in t.modifiers&&(p="left"),t.modifiers.inverted?n.classList.add("inverted"):n.classList.remove("inverted"),t.modifiers.monospace&&n.classList.add("monospace"),p==="bottom"?(t.modifiers.start?(r+=a,u=100,n.classList.add("start")):t.modifiers.end?(r+=d.width-a,u=0,n.classList.add("end")):(r+=d.width/2,u=50),i+=d.height+l,n.style.transform=`translate(calc(${r}px - ${u}%), ${i}px)`,n.classList.add("bottom")):p==="left"?(t.modifiers.start?(i+=a,u=100,n.classList.add("start")):t.modifiers.end?(i+=d.height-a,u=0,n.classList.add("end")):(i+=d.height/2,u=50),r-=l,n.style.transform=`translate(calc(${r}px - 100%), calc(${i}px - ${u}%))`,n.classList.add("left")):p==="right"?(t.modifiers.start?(i+=a,u=100,n.classList.add("start")):t.modifiers.end?(i+=d.height-a,u=0,n.classList.add("end")):(i+=d.height/2,u=50),r+=d.width+l,n.style.transform=`translate(${r}px, calc(${i}px - ${u}%))`,n.classList.add("right")):(t.modifiers.start?(r+=a,u=100,n.classList.add("start")):t.modifiers.end?(r+=d.width-a,u=0,n.classList.add("end")):(r+=d.width/2,u=50),i-=l,n.style.transform=`translate(calc(${r}px - ${u}%), calc(${i}px - 100%))`,n.classList.add("top"))}function hs(e){e.classList.add("visible","enter"),e.classList.remove("leave","leave-active"),setTimeout(()=>{e.classList.contains("enter")!==!1&&(e.classList.add("enter-active"),e.classList.remove("enter"))},1),setTimeout(()=>{e.classList.remove("enter-active")},200)}function sK(e){e.classList.contains("visible")!==!1&&(e.classList.add("visible","leave"),e.classList.remove("enter","enter-active"),setTimeout(()=>{e.classList.contains("leave")!==!1&&(e.classList.add("leave-active"),e.classList.remove("leave"))},1),setTimeout(()=>{e.classList.contains("leave-active")!==!1&&(e.classList.remove("leave-active"),e.classList.remove("visible"))},200))}function na(){let e=document.getElementById("tooltip");return e instanceof HTMLElement||(e=document.createElement("div"),e.id="tooltip",document.body.appendChild(e)),e}const dK={beforeMount(e,t){var n;e.innerHTML=ql((n=t.value)!=null?n:"")},updated(e,t){var n;e.innerHTML=ql((n=t.value)!=null?n:"")}};function uK(e){e.directive("click-outside",Yz),e.directive("context-menu",lK),e.directive("focus",oK),e.directive("tooltip",iK),e.directive("md",dK)}const cK=K({props:{showHeader:{type:Boolean,default:!1},text:{type:String,default:""},color:{type:String,default:void 0}}});function pK(e,t,n,l,a,d){return m(),I("div",{class:ue(["label type-title selectable",{"has-header":e.showHeader}]),style:We({color:e.color})},w(e.text),7)}var mK=z(cK,[["render",pK],["__scopeId","data-v-b5689fe6"]]),fK=Vl({id:"label",name:"$t:panels.label.name",description:"$t:panels.label.description",icon:"title",component:mK,options:[{field:"text",name:"$t:label",type:"string",meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half",options:{placeholder:"$t:automatic"}}}],minWidth:8,minHeight:6}),_K=Object.freeze(Object.defineProperty({__proto__:null,default:fK},Symbol.toStringTag,{value:"Module"}));function dn(e,t){const n=Oe();return e.map(a=>{var u,p,f;const d=n.getField(t,a);if(!d||((u=d.meta)==null?void 0:u.display)===null)return a;const i=el((p=d.meta)==null?void 0:p.display);if(!i||!(i==null?void 0:i.fields))return a;let r=null;return Array.isArray(i.fields)&&(r=i.fields.map(_=>`${a}.${_}`)),typeof i.fields=="function"&&(r=i.fields((f=d.meta)==null?void 0:f.display_options,{collection:d.collection,field:d.field,type:d.type}).map(_=>`${a}.${_}`)),r?r.map(_=>_.includes("$thumbnail")&&d.collection==="directus_files"?_.split(".").filter(v=>v!=="$thumbnail").join("."):_):a}).flat()}const vK=K({components:{DrawerItem:Kt},props:{showHeader:{type:Boolean,default:!1},displayTemplate:{type:String,default:""},sortField:{type:String,default:void 0},sortDirection:{type:String,default:"desc"},collection:{type:String,required:!0},limit:{type:Number,default:5},filter:{type:Object,default:()=>({})}},setup(e){const{t}=Y(),n=E(),l=E(),a=Oe(),d=E([]),i=E(!1),r=E(),u=F(()=>d.value&&d.value.length>0),p=F(()=>e.displayTemplate),f=F(()=>a.getPrimaryKeyFieldForCollection(e.collection));return no(async()=>await _()),{list:d,loading:i,renderTemplate:p,primaryKeyField:f,startEditing:v,saveEdits:y,cancelEdit:h,currentlyEditing:n,editsAtStart:l,hasData:u,t};async function _(){var g;if(!!e){i.value=!0;try{const b=e.sortField,$=await pe.get(zt(e.collection),{params:{fields:[f.value.field,...dn(St(p.value),e.collection)],filter:e.filter,sort:e.sortDirection==="desc"?`-${b}`:b,limit:(g=e.limit)!=null?g:5}});d.value=$.data.data}catch(b){r.value=b,Ie(b)}finally{i.value=!1}}}function v(g){n.value=g[f.value.field],l.value=g}async function y(g){try{await pe.patch(`/items/${e.collection}/${n.value}`,g)}catch(b){Ie(b)}await _()}function h(){l.value=void 0,n.value=void 0}}}),yK=e=>(Xe("data-v-2e679585"),e=e(),Ye(),e),hK={key:1,class:"type-note"},gK={key:2},bK=yK(()=>S("div",{class:"spacer"},null,-1));function wK(e,t,n,l,a,d){var _;const i=c("v-progress-circular"),r=c("render-template"),u=c("v-list-item"),p=c("v-list"),f=c("drawer-item");return m(),I("div",{class:ue(["list",{"has-header":e.showHeader,loading:e.loading,"no-data":!e.hasData}])},[e.loading?(m(),C(i,{key:0,indeterminate:""})):e.hasData?(m(),I("div",gK,[o(p,null,{default:s(()=>[(m(!0),I(ae,null,we(e.list,v=>(m(),C(u,{key:v[e.primaryKeyField.field],class:"selectable",clickable:"",onClick:y=>e.startEditing(v)},{default:s(()=>[o(r,{item:v,collection:e.collection,template:e.renderTemplate},null,8,["item","collection","template"]),bK]),_:2},1032,["onClick"]))),128))]),_:1})])):(m(),I("span",hK,w(e.t("no_data")),1)),o(f,{active:!!e.currentlyEditing,collection:e.collection,"primary-key":(_=e.currentlyEditing)!=null?_:"+",edits:e.editsAtStart,onInput:e.saveEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","onInput","onUpdate:active"])],2)}var kK=z(vK,[["render",wK],["__scopeId","data-v-2e679585"]]),$K=Vl({id:"list",name:"$t:panels.list.name",description:"$t:panels.list.description",icon:"list",component:kK,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"limit",type:"integer",name:"$t:limit",schema:{default_value:5},meta:{interface:"input",width:"half"}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"sortDirection",type:"string",name:"$t:sort_direction",schema:{default_value:"desc"},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:sort_asc",value:"asc"},{text:"$t:sort_desc",value:"desc"}]},width:"half"}},{field:"displayTemplate",name:"$t:display_template",type:"string",meta:{interface:"system-display-template",width:"full",options:{collectionField:"collection",placeholder:"{{ field }}"}}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}}],minWidth:12,minHeight:6}),SK=Object.freeze(Object.defineProperty({__proto__:null,default:$K},Symbol.toStringTag,{value:"Module"}));const CK=K({props:{showHeader:{type:Boolean,default:!1},abbreviate:{type:Boolean,default:!1},sortField:{type:String,default:void 0},collection:{type:String,required:!0},field:{type:String,required:!0},function:{type:String,required:!0},filter:{type:Object,default:()=>({})},decimals:{type:Number,default:0},conditionalFormatting:{type:Array,default:()=>[]},prefix:{type:String,default:null},suffix:{type:String,default:null}},setup(e){const{n:t}=Y(),n=E(),l=E(!1);no(async()=>{const i=["first","last"].includes(e.function);l.value=!0;try{const r=e.sortField&&`${e.function==="last"?"-":""}${e.sortField}`,u=i?void 0:{[e.function]:[e.field||"*"]},p=await pe.get(zt(e.collection),{params:{aggregate:u,filter:e.filter,sort:r,limit:1,fields:[e.field]}});e.field?e.function==="first"||e.function==="last"?typeof p.data.data[0][e.field]=="string"?n.value=p.data.data[0][e.field]:n.value=Number(p.data.data[0][e.field]):n.value=Number(p.data.data[0][e.function][e.field]):n.value=Number(p.data.data[0][e.function])}catch{}finally{l.value=!1}});const a=F(()=>{var i,r,u;return N.exports.isNil(n.value)?null:e.abbreviate?bo(n.value,(i=e.decimals)!=null?i:0):typeof n.value=="string"?n.value:t(Number(n.value),"decimal",{minimumFractionDigits:(r=e.decimals)!=null?r:0,maximumFractionDigits:(u=e.decimals)!=null?u:0})}),d=F(()=>{if(N.exports.isNil(n.value))return null;let i=null;for(const u of e.conditionalFormatting||[])r(u)&&(i=u);return i?i.color||nt("--primary"):null;function r(u){var _;const p=Number(n.value),f=Number((_=u.value)!=null?_:0);switch(u.operator||">="){case"=":return p===f;case"!=":return p!==f;case">":return p>f;case">=":return p>=f;case"<":return p<f;case"<=":return p<f}}});return{metric:n,loading:l,displayValue:a,color:d}}}),VK={class:"prefix"},FK={class:"value"},AK={class:"suffix"};function IK(e,t,n,l,a,d){const i=c("v-progress-circular");return m(),I("div",{class:ue(["metric type-title selectable",{"has-header":e.showHeader}])},[e.loading?(m(),C(i,{key:0,indeterminate:""})):(m(),I("div",{key:1,style:We({color:e.color})},[S("span",VK,w(e.prefix),1),S("span",FK,w(e.displayValue),1),S("span",AK,w(e.suffix),1)],4))],2)}var EK=z(CK,[["render",IK],["__scopeId","data-v-5935b504"]]),DK=Vl({id:"metric",name:"$t:panels.metric.name",description:"$t:panels.metric.description",icon:"functions",component:EK,options:({options:e})=>{const t=Oe(),n=F(()=>{var a;return(e==null?void 0:e.collection)&&(e==null?void 0:e.field)?(a=t.getField(e.collection,e.field))==null?void 0:a.type:null}),l=F(()=>n.value?["integer","bigInteger","float","decimal"].includes(n.value):!1);return[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},selectedCollection:"",hasBeenSelected:!1,width:"half"}},{field:"field",type:"string",name:"$t:panels.metric.field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,allowNone:!0},width:"half"}},{field:"function",type:"string",name:"$t:aggregate_function",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count",disabled:!1},{text:"First",value:"first",disabled:!1},{text:"Last",value:"last",disabled:!1},{divider:!0},{text:"Count (Distinct)",value:"countDistinct",disabled:!l.value},{text:"Average",value:"avg",disabled:!l.value},{text:"Average (Distinct)",value:"avgDistinct",disabled:!l.value},{text:"Sum",value:"sum",disabled:!l.value},{text:"Sum (Distinct)",value:"sumDistinct",disabled:!l.value},{text:"Minimum",value:"min",disabled:!l.value},{text:"Maximum",value:"max",disabled:!l.value}]}}},{field:"sortField",type:"string",name:"$t:sort_field",meta:{interface:"system-field",options:{collectionField:"collection",allowPrimaryKey:!0,placeholder:"$t:primary_key"},width:"half"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"styleDivider",type:"alias",meta:{interface:"presentation-divider",options:{icon:"style",title:"Style & Format"},special:["alias","no-data"]}},{field:"abbreviate",type:"boolean",name:"$t:abbreviate_value",schema:{default_value:!1},meta:{interface:"boolean",width:"half"}},{field:"decimals",type:"integer",name:"$t:decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix_placeholder",trim:!1}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix_placeholder",trim:!1}}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{color}} {{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:">="},meta:{interface:"select-dropdown",options:{choices:[{text:"$t:operators.eq",value:"="},{text:"$t:operators.neq",value:"!="},{text:"$t:operators.gt",value:">"},{text:"$t:operators.gte",value:">="},{text:"$t:operators.lt",value:"<"},{text:"$t:operators.lte",value:"<="}]},width:"half"}},{field:"value",name:"$t:value",type:"integer",schema:{default_value:0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",display:"color"}}]}}}]},minWidth:8,minHeight:6}),TK=Object.freeze(Object.defineProperty({__proto__:null,default:DK},Symbol.toStringTag,{value:"Module"}));function PK(e,t){e=N.exports.clone(e);const n=t.startsWith("-");(n||t.startsWith("+"))&&(t=t.substring(1));const l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mth|mo|years?|yrs?|y)?$/i.exec(t);if(!l)return;const a=parseFloat(l[1]);switch((l[2]||"days").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n?Yd(e,a):xd(e,a);case"months":case"month":case"mth":case"mo":return n?Qd(e,a):Xd(e,a);case"weeks":case"week":case"w":return n?Jd(e,a):Fa(e,a);case"days":case"day":case"d":return n?ga(e,a):Zd(e,a);case"hours":case"hour":case"hrs":case"hr":case"h":return n?Hd(e,a):Gd(e,a);case"minutes":case"minute":case"mins":case"min":case"m":return n?Kd(e,a):Wd(e,a);case"seconds":case"second":case"secs":case"sec":case"s":return n?qd(e,a):zd(e,a);case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n?Nd(e,a):Bd(e,a);default:return}}const OK=K({props:{height:{type:Number,required:!0},showHeader:{type:Boolean,default:!1},id:{type:String,required:!0},dashboard:{type:String,required:!0},now:{type:Date,required:!0},collection:{type:String,required:!0},dateField:{type:String,required:!0},valueField:{type:String,required:!0},function:{type:String,required:!0},precision:{type:String,default:"hour"},range:{type:String,default:"1 week"},color:{type:String,default:nt("--primary")},fillType:{type:String,default:"gradient"},curveType:{type:String,default:"smooth"},decimals:{type:Number,default:0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},filter:{type:Object,default:()=>({})},showXAxis:{type:Boolean,default:!0},showYAxis:{type:Boolean,default:!0}},setup(e){const{d:t,t:n,n:l}=Y(),a=Oe(),d=E([]),i=E(!1),r=E(),u=E(),p=E(),f=F(()=>{const y=a.getField(e.collection,e.valueField),h=n(e.function);return`${y.name} (${h})`});return ge([()=>e.collection,()=>e.dateField,()=>e.valueField,()=>e.function,()=>e.precision,()=>e.range,()=>e.color,()=>e.fillType,()=>e.curveType,()=>e.decimals,()=>e.min,()=>e.max,()=>e.filter,()=>e.showXAxis,()=>e.showYAxis],()=>{var y;_(),(y=p.value)==null||y.destroy(),v()},{deep:!0}),_(),st(v),Dt(()=>{var y;(y=p.value)==null||y.destroy()}),{chartEl:u,metrics:d,loading:i,error:r};async function _(){var g;i.value=!0;try{const b=await pe.get(zt(e.collection),{params:{groupBy:h(),aggregate:{[e.function]:[e.valueField]},filter:{_and:[{[e.dateField]:{_gte:`$NOW(-${e.range||"1 week"})`}},{[e.dateField]:{_lte:"$NOW"}},e.filter||{}]},limit:-1}});d.value=b.data.data,(g=p.value)==null||g.updateSeries([{name:e.collection,data:d.value.map($=>{var A;return{x:y($),y:Number(Number($[e.function][e.valueField]).toFixed((A=e.decimals)!=null?A:0))}})}])}catch(b){r.value=b}finally{i.value=!1}function y(b){var B,q,G,Q,ce;const $=b[`${e.dateField}_year`],A=L((B=b[`${e.dateField}_month`])!=null?B:1),V=b[`${e.dateField}_week`],T=L(V?j(V,$):(q=b[`${e.dateField}_day`])!=null?q:1),D=L((G=b[`${e.dateField}_hour`])!=null?G:0),O=L((Q=b[`${e.dateField}_minute`])!=null?Q:0),M=L((ce=b[`${e.dateField}_second`])!=null?ce:0);return`${$}-${A}-${T}T${D}:${O}:${M}`;function L(J){return String(J).padStart(2,"0")}function j(J,oe){return Fa(new Date(oe,0,1),J).getDate()}}function h(){let b=[];switch(e.precision||"hour"){case"year":b=["year"];break;case"month":b=["year","month"];break;case"week":b=["year","month","week"];break;case"day":b=["year","month","day"];break;case"hour":b=["year","month","day","hour"];break;case"minute":b=["year","month","day","hour","minute"];break;case"second":b=["year","month","day","hour","minute","second"];break;default:b=["year","month","day","hour"];break}return b.map($=>`${$}(${e.dateField})`)}}function v(){var y,h;p.value=new eu(u.value,{colors:[e.color?e.color:nt("--primary")],chart:{type:e.fillType==="disabled"?"line":"area",height:"100%",toolbar:{show:!1},selection:{enabled:!1},zoom:{enabled:!1},fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)"},series:[],stroke:{curve:e.curveType,width:2,lineCap:"round"},markers:{hover:{size:void 0,sizeOffset:4}},fill:{type:e.fillType==="disabled"?"solid":e.fillType,gradient:{colorStops:[[{offset:0,color:e.color?e.color:nt("--primary"),opacity:.25},{offset:100,color:e.color?e.color:nt("--primary"),opacity:0}]]}},grid:{borderColor:"var(--border-subdued)",padding:{top:e.showHeader?-20:-4,bottom:0,left:8}},dataLabels:{enabled:!1},tooltip:{marker:{show:!1},x:{show:!0,formatter(g){return t(new Date(g),"long")}},y:{title:{formatter:()=>f.value+": "},formatter(g){return l(g)}}},xaxis:{type:"datetime",tooltip:{enabled:!1},axisTicks:{show:!1},axisBorder:{show:!1},range:e.now.getTime()-PK(e.now,`-${e.range}`).getTime(),max:e.now.getTime(),labels:{show:(y=e.showXAxis)!=null?y:!0,offsetY:-4,style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}},crosshairs:{stroke:{color:"var(--border-normal)"}}},yaxis:{show:(h=e.showYAxis)!=null?h:!0,forceNiceScale:!0,min:N.exports.isNil(e.min)?void 0:Number(e.min),max:N.exports.isNil(e.max)?void 0:Number(e.max),tickAmount:e.height-4,labels:{offsetY:1,offsetX:-4,formatter:g=>{var b,$;return g>1e4?bo(g,1):l(g,"decimal",{minimumFractionDigits:(b=e.decimals)!=null?b:0,maximumFractionDigits:($=e.decimals)!=null?$:0})},style:{fontFamily:"var(--family-sans-serif)",foreColor:"var(--foreground-subdued)",fontWeight:600,fontSize:"10px"}}}}),p.value.render()}}}),LK={ref:"chartEl",class:"time-series"};function jK(e,t,n,l,a,d){return m(),I("div",LK,null,512)}var RK=z(OK,[["render",jK],["__scopeId","data-v-b66a2288"]]),MK=Vl({id:"time-series",name:"$t:panels.time_series.name",description:"$t:panels.time_series.description",icon:"show_chart",component:RK,options:[{field:"collection",type:"string",name:"$t:collection",meta:{interface:"system-collection",options:{includeSystem:!0},width:"half"}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"function",type:"string",name:"$t:group_aggregation",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Count",value:"count"},{text:"Count (Distinct)",value:"countDistinct"},{text:"Average",value:"avg"},{text:"Average (Distinct)",value:"avgDistinct"},{text:"Sum",value:"sum"},{text:"Sum (Distinct)",value:"sumDistinct"},{text:"Minimum",value:"min"},{text:"Maximum",value:"max"}]}}},{field:"precision",type:"string",name:"$t:group_precision",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Second",value:"second"},{text:"Minute",value:"minute"},{text:"Hour",value:"hour"},{text:"Day",value:"day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Year",value:"year"}]}},schema:{default_value:"hour"}},{field:"dateField",type:"string",name:"$t:panels.time_series.date_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["date","dateTime","timestamp"]},width:"half"}},{field:"range",type:"dropdown",name:"$t:date_range",schema:{default_value:"1 week"},meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Past 5 Minutes",value:"5 minutes"},{text:"Past 15 Minutes",value:"15 minutes"},{text:"Past 30 Minutes",value:"30 minutes"},{text:"Past 1 Hour",value:"1 hour"},{text:"Past 4 Hours",value:"4 hours"},{text:"Past 1 Day",value:"1 day"},{text:"Past 2 Days",value:"2 days"},{text:"Past 1 Week",value:"1 week"},{text:"Past 1 Month",value:"1 month"},{text:"Past 3 Months",value:"3 months"}],allowOther:!0}}},{field:"valueField",type:"string",name:"$t:panels.time_series.value_field",meta:{interface:"system-field",options:{collectionField:"collection",typeAllowList:["integer","bigInteger","float","decimal"]},width:"half"}},{field:"decimals",type:"integer",name:"$t:value_decimals",meta:{interface:"input",width:"half",options:{placeholder:"$t:decimals_placeholder"}},schema:{default_value:0}},{field:"min",type:"integer",name:"$t:min_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"max",type:"integer",name:"$t:max_value",meta:{interface:"input",width:"half",options:{placeholder:"$t:automatic"}}},{field:"curveType",type:"string",name:"$t:panels.time_series.curve_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Smooth",value:"smooth"},{text:"Straight",value:"straight"},{text:"Stepline",value:"stepline"}]}},schema:{default_value:"smooth"}},{field:"fillType",type:"string",name:"$t:panels.time_series.fill_type",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"Gradient",value:"gradient"},{text:"Solid",value:"solid"},{text:"Disabled",value:"disabled"}]}},schema:{default_value:"gradient"}},{field:"filter",type:"json",name:"$t:filter",meta:{interface:"system-filter",options:{collectionField:"collection"}}},{field:"showXAxis",type:"boolean",name:"$t:show_x_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}},{field:"showYAxis",type:"boolean",name:"$t:show_y_axis",meta:{interface:"boolean",width:"half"},schema:{default_value:!0}}],minWidth:12,minHeight:6}),UK=Object.freeze(Object.defineProperty({__proto__:null,default:MK},Symbol.toStringTag,{value:"Module"}));const{panelsRaw:gs}=tl();async function NK(e){const n=Object.values({"./label/index.ts":_K,"./list/index.ts":SK,"./metric/index.ts":TK,"./time-series/index.ts":UK}).map(l=>l.default);try{const l=await U(()=>import(`${Ze()}extensions/panels/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom panels"),console.warn(l)}gs.value=n,gs.value.forEach(l=>{e.component(`panel-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`panel-options-${l.id}`,l.options)})}const BK=K({props:{value:{type:Boolean,default:!1},labelOn:{type:String,default:null},labelOff:{type:String,default:null},iconOn:{type:String,default:"check"},iconOff:{type:String,default:"close"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},setup(e){return{styles:F(()=>{const n={};return e.colorOn!==null&&e.colorOff!==null&&(n.color=e.value?e.colorOn:e.colorOff,n["--v-icon-color"]=e.value?e.colorOn:e.colorOff),n})}}}),qK={key:1};function zK(e,t,n,l,a,d){const i=c("value-null"),r=c("v-icon");return m(),I("div",{class:"boolean",style:We(e.styles)},[e.value===null?(m(),C(i,{key:0})):(m(),I(ae,{key:1},[e.iconOn!==null&&e.iconOff!==null?(m(),C(r,{key:0,name:e.value?e.iconOn:e.iconOff},null,8,["name"])):R("",!0),e.labelOn!==null&&e.labelOff!==null?(m(),I("span",qK,w(e.value?e.labelOn:e.labelOff),1)):R("",!0)],64))],4)}var KK=z(BK,[["render",zK],["__scopeId","data-v-f75cb4b2"]]),WK=Ct({id:"boolean",name:"$t:displays.boolean.boolean",description:"$t:displays.boolean.description",types:["boolean"],icon:"check_box",component:KK,options:[{field:"labelOn",name:"$t:displays.boolean.label_on",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.boolean.label_on_placeholder"}}},{field:"labelOff",name:"$t:displays.boolean.label_off",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.boolean.label_off_placeholder"}}},{field:"iconOn",name:"$t:displays.boolean.icon_on",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"check"}},{field:"iconOff",name:"$t:displays.boolean.icon_off",type:"string",meta:{interface:"select-icon",width:"half"},schema:{default_value:"close"}},{field:"colorOn",name:"$t:displays.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:displays.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}}]}),HK=Object.freeze(Object.defineProperty({__proto__:null,default:WK},Symbol.toStringTag,{value:"Module"}));const GK=K({props:{value:{type:String,default:null},icon:{type:Boolean,default:!1}},setup(e){const t=ze(e).value,{info:n}=rt(t);return{info:n}}}),ZK={key:1};function JK(e,t,n,l,a,d){const i=c("value-null"),r=c("v-icon");return e.value===null||!e.info?(m(),C(i,{key:0})):(m(),I("div",ZK,[e.icon?(m(),C(r,{key:0,name:e.info.icon,left:"",small:""},null,8,["name"])):R("",!0),P(" "+w(e.info.name),1)]))}var QK=z(GK,[["render",JK]]),XK=Ct({id:"collection",name:"$t:displays.collection.collection",description:"$t:displays.collection.description",types:["string"],icon:"label",component:QK,options:[{field:"icon",name:"$t:icon",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.collection.icon_label"}},schema:{default_value:!1}}]}),YK=Object.freeze(Object.defineProperty({__proto__:null,default:XK},Symbol.toStringTag,{value:"Module"}));function la(e){return/^#(([a-f\d]{2}){3,4})$/i.test(e)}const xK=K({props:{value:{type:String,default:null},defaultColor:{type:String,default:"#B0BEC5",validator:e=>e===null||la(e)||e.startsWith("var(--")}},setup(e){const t=F(()=>e.value),n=F(()=>{var f,_;const a=((f=e.defaultColor)==null?void 0:f.startsWith("var("))?l(e.defaultColor):e.defaultColor,d=((_=e.value)==null?void 0:_.startsWith("var("))?l(e.value):e.value,i={"background-color":a};d!==null&&(i["background-color"]=d);const r=l("var(--background-page)"),u=jt(r);return(d===null?jt(a):jt(d)).contrast(u)<1.1&&(i.border="1px solid var(--border-normal)"),i});return{displayValue:t,styles:n};function l(a){return getComputedStyle(document.body).getPropertyValue(a.slice(4,-1)).trim()}}}),eW={class:"color-dot"};function tW(e,t,n,l,a,d){const i=c("value-null");return m(),I("div",eW,[e.value===null&&e.defaultColor===null?(m(),C(i,{key:0})):R("",!0),S("div",{class:"dot",style:We(e.styles)},null,4)])}var nW=z(xK,[["render",tW],["__scopeId","data-v-37c4bfe4"]]),lW=Ct({id:"color",name:"$t:displays.color.color",description:"$t:displays.color.description",types:["string"],icon:"flag",component:nW,options:[{field:"defaultColor",name:"$t:displays.color.default_color",type:"string",meta:{interface:"select-color",width:"half"},schema:{default_value:"#B0BEC5"}}]}),oW=Object.freeze(Object.defineProperty({__proto__:null,default:lW},Symbol.toStringTag,{value:"Module"}));const aW=async(e,t,n)=>tu(e,t,Fe(fe({},n),{locale:await Xa()}));const iW=K({props:{value:{type:String,required:!0},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},format:{type:String,default:"long"},relative:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=F(()=>e.value?e.type==="timestamp"?Aa(e.value):e.type==="dateTime"?bn(e.value,"yyyy-MM-dd'T'HH:mm:ss",new Date):e.type==="date"?bn(e.value,"yyyy-MM-dd",new Date):e.type==="time"?bn(e.value,"HH:mm:ss",new Date):null:null),l=E(null);return ge(n,async a=>{if(a===null){l.value=null;return}if(e.relative)l.value=await aW(a,new Date,{addSuffix:!0});else{let d;e.format==="long"?(d=`${t("date-fns_date")} ${t("date-fns_time")}`,e.type==="date"&&(d=String(t("date-fns_date"))),e.type==="time"&&(d=String(t("date-fns_time")))):e.format==="short"?(d=`${t("date-fns_date_short")} ${t("date-fns_time_short")}`,e.type==="date"&&(d=String(t("date-fns_date_short"))),e.type==="time"&&(d=String(t("date-fns_time_short")))):d=e.format,l.value=await Ft(a,d)}},{immediate:!0}),{displayValue:l}}}),rW={class:"datetime"};function sW(e,t,n,l,a,d){return m(),I("span",rW,w(e.displayValue),1)}var dW=z(iW,[["render",sW],["__scopeId","data-v-7df33e0f"]]),uW=Ct({id:"datetime",name:"$t:displays.datetime.datetime",description:"$t:displays.datetime.description",icon:"query_builder",component:dW,options:[{field:"format",name:"$t:displays.datetime.format",type:"string",meta:{interface:"select-dropdown",width:"half",options:{choices:[{text:"$t:displays.datetime.long",value:"long"},{text:"$t:displays.datetime.short",value:"short"}],allowOther:!0},note:"$t:displays.datetime.format_note"},schema:{default_value:"long"}},{field:"relative",name:"$t:displays.datetime.relative",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.datetime.relative_label"}},schema:{default_value:!1}}],types:["dateTime","date","time","timestamp"]}),cW=Object.freeze(Object.defineProperty({__proto__:null,default:uW},Symbol.toStringTag,{value:"Module"}));const pW=K({props:{value:{type:Object,default:null}},setup(e){const t=E(),n=E(!1),l=F(()=>e.value?Bn(e.value.type,!0):null),a=F(()=>e.value?e.value.type.includes("svg")?dt(Ze()+`assets/${e.value.id}`):e.value.type.includes("image")===!1?null:dt(Ze()+`assets/${e.value.id}?key=system-small-cover`):null),{height:d}=Sn(t);return{fileExtension:l,imageThumbnail:a,previewEl:t,height:d,imgError:n}}}),mW=["src","alt"],fW={key:1,ref:"previewEl",class:"preview"},_W={key:0,class:"extension"};function vW(e,t,n,l,a,d){const i=c("v-icon");return e.imageThumbnail&&!e.imgError?(m(),I("img",{key:0,src:e.imageThumbnail,class:ue({"is-svg":e.value&&e.value.type.includes("svg")}),alt:e.value.title,onError:t[0]||(t[0]=r=>e.imgError=!0)},null,42,mW)):(m(),I("div",fW,[e.fileExtension?(m(),I("span",_W,w(e.fileExtension),1)):(m(),C(i,{key:1,name:"folder_open"}))],512))}var yW=z(pW,[["render",vW],["__scopeId","data-v-3d2d9adb"]]),hW=Ct({id:"file",name:"$t:displays.file.file",description:"$t:displays.file.description",icon:"insert_drive_file",component:yW,types:["uuid"],localTypes:["file"],options:[],fields:["id","type","title"]}),gW=Object.freeze(Object.defineProperty({__proto__:null,default:hW},Symbol.toStringTag,{value:"Module"})),bW=Ct({id:"filesize",name:"$t:displays.filesize.filesize",description:"$t:displays.filesize.description",icon:"description",component:({value:e})=>Bl(e),options:[],types:["integer","bigInteger"]}),wW=Object.freeze(Object.defineProperty({__proto__:null,default:bW},Symbol.toStringTag,{value:"Module"}));const kW=K({props:{value:{type:[Object,Array],default:null},format:{type:String,default:null}},setup(e){const{t}=Y(),n=F(()=>{if(!e.value)return null;try{return Array.isArray(e.value)?e.value.map(a=>l(a)):[l(e.value)]}catch{return null}});function l(a){return e.format?xt(e.format,a):xt("{{ value }}",{value:a})}return{displayValue:n,t}}}),$W=["onClick"],SW={class:"label"},CW={key:2};function VW(e,t,n,l,a,d){const i=c("value-null"),r=c("v-list-item-content"),u=c("v-list-item"),p=c("v-list"),f=c("v-menu");return e.displayValue?e.displayValue.length>1?(m(),C(f,{key:1,"show-arrow":""},{activator:s(({toggle:_})=>[S("span",{class:"toggle",onClick:De(_,["stop"])},[S("span",SW,w(e.displayValue.length)+" "+w(e.t("items")),1)],8,$W)]),default:s(()=>[o(p,{class:"links"},{default:s(()=>[(m(!0),I(ae,null,we(e.displayValue,(_,v)=>(m(),C(u,{key:v},{default:s(()=>[o(r,null,{default:s(()=>[P(w(_),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),I("span",CW,w(e.displayValue[0]),1)):(m(),C(i,{key:0}))}var FW=z(kW,[["render",VW]]),AW=Ct({id:"formatted-json-value",name:"$t:displays.formatted-json-value.formatted-json-value",description:"$t:displays.formatted-json-value.description",types:["json","geometry"],icon:"settings_ethernet",component:FW,options:[{field:"format",name:"$t:display_template",type:"string",meta:{width:"full",interface:"input",options:{placeholder:"{{ field }}"}}}]}),IW=Object.freeze(Object.defineProperty({__proto__:null,default:AW},Symbol.toStringTag,{value:"Module"}));const EW=K({props:{type:{type:String,required:!0},value:{type:[String,Number],default:null},format:{type:Boolean,default:!1},font:{type:String,default:"sans-serif",validator:e=>["sans-serif","serif","monospace"].includes(e)},bold:{type:Boolean,default:!1},italic:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},color:{type:String,default:null},background:{type:String,default:null},icon:{type:String,default:null},border:{type:Boolean,default:!1},conditionalFormatting:{type:Array,default:()=>[]}},setup(e){const{t,n}=Y(),l=F(()=>(e.conditionalFormatting||[]).filter(({operator:p,value:f})=>{if(["string","text"].includes(e.type)){const _=String(e.value),v=String(f);return r(_,v,p)}else if(["float","decimal"].includes(e.type)){const _=parseFloat(String(e.value)),v=parseFloat(String(f));return u(_,v,p)}else{const _=parseInt(String(e.value)),v=parseInt(String(f));return u(_,v,p)}})),a=F(()=>{const{color:p,background:f,icon:_}=e;return l.value.reduce(({color:v,background:y,icon:h,text:g},b)=>({color:b.color||v,background:b.background||y,icon:b.icon||h,text:b.text||g}),{color:p,background:f,icon:_,text:""})}),d=F(()=>{var p;return{color:a.value.color,borderStyle:"solid",borderWidth:e.border?"2px":0,borderColor:a.value.color,backgroundColor:(p=a.value.background)!=null?p:"transparent"}}),i=F(()=>{var v,y;if(a.value.text){const{text:h}=a.value;return h.startsWith("$t:")?t(h.slice(3)):h}if(N.exports.isNil(e.value)||e.value==="")return null;let p=String(e.value);p=p.replace(/(<([^>]+)>)/gi,""),p=nu(p),e.format&&(["string","text"].includes(e.type)?p=wt(p):["float","decimal"].includes(e.type)?p=n(parseFloat(p)):p=n(parseInt(p)));const f=(v=e.prefix)!=null?v:"",_=(y=e.suffix)!=null?y:"";return`${f}${p}${_}`});return{t,computedFormat:a,displayValue:i,computedStyle:d};function r(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"contains":return p.includes(f);case"starts_with":return p.startsWith(f);case"ends_with":return p.endsWith(f)}}function u(p,f,_){switch(_){case"eq":return p===f;case"neq":return p!==f;case"gt":return p>f;case"gte":return p>=f;case"lt":return p<f;case"lte":return p<=f}}}}),DW={class:"value"};function TW(e,t,n,l,a,d){const i=c("value-null"),r=c("v-icon");return e.displayValue===null||e.displayValue===void 0?(m(),C(i,{key:0})):(m(),I("div",{key:1,class:ue(["display-formatted",[{bold:e.bold,italic:e.italic},e.font,{"has-background":e.computedFormat.background,"has-border":e.computedStyle.borderWidth!==0}]]),style:We(e.computedStyle)},[e.computedFormat.icon?(m(),C(r,{key:0,name:e.computedFormat.icon,color:e.computedFormat.color,left:"",small:""},null,8,["name","color"])):R("",!0),S("span",DW,w(e.displayValue),1)],6))}var PW=z(EW,[["render",TW],["__scopeId","data-v-3298b8ba"]]),OW=Ct({id:"formatted-value",name:"$t:displays.formatted-value.formatted-value",description:"$t:displays.formatted-value.description",types:["string","text","integer","float","decimal","bigInteger"],icon:"text_format",component:PW,options:({field:e})=>{var d;const t=["string","text"].includes((d=e.type)!=null?d:"unknown");return[{field:"format",name:"$t:displays.formatted-value.format",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.format_label"}},schema:{default_value:!1}},{field:"font",name:"$t:displays.formatted-value.font",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.formatted-value.font_sans_serif",value:"sans-serif"},{text:"$t:displays.formatted-value.font_serif",value:"serif"},{text:"$t:displays.formatted-value.font_monospace",value:"monospace"}]}},schema:{default_value:"sans-serif"}},{field:"bold",name:"$t:displays.formatted-value.bold",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.bold_label"}},schema:{default_value:!1}},{field:"italic",name:"$t:displays.formatted-value.italic",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.italic_label"}},schema:{default_value:!1}},{field:"prefix",name:"$t:displays.formatted-value.prefix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{label:"$t:displays.formatted-value.prefix_label",trim:!1}}},{field:"suffix",name:"$t:displays.formatted-value.suffix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{label:"$t:displays.formatted-value.suffix_label",trim:!1}}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"border",name:"$t:displays.formatted-value.border",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.formatted-value.border_label"}},schema:{default_value:!1}},{field:"conditionalFormatting",type:"json",name:"$t:conditional_styles",meta:{interface:"list",width:"full",options:{template:"{{operator}} {{value}}",fields:[{field:"operator",name:"$t:operator",type:"string",schema:{default_value:"eq"},meta:{interface:"select-dropdown",options:{choices:(t?["eq","neq","contains","starts_with","ends_with"]:["eq","neq","gt","gte","lt","lte"]).map(i=>({text:`$t:operators.${i}`,value:i}))},width:"half"}},{field:"value",name:"$t:value",type:t?"string":"integer",schema:{default_value:t?"":0},meta:{interface:"input",width:"half"}},{field:"color",name:"$t:displays.formatted-value.color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:displays.formatted-value.background",type:"string",meta:{interface:"select-color",width:"half"}},{field:"text",name:"$t:displays.formatted-value.text",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.formatted-value.text_placeholder"}}},{field:"icon",name:"$t:displays.formatted-value.icon",type:"string",meta:{width:"half",interface:"select-icon"}}]}}}]}}),LW=Object.freeze(Object.defineProperty({__proto__:null,default:OW},Symbol.toStringTag,{value:"Module"}));const jW=K({name:"DisplayIcon",props:{value:{type:String,default:null},color:{type:String,default:null},filled:{type:Boolean,default:!1}},setup(e){return{style:F(()=>la(e.color)?{"--v-icon-color":e.color}:{})}}});function RW(e,t,n,l,a,d){const i=c("v-icon");return m(),C(i,{small:"",name:e.value,style:We(e.style),filled:e.filled},null,8,["name","style","filled"])}var MW=z(jW,[["render",RW]]),UW=Ct({id:"icon",name:"$t:displays.icon.icon",description:"$t:displays.icon.description",icon:"insert_emoticon",component:MW,options:[{field:"filled",name:"$t:displays.icon.filled",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.icon.filled_label"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{interface:"select-color",width:"half"}}],types:["string"]}),NW=Object.freeze(Object.defineProperty({__proto__:null,default:UW},Symbol.toStringTag,{value:"Module"}));const BW=K({components:{ValueNull:on},props:{value:{type:Object,default:null},circle:{type:Boolean,default:!1}},setup(e){const t=E(!1);return{src:F(()=>{if(e.value===null)return null;const l=Ze()+`assets/${e.value.id}?key=system-small-cover`;return dt(l)}),imageError:t}}}),qW=["src","alt"];function zW(e,t,n,l,a,d){const i=c("v-icon"),r=c("value-null");return e.imageError?(m(),C(i,{key:0,name:"image"})):e.src?(m(),I("img",{key:1,src:e.src,role:"presentation",alt:e.value&&e.value.title,class:ue({circle:e.circle}),onError:t[0]||(t[0]=u=>e.imageError=!0)},null,42,qW)):(m(),C(r,{key:2}))}var KW=z(BW,[["render",zW],["__scopeId","data-v-e3df0200"]]),WW=Ct({id:"image",name:"$t:displays.image.image",description:"$t:displays.image.description",types:["uuid"],localTypes:["file"],icon:"insert_photo",component:KW,options:[{field:"circle",name:"$t:displays.image.circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.image.circle_label"}},schema:{default_value:!1}}],fields:["id","type","title"]}),HW=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"}));const GW=K({props:{value:{type:[String,Array],required:!0},format:{type:Boolean,default:!0},showAsDot:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},type:{type:String,required:!0,validator:e=>["text","string","json","csv"].includes(e)}},setup(e){return{items:F(()=>{let n;return N.exports.isEmpty(e.value)?n=[]:e.type==="string"?n=[e.value]:n=e.value,n.map(l=>{const a=(e.choices||[]).find(i=>i.value===l);let d;return typeof l=="object"?d=JSON.stringify(l):e.format?d=wt(l):d=l,a===void 0?{value:l,text:d,foreground:"var(--foreground-normal)",background:"var(--background-normal)"}:It({value:l,text:a.text||d,foreground:a.foreground||"var(--foreground-normal)",background:a.background||"var(--background-normal)"})})})}}}),ZW={class:"display-labels"};function JW(e,t,n,l,a,d){const i=c("v-chip"),r=c("display-color"),u=$e("tooltip");return m(),I("div",ZW,[e.showAsDot?(m(!0),I(ae,{key:1},we(e.items,p=>x((m(),C(r,{key:p.value,value:p.background},null,8,["value"])),[[u,p.text]])),128)):(m(!0),I(ae,{key:0},we(e.items,p=>(m(),C(i,{key:p.value,style:We({"--v-chip-color":p.foreground,"--v-chip-background-color":p.background}),small:"",disabled:"",label:""},{default:s(()=>[P(w(p.text),1)]),_:2},1032,["style"]))),128))])}var QW=z(GW,[["render",JW],["__scopeId","data-v-4d34a4f3"]]),XW=Ct({id:"labels",name:"$t:displays.labels.labels",description:"$t:displays.labels.description",types:["string","json","csv"],icon:"flag",component:QW,options:[{field:"format",name:"$t:format_text",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.labels.format_label"}},schema:{default_value:!0}},{field:"showAsDot",name:"$t:displays.labels.show_as_dot",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"choices",name:"$t:choices",type:"json",meta:{interface:"list",options:{template:"{{text}}",fields:[{field:"text",name:"$t:text",type:"string",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:displays.labels.choices_text_placeholder"}}},{field:"value",name:"$t:value",type:"string",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:displays.labels.choices_value_placeholder"},width:"half"}},{field:"foreground",name:"$t:foreground_color",type:"string",meta:{interface:"select-color",width:"half"}},{field:"background",name:"$t:background_color",type:"string",meta:{interface:"select-color",width:"half"}}]}}}]}),YW=Object.freeze(Object.defineProperty({__proto__:null,default:XW},Symbol.toStringTag,{value:"Module"})),xW=Ct({id:"mime-type",name:"$t:displays.mime-type.mime-type",description:"$t:displays.mime-type.description",icon:"picture_as_pdf",options:[{field:"showAsExtension",name:"$t:displays.mime-type.extension_only",type:"boolean",meta:{interface:"boolean",options:{label:"$t:displays.mime-type.extension_only_label"}},schema:{default_value:!1}}],types:["string"],component:({value:e,showAsExtension:t})=>t?lu.getExtension(e):Bn(e)}),eH=Object.freeze(Object.defineProperty({__proto__:null,default:xW},Symbol.toStringTag,{value:"Module"}));const tH={key:0,class:"rating simple"},nH={key:1,class:"rating detailed"},lH={class:"inactive"},oH=K({props:{value:{default:void 0},simple:{type:Boolean,default:!1},interfaceOptions:{default:void 0}},setup(e){const t=e,n=F(()=>{var a;return t.interfaceOptions===null?5:Math.ceil((a=t.interfaceOptions.maxValue)!=null?a:5)}),l=F(()=>({width:Number(t.value)/n.value*100+"%"}));return(a,d)=>{const i=c("v-icon"),r=$e("tooltip");return e.simple?(m(),I("span",tH,[o(i,{small:"",name:"star"}),P(" "+w(e.value),1)])):x((m(),I("div",nH,[S("div",{class:"active",style:We(W(l))},[(m(!0),I(ae,null,we(W(n),u=>(m(),C(i,{key:u,small:"",name:"star"}))),128))],4),S("div",lH,[(m(!0),I(ae,null,we(W(n),u=>(m(),C(i,{key:u,small:"",name:"star"}))),128))])],512)),[[r,e.value,void 0,{bottom:!0,start:!0}]])}}});var aH=z(oH,[["__scopeId","data-v-42f0150f"]]),iH=Ct({id:"rating",name:"$t:displays.rating.rating",description:"$t:displays.rating.description",icon:"star",component:aH,options:[{field:"simple",name:"$t:displays.rating.simple",type:"boolean",meta:{interface:"boolean",width:"half",options:{label:"$t:displays.rating.simple_label"}},schema:{default_value:!1}}],types:["integer","decimal","float"]}),rH=Object.freeze(Object.defineProperty({__proto__:null,default:iH},Symbol.toStringTag,{value:"Module"})),sH=Ct({id:"raw",name:"$t:displays.raw.raw",icon:"code",component:({value:e})=>typeof e=="string"?e:JSON.stringify(e),options:[],types:N$,localTypes:B$}),dH=Object.freeze(Object.defineProperty({__proto__:null,default:sH},Symbol.toStringTag,{value:"Module"}));function bs(e,t){const l=ft().getRelationsForField(e,t),a=dl(e,t);return a&&["o2m","m2m","m2a","translations","files"].includes(a)?a=="m2m"&&l.length>1?{relatedCollection:l[1].related_collection,junctionCollection:l[0].collection,path:[l[1].field]}:{relatedCollection:l[0].collection}:{relatedCollection:l[0].related_collection}}const uH=K({components:{ValueNull:on},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array,Object],default:null},template:{type:String,default:null}},setup(e){const{t,te:n}=Y(),l=F(()=>bs(e.collection,e.field)),a=F(()=>l.value.relatedCollection),d=F(()=>l.value.junctionCollection),i=F(()=>dl(e.collection,e.field)),{primaryKeyField:r}=rt(a),u=F(()=>{var v,y;return l.value.path?[...l.value.path,(v=r.value)==null?void 0:v.field].join("."):(y=r.value)==null?void 0:y.field}),p=F(()=>e.template||`{{ ${u.value} }}`),f=F(()=>Array.isArray(e.value)?e.value.length===1?n(`collection_names_singular.${a.value}`)?t(`collection_names_singular.${a.value}`):t("item"):n(`collection_names_plural.${a.value}`)?t(`collection_names_plural.${a.value}`):t("items"):null);return{relatedCollection:a,junctionCollection:d,primaryKeyFieldPath:u,getLinkForItem:_,internalTemplate:p,unit:f,localType:i};function _(v){if(!l.value||!u.value)return null;const y=N.exports.get(v,u.value);return`/content/${a.value}/${encodeURIComponent(y)}`}}}),cH=["onClick"],pH={class:"label"},mH=P("+");function fH(e,t,n,l,a,d){const i=c("value-null"),r=c("render-template"),u=c("v-list-item-content"),p=c("v-icon"),f=c("router-link"),_=c("v-list-item-icon"),v=c("v-list-item"),y=c("v-list"),h=c("v-menu");return e.relatedCollection?["o2m","m2m","m2a","translations","files"].includes(e.localType.toLowerCase())?(m(),C(h,{key:1,"show-arrow":"",disabled:e.value.length===0},{activator:s(({toggle:g})=>[S("span",{class:ue(["toggle",{subdued:e.value.length===0}]),onClick:De(g,["stop"])},[S("span",pH,[P(w(e.value.length)+" ",1),e.value.length>=100?(m(),I(ae,{key:0},[mH],64)):R("",!0),P(" "+w(e.unit),1)])],10,cH)]),default:s(()=>[o(y,{class:"links"},{default:s(()=>[(m(!0),I(ae,null,we(e.value,g=>(m(),C(v,{key:g[e.primaryKeyFieldPath]},{default:s(()=>[o(u,null,{default:s(()=>{var b;return[o(r,{template:e.internalTemplate,item:g,collection:(b=e.junctionCollection)!=null?b:e.relatedCollection},null,8,["template","item","collection"])]}),_:2},1024),o(_,null,{default:s(()=>[o(f,{to:e.getLinkForItem(g)},{default:s(()=>[o(p,{name:"launch",small:""})]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])):(m(),C(r,{key:2,template:e.internalTemplate,item:e.value,collection:e.relatedCollection},null,8,["template","item","collection"])):(m(),C(i,{key:0}))}var _H=z(uH,[["render",fH],["__scopeId","data-v-4f1bc30a"]]),vH=Ct({id:"related-values",name:"$t:displays.related-values.related-values",description:"$t:displays.related-values.description",icon:"settings_ethernet",component:_H,options:({editing:e,relations:t})=>{var a,d,i;const n=(i=(a=t.o2m)==null?void 0:a.collection)!=null?i:(d=t.m2o)==null?void 0:d.related_collection;return[{field:"template",name:"$t:display_template",meta:e==="+"?{interface:"presentation-notice",options:{text:"$t:displays.related-values.display_template_configure_notice"},width:"full"}:{interface:"system-display-template",options:{collectionName:n},width:"full"}}]},types:["alias","string","uuid","integer","bigInteger","json"],localTypes:["m2m","m2o","o2m","translations","m2a","file","files"],fields:(e,{field:t,collection:n})=>{const{junctionCollection:l,relatedCollection:a,path:d}=bs(n,t),r=Oe().getPrimaryKeyFieldForCollection(a);if(!a)return[];const u=(e==null?void 0:e.template)?dn(St(e.template),l!=null?l:a):[];if(r){const p=d?[...d,r.field].join("."):r.field;u.includes(p)||u.push(p)}return u}}),yH=Object.freeze(Object.defineProperty({__proto__:null,default:vH},Symbol.toStringTag,{value:"Module"}));function Xl(e,t){const n=ft(),l=Je(),a=F(()=>n.getRelationsForField(e.value,t.value)),d=F(()=>a.value.find(h=>{var g;return h.related_collection===e.value&&((g=h.meta)==null?void 0:g.one_field)===t.value})),i=F(()=>a.value.find(h=>{var g;return h.collection===d.value.collection&&h.field===((g=d.value.meta)==null?void 0:g.junction_field)})),r=F(()=>l.getCollection(d.value.collection)),u=F(()=>l.getCollection(i.value.related_collection)),{primaryKeyField:p,fields:f}=rt(r.value.collection),{primaryKeyField:_,fields:v}=rt(u.value.collection),y=F(()=>{var h,g,b,$;return{junctionPkField:(h=p.value)==null?void 0:h.field,relationPkField:(g=_.value)==null?void 0:g.field,junctionField:(b=d.value.meta)==null?void 0:b.junction_field,sortField:($=d.value.meta)==null?void 0:$.sort_field,junctionCollection:r.value.collection,relationCollection:u.value.collection}});return{junction:d,junctionCollection:r,relation:i,relationCollection:u,relationInfo:y,junctionPrimaryKeyField:p,relationPrimaryKeyField:_,junctionFields:f,relationFields:v}}const hH=K({components:{ValueNull:on},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Array],default:null},template:{type:String,default:null},userLanguage:{type:Boolean,default:!1},defaultLanguage:{type:String,default:null},languageField:{type:String,default:null},type:{type:String,required:!0}},setup(e){const{collection:t,field:n}=ze(e),{junctionPrimaryKeyField:l,junctionCollection:a,relation:d,junctionFields:i,relationPrimaryKeyField:r}=Xl(t,n),u=F(()=>{var v,y;return e.template||((y=(v=a.value)==null?void 0:v.meta)==null?void 0:y.display_template)||`{{ ${l.value.field} }}`}),p=F(()=>{var h,g,b;const v=(h=r.value)==null?void 0:h.field;if(!v)return{};let y=(g=e.value.find($=>{var A;return((A=$==null?void 0:$[d.value.field])==null?void 0:A[v])===e.defaultLanguage}))!=null?g:e.value[0];if(e.userLanguage){const $=He();y=(b=e.value.find(A=>{var V,T;return((V=A==null?void 0:A[d.value.field])==null?void 0:V[v])===((T=$.currentUser)==null?void 0:T.language)}))!=null?b:y}return y!=null?y:{}}),f=F(()=>i.value.filter(v=>{var y;return v.type!=="alias"&&((y=v.meta)==null?void 0:y.hidden)===!1&&v.meta.readonly===!1})),_=F(()=>e.value.map(v=>{var h,g,b,$,A;const y=f.value.filter(V=>V.field in v&&Jt(v==null?void 0:v[V.field])).length;return{id:v==null?void 0:v[(g=(h=l.value)==null?void 0:h.field)!=null?g:"id"],lang:(A=v==null?void 0:v[d.value.field])==null?void 0:A[($=e.languageField)!=null?$:(b=r.value)==null?void 0:b.field],progress:Math.round(y/f.value.length*100),item:v}}));return{primaryKeyField:l,internalTemplate:u,junctionCollection:a,displayItem:p,translations:_}}}),gH={key:1,class:"display-translations"},bH={class:"header"},wH={class:"lang"};function kH(e,t,n,l,a,d){const i=c("value-null"),r=c("render-template"),u=c("v-icon"),p=c("v-progress-linear"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),h=$e("tooltip");return e.junctionCollection.collection?(m(),I("div",gH,[o(r,{template:e.internalTemplate,item:e.displayItem,collection:e.junctionCollection.collection},null,8,["template","item","collection"]),o(y,{class:"menu","show-arrow":"",disabled:e.value.length===0},{activator:s(({toggle:g,deactivate:b,active:$})=>[o(u,{small:"",class:ue(["icon",{active:$}]),name:"info",onClick:De(g,["stop"]),onFocusout:b},null,8,["class","onClick","onFocusout"])]),default:s(()=>[o(v,{class:"links"},{default:s(()=>[(m(!0),I(ae,null,we(e.translations,g=>(m(),C(_,{key:g.id},{default:s(()=>[o(f,null,{default:s(()=>[S("div",bH,[S("div",wH,[o(u,{name:"translate",small:""}),P(" "+w(g.lang),1)]),x(o(p,{value:g.progress,colorful:""},null,8,["value"]),[[h,`${g.progress}%`]])]),o(r,{template:e.internalTemplate,item:g.item,collection:e.junctionCollection.collection},null,8,["template","item","collection"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["disabled"])])):(m(),C(i,{key:0}))}var $H=z(hH,[["render",kH],["__scopeId","data-v-ddc321aa"]]),SH=Ct({id:"translations",name:"$t:displays.translations.translations",description:"$t:displays.translations.description",icon:"translate",component:$H,options:({relations:e})=>{var d,i;const t=Oe(),n=(d=e.o2m)==null?void 0:d.collection,l=(i=e.m2o)==null?void 0:i.related_collection,a=l?t.getFieldsForCollection(l):[];return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:n},width:"half"}},{field:"languageField",name:"$t:displays.translations.language_field",meta:{interface:"select-dropdown",options:{choices:a.map(({field:r,name:u})=>({text:u,value:r}))},width:"half"}},{field:"defaultLanguage",name:"$t:displays.translations.default_language",meta:{interface:"input",width:"half",options:{placeholder:"$t:primary_key"}}},{field:"userLanguage",name:"$t:displays.translations.user_language",type:"string",schema:{default_value:!1},meta:{interface:"boolean",options:{label:"$t:displays.translations.enable"},width:"half"}}]},types:["alias"],localTypes:["translations"],fields:(e,{field:t,collection:n})=>{const l=Oe(),d=ft().getRelationsForField(n,t),i=d.find(y=>{var h;return y.related_collection===n&&((h=y.meta)==null?void 0:h.one_field)===t}),r=d.find(y=>y!==i),u=i==null?void 0:i.related_collection,p=r==null?void 0:r.related_collection;if(!u||!p)return[];const f=l.getPrimaryKeyFieldForCollection(u),_=l.getPrimaryKeyFieldForCollection(p),v=(e==null?void 0:e.template)?dn(St(e.template),u):[];return f&&!v.includes(f.field)&&v.push(f.field),r&&_&&!v.includes(r.field)&&(v.push(`${r.field}.${_.field}`),(e==null?void 0:e.languageField)&&v.push(`${r.field}.${e.languageField}`)),v}}),CH=Object.freeze(Object.defineProperty({__proto__:null,default:SH},Symbol.toStringTag,{value:"Module"})),VH="assets/avatar-placeholder.446bf113.svg";const FH=K({props:{value:{type:Object,default:null},display:{type:String,default:"both"},circle:{type:Boolean,default:!1}},setup(e){return{src:F(()=>{var n;if(e.value===null)return null;if((n=e.value.avatar)==null?void 0:n.id){const l=`${Ze()}assets/${e.value.avatar.id}?key=system-small-cover`;return dt(l)}return null}),userName:Et}}}),AH=["src","alt"],IH=["alt"],EH={key:2};function DH(e,t,n,l,a,d){const i=c("user-popover");return e.value?(m(),C(i,{key:0,user:e.value.id},{default:s(()=>[S("div",{class:ue(["user",e.display])},[(e.display==="avatar"||e.display==="both")&&e.src?(m(),I("img",{key:0,src:e.src,role:"presentation",alt:e.value&&e.userName(e.value),class:ue({circle:e.circle})},null,10,AH)):(e.display==="avatar"||e.display==="both")&&e.src===null?(m(),I("img",{key:1,src:VH,role:"presentation",alt:e.value&&e.userName(e.value),class:ue({circle:e.circle})},null,10,IH)):R("",!0),e.display==="name"||e.display==="both"?(m(),I("span",EH,w(e.userName(e.value)),1)):R("",!0)],2)]),_:1},8,["user"])):R("",!0)}var TH=z(FH,[["render",DH],["__scopeId","data-v-1e6e7370"]]),PH=Ct({id:"user",name:"$t:displays.user.user",description:"$t:displays.user.description",types:["uuid"],icon:"person",component:TH,options:[{field:"display",name:"$t:display",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:displays.user.avatar",value:"avatar"},{text:"$t:displays.user.name",value:"name"},{text:"$t:displays.user.both",value:"both"}]}},schema:{default_value:"both"}},{field:"circle",name:"$t:circle",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:displays.user.circle_label"}},schema:{default_value:!1}}],fields:["id","avatar.id","email","first_name","last_name"]}),OH=Object.freeze(Object.defineProperty({__proto__:null,default:PH},Symbol.toStringTag,{value:"Module"}));const{displaysRaw:ws}=Il();async function LH(e){const n=Object.values({"./boolean/index.ts":HK,"./collection/index.ts":YK,"./color/index.ts":oW,"./datetime/index.ts":cW,"./file/index.ts":gW,"./filesize/index.ts":wW,"./formatted-json-value/index.ts":IW,"./formatted-value/index.ts":LW,"./icon/index.ts":NW,"./image/index.ts":HW,"./labels/index.ts":YW,"./mime-type/index.ts":eH,"./rating/index.ts":rH,"./raw/index.ts":dH,"./related-values/index.ts":yH,"./translations/index.ts":CH,"./user/index.ts":OH}).map(l=>l.default);try{const l=await U(()=>import(`${Ze()}extensions/displays/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom displays"),console.warn(l)}ws.value=n,ws.value.forEach(l=>{e.component(`display-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`display-options-${l.id}`,l.options)})}const jH=K({props:{value:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},label:{type:String,default:()=>Ne.global.t("enabled")},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},colorOn:{type:String,default:"var(--primary)"},colorOff:{type:String,default:"var(--foreground-subdued)"}},emits:["input"]});function RH(e,t,n,l,a,d){const i=c("v-checkbox");return m(),C(i,{block:"","icon-on":e.iconOn,"icon-off":e.iconOff,label:e.label,"model-value":e.value,indeterminate:e.value===null,disabled:e.disabled,style:We({"--v-checkbox-color":e.colorOn,"--v-checkbox-unchecked-color":e.colorOff}),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["icon-on","icon-off","label","model-value","indeterminate","disabled","style"])}var MH=z(jH,[["render",RH]]),UH=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="35" width="120" height="26" rx="6" fill="var(--primary)" opacity=".25"/>
  <mask id="a" maskUnits="userSpaceOnUse" x="26" y="40" width="26" height="16" fill="#000">
    <path fill="#fff" d="M26 40h26v16H26z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M43 53.917V54h-8v-.083a6 6 0 1 1 0-11.834V42h8v.083a6 6 0 1 1 0 11.834Z"/>
  </mask>
  <path d="m43 53.917.33-1.972-2.33-.391v2.363h2ZM43 54v2h2v-2h-2Zm-8 0h-2v2h2v-2Zm0-.083h2v-2.363l-2.33.39.33 1.973Zm0-11.834-.33 1.972 2.33.391v-2.363h-2ZM35 42v-2h-2v2h2Zm8 0h2v-2h-2v2Zm0 .083h-2v2.363l2.33-.39-.33-1.973Zm-2 11.834V54h4v-.083h-4ZM43 52h-8v4h8v-4Zm-6 2v-.083h-4V54h4Zm-2.33-2.055A4.04 4.04 0 0 1 34 52v4c.452 0 .897-.038 1.33-.11l-.66-3.945ZM34 52a4 4 0 0 1-4-4h-4a8 8 0 0 0 8 8v-4Zm-4-4a4 4 0 0 1 4-4v-4a8 8 0 0 0-8 8h4Zm4-4c.23 0 .453.02.67.055l.66-3.944A8.044 8.044 0 0 0 34 40v4Zm3-1.917V42h-4v.083h4ZM35 44h8v-4h-8v4Zm6-2v.083h4V42h-4Zm2.33 2.055A4.04 4.04 0 0 1 44 44v-4c-.452 0-.897.038-1.33.11l.66 3.945ZM44 44a4 4 0 0 1 4 4h4a8 8 0 0 0-8-8v4Zm4 4a4 4 0 0 1-4 4v4a8 8 0 0 0 8-8h-4Zm-4 4c-.23 0-.453-.02-.67-.055l-.66 3.944c.433.073.878.111 1.33.111v-4Z" fill="var(--primary)" mask="url(#a)"/>
  <circle cx="34" cy="48" r="4" fill="var(--primary)"/>
  <rect x="62" y="45" width="30" height="6" rx="2" fill="var(--primary)"/>
  <rect x="96" y="45" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,NH=qe({id:"boolean",name:"$t:interfaces.boolean.toggle",description:"$t:interfaces.boolean.description",icon:"check_box",component:MH,types:["boolean"],group:"selection",recommendedDisplays:["boolean"],options:[{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"colorOn",name:"$t:interfaces.boolean.color_on",type:"string",meta:{interface:"select-color",width:"half"}},{field:"colorOff",name:"$t:interfaces.boolean.color_off",type:"string",meta:{interface:"select-color",width:"half"}},{field:"label",name:"$t:label",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.boolean.label_placeholder"}},schema:{default_value:"$t:interfaces.boolean.label_default"}}],preview:UH}),BH=Object.freeze(Object.defineProperty({__proto__:null,default:NH},Symbol.toStringTag,{value:"Module"}));const qH=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},type:{type:String,required:!0,validator:e=>["dateTime","date","time","timestamp"].includes(e)},includeSeconds:{type:Boolean,default:!1},use24:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(),{displayValue:a}=d();function d(){const r=E(null);return ge(()=>e.value,u,{immediate:!0}),{displayValue:r};async function u(){if(!e.value){r.value=null;return}let f=e.includeSeconds?"date-fns_time":"date-fns_time_no_seconds";e.use24&&(f=e.includeSeconds?"date-fns_time_24hour":"date-fns_time_no_seconds_24hour");let _=`${n("date-fns_date")} ${n(f)}`;e.type==="date"&&(_=String(n("date-fns_date"))),e.type==="time"&&(_=String(n(f))),r.value=await Ft(p(e.value),_)}function p(f){switch(e.type){case"dateTime":return bn(f,"yyyy-MM-dd'T'HH:mm:ss",new Date);case"date":return bn(f,"yyyy-MM-dd",new Date);case"time":return bn(f,"HH:mm:ss",new Date);case"timestamp":return Aa(f)}}}function i(r){r.preventDefault(),r.stopPropagation(),t("input",null)}return{displayValue:a,unsetValue:i,dateTimeMenu:l,t:n}}});function zH(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-date-picker"),p=c("v-menu");return m(),C(p,{ref:"dateTimeMenu","close-on-content-click":!1,attached:"",disabled:e.disabled,"full-height":"",seamless:""},{activator:s(({toggle:f,active:_})=>[o(r,{active:_,clickable:"",readonly:"","model-value":e.displayValue,placeholder:e.t("interfaces.datetime.placeholder"),disabled:e.disabled,onClick:f},ot({_:2},[e.disabled?void 0:{name:"append",fn:s(()=>[o(i,pt({name:e.value?"clear":"today",class:{active:_,"clear-icon":e.value,"today-icon":!e.value}},Sl({click:e.value?e.unsetValue:null})),null,16,["name","class"])])}]),1032,["active","model-value","placeholder","disabled","onClick"])]),default:s(()=>{var f;return[o(u,{type:e.type,disabled:e.disabled,"include-seconds":e.includeSeconds,"use-24":e.use24,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_)),onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","disabled","include-seconds","use-24","model-value","onClose"])]}),_:1},8,["disabled"])}var KH=z(qH,[["render",zH],["__scopeId","data-v-5b2f7975"]]),WH=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="29" y="10" width="98" height="77" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="30" y="11" width="96" height="75" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="39" y="20" width="30" height="5.03704" rx="2" fill="var(--primary)" />
	<rect x="39" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="39" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="63" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="51" width="6" height="6" rx="2" fill="var(--primary)" />
	<rect x="63" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="63" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="75" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="75" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="71" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.1" />
	<rect x="87" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="87" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="99" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="31" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="41" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="111" y="61" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="51" y="51" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,HH=qe({id:"datetime",name:"$t:interfaces.datetime.datetime",description:"$t:interfaces.datetime.description",icon:"today",component:KH,types:["dateTime","date","time","timestamp"],group:"selection",options:({field:e})=>{var t;return e.type==="date"?(((t=e.meta)==null?void 0:t.options)&&(e.meta.options={}),[]):[{field:"includeSeconds",name:"$t:interfaces.datetime.include_seconds",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"use24",name:"$t:interfaces.datetime.use_24",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}}]},recommendedDisplays:["datetime"],preview:WH}),GH=Object.freeze(Object.defineProperty({__proto__:null,default:HH},Symbol.toStringTag,{value:"Module"}));const ZH=K({components:{DrawerCollection:sn,DrawerItem:Kt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),{loading:a,file:d,fetchFile:i}=A();ge(()=>e.value,i,{immediate:!0});const r=F(()=>d.value===null?null:Bn(d.value.type,!0)),u=F(()=>{var L;const M=typeof e.value=="string"?e.value:(L=e.value)==null?void 0:L.id;return dt(Ze()+`assets/${M}`)}),p=F(()=>d.value===null||e.value===null?null:d.value.type.includes("svg")?u.value:d.value.type.includes("image")===!1?null:_o(u.value,{key:"system-small-cover"})),f=E(null),{edits:_,stageEdits:v}=O(),{url:y,isValidURL:h,loading:g,importFromURL:b}=D(),$=E(!1);return{t:n,activeDialog:l,setSelection:V,loading:a,file:d,fileExtension:r,imageThumbnail:p,onUpload:T,url:y,urlLoading:g,importFromURL:b,isValidURL:h,assetURL:u,editDrawerActive:$,edits:_,stageEdits:v,imageThumbnailError:f};function A(){const M=E(!1),L=E(null);return{loading:M,file:L,fetchFile:j};async function j(){var B;if(e.value===null){L.value=null,M.value=!1;return}M.value=!0;try{const q=typeof e.value=="string"?e.value:(B=e.value)==null?void 0:B.id,G=await pe.get(`/files/${q}`,{params:{fields:["id","title","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?L.value=fe(fe({},G.data.data),e.value):L.value=G.data.data}catch(q){Ie(q)}finally{M.value=!1}}}function V(M){M[0]?t("input",M[0]):t("input",null)}function T(M){d.value=M,l.value=null,t("input",M.id)}function D(){const M=E(""),L=E(!1),j=F(()=>{try{return new URL(M.value),!0}catch{return!1}});return{url:M,loading:L,isValidURL:j,importFromURL:B};async function B(){var q;L.value=!0;try{const G=await pe.post("/files/import",{url:M.value,data:{folder:e.folder}});d.value=G.data.data,l.value=null,M.value="",t("input",(q=d.value)==null?void 0:q.id)}catch(G){Ie(G)}finally{L.value=!1}}}function O(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:L};function L(j){!d.value||t("input",fe({id:d.value.id},j))}}}}),JH={class:"file"},QH=["src","alt"],XH={key:1,class:"extension"};function YH(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-icon"),u=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-divider"),y=c("v-list"),h=c("v-menu"),g=c("drawer-item"),b=c("v-card-title"),$=c("v-upload"),A=c("v-card-text"),V=c("v-button"),T=c("v-card-actions"),D=c("v-card"),O=c("v-dialog"),M=c("drawer-collection"),L=$e("tooltip");return m(),I("div",JH,[o(h,{attached:"",disabled:e.loading},{activator:s(({toggle:j})=>[S("div",null,[e.loading?(m(),C(i,{key:0,type:"input"})):(m(),C(u,{key:1,clickable:"",readonly:"",disabled:e.disabled,placeholder:e.t("no_file_selected"),"model-value":e.file&&e.file.title,onClick:j},{prepend:s(()=>{var B,q;return[S("div",{class:ue(["preview",{"has-file":e.file,"is-svg":(q=(B=e.file)==null?void 0:B.type)==null?void 0:q.includes("svg")}])},[e.imageThumbnail&&!e.imageThumbnailError?(m(),I("img",{key:0,src:e.imageThumbnail,alt:e.file.title,onError:t[0]||(t[0]=G=>e.imageThumbnailError=G)},null,40,QH)):e.fileExtension?(m(),I("span",XH,w(e.fileExtension),1)):(m(),C(r,{key:2,name:"folder_open"}))],2)]}),append:s(()=>[e.file?(m(),I(ae,{key:0},[x(o(r,{name:"open_in_new",class:"edit",onClick:t[1]||(t[1]=De(B=>e.editDrawerActive=!0,["stop"]))},null,512),[[L,e.t("edit")]]),e.disabled?R("",!0):x((m(),C(r,{key:0,class:"deselect",name:"close",onClick:t[2]||(t[2]=De(B=>e.$emit("input",null),["stop"]))},null,512)),[[L,e.t("deselect")]])],64)):(m(),C(r,{key:1,name:"attach_file"}))]),_:2},1032,["disabled","placeholder","model-value","onClick"]))])]),default:s(()=>[o(y,null,{default:s(()=>[e.file?(m(),I(ae,{key:0},[o(_,{download:e.file.filename_download,href:e.assetURL},{default:s(()=>[o(p,null,{default:s(()=>[o(r,{name:"get_app"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("download_file")),1)]),_:1})]),_:1},8,["download","href"]),e.disabled?R("",!0):(m(),C(v,{key:0}))],64)):R("",!0),e.disabled?R("",!0):(m(),I(ae,{key:1},[o(_,{clickable:"",onClick:t[3]||(t[3]=j=>e.activeDialog="upload")},{default:s(()=>[o(p,null,{default:s(()=>[o(r,{name:"phonelink"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t(e.file?"replace_from_device":"upload_from_device")),1)]),_:1})]),_:1}),o(_,{clickable:"",onClick:t[4]||(t[4]=j=>e.activeDialog="choose")},{default:s(()=>[o(p,null,{default:s(()=>[o(r,{name:"folder_open"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t(e.file?"replace_from_library":"choose_from_library")),1)]),_:1})]),_:1}),o(_,{clickable:"",onClick:t[5]||(t[5]=j=>e.activeDialog="url")},{default:s(()=>[o(p,null,{default:s(()=>[o(r,{name:"link"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t(e.file?"replace_from_url":"import_from_url")),1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["disabled"]),e.file?(m(),C(g,{key:0,active:e.editDrawerActive,"onUpdate:active":t[6]||(t[6]=j=>e.editDrawerActive=j),collection:"directus_files","primary-key":e.file.id,edits:e.edits,disabled:e.disabled,onInput:e.stageEdits},null,8,["active","primary-key","edits","disabled","onInput"])):R("",!0),o(O,{"model-value":e.activeDialog==="upload",onEsc:t[8]||(t[8]=j=>e.activeDialog=null),"onUpdate:modelValue":t[9]||(t[9]=j=>e.activeDialog=null)},{default:s(()=>[o(D,null,{default:s(()=>[o(b,null,{default:s(()=>[P(w(e.t("upload_from_device")),1)]),_:1}),o(A,null,{default:s(()=>[o($,{"from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),o(T,null,{default:s(()=>[o(V,{secondary:"",onClick:t[7]||(t[7]=j=>e.activeDialog=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e.activeDialog==="choose"?(m(),C(M,{key:1,collection:"directus_files",active:e.activeDialog==="choose","onUpdate:active":t[10]||(t[10]=j=>e.activeDialog=null),onInput:e.setSelection},null,8,["active","onInput"])):R("",!0),o(O,{"model-value":e.activeDialog==="url",persistent:e.urlLoading,"onUpdate:modelValue":t[13]||(t[13]=j=>e.activeDialog=null),onEsc:t[14]||(t[14]=j=>e.activeDialog=null)},{default:s(()=>[o(D,null,{default:s(()=>[o(b,null,{default:s(()=>[P(w(e.t("import_from_url")),1)]),_:1}),o(A,null,{default:s(()=>[o(u,{modelValue:e.url,"onUpdate:modelValue":t[11]||(t[11]=j=>e.url=j),autofocus:"",placeholder:e.t("url"),nullable:!1,disabled:e.urlLoading},null,8,["modelValue","placeholder","disabled"])]),_:1}),o(T,null,{default:s(()=>[o(V,{disabled:e.urlLoading,secondary:"",onClick:t[12]||(t[12]=j=>e.activeDialog=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["disabled"]),o(V,{loading:e.urlLoading,disabled:e.isValidURL===!1,onClick:e.importFromURL},{default:s(()=>[P(w(e.t("import_label")),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","persistent"])])}var xH=z(ZH,[["render",YH],["__scopeId","data-v-3f584f4c"]]),eG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<mask id="b" fill="#fff">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M87.666 26.586A2 2 0 0 0 86.252 26H63a2 2 0 0 0-2 2v40a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V34.748a2 2 0 0 0-.586-1.414l-6.748-6.748ZM68 52a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-2Zm2-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H70Z" fill="var(--primary)"/>
	<path d="M87.666 26.586 86.252 28l1.414-1.414Zm6.748 6.748 1.414-1.414-1.414 1.414ZM86.252 28l2.828-2.828A4 4 0 0 0 86.252 24v4ZM63 28h23.252v-4H63v4Zm0 0v-4a4 4 0 0 0-4 4h4Zm0 40V28h-4v40h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm30 0H63v4h30v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-33.252V68h4V34.748h-4Zm0 0h4a4 4 0 0 0-1.172-2.828L93 34.748ZM86.252 28 93 34.748l2.828-2.828-6.748-6.748L86.252 28ZM70 48a4 4 0 0 0-4 4h4v-4Zm6 0h-6v4h6v-4Zm4 4a4 4 0 0 0-4-4v4h4Zm0 2v-2h-4v2h4Zm-4 4a4 4 0 0 0 4-4h-4v4Zm-6 0h6v-4h-6v4Zm-4-4a4 4 0 0 0 4 4v-4h-4Zm0-2v2h4v-2h-4Zm4-10v-4a4 4 0 0 0-4 4h4Zm0 2v-2h-4v2h4Zm0 0h-4a4 4 0 0 0 4 4v-4Zm16 0H70v4h16v-4Zm0 0v4a4 4 0 0 0 4-4h-4Zm0-2v2h4v-2h-4Zm0 0h4a4 4 0 0 0-4-4v4Zm-16 0h16v-4H70v4Z" fill="var(--primary)" mask="url(#b)"/>
</svg>
`,tG=qe({id:"file",name:"$t:interfaces.file.file",description:"$t:interfaces.file.description",icon:"note_add",component:xH,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}}],recommendedDisplays:["file"],preview:eG}),nG=Object.freeze(Object.defineProperty({__proto__:null,default:tG},Symbol.toStringTag,{value:"Module"}));const lG=K({components:{FilePreview:ko},props:{id:{type:String,required:!0},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(!1),l=F({get(){return e.modelValue===void 0?n.value:e.modelValue},set(p){n.value=p,t("update:modelValue",p)}}),a=E(!1),d=E(null),i=E($t()),r=F(()=>dt(Ze()+`assets/${e.id}?cache-buster=${i.value}`));return ge([()=>e.id,l],([p,f])=>{f&&p&&u()},{immediate:!0}),{internalActive:l,cacheBuster:i,loading:a,file:d,fileSrc:r};async function u(){i.value=$t(),a.value=!0;try{const p=await pe.get(`/files/${e.id}`,{params:{fields:["type","width","height","title"]}});d.value=p.data.data}catch(p){Ie(p)}finally{a.value=!1}}}});function oG(e,t,n,l,a,d){const i=c("v-progress-circular"),r=c("file-preview"),u=c("v-icon"),p=c("v-button"),f=c("v-dialog");return m(),C(f,{modelValue:e.internalActive,"onUpdate:modelValue":t[2]||(t[2]=_=>e.internalActive=_),onEsc:t[3]||(t[3]=_=>e.internalActive=!1)},{activator:s(_=>[be(e.$slots,"activator",Qe(et(_)),void 0,!0)]),default:s(()=>[e.loading?(m(),C(i,{key:0,indeterminate:""})):e.file?(m(),C(r,{key:1,src:e.fileSrc,mime:e.file.type,width:e.file.width,height:e.file.height,title:e.file.title,"in-modal":"",onClick:t[0]||(t[0]=_=>e.internalActive=!1)},null,8,["src","mime","width","height","title"])):R("",!0),o(p,{class:"close",icon:"",rounded:"",onClick:t[1]||(t[1]=_=>e.internalActive=!1)},{default:s(()=>[o(u,{name:"close"})]),_:1})]),_:3},8,["modelValue"])}var aG=z(lG,[["render",oG],["__scopeId","data-v-8070885a"]]);const iG=K({components:{FileLightbox:aG,DrawerItem:Kt},props:{value:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},folder:{type:String,default:void 0},width:{type:String,required:!0},crop:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n,n:l,te:a}=Y(),d=E(!1),i=E(null),r=E(!1),u=E(!1),p=E(null),f=E($t()),_=F(()=>{if(!i.value)return null;if(i.value.type.includes("svg"))return dt(Ze()+`assets/${i.value.id}`);if(i.value.type.includes("image")){const O=e.crop?"cover":"contain",M=Ze()+`assets/${i.value.id}?key=system-large-${O}&cache-buster=${f.value}`;return dt(M)}return null}),v=F(()=>i.value?dt(Ze()+`assets/${i.value.id}`):null),y=F(()=>{if(!i.value)return null;const{filesize:O,width:M,height:L,type:j}=i.value;return M&&L?`${l(M)}x${l(L)} \u2022 ${Bl(O)} \u2022 ${j}`:`${Bl(O)} \u2022 ${j}`});ge(()=>e.value,(O,M)=>{O!==M&&(O&&b(),M&&O===null&&T())},{immediate:!0});const{edits:h,stageEdits:g}=D();return{t:n,loading:d,image:i,src:_,imageError:p,imageErrorHandler:$,meta:y,lightboxActive:r,editDrawerActive:u,changeCacheBuster:A,setImage:V,deselect:T,downloadSrc:v,edits:h,stageEdits:g};async function b(){var O;d.value=!0;try{const M=typeof e.value=="string"?e.value:(O=e.value)==null?void 0:O.id,L=await pe.get(`/files/${M}`,{params:{fields:["id","title","width","height","filesize","type","filename_download"]}});e.value!==null&&typeof e.value=="object"?i.value=fe(fe({},L.data.data),e.value):i.value=L.data.data}catch(M){Ie(M)}finally{d.value=!1}}async function $(){var O,M,L,j;if(!!_.value)try{await pe.get(_.value)}catch(B){p.value=(j=(L=(M=(O=B.response)==null?void 0:O.data)==null?void 0:M.errors[0])==null?void 0:L.extensions)==null?void 0:j.code,(!p.value||!a("errors."+p.value))&&(p.value="UNKNOWN")}}function A(){f.value=$t()}function V(O){i.value=O,t("input",O.id)}function T(){t("input",null),d.value=!1,i.value=null,r.value=!1,u.value=!1}function D(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:M};function M(L){!i.value||t("input",fe({id:i.value.id},L))}}}}),rG=e=>(Xe("data-v-05ce481b"),e=e(),Ye(),e),sG={key:0,class:"image-error"},dG={class:"message"},uG=["src"],cG=rG(()=>S("div",{class:"shadow"},null,-1)),pG={key:2,class:"actions"},mG={class:"info"},fG={class:"title"},_G={class:"meta"};function vG(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-notice"),u=c("v-icon"),p=c("v-button"),f=c("drawer-item"),_=c("file-lightbox"),v=c("v-upload"),y=$e("tooltip");return m(),I("div",{class:ue(["image",[e.width,{crop:e.crop}]])},[e.loading?(m(),C(i,{key:0,type:"input-tall"})):e.disabled&&!e.image?(m(),C(r,{key:1,class:"disabled-placeholder",center:"",icon:"block"},{default:s(()=>[P(w(e.t("disabled")),1)]),_:1})):e.image?(m(),I("div",{key:2,class:ue(["image-preview",{"is-svg":e.image.type&&e.image.type.includes("svg")}])},[e.imageError?(m(),I("div",sG,[o(u,{large:"",name:e.imageError==="UNKNOWN"?"error_outline":"info_outline"},null,8,["name"]),S("span",dG,w(e.t(`errors.${e.imageError}`)),1)])):(m(),I("img",{key:1,src:e.src,alt:"",role:"presentation",onError:t[0]||(t[0]=(...h)=>e.imageErrorHandler&&e.imageErrorHandler(...h))},null,40,uG)),cG,e.disabled?R("",!0):(m(),I("div",pG,[x(o(p,{icon:"",rounded:"",onClick:t[1]||(t[1]=h=>e.lightboxActive=!0)},{default:s(()=>[o(u,{name:"zoom_in"})]),_:1},512),[[y,e.t("zoom")]]),x(o(p,{icon:"",rounded:"",href:e.downloadSrc,download:e.image.filename_download},{default:s(()=>[o(u,{name:"get_app"})]),_:1},8,["href","download"]),[[y,e.t("download")]]),x(o(p,{icon:"",rounded:"",onClick:t[2]||(t[2]=h=>e.editDrawerActive=!0)},{default:s(()=>[o(u,{name:"open_in_new"})]),_:1},512),[[y,e.t("edit")]]),x(o(p,{icon:"",rounded:"",onClick:e.deselect},{default:s(()=>[o(u,{name:"close"})]),_:1},8,["onClick"]),[[y,e.t("deselect")]])])),S("div",mG,[S("div",fG,w(e.image.title),1),S("div",_G,w(e.meta),1)]),!e.disabled&&e.image?(m(),C(f,{key:3,active:e.editDrawerActive,"onUpdate:active":t[3]||(t[3]=h=>e.editDrawerActive=h),collection:"directus_files","primary-key":e.image.id,edits:e.edits,onInput:e.stageEdits},null,8,["active","primary-key","edits","onInput"])):R("",!0),o(_,{id:e.image.id,modelValue:e.lightboxActive,"onUpdate:modelValue":t[4]||(t[4]=h=>e.lightboxActive=h)},null,8,["id","modelValue"])],2)):(m(),C(v,{key:3,"from-library":"","from-url":"",folder:e.folder,onInput:e.setImage},null,8,["folder","onInput"]))],2)}var yG=z(iG,[["render",vG],["__scopeId","data-v-05ce481b"]]),hG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="24" y="19" width="108" height="58" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="m125.294 69-35-29-25.213 20.891L52 49 30 69h95.294Z" fill="var(--primary)"/>
	<path d="M50 35a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" fill="var(--primary)"/>
</svg>
`,gG=qe({id:"file-image",name:"$t:interfaces.file-image.image",description:"$t:interfaces.file-image.description",icon:"insert_photo",component:yG,types:["uuid"],localTypes:["file"],group:"relational",relational:!0,options:[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"crop",name:"$t:interfaces.file-image.crop",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.file-image.crop_label"}},schema:{default_value:!0}}],recommendedDisplays:["image"],preview:hG}),bG=Object.freeze(Object.defineProperty({__proto__:null,default:gG},Symbol.toStringTag,{value:"Module"}));function ks(e,t,n){function l(v){const{junctionPkField:y}=t.value;return e.value===null?null:e.value.find(h=>N.exports.get(h,y)===v||h===v)||null}function a(){const{junctionField:v}=t.value;return e.value===null||v===null?[]:e.value.filter(y=>typeof y=="object"&&v in y&&typeof y[v]!="object")}function d(){const{junctionPkField:v}=t.value;return e.value===null||v===null?[]:e.value.filter(y=>typeof y=="object"&&!(y==null?void 0:y[v]))}function i(){const{junctionPkField:v}=t.value;return e.value===null||v===null?[]:e.value.filter(y=>typeof y=="object"&&(y==null?void 0:y[v]))}function r(){return e.value===null?[]:e.value.filter(v=>["string","number"].includes(typeof v))}function u(){const{junctionPkField:v}=t.value;return e.value===null?[]:e.value.reduce((y,h)=>{const g=N.exports.get(h,[v]);return["string","number"].includes(typeof h)?y.push(h):g!==void 0&&y.push(g),y},[])}function p(){if(e.value===null)return[];const{junctionField:v,relationPkField:y}=t.value;return e.value.reduce((h,g)=>{const b=N.exports.get(g,v),$=N.exports.get(g,[v,y]);return b!==void 0?h.push(b):$!==void 0&&h.push($),h},[])}function f(v,y){const{relationPkField:h,junctionField:g}=t.value;return y.find(b=>N.exports.get(b,[g,h])===v)||null}function _(v){if(e.value===null)return;const{junctionField:y,relationPkField:h,junctionPkField:g}=t.value,b=N.exports.get(v,g),$=N.exports.get(v,[y,h]),A=e.value.filter(V=>{if(b!==void 0)return typeof V=="object"?N.exports.get(V,[g])!==b:V!==b;if($!==void 0){const T=N.exports.get(V,[y,h]);if(["string","number"].includes(typeof T))return T!==$;const D=N.exports.get(V,[y]);if(["string","number"].includes(typeof D))return D!==$}return N.exports.isEqual(V,v)===!1});A.length===0?n(null):n(A)}return{getJunctionItem:l,getNewSelectedItems:a,getNewItems:d,getUpdatedItems:i,getExistingItems:r,getPrimaryKeys:u,getRelatedPrimaryKeys:p,getJunctionFromRelatedId:f,deleteItem:_}}function $s(e,t){var a;if(!(t==null?void 0:t.length))return[];const n=Oe(),l=[];for(const d of t){if(l.push(d),!d.includes("."))continue;const i=d.split("."),r=n.getField(e,d),u=n.getPrimaryKeyFieldForCollection((a=r==null?void 0:r.collection)!=null?a:""),p=u&&i.slice(0,-1).concat(u.field).join(".");p&&!l.includes(p)&&l.push(p)}return l}function Ss(e,t,n,l,a,d,i){const r=Oe(),u=E([]),p=E(!1),f=E([]),_=E([]),v=E(null);return ge(()=>e.value,async(A,V)=>{if(A===null){_.value=[];return}if(N.exports.isEqual(A,V))return;p.value=!0;const{junctionField:T,relationPkField:D,relationCollection:O}=n.value;if(T===null)return;const M=await g(),L=M.reduce((B,q)=>{const G=N.exports.get(q,T);return G!==null&&B.push(G),B},[]),j=[...t.value.length>0?y(t.value):$()];j.includes(D)===!1&&j.push(D);try{let B=[];L.length>0&&(B=await b(O,j,D,L)),B=B.map(Q=>{const ce=N.exports.get(Q,D),J=M.find(_e=>_e[T]===ce);if(J===void 0||ce===void 0)return;const oe=N.exports.cloneDeep(J);return oe[T]=Q,oe});const q=a(),G=d();B=B.map(Q=>{const ce=q.find(J=>N.exports.get(J,[T,D])===N.exports.get(Q,[T,D]));return ce!==void 0?N.exports.merge(Q,ce):Q}).concat(...G),f.value.length||(f.value=B),_.value=B}catch(B){v.value=B}finally{p.value=!1}},{immediate:!0}),ge(()=>t.value,()=>{const{junctionField:A,junctionCollection:V}=n.value;u.value=(t.value.length>0?t.value:$().map(T=>`${A}.${T}`)).map(T=>{var M,L,j,B;const D=r.getField(V,T);return D?{text:D.name,value:T,align:"left",sortable:!0,width:null,field:{display:(M=D.meta)==null?void 0:M.display,displayOptions:(L=D.meta)==null?void 0:L.display_options,interface:(j=D.meta)==null?void 0:j.interface,interfaceOptions:(B=D.meta)==null?void 0:B.options,type:D.type,field:D.field}}:null}).filter(T=>T)},{immediate:!0}),{tableHeaders:u,items:_,initialItems:f,loading:p,error:v};function y(A){const{junctionField:V}=n.value;return A.reduce((T,D)=>{const O=D.split(".");return V===O[0]&&O.length>=2&&T.push(O.slice(1).join(".")),T},[])}function h(){return(t.value||[]).filter(A=>A.includes(".")===!1)}async function g(){const{junctionPkField:A,junctionField:V,relationPkField:T,junctionCollection:D}=n.value;try{let O=[];const M=i();if(M.length>0){const j=h();j.includes(A)===!1&&j.push(A),j.includes(V)===!1&&j.push(V),n.value.sortField!==null&&j.includes(n.value.sortField)===!1&&j.push(n.value.sortField),O=await b(D,j,A,M)}const L=a().map(j=>({[V]:j[V][T]}));return O.concat(...l(),...L)}catch(O){v.value=O}return[]}async function b(A,V,T,D){if(V===null||V.length===0||D===null||D.length===0)return[];const O=$s(A,V),M=await pe.get(zt(A),{params:{fields:O,[`filter[${T}][_in]`]:D.join(",")}});return M==null?void 0:M.data.data}function $(){return r.getFieldsForCollection(n.value.relationCollection).slice(0,3).map(V=>V.field)}}function Cs(e,t,n){const l=E(!1),a=E(null),d=E(null),i=E({});function r(_){const{relationPkField:v,junctionField:y,junctionPkField:h}=t.value;l.value=!0,i.value=_,a.value=N.exports.get(_,[h],null),d.value=N.exports.get(_,[y,v],null)}function u(){const{sortField:_}=t.value;l.value=!0,i.value=fe({},_?{[_]:(e.value||[]).length}:null),a.value=null,d.value=null}function p(_){const{relationPkField:v,junctionField:y,junctionPkField:h}=t.value,g=(e.value||[]).map(b=>{if(a.value!==null){const $=a.value;if(typeof b=="object"&&h in b){if(b[h]===$)return _}else if(["number","string"].includes(typeof b)&&b===$)return _}if(d.value!=null){const $=d.value;if(N.exports.get(b,[y],null)===$||N.exports.get(b,[y,v],null)===$)return _}return N.exports.isEqual(i.value,b)?_:b});d.value===null&&a.value===null&&g.includes(_)===!1&&g.push(_),g.length===0?n(null):n(g),f()}function f(){l.value=!1,i.value={},a.value=null,d.value=null}return{currentlyEditing:a,editItem:r,createNew:u,editsAtStart:i,stageEdits:p,cancelEdit:f,relatedPrimaryKey:d,editModalActive:l}}function Vs(e,t,n,l){const a=E(!1),d=F(()=>{if(e.value===null)return[];const{relationPkField:r,junctionField:u}=n.value;return e.value.reduce((f,_)=>{const v=N.exports.get(_,[u,r]);return v!==void 0&&f.push(v),f},[])});function i(r){const{junctionField:u,relationPkField:p}=n.value,f=r.map(_=>{const v=t.value.find(h=>h[u][p]===_),y=e.value.find(h=>h[u][p]===_);return Fe(fe(fe({},v),y),{[u]:Fe(fe(fe({},v==null?void 0:v[p]),y==null?void 0:y[p]),{[p]:_})})});f.length===0?l(null):l(f)}return{stageSelection:i,selectModalActive:a,selectedPrimaryKeys:d}}function Fs(e,t,n,l){const a=E({by:e.value.sortField||t.value[0],desc:!1}),d=F(()=>{const r=e.value.sortField;if(r===null||a.value.by!==r)return n.value;const u=a.value.desc,p=N.exports.sortBy(n.value,[r]);return u?p.reverse():p});return{sort:a,sortItems:i,sortedItems:d};function i(r){const u=e.value.sortField;if(u===null)return;const p=r.map((f,_)=>(f[u]=_,f));l(p)}}function As(e,t){const n=Ot(),l=He(),a=F(()=>{var f;if(((f=l.currentUser)==null?void 0:f.role.admin_access)===!0)return!0;const u=!!n.permissions.find(_=>_.action==="create"&&_.collection===e.value.collection),p=!!n.permissions.find(_=>_.action==="create"&&_.collection===t.value.collection);return u&&p}),d=F(()=>{var p;return((p=l.currentUser)==null?void 0:p.role.admin_access)===!0?!0:!!n.permissions.find(f=>f.action==="create"&&f.collection===e.value.collection)}),i=F(()=>{var f;if(((f=l.currentUser)==null?void 0:f.role.admin_access)===!0)return!0;const u=!!n.permissions.find(_=>_.action==="update"&&_.collection===e.value.collection),p=!!n.permissions.find(_=>_.action==="update"&&_.collection===t.value.collection);return u&&p});return{createAllowed:a,selectAllowed:d,updateAllowed:i}}const wG=K({components:{DrawerItem:Kt,DrawerCollection:sn,Draggable:Tt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{value:l,collection:a,field:d}=ze(e),{junction:i,junctionCollection:r,relation:u,relationCollection:p,relationInfo:f}=Xl(a,d),_=F(()=>{var le,ie;if(e.template)return e.template;if((le=r.value.meta)==null?void 0:le.display_template)return r.value.meta.display_template;let H=(ie=p.value.meta)==null?void 0:ie.display_template;if(H){const de=/({{.*?}})/g,ye=H.split(de).filter(he=>he);for(const he of ye){if(he.startsWith("{{")===!1)continue;const Se=he.replace(/{{/g,"").replace(/}}/g,"").trim(),Ce=`{{${u.value.field}.${Se}}}`;H=H.replace(he,Ce)}return H}return`{{${u.value.field}.${f.value.relationPkField}}}`}),v=F(()=>dn(St(_.value),r.value.collection)),{deleteItem:y,getUpdatedItems:h,getNewItems:g,getPrimaryKeys:b,getNewSelectedItems:$}=ks(l,f,re),{tableHeaders:A,items:V,initialItems:T,loading:D}=Ss(l,v,f,$,h,g,b),{currentlyEditing:O,editItem:M,editsAtStart:L,stageEdits:j,cancelEdit:B,relatedPrimaryKey:q,editModalActive:G}=Cs(l,f,re),{stageSelection:Q,selectModalActive:ce,selectedPrimaryKeys:J}=Vs(V,T,f,re),{sort:oe,sortItems:_e,sortedItems:me}=Fs(f,v,V,re),{createAllowed:ee,selectAllowed:ne}=As(r,p),{showUpload:te,onUpload:Z}=ve(),se=F(()=>{if(!(q.value===null||p.value.collection!=="directus_files"))return dt(Ze()+`assets/${q.value}?download`)});return{t:n,junction:i,relation:u,tableHeaders:A,loading:D,currentlyEditing:O,editItem:M,junctionCollection:r,relationCollection:p,editsAtStart:L,stageEdits:j,cancelEdit:B,stageSelection:Q,selectModalActive:ce,deleteItem:y,selectedPrimaryKeys:J,items:V,relationInfo:f,relatedPrimaryKey:q,get:N.exports.get,editModalActive:G,sort:oe,sortItems:_e,sortedItems:me,templateWithDefaults:_,createAllowed:ee,selectAllowed:ne,onUpload:Z,showUpload:te,downloadUrl:se,getUrl:X};function X(H,le){var ye,he,Se;const{junctionField:ie}=f.value,de=(Se=(he=(ye=H[ie])==null?void 0:ye.id)!=null?he:H[ie])!=null?Se:null;return de?dt(le?Ze()+`assets/${de}?download`:Ze()+`assets/${de}`):null}function re(H){t("input",H)}function ve(){const H=E(!1);return{showUpload:H,onUpload:le};function le(ie){if(H.value=!1,ie.length===0)return;const{junctionField:de}=f.value,ye=ie.map(he=>({[de]:he.id}));t("input",[...e.value||[],...ye])}}}}),kG=e=>(Xe("data-v-2218c8ae"),e=e(),Ye(),e),$G={key:1,class:"many-to-many"},SG=kG(()=>S("div",{class:"spacer"},null,-1)),CG={key:3,class:"actions"};function VG(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-skeleton-loader"),u=c("v-icon"),p=c("render-template"),f=c("v-list-item-icon"),_=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list"),h=c("v-menu"),g=c("draggable"),b=c("v-button"),$=c("drawer-item"),A=c("drawer-collection"),V=c("v-card-title"),T=c("v-upload"),D=c("v-card-text"),O=c("v-card-actions"),M=c("v-card"),L=c("v-dialog");return!e.junction||!e.relation?(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",$G,[e.loading?(m(!0),I(ae,{key:0},we((e.value||[]).length||3,j=>(m(),C(r,{key:j,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("no_items")),1)]),_:1})):(m(),C(y,{key:2},{default:s(()=>[o(g,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.junction.meta.sort_field,"onUpdate:modelValue":t[1]||(t[1]=j=>e.sortItems(j))},{item:s(({element:j})=>[o(v,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:B=>e.editItem(j)},{default:s(()=>[e.junction.meta.sort_field?(m(),C(u,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=De(()=>{},["stop"]))})):R("",!0),o(p,{collection:e.junctionCollection.collection,item:j,template:e.templateWithDefaults},null,8,["collection","item","template"]),SG,e.disabled?R("",!0):(m(),C(u,{key:1,name:"close",class:"remove",onClick:De(B=>e.deleteItem(j),["stop"])},null,8,["onClick"])),o(h,{"show-arrow":"",placement:"bottom-end"},{activator:s(({toggle:B})=>[o(u,{name:"more_vert",clickable:"",onClick:De(B,["stop"])},null,8,["onClick"])]),default:s(()=>[o(y,null,{default:s(()=>[o(v,{clickable:"",href:e.getUrl(j)},{default:s(()=>[o(f,null,{default:s(()=>[o(u,{name:"launch"})]),_:1}),o(_,null,{default:s(()=>[P(w(e.t("open_file_in_tab")),1)]),_:1})]),_:2},1032,["href"]),o(v,{clickable:"",href:e.getUrl(j,!0)},{default:s(()=>[o(f,null,{default:s(()=>[o(u,{name:"download"})]),_:1}),o(_,null,{default:s(()=>[P(w(e.t("download_file")),1)]),_:1})]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",CG,[e.enableCreate&&e.createAllowed?(m(),C(b,{key:0,onClick:t[2]||(t[2]=j=>e.showUpload=!0)},{default:s(()=>[P(w(e.t("upload_file")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),C(b,{key:1,onClick:t[3]||(t[3]=j=>e.selectModalActive=!0)},{default:s(()=>[P(w(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C($,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},{actions:s(()=>[e.currentlyEditing!=="+"&&e.relationCollection.collection==="directus_files"?(m(),C(b,{key:0,secondary:"",rounded:"",icon:"",download:"",href:e.downloadUrl},{default:s(()=>[o(u,{name:"download"})]),_:1},8,["href"])):R("",!0)]),_:1},8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(A,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=j=>e.selectModalActive=j),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","onInput"])),e.disabled?R("",!0):(m(),C(L,{key:6,modelValue:e.showUpload,"onUpdate:modelValue":t[6]||(t[6]=j=>e.showUpload=j)},{default:s(()=>[o(M,null,{default:s(()=>[o(V,null,{default:s(()=>[P(w(e.t("upload_file")),1)]),_:1}),o(D,null,{default:s(()=>[o(T,{multiple:"","from-url":"",folder:e.folder,onInput:e.onUpload},null,8,["folder","onInput"])]),_:1}),o(O,null,{default:s(()=>[o(b,{onClick:t[5]||(t[5]=j=>e.showUpload=!1)},{default:s(()=>[P(w(e.t("done")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]))}var FG=z(wG,[["render",VG],["__scopeId","data-v-2218c8ae"]]),AG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="9" width="56" height="36" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="20" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="25" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 27.2L45.39 35H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 23L66 35H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="9" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="10" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="15" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 27.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 23L128 35h-27.695l13.848-12z" fill="var(--primary)" />
	<rect x="19" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="20" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="25" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M36.695 69.2L45.39 77H28l8.695-7.8z" fill="var(--primary)" />
	<path d="M52.153 65L66 77H38.305l13.848-12z" fill="var(--primary)" />
	<rect x="81" y="51" width="56" height="36" rx="6" fill="var(--background-page)" />
	<rect x="82" y="52" width="54" height="34" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="87" y="57" width="44" height="24" rx="4" fill="var(--primary)" fill-opacity=".25" />
	<path d="M98.695 69.2l8.695 7.8H90l8.695-7.8z" fill="var(--primary)" />
	<path d="M114.153 65L128 77h-27.695l13.848-12z" fill="var(--primary)" />
</svg>
`,IG=qe({id:"files",name:"$t:interfaces.files.files",description:"$t:interfaces.files.description",icon:"note_add",component:FG,relational:!0,types:["alias"],localTypes:["files"],group:"relational",options:({relations:e})=>{var t;return[{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"full",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:(t=e.o2m)==null?void 0:t.collection}}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}}]},recommendedDisplays:["related-values"],preview:AG}),EG=Object.freeze(Object.defineProperty({__proto__:null,default:IG},Symbol.toStringTag,{value:"Module"}));const DG=K({name:"AccordionSection",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},group:{type:String,required:!0},multiple:{type:Boolean,default:!1}},emits:["apply","toggleAll"],setup(e,{emit:t}){const{t:n}=Y(),l=F(()=>e.fields.filter(r=>{var u,p,f;return!(((u=r.meta)==null?void 0:u.group)===e.group&&((p=r.meta)==null?void 0:p.id)!==((f=e.field.meta)==null?void 0:f.id))}).map(r=>{var u,p;return((u=r.meta)==null?void 0:u.id)===((p=e.field.meta)==null?void 0:p.id)?N.exports.merge({},r,{hideLabel:!0}):r})),a=F(()=>{if(!e.values)return!1;const r=Object.keys(e.values);return!!l.value.some(u=>r.includes(u.field))}),d=F(()=>{const r=e.validationErrors.find(u=>u.field===e.field.field);if(r!==void 0)return r.code==="RECORD_NOT_UNIQUE"?n("validationError.unique"):n(`validationError.${r.type}`,r)});return{fieldsInSection:l,edited:a,handleModifier:i,validationMessage:d};function i(r,u){if(e.multiple===!1){u();return}r.shiftKey?t("toggleAll"):u()}}}),TG=["onClick"],PG={key:0,class:"fields"};function OG(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-form"),u=c("transition-expand"),p=c("v-item"),f=$e("tooltip");return m(),C(p,{value:e.field.field,scope:"group-accordion",class:"accordion-section"},{default:s(({active:_,toggle:v})=>{var y;return[S("div",{class:ue(["label type-title",{active:_,edited:e.edited}]),onClick:h=>e.handleModifier(h,v)},[o(i,{class:ue(["icon",{active:_}]),name:"expand_more"},null,8,["class"]),P(" "+w(e.field.name)+" ",1),((y=e.field.meta)==null?void 0:y.required)===!0?(m(),C(i,{key:0,class:"required",sup:"",name:"star"})):R("",!0),!_&&e.validationMessage?x((m(),C(i,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessage]]):R("",!0)],10,TG),o(u,null,{default:s(()=>[_?(m(),I("div",PG,[o(r,{"initial-values":e.initialValues,fields:e.fieldsInSection,"model-value":e.values,"primary-key":e.primaryKey,group:e.group,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("apply",h))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])])):R("",!0)]),_:2},1024)]}),_:1},8,["value"])}var LG=z(DG,[["render",OG],["__scopeId","data-v-35356459"]]);const jG=K({name:"InterfaceGroupAccordion",components:{AccordionSection:LG},props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},accordionMode:{type:Boolean,default:!0},start:{type:String,enum:["opened","closed","first"],default:"closed"}},emits:["apply"],setup(e){const t=F(()=>e.fields.filter(a=>{var d,i;return((d=a.meta)==null?void 0:d.group)===((i=e.field.meta)==null?void 0:i.field)})),n=E([]);return ge(()=>e.start,a=>{a==="opened"&&(n.value=t.value.map(d=>d.field)),a==="first"&&(n.value=[t.value[0].field])},{immediate:!0}),ge(()=>e.validationErrors,(a,d)=>{if(!e.validationErrors||N.exports.isEqual(a,d))return;const i=e.validationErrors.filter(r=>t.value.find(u=>u.field===r.field));i.length>0&&(n.value=[i[0].field])}),{rootFields:t,selection:n,toggleAll:l};function l(){e.accordionMode!==!0&&(n.value.length===t.value.length?n.value=[]:n.value=t.value.map(a=>a.field))}}});function RG(e,t,n,l,a,d){const i=c("accordion-section"),r=c("v-item-group");return m(),C(r,{modelValue:e.selection,"onUpdate:modelValue":t[1]||(t[1]=u=>e.selection=u),scope:"group-accordion",class:"group-accordion",multiple:e.accordionMode===!1},{default:s(()=>[(m(!0),I(ae,null,we(e.rootFields,u=>(m(),C(i,{key:u.field,field:u,fields:e.fields,values:e.values,"initial-values":e.initialValues,disabled:e.disabled,"batch-mode":e.batchMode,"batch-active-fields":e.batchActiveFields,"primary-key":e.primaryKey,loading:e.loading,"validation-errors":e.validationErrors,group:e.field.meta.field,multiple:e.accordionMode===!1,onApply:t[0]||(t[0]=p=>e.$emit("apply",p)),onToggleAll:e.toggleAll},null,8,["field","fields","values","initial-values","disabled","batch-mode","batch-active-fields","primary-key","loading","validation-errors","group","multiple","onToggleAll"]))),128))]),_:1},8,["modelValue","multiple"])}var MG=z(jG,[["render",RG]]),UG=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none"
	xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="15" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="27" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="67" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect x="28" y="67" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity="0.25" x="18" y="79" width="120" height="2" rx="1" fill="var(--primary)"/>
	<path d="M130.82 14.6602L130 15.4805L132.652 18.1602L130 20.8398L130.82 21.6602L134.32 18.1602L130.82 14.6602Z" fill="var(--primary)"/>
	<path d="M130.82 41L130 41.8203L132.652 44.5L130 47.1797L130.82 48L134.32 44.5L130.82 41Z" fill="var(--primary)"/>
	<path d="M130.82 67L130 67.8203L132.652 70.5L130 73.1797L130.82 74L134.32 70.5L130.82 67Z" fill="var(--primary)"/>
</svg>
`,NG=qe({id:"group-accordion",name:"$t:interfaces.group-accordion.name",description:"$t:interfaces.group-accordion.description",icon:"horizontal_split",component:MG,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["group"],group:"group",options:[{field:"accordionMode",type:"boolean",name:"$t:interfaces.group-accordion.accordion_mode",meta:{interface:"boolean",options:{label:"$t:interfaces.group-accordion.max_one_section_open"},width:"half"},schema:{default_value:!0}},{field:"start",type:"string",name:"$t:start",schema:{default_value:"closed"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"}]},conditions:[{rule:{accordionMode:{_eq:!1}},options:{choices:[{text:"$t:interfaces.group-accordion.all_closed",value:"closed"},{text:"$t:interfaces.group-accordion.first_opened",value:"first"},{text:"$t:interfaces.group-accordion.all_opened",value:"opened"}]}}]}}],preview:UG}),BG=Object.freeze(Object.defineProperty({__proto__:null,default:NG},Symbol.toStringTag,{value:"Module"}));const qG=K({name:"InterfaceGroupDetail",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]},start:{type:String,enum:["open","closed"],default:"open"},headerIcon:{type:String,default:null},headerColor:{type:String,default:null}},emits:["apply"],setup(e){const{t}=Y(),n=E(e.start==="open"),l=F(()=>{if(!e.values)return!1;const d=Object.keys(e.values);return!!e.fields.some(i=>d.includes(i.field))}),a=F(()=>{if(!e.validationErrors)return;const d=e.fields.map(r=>r.field),i=e.validationErrors.reduce((r,u)=>(d.includes(u.field)===!1||(u.code==="RECORD_NOT_UNIQUE"?r.push(`${wt(u.field)} ${t("validationError.unique").toLowerCase()}`):r.push(`${wt(u.field)} ${t(`validationError.${u.type}`,u).toLowerCase()}`)),r),[]);return i.length===0?[]:i});return ge(a,(d,i)=>{!a.value||N.exports.isEqual(d,i)||(n.value=a.value.length>0)}),{edited:l,validationMessages:a,detailOpen:n}}}),zG={key:0,class:"title"};function KG(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-divider"),u=c("v-form"),p=c("v-detail"),f=$e("tooltip");return m(),C(p,{modelValue:e.detailOpen,"onUpdate:modelValue":t[1]||(t[1]=_=>e.detailOpen=_),"start-open":e.start==="open",class:"group-detail"},{activator:s(({toggle:_,active:v})=>[o(r,{style:We({"--v-divider-label-color":e.headerColor}),class:ue({active:v,edited:e.edited}),"inline-title":!1,large:"",onClick:_},ot({default:s(()=>[e.field.name?(m(),I("span",zG,w(e.field.name),1)):R("",!0),!v&&e.validationMessages.length>0?x((m(),C(i,{key:1,class:"warning",name:"error_outline",small:""},null,512)),[[f,e.validationMessages.join(`
`)]]):R("",!0),o(i,{class:"expand-icon",name:"expand_more"})]),_:2},[e.headerIcon?{name:"icon",fn:s(()=>[o(i,{name:e.headerIcon,class:"header-icon"},null,8,["name"])])}:void 0]),1032,["style","class","onClick"])]),default:s(()=>[o(u,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,"batch-mode":e.batchMode,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("apply",_))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled"])]),_:1},8,["modelValue","start-open"])}var WG=z(qG,[["render",KG],["__scopeId","data-v-73c172ee"]]),HG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
  <path d="m130.82 41-.82.82 2.652 2.68L130 47.18l.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,GG=qe({id:"group-detail",name:"$t:interfaces.group-detail.name",description:"$t:interfaces.group-detail.description",icon:"menu_open",component:WG,localTypes:["group"],group:"group",types:["alias"],options:[{field:"start",name:"$t:start",type:"string",schema:{default_value:"open"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"$t:interfaces.group-detail.start_open",value:"open"},{text:"$t:interfaces.group-detail.start_closed",value:"closed"}]}}},{field:"headerIcon",name:"$t:interfaces.group-detail.header_icon",type:"string",meta:{interface:"select-icon",width:"half"}},{field:"headerColor",name:"$t:interfaces.group-detail.header_color",type:"string",meta:{interface:"select-color",width:"half"}}],preview:HG}),ZG=Object.freeze(Object.defineProperty({__proto__:null,default:GG},Symbol.toStringTag,{value:"Module"}));const JG=K({name:"InterfaceGroupRaw",props:{field:{type:Object,required:!0},fields:{type:Array,required:!0},values:{type:Object,required:!0},initialValues:{type:Object,required:!0},disabled:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},batchActiveFields:{type:Array,default:()=>[]},primaryKey:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Array,default:()=>[]}},emits:["apply"]}),QG={class:"group-raw"};function XG(e,t,n,l,a,d){const i=c("v-form");return m(),I("div",QG,[o(i,{"initial-values":e.initialValues,fields:e.fields,"model-value":e.values,"primary-key":e.primaryKey,group:e.field.meta.field,"validation-errors":e.validationErrors,loading:e.loading,disabled:e.disabled,nested:"","onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("apply",r))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","disabled"])])}var YG=z(JG,[["render",XG]]),xG=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="19" y="14" width="118" height="68" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="14" width="118" height="68" rx="6" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-dasharray="4 6"/>
	<rect opacity=".25" x="29" y="24" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="92" y="31" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="29" y="52" width="98" height="20" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="38" y="59" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="62" y="59" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
</svg>
`,eZ=qe({id:"group-raw",name:"$t:interfaces.group-raw.name",description:"$t:interfaces.group-raw.description",icon:"view_in_ar",component:YG,localTypes:["group"],group:"group",types:["alias"],options:[],preview:xG}),tZ=Object.freeze(Object.defineProperty({__proto__:null,default:eZ},Symbol.toStringTag,{value:"Module"}));const nZ=K({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},length:{type:Number,default:null},softLength:{type:Number,default:void 0},dbSafe:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},slug:{type:Boolean,default:!1},min:{type:Number,default:void 0},max:{type:Number,default:void 0},step:{type:Number,default:1}},emits:["input"],setup(e){const t=F(()=>typeof e.value=="number"||!e.length&&!e.softLength||!e.value&&!e.softLength?null:!e.value&&e.softLength?e.softLength:e.softLength?+e.softLength-e.value.length:e.length?+e.length-e.value.length:null),n=F(()=>typeof e.value=="number"||!e.length&&!e.softLength?null:e.value?e.softLength?100-e.value.length/+e.softLength*100:e.length?100-e.value.length/+e.length*100:100:100);return{inputType:F(()=>e.masked?"password":["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text"),charsRemaining:t,percentageRemaining:n}}});function lZ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input");return m(),C(r,{autofocus:e.autofocus,"model-value":e.value,nullable:!e.clear,placeholder:e.placeholder,disabled:e.disabled,trim:e.trim,type:e.inputType,class:ue(e.font),"db-safe":e.dbSafe,slug:e.slug,min:e.min,max:e.max,step:e.step,autocomplete:e.masked?"new-password":"off","onUpdate:modelValue":t[0]||(t[0]=u=>e.$emit("input",u))},ot({_:2},[e.iconLeft?{name:"prepend",fn:s(()=>[o(i,{name:e.iconLeft},null,8,["name"])])}:void 0,e.percentageRemaining!==null&&e.percentageRemaining<=20||e.iconRight||e.softLength?{name:"append",fn:s(()=>[e.percentageRemaining!==null&&e.percentageRemaining<=20||e.softLength?(m(),I("span",{key:0,class:ue(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},w(e.charsRemaining),3)):R("",!0),e.iconRight?(m(),C(i,{key:1,class:ue({hide:e.percentageRemaining&&e.percentageRemaining<=20}),name:e.iconRight},null,8,["class","name"])):R("",!0)])}:void 0]),1032,["autofocus","model-value","nullable","placeholder","disabled","trim","type","class","db-safe","slug","min","max","step","autocomplete"])}var oZ=z(nZ,[["render",lZ],["__scopeId","data-v-5d0bc642"]]),aZ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,iZ=qe({id:"input",name:"$t:interfaces.input.input",description:"$t:interfaces.input.description",icon:"text_fields",component:oZ,types:["string","uuid","bigInteger","integer","float","decimal","text"],group:"standard",options:({field:e})=>{var l;const t={standard:[{field:"placeholder",name:"$t:placeholder",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1,max:(l=e.schema)==null?void 0:l.max_length}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"masked",name:"$t:interfaces.input.mask",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.mask_label"}},schema:{default_value:!1}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}},{field:"slug",name:"$t:interfaces.input.slug",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.slug_label"}},schema:{default_value:!1}}]},n=[{field:"min",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"max",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"step",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}}];return e.type&&["bigInteger","integer","float","decimal"].includes(e.type)?n:t},preview:aZ}),rZ=Object.freeze(Object.defineProperty({__proto__:null,default:iZ},Symbol.toStringTag,{value:"Module"}));const sZ=K({props:{value:{type:[String,Number],default:null},url:{type:String,default:null},resultsPath:{type:String,default:null},textPath:{type:String,default:null},valuePath:{type:String,default:null},trigger:{type:String,default:"throttle"},rate:{type:[Number,String],default:500},placeholder:{type:String,default:null},iconLeft:{type:String,default:null},iconRight:{type:String,default:null},font:{type:String,default:"sans-serif"},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E([]),a=async u=>{if(!u){l.value=[];return}const p=xt(e.url,{value:u});try{const f=await lo.get(p),_=e.resultsPath?N.exports.get(f.data,e.resultsPath):f.data;if(Array.isArray(_)===!1){console.warn(`Expected results type of array, "${typeof _}" received`);return}l.value=_.map(v=>e.textPath&&e.valuePath?{text:N.exports.get(v,e.textPath),value:N.exports.get(v,e.valuePath)}:e.valuePath?{value:N.exports.get(v,e.valuePath)}:{value:v})}catch(f){console.warn(f)}},d=e.trigger==="debounce"?N.exports.debounce(a,Number(e.rate)):N.exports.throttle(a,Number(e.rate));return{t:n,results:l,onInput:i,emitValue:r};function i(u){r(u),d(u)}function r(u){t("input",u)}}}),dZ={key:1};function uZ(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-icon"),u=c("v-input"),p=c("v-list-item-content"),f=c("v-list-item"),_=c("v-list"),v=c("v-menu");return e.url?(m(),I("div",dZ,[o(v,{attached:"",disabled:e.disabled},{activator:s(({activate:y,deactivate:h})=>[o(u,{placeholder:e.placeholder,disabled:e.disabled,class:ue(e.font),"model-value":e.value,"onUpdate:modelValue":e.onInput,onFocus:y,onBlur:h},ot({_:2},[e.iconLeft?{name:"prepend",fn:s(()=>[o(r,{name:e.iconLeft},null,8,["name"])])}:void 0,e.iconRight?{name:"append",fn:s(()=>[o(r,{name:e.iconRight},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","class","model-value","onUpdate:modelValue","onFocus","onBlur"])]),default:s(()=>[e.results.length>0?(m(),C(_,{key:0},{default:s(()=>[(m(!0),I(ae,null,we(e.results,y=>(m(),C(f,{key:y.value,onClick:()=>e.emitValue(y.value)},{default:s(()=>[o(p,null,{default:s(()=>[P(w(e.textPath?y.text:y.value),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):R("",!0)]),_:1},8,["disabled"])])):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("one_or_more_options_are_missing")),1)]),_:1}))}var cZ=z(sZ,[["render",uZ],["__scopeId","data-v-56f7b81d"]]),pZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="45" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="82" y="45" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,mZ=qe({id:"input-autocomplete-api",name:"$t:interfaces.input-autocomplete-api.input-autocomplete-api",description:"$t:interfaces.input-autocomplete-api.description",icon:"find_in_page",component:cZ,types:["string","text"],localTypes:["standard"],group:"standard",recommendedDisplays:["formatted-value"],options:[{field:"url",name:"$t:url",type:"string",meta:{interface:"input",options:{placeholder:"https://example.com/search?q={{value}}",font:"monospace"},width:"full"}},{field:"resultsPath",name:"$t:interfaces.input-autocomplete-api.results_path",type:"string",meta:{interface:"input",options:{placeholder:"result.predictions",font:"monospace"},width:"full"}},{field:"textPath",name:"$t:interfaces.input-autocomplete-api.text_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_text",font:"monospace"},width:"half"}},{field:"valuePath",name:"$t:interfaces.input-autocomplete-api.value_path",type:"string",meta:{interface:"input",options:{placeholder:"structured_main_value",font:"monospace"},width:"half"}},{field:"trigger",name:"$t:interfaces.input-autocomplete-api.trigger",type:"string",schema:{default_value:"throttle"},meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Throttle",value:"throttle"},{text:"Debounce",value:"debounce"}]}}},{field:"rate",name:"$t:interfaces.input-autocomplete-api.rate",type:"integer",schema:{default_value:500},meta:{width:"half",interface:"input"}},{field:"placeholder",name:"$t:placeholder",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],preview:pZ}),fZ=Object.freeze(Object.defineProperty({__proto__:null,default:mZ},Symbol.toStringTag,{value:"Module"}));function Is(e){switch(e){case"apl":return U(()=>import("./apl.a00caba3.js").then(function(t){return t.a}),["assets/apl.a00caba3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"asciiarmor":return U(()=>import("./asciiarmor.0aa51f1f.js").then(function(t){return t.a}),["assets/asciiarmor.0aa51f1f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"asn.1":return U(()=>import("./asn.1.9704888b.js").then(function(t){return t.a}),["assets/asn.1.9704888b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"asterisk":return U(()=>import("./asterisk.600840fc.js").then(function(t){return t.a}),["assets/asterisk.600840fc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"brainfuck":return U(()=>import("./brainfuck.1e4b4eb1.js").then(function(t){return t.b}),["assets/brainfuck.1e4b4eb1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"clike":return U(()=>import("./clike.dc304041.js").then(function(t){return t.c}),["assets/clike.dc304041.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"clojure":return U(()=>import("./clojure.f8e8933d.js").then(function(t){return t.c}),["assets/clojure.f8e8933d.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"cmake":return U(()=>import("./cmake.65af898d.js").then(function(t){return t.c}),["assets/cmake.65af898d.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"cobol":return U(()=>import("./cobol.ad22984c.js").then(function(t){return t.c}),["assets/cobol.ad22984c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"coffeescript":return U(()=>import("./coffeescript.afc1aad8.js").then(function(t){return t.c}),["assets/coffeescript.afc1aad8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"commonlisp":return U(()=>import("./commonlisp.76fd7a26.js").then(function(t){return t.c}),["assets/commonlisp.76fd7a26.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"crystal":return U(()=>import("./crystal.aa9896b4.js").then(function(t){return t.c}),["assets/crystal.aa9896b4.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"css":return U(()=>import("./css.7bfded2c.js").then(function(t){return t.c}),["assets/css.7bfded2c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"cypher":return U(()=>import("./cypher.83f1f068.js").then(function(t){return t.c}),["assets/cypher.83f1f068.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"d":return U(()=>import("./d.ec3a4bfa.js").then(function(t){return t.d}),["assets/d.ec3a4bfa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"dart":return U(()=>import("./dart.3ebe28fd.js").then(function(t){return t.d}),["assets/dart.3ebe28fd.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/clike.dc304041.js"]);case"diff":return U(()=>import("./diff.6609b473.js").then(function(t){return t.d}),["assets/diff.6609b473.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"django":return U(()=>import("./django.87c18b51.js").then(function(t){return t.d}),["assets/django.87c18b51.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/overlay.ae430c07.js"]);case"dockerfile":return U(()=>import("./dockerfile.f24a5abb.js").then(function(t){return t.d}),["assets/dockerfile.f24a5abb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js"]);case"dtd":return U(()=>import("./dtd.fdaf06e1.js").then(function(t){return t.d}),["assets/dtd.fdaf06e1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"dylan":return U(()=>import("./dylan.efa621ed.js").then(function(t){return t.d}),["assets/dylan.efa621ed.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"ebnf":return U(()=>import("./ebnf.758e105f.js").then(function(t){return t.e}),["assets/ebnf.758e105f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"ecl":return U(()=>import("./ecl.ee402f8b.js").then(function(t){return t.e}),["assets/ecl.ee402f8b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"eiffel":return U(()=>import("./eiffel.6fdb661b.js").then(function(t){return t.e}),["assets/eiffel.6fdb661b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"elm":return U(()=>import("./elm.19d667b0.js").then(function(t){return t.e}),["assets/elm.19d667b0.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"erlang":return U(()=>import("./erlang.9de2b6a5.js").then(function(t){return t.e}),["assets/erlang.9de2b6a5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"factor":return U(()=>import("./factor.48b8a3ef.js").then(function(t){return t.f}),["assets/factor.48b8a3ef.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js"]);case"fcl":return U(()=>import("./fcl.02ca64a1.js").then(function(t){return t.f}),["assets/fcl.02ca64a1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"forth":return U(()=>import("./forth.e689b3eb.js").then(function(t){return t.f}),["assets/forth.e689b3eb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"fortran":return U(()=>import("./fortran.6a5fc001.js").then(function(t){return t.f}),["assets/fortran.6a5fc001.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"gas":return U(()=>import("./gas.2daa1304.js").then(function(t){return t.g}),["assets/gas.2daa1304.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"gfm":return U(()=>import("./gfm.f3e8b40f.js").then(function(t){return t.g}),["assets/gfm.f3e8b40f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/overlay.ae430c07.js"]);case"gherkin":return U(()=>import("./gherkin.b43a3252.js").then(function(t){return t.g}),["assets/gherkin.b43a3252.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"go":return U(()=>import("./go.63f87011.js").then(function(t){return t.g}),["assets/go.63f87011.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"groovy":return U(()=>import("./groovy.16ddd911.js").then(function(t){return t.g}),["assets/groovy.16ddd911.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"haml":return U(()=>import("./haml.9443aeec.js").then(function(t){return t.h}),["assets/haml.9443aeec.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/ruby.7ff2b064.js"]);case"handlebars":return U(()=>import("./handlebars.23e8be7a.js").then(function(t){return t.h}),["assets/handlebars.23e8be7a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js","assets/multiplex.2a683323.js"]);case"haskell":return U(()=>import("./haskell.9e54d423.js").then(function(t){return t.h}),["assets/haskell.9e54d423.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"haskell-literate":return U(()=>import("./haskell-literate.758ca559.js").then(function(t){return t.h}),["assets/haskell-literate.758ca559.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/haskell.9e54d423.js"]);case"haxe":return U(()=>import("./haxe.24bb4baa.js").then(function(t){return t.h}),["assets/haxe.24bb4baa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"htmlembedded":return U(()=>import("./htmlembedded.bfe7ab41.js").then(function(t){return t.h}),["assets/htmlembedded.bfe7ab41.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/multiplex.2a683323.js"]);case"htmlmixed":return U(()=>import("./htmlmixed.bb060c99.js").then(function(t){return t.h}),["assets/htmlmixed.bb060c99.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js"]);case"http":return U(()=>import("./http.0a0f008a.js").then(function(t){return t.h}),["assets/http.0a0f008a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"idl":return U(()=>import("./idl.e488de81.js").then(function(t){return t.i}),["assets/idl.e488de81.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"javascript":return U(()=>import("./javascript.e77a31d7.js").then(function(t){return t.j}),["assets/javascript.e77a31d7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"jinja2":return U(()=>import("./jinja2.62d35d26.js").then(function(t){return t.j}),["assets/jinja2.62d35d26.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"jsx":return U(()=>import("./jsx.7c3e211a.js").then(function(t){return t.j}),["assets/jsx.7c3e211a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/javascript.e77a31d7.js"]);case"julia":return U(()=>import("./julia.82615a40.js").then(function(t){return t.j}),["assets/julia.82615a40.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"livescript":return U(()=>import("./livescript.bf7c6356.js").then(function(t){return t.l}),["assets/livescript.bf7c6356.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"lua":return U(()=>import("./lua.df9f8de8.js").then(function(t){return t.l}),["assets/lua.df9f8de8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"markdown":return U(()=>import("./vendor.ef99adf3.js").then(function(t){return t.a}),["assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mathematica":return U(()=>import("./mathematica.35866057.js").then(function(t){return t.m}),["assets/mathematica.35866057.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mbox":return U(()=>import("./mbox.b588a798.js").then(function(t){return t.m}),["assets/mbox.b588a798.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mirc":return U(()=>import("./mirc.11811abc.js").then(function(t){return t.m}),["assets/mirc.11811abc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mllike":return U(()=>import("./mllike.f80953fc.js").then(function(t){return t.m}),["assets/mllike.f80953fc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"modelica":return U(()=>import("./modelica.31203d9d.js").then(function(t){return t.m}),["assets/modelica.31203d9d.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mscgen":return U(()=>import("./mscgen.14d048a5.js").then(function(t){return t.m}),["assets/mscgen.14d048a5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"mumps":return U(()=>import("./mumps.14b46927.js").then(function(t){return t.m}),["assets/mumps.14b46927.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"nginx":return U(()=>import("./nginx.147916f5.js").then(function(t){return t.n}),["assets/nginx.147916f5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"nsis":return U(()=>import("./nsis.10cfff1e.js").then(function(t){return t.n}),["assets/nsis.10cfff1e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js"]);case"ntriples":return U(()=>import("./ntriples.9eadeec1.js").then(function(t){return t.n}),["assets/ntriples.9eadeec1.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"octave":return U(()=>import("./octave.bcd50d60.js").then(function(t){return t.o}),["assets/octave.bcd50d60.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"oz":return U(()=>import("./oz.2f895b39.js").then(function(t){return t.o}),["assets/oz.2f895b39.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"pascal":return U(()=>import("./pascal.fcf5fb90.js").then(function(t){return t.p}),["assets/pascal.fcf5fb90.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"pegjs":return U(()=>import("./pegjs.bfe8c0d8.js").then(function(t){return t.p}),["assets/pegjs.bfe8c0d8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/javascript.e77a31d7.js"]);case"perl":return U(()=>import("./perl.34e1ebd8.js").then(function(t){return t.p}),["assets/perl.34e1ebd8.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"php":return U(()=>import("./php.123c0022.js").then(function(t){return t.p}),["assets/php.123c0022.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/clike.dc304041.js"]);case"pig":return U(()=>import("./pig.c87dc3c5.js").then(function(t){return t.p}),["assets/pig.c87dc3c5.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"powershell":return U(()=>import("./powershell.acd58c14.js").then(function(t){return t.p}),["assets/powershell.acd58c14.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"properties":return U(()=>import("./properties.bb44ad2a.js").then(function(t){return t.p}),["assets/properties.bb44ad2a.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"protobuf":return U(()=>import("./protobuf.56cee688.js").then(function(t){return t.p}),["assets/protobuf.56cee688.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"pug":return U(()=>import("./pug.bd4388b6.js").then(function(t){return t.p}),["assets/pug.bd4388b6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/htmlmixed.bb060c99.js"]);case"puppet":return U(()=>import("./puppet.595e3b11.js").then(function(t){return t.p}),["assets/puppet.595e3b11.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"python":return U(()=>import("./python.96cc4158.js").then(function(t){return t.p}),["assets/python.96cc4158.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"q":return U(()=>import("./q.c1c89979.js").then(function(t){return t.q}),["assets/q.c1c89979.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"r":return U(()=>import("./r.e8bd6183.js").then(function(t){return t.r}),["assets/r.e8bd6183.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"rpm":return U(()=>import("./rpm.9e17cfc6.js").then(function(t){return t.r}),["assets/rpm.9e17cfc6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"rst":return U(()=>import("./rst.e6212933.js").then(function(t){return t.r}),["assets/rst.e6212933.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/python.96cc4158.js","assets/stex.f35da327.js","assets/overlay.ae430c07.js"]);case"ruby":return U(()=>import("./ruby.7ff2b064.js").then(function(t){return t.r}),["assets/ruby.7ff2b064.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"rust":return U(()=>import("./rust.cef3d7aa.js").then(function(t){return t.r}),["assets/rust.cef3d7aa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js"]);case"sas":return U(()=>import("./sas.e7f0f539.js").then(function(t){return t.s}),["assets/sas.e7f0f539.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"sass":return U(()=>import("./sass.08441508.js").then(function(t){return t.s}),["assets/sass.08441508.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/css.7bfded2c.js"]);case"scheme":return U(()=>import("./scheme.a74ee417.js").then(function(t){return t.s}),["assets/scheme.a74ee417.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"shell":return U(()=>import("./shell.47528095.js").then(function(t){return t.s}),["assets/shell.47528095.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"sieve":return U(()=>import("./sieve.424cbf77.js").then(function(t){return t.s}),["assets/sieve.424cbf77.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"slim":return U(()=>import("./slim.014147b3.js").then(function(t){return t.s}),["assets/slim.014147b3.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/ruby.7ff2b064.js"]);case"smalltalk":return U(()=>import("./smalltalk.5d6d79d2.js").then(function(t){return t.s}),["assets/smalltalk.5d6d79d2.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"smarty":return U(()=>import("./smarty.955de5dc.js").then(function(t){return t.s}),["assets/smarty.955de5dc.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"solr":return U(()=>import("./solr.adf53b34.js").then(function(t){return t.s}),["assets/solr.adf53b34.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"soy":return U(()=>import("./soy.14f8a682.js").then(function(t){return t.s}),["assets/soy.14f8a682.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js"]);case"sparql":return U(()=>import("./sparql.6a030390.js").then(function(t){return t.s}),["assets/sparql.6a030390.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"spreadsheet":return U(()=>import("./spreadsheet.67ce0358.js").then(function(t){return t.s}),["assets/spreadsheet.67ce0358.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"sql":return U(()=>import("./sql.7bb80f22.js").then(function(t){return t.s}),["assets/sql.7bb80f22.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"stex":return U(()=>import("./stex.f35da327.js").then(function(t){return t.s}),["assets/stex.f35da327.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"stylus":return U(()=>import("./stylus.930fb7b6.js").then(function(t){return t.s}),["assets/stylus.930fb7b6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"swift":return U(()=>import("./swift.7f6fa792.js").then(function(t){return t.s}),["assets/swift.7f6fa792.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"tcl":return U(()=>import("./tcl.468e3c20.js").then(function(t){return t.t}),["assets/tcl.468e3c20.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"textile":return U(()=>import("./textile.5b724807.js").then(function(t){return t.t}),["assets/textile.5b724807.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"tiddlywiki":return U(()=>import("./tiddlywiki.1a5a1bd6.js").then(function(t){return t.t}),["assets/tiddlywiki.1a5a1bd6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"tiki":return U(()=>import("./tiki.e5d1cc9c.js").then(function(t){return t.t}),["assets/tiki.e5d1cc9c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"toml":return U(()=>import("./toml.309d9a71.js").then(function(t){return t.t}),["assets/toml.309d9a71.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"tornado":return U(()=>import("./tornado.33d6785e.js").then(function(t){return t.t}),["assets/tornado.33d6785e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/htmlmixed.bb060c99.js","assets/javascript.e77a31d7.js","assets/css.7bfded2c.js","assets/overlay.ae430c07.js"]);case"troff":return U(()=>import("./troff.39a13d53.js").then(function(t){return t.t}),["assets/troff.39a13d53.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"ttcn":return U(()=>import("./ttcn.ff83f5df.js").then(function(t){return t.t}),["assets/ttcn.ff83f5df.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"ttcn-cfg":return U(()=>import("./ttcn-cfg.2227c343.js").then(function(t){return t.t}),["assets/ttcn-cfg.2227c343.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"turtle":return U(()=>import("./turtle.ef55cec6.js").then(function(t){return t.t}),["assets/turtle.ef55cec6.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"twig":return U(()=>import("./twig.367a43fb.js").then(function(t){return t.t}),["assets/twig.367a43fb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/multiplex.2a683323.js"]);case"vb":return U(()=>import("./vb.af7fe20b.js").then(function(t){return t.v}),["assets/vb.af7fe20b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"vbscript":return U(()=>import("./vbscript.2bd7f088.js").then(function(t){return t.v}),["assets/vbscript.2bd7f088.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"velocity":return U(()=>import("./velocity.223e9248.js").then(function(t){return t.v}),["assets/velocity.223e9248.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"verilog":return U(()=>import("./verilog.4b62dd2f.js").then(function(t){return t.v}),["assets/verilog.4b62dd2f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"vhdl":return U(()=>import("./vhdl.58f6f384.js").then(function(t){return t.v}),["assets/vhdl.58f6f384.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"vue":return U(()=>import("./vue.a51d1c54.js").then(function(t){return t.v}),["assets/vue.a51d1c54.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/overlay.ae430c07.js","assets/javascript.e77a31d7.js","assets/coffeescript.afc1aad8.js","assets/css.7bfded2c.js","assets/sass.08441508.js","assets/stylus.930fb7b6.js","assets/pug.bd4388b6.js","assets/htmlmixed.bb060c99.js","assets/handlebars.23e8be7a.js","assets/simple.ef386c48.js","assets/multiplex.2a683323.js"]);case"wast":return U(()=>import("./wast.29e0da5e.js").then(function(t){return t.w}),["assets/wast.29e0da5e.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/simple.ef386c48.js"]);case"webidl":return U(()=>import("./webidl.34270659.js").then(function(t){return t.w}),["assets/webidl.34270659.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"xml":return U(()=>import("./vendor.ef99adf3.js").then(function(t){return t.x}),["assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"xquery":return U(()=>import("./xquery.9af0937b.js").then(function(t){return t.x}),["assets/xquery.9af0937b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"yacas":return U(()=>import("./yacas.4b55f53d.js").then(function(t){return t.y}),["assets/yacas.4b55f53d.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"yaml":return U(()=>import("./yaml.26316285.js").then(function(t){return t.y}),["assets/yaml.26316285.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);case"yaml-frontmatter":return U(()=>import("./yaml-frontmatter.6b3a826f.js").then(function(t){return t.y}),["assets/yaml-frontmatter.6b3a826f.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/yaml.26316285.js"]);case"z80":return U(()=>import("./z80.06c57bfb.js").then(function(t){return t.z}),["assets/z80.06c57bfb.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);default:return Promise.resolve()}}function Es(e={throttle:100}){const t=E(0),n=E(0);function l(){t.value=window.innerWidth,n.value=window.innerHeight}const a=N.exports.throttle(l,e.throttle);return ya(l),st(()=>{window.addEventListener("resize",a,{passive:!0})}),Dt(()=>{window.removeEventListener("resize",a)}),{width:t,height:n}}const _Z=K({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Object,Array],default:null},altOptions:{type:Object,default:null},template:{type:String,default:null},lineNumber:{type:Boolean,default:!0},lineWrapping:{type:Boolean,default:!1},placeholder:{type:String,default:null},language:{type:String,default:"plaintext"},type:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{width:l}=Es(),a=E(null);let d;st(async()=>{a.value&&(await u(v.value),await Is(v.value.mode),d=jn(a.value,Fe(fe({},v.value),{value:i.value})),d.setOption("mode",{name:"javascript "}),await r(),d.on("change",(h,{origin:g})=>{if(g==="setValue")return;const b=h.getValue();if(e.type==="json"){if(b.length===0)return t("input",null);try{t("input",JSON.parse(b))}catch{}}else t("input",b)}))});const i=F(()=>e.value===null?"":typeof e.value=="object"?JSON.stringify(e.value,null,4):e.value);ge(()=>e.language,()=>{r()}),ge(i,()=>{(d==null?void 0:d.getValue())!==i.value&&(d==null||d.setValue(i.value||""))});async function r(){if(d){const h=e.language.toLowerCase();if(e.type==="json"||h==="json"){await U(()=>import("./javascript.e77a31d7.js").then(function(b){return b.j}),["assets/javascript.e77a31d7.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]);const g=await U(()=>import("./jsonlint.e8823cb8.js").then(function(b){return b.j}),[]);d.setOption("mode",{name:"javascript",json:!0}),jn.registerHelper("lint","json",b=>{const $=[],A=g.parser;if(A.parseError=(V,T)=>{const D=T.loc;$.push({from:jn.Pos(D.first_line-1,D.first_column),to:jn.Pos(D.last_line-1,D.last_column),message:V})},b.length>0)try{g.parse(b)}catch{}return $})}else h==="plaintext"?d.setOption("mode",{name:"plaintext"}):(await Is(h),d.setOption("mode",{name:h}))}}async function u(h){const g=[];h&&h.size>0&&(h.styleActiveLine&&g.push(U(()=>import("./active-line.abea5a9c.js").then(function(b){return b.a}),["assets/active-line.abea5a9c.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),h.markSelection&&g.push(U(()=>import("./mark-selection.a5c78240.js").then(function(b){return b.m}),["assets/mark-selection.a5c78240.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),h.highlightSelectionMatches&&g.push(U(()=>import("./match-highlighter.b8b7c0fa.js").then(function(b){return b.m}),["assets/match-highlighter.b8b7c0fa.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),h.autoRefresh&&g.push(U(()=>import("./autorefresh.1e21c42b.js").then(function(b){return b.a}),["assets/autorefresh.1e21c42b.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),h.matchBrackets&&g.push(U(()=>import("./vendor.ef99adf3.js").then(function(b){return b.m}),["assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),(h.hintOptions||h.showHint)&&(g.push(U(()=>import("./show-hint.12dadc00.js").then(function(b){return b.s}),["assets/show-hint.12dadc00.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"])),g.push(U(()=>Promise.resolve({}),["assets/show-hint.a1d6f238.css"])),g.push(U(()=>import("./javascript-hint.069603da.js").then(function(b){return b.j}),["assets/javascript-hint.069603da.js","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css"]))),await Promise.all(g))}const p=F(()=>d?d.lineCount():0),f=F(()=>l.value<600?e.disabled?"nocursor":!1:e.disabled),_={tabSize:4,autoRefresh:!0,indentUnit:4,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0,delay:100},hintOptions:{completeSingle:!0,hint:()=>{}},matchBrackets:!0,showCursorWhenSelecting:!0,lineWiseCopyCut:!1,theme:"default",extraKeys:{Ctrl:"autocomplete"},lint:!0,gutters:["CodeMirror-lint-markers"]},v=F(()=>Object.assign({},_,{lineNumbers:e.lineNumber,lineWrapping:e.lineWrapping,readOnly:f.value,cursorBlinkRate:e.disabled?-1:530,mode:e.language,placeholder:e.placeholder},e.altOptions?e.altOptions:{}));return ge(()=>e.disabled,h=>{d==null||d.setOption("readOnly",f.value),d==null||d.setOption("cursorBlinkRate",h?-1:530)},{immediate:!0}),ge(()=>e.altOptions,async h=>{if(!(!h||h.size===0)){await u(h);for(const g in h)d==null||d.setOption(g,h[g])}}),ge(()=>e.lineNumber,h=>{d==null||d.setOption("lineNumbers",h)}),{t:n,cmOptions:v,lineCount:p,codemirrorEl:a,stringValue:i,fillTemplate:y,formatTitle:wt};function y(){if(e.type==="json")try{t("input",JSON.parse(e.template))}finally{}else t("input",e.template)}}}),vZ={ref:"codemirrorEl"};function yZ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=$e("tooltip");return m(),I("div",{class:ue(["input-code codemirror-custom-styles",{disabled:e.disabled}])},[S("div",vZ,null,512),e.template?x((m(),C(r,{key:0,small:"",icon:"",secondary:"",onClick:e.fillTemplate},{default:s(()=>[o(i,{name:"playlist_add"})]),_:1},8,["onClick"])),[[u,e.t("fill_template"),void 0,{left:!0}]]):R("",!0)],2)}var hZ=z(_Z,[["render",yZ],["__scopeId","data-v-337e96fe"]]),gZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="45.148" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="55.222" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="65.296" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="35.074" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="10" height="6" rx="2" fill="var(--primary)" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="65" width="10" height="6" rx="2" fill="var(--primary)" />
</svg>
`;const bZ=jn.modeInfo.reduce((e,t)=>["JSON","JSON-LD"].includes(t.name)?(e.JSON="JSON",e):((t.mode==null||t.mode=="null")&&(t.mode="plaintext"),t.mode in e?e[t.mode]+=" / "+t.name:e[t.mode]=t.name,e),{}),wZ=Object.entries(bZ).map(([e,t])=>({text:t,value:e}));var kZ=qe({id:"input-code",name:"$t:interfaces.input-code.code",description:"$t:interfaces.input-code.description",icon:"code",component:hZ,types:["string","json","text","geometry"],group:"standard",preview:gZ,options:({field:e})=>{const t=[{field:"lineNumber",name:"$t:interfaces.input-code.line_number",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!0}},{field:"lineWrapping",name:"$t:interfaces.input-code.line_wrapping",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"template",name:"$t:template",type:"text",meta:{width:"full",interface:"input-code",options:{placeholder:"$t:interfaces.input-code.placeholder"}},schema:{default_value:null}}],n=[{field:"language",name:"$t:language",type:"string",meta:{width:"full",interface:"select-dropdown",options:{choices:wZ}}},...t],l=[...t];return(e==null?void 0:e.type)==="json"?l:n}}),$Z=Object.freeze(Object.defineProperty({__proto__:null,default:kZ},Symbol.toStringTag,{value:"Module"}));const SZ=K({inheritAttrs:!1,props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},masked:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(!1),a=E(null),d=F(()=>l.value?n("value_hashed"):e.placeholder);return ge(()=>e.value,()=>{l.value=!!(e.value&&e.value.length>0)},{immediate:!0}),{internalPlaceholder:d,isHashed:l,localValue:a,emitValue:i};function i(r){t("input",r),a.value=r}}});function CZ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input");return m(),C(r,{placeholder:e.internalPlaceholder,disabled:e.disabled,type:e.masked?"password":"text",autocomplete:e.masked?"new-password":"off","model-value":e.localValue,class:ue({hashed:e.isHashed&&!e.localValue}),"onUpdate:modelValue":e.emitValue},{append:s(()=>[o(i,{class:"lock",name:e.isHashed&&!e.localValue?"lock":"lock_open"},null,8,["name"])]),_:1},8,["placeholder","disabled","type","autocomplete","model-value","class","onUpdate:modelValue"])}var VZ=z(SZ,[["render",CZ],["__scopeId","data-v-21ed8e84"]]),FZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="35" width="120" height="26" rx="6" fill="var(--background-page)"/>
	<rect x="19" y="36" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="38" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="58" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="68" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="78" y="45" width="6" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M125.5 45.676h-.574V44.5A2.93 2.93 0 0 0 122 41.574a2.93 2.93 0 0 0-2.926 2.926v1.176h-.574c-.629 0-1.176.52-1.176 1.148v5.852c0 .629.547 1.148 1.176 1.148h7c.629 0 1.176-.52 1.176-1.148v-5.852c0-.629-.547-1.148-1.176-1.148Zm-5.25-1.176c0-.957.793-1.75 1.75-1.75s1.75.793 1.75 1.75v1.176h-3.5V44.5Zm5.25 8.176h-7v-5.852h7v5.852Zm-3.5-1.75c.629 0 1.176-.547 1.176-1.176 0-.629-.547-1.176-1.176-1.176-.629 0-1.176.547-1.176 1.176 0 .629.547 1.176 1.176 1.176Z" fill="var(--primary)"/>
</svg>
`,AZ=qe({id:"input-hash",name:"$t:interfaces.input-hash.hash",description:"$t:interfaces.input-hash.description",icon:"fingerprint",component:VZ,types:["hash"],group:"other",preview:FZ,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"masked",name:"$t:interfaces.input-hash.masked",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input-hash.masked_label"}},schema:{default_value:!1}}]}),IZ=Object.freeze(Object.defineProperty({__proto__:null,default:AZ},Symbol.toStringTag,{value:"Module"}));const EZ=K({props:{value:{type:String,default:null},clear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},trim:{type:Boolean,default:!0},font:{type:String,default:"sans-serif"},softLength:{type:Number,default:void 0}},emits:["input"],setup(e){const t=F(()=>{if(typeof e.value=="number"||!e.softLength)return null;if(!e.value&&e.softLength)return e.softLength;const l=e.value.replaceAll(`
`," ").length;return e.softLength?+e.softLength-l:null}),n=F(()=>typeof e.value=="number"||!e.softLength?null:e.value&&e.softLength?100-e.value.length/+e.softLength*100:100);return{charsRemaining:t,percentageRemaining:n}}});function DZ(e,t,n,l,a,d){const i=c("v-textarea");return m(),C(i,pt({placeholder:e.placeholder,trim:e.trim},{"model-value":e.value,nullable:!e.clear,disabled:e.disabled,class:e.font,"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))}),ot({_:2},[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?{name:"append",fn:s(()=>[e.percentageRemaining&&e.percentageRemaining<=20||e.softLength?(m(),I("span",{key:0,class:ue(["remaining",{warning:e.percentageRemaining<10,danger:e.percentageRemaining<5}])},w(e.charsRemaining),3)):R("",!0)])}:void 0]),1040,["model-value","nullable","disabled","class"])}var TZ=z(EZ,[["render",DZ],["__scopeId","data-v-709e094a"]]),PZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="60" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="19" width="118" height="58" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="28" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="48" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="38" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="28" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="72" y="38" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,OZ=qe({id:"input-multiline",name:"$t:interfaces.input-multiline.textarea",description:"$t:interfaces.input-multiline.description",icon:"text_fields",component:TZ,types:["text"],group:"standard",options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"trim",name:"$t:interfaces.input.trim",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.trim_label"}},schema:{default_value:!1}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"clear",name:"$t:interfaces.input.clear",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.input.clear_label"}},schema:{default_value:!1}}],preview:PZ}),LZ=Object.freeze(Object.defineProperty({__proto__:null,default:OZ},Symbol.toStringTag,{value:"Module"})),jZ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`;const RZ=Ia(()=>U(()=>import("./input-rich-text-html.edcdd41e.js"),["assets/input-rich-text-html.edcdd41e.js","assets/input-rich-text-html.13cfe672.css","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/use-sync.7a0e9d8b.js"]));var MZ=qe({id:"input-rich-text-html",name:"$t:interfaces.input-rich-text-html.wysiwyg",description:"$t:interfaces.input-rich-text-html.description",icon:"format_quote",component:RZ,types:["text"],group:"standard",preview:jZ,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","h1","h2","h3","numlist","bullist","removeformat","blockquote","customLink","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"fontselect",text:"$t:wysiwyg_options.fontselect"},{value:"fontsizeselect",text:"$t:wysiwyg_options.fontsizeselect"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"folder",name:"$t:folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.input-rich-text-html.folder_note"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-html.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-html.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",options:{language:"json"}}}]}}),UZ=Object.freeze(Object.defineProperty({__proto__:null,default:MZ},Symbol.toStringTag,{value:"Module"}));const NZ={heading(e,{cursorTo:t},n){const l=(n==null?void 0:n.level)||3;let a=e;const d=t,i="#".repeat(l)+" ";return e.startsWith(i)?a=e.substring(i.length):(a=`${i}${e}`,d.ch=d.ch+i.length),{newSelection:a,newCursor:d}},bold(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("**")&&e.endsWith("**")?n=e.substring(2,e.length-2):(n=`**${e}**`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},italic(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("*")&&e.endsWith("*")?n=e.substring(1,e.length-1):(n=`*${e}*`,l.ch=l.ch+1),{newSelection:n,newCursor:l}},strikethrough(e,{cursorTo:t}){let n=e;const l=t;return e.startsWith("~~")&&e.endsWith("~~")?n=e.substring(2,e.length-2):(n=`~~${e}~~`,l.ch=l.ch+2),{newSelection:n,newCursor:l}},listBulleted(e,{cursorTo:t}){let n=e;const l=t,a=e.split(`
`);return a.every(i=>i.startsWith("- "))?n=a.map(i=>i.substring(2)).join(`
`):n=a.map(i=>`- ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},listNumbered(e,{cursorTo:t}){let n=e;const l=t,a=e.split(`
`);return a.every((i,r)=>i.startsWith(`${r+1}.`))?n=a.map(i=>i.substring(3)).join(`
`):n=a.map((i,r)=>`${r+1}. ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},blockquote(e,{cursorTo:t}){let n=e;const l=t,a=e.split(`
`);return a.every(i=>i.startsWith("> "))?n=a.map(i=>i.substring(2)).join(`
`):n=a.map(i=>`> ${i}`).join(`
`),e||(l.ch=l.ch+2),{newSelection:n,newCursor:l}},code(e,{cursorTo:t}){if(e.includes(`
`)){let n=e;const l=t;return e.startsWith("```")&&e.endsWith("```")?n=e.substring(3,e.length-3):(n="```\n"+n+"\n```",l.line=l.line+1),{newSelection:n,newCursor:l}}else{let n=e;const l=t;return e.startsWith("`")&&e.endsWith("`")?n=e.substring(1,e.length-1):(n=`\`${e}\``,l.ch=l.ch+1),{newSelection:n,newCursor:l}}},link(e,{cursorFrom:t,cursorTo:n}){let l=e;const a=n;let d;return e.endsWith("](url)")?l=e.substring(1,e.length-6):e.startsWith("http")?(l=`[](${e})`,a.ch=t.ch+1):(l=`[${e}](url)`,e?d={from:Fe(fe({},N.exports.cloneDeep(a)),{ch:a.ch+3}),to:Fe(fe({},N.exports.cloneDeep(a)),{ch:a.ch+6})}:a.ch=t.ch+1),{newSelection:l,newCursor:a,highlight:d}},table(e,t,n){if(!n)return{newSelection:e,newCursor:t.cursorFrom};let l="";const a=[];for(let d=0;d<n.columns;d++)a.push("Header");l+=`| ${a.join(" | ")} |`,l+=`
| ${a.map(()=>"------").join(" | ")} |`;for(let d=0;d<n.rows;d++)l+=`
| ${a.map(()=>"Cell").join("   | ")}   |`;return{newSelection:l,newCursor:t.cursorFrom}},custom(e,{cursorTo:t,cursorHead:n},l){if(!l)return{newSelection:e,newCursor:n};if(l.box==="block"){let a=e;const d=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?a=e.substring(l.prefix.length,e.length-l.suffix.length):(a=`${l.prefix}
${a}
${l.suffix}`,d.line=d.line+1),{newSelection:a,newCursor:d}}else{let a=e;const d=t;return e.startsWith(l.prefix)&&e.endsWith(l.suffix)?a=e.substring(1,e.length-1):(a=`${l.prefix}${e}${l.suffix}`,d.ch=d.ch+1),{newSelection:a,newCursor:d}}}};function BZ(e,t,n){if(e){const l=e.getCursor("head"),a=e.getCursor("from"),d=e.getCursor("to"),i=e.findWordAt(l),r=e.getRange(i.anchor,i.head).trim(),u=e.getSelection(),{newSelection:p,newCursor:f,highlight:_}=NZ[t](u||r,{cursorFrom:N.exports.cloneDeep(u?a:i.anchor),cursorTo:N.exports.cloneDeep(u?d:i.head),cursorHead:l},n);r&&!u?e.replaceRange(p,i.anchor,i.head):e.replaceSelection(p),e.setCursor(f),_&&e.setSelection(_.from,_.to),e.focus()}}const qZ=(e,t)=>t?e?100-e/+t*100:100:null;const oa=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},editorFont:{type:String,default:"sans-serif"},previewFont:{type:String,default:"sans-serif"},toolbar:{type:Array,default:()=>["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","link","empty"]},customSyntax:{type:Array,default:()=>[]},imageToken:{type:String,default:void 0},softLength:{type:Number,default:void 0},folder:{type:String,default:void 0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(),a=E();let d=null;const i=E(["editor"]),r=E(!1);let u=E(0);st(async()=>{if(a.value&&(d=jn(a.value,{mode:"markdown",configureMouse:()=>({addNew:!1}),lineWrapping:!0,placeholder:e.placeholder,value:e.value||""}),d.on("change",(b,{origin:$})=>{if($==="setValue")return;const A=b.getValue();t("input",A)})),l.value){const b=l.value.getElementsByClassName("preview-box")[0],$=new MutationObserver(()=>{var V,T,D;u.value=(D=(T=(V=b.textContent)==null?void 0:V.replace(`
`,""))==null?void 0:T.length)!=null?D:0}),A={characterData:!0,childList:!0,subtree:!0};$.observe(b,A)}}),ge(()=>e.value,b=>{if(!d)return;d.getValue()!==b&&(d.setValue(""),d.clearHistory(),d.setValue(b!=null?b:""),d.refresh())});const p=F(()=>`var(--family-${e.editorFont})`),f=F(()=>`var(--family-${e.previewFont})`),_=F(()=>e.value||""),v=Gt({rows:4,columns:4}),y=F(()=>qZ(u.value,e.softLength));return it("meta+b",()=>g("bold"),l),it("meta+i",()=>g("italic"),l),it("meta+k",()=>g("link"),l),it("meta+alt+d",()=>g("strikethrough"),l),it("meta+alt+q",()=>g("blockquote"),l),it("meta+alt+c",()=>g("code"),l),it("meta+alt+1",()=>g("heading",{level:1}),l),it("meta+alt+2",()=>g("heading",{level:2}),l),it("meta+alt+3",()=>g("heading",{level:3}),l),it("meta+alt+4",()=>g("heading",{level:4}),l),it("meta+alt+5",()=>g("heading",{level:5}),l),it("meta+alt+6",()=>g("heading",{level:6}),l),{t:n,percRemaining:y,count:u,codemirrorEl:a,edit:g,view:i,markdownString:_,table:v,onImageUpload:h,imageDialogOpen:r,useShortcut:it,translateShortcut:ni,markdownInterface:l,editFamily:p,previewFamily:f};function h(b){if(!d)return;let $=a3()+"assets/"+b.id;e.imageToken&&($+="?access_token="+e.imageToken),d.replaceSelection(`![${d.getSelection()}](${$})`),r.value=!1}function g(b,$){d&&BZ(d,b,$)}}}),Ds=()=>{bl(e=>({bebd673a:e.previewFamily,"3dd79e57":e.editFamily}))},Ts=oa.setup;oa.setup=Ts?(e,t)=>(Ds(),Ts(e,t)):Ds;const zZ=oa,KZ=e=>(Xe("data-v-40935134"),e=e(),Ye(),e),WZ={class:"toolbar"},HZ={class:"table-options"},GZ={class:"field half"},ZZ={class:"type-label"},JZ={class:"field half"},QZ={class:"type-label"},XZ={class:"field full"},YZ=P(" Create "),xZ=KZ(()=>S("div",{class:"spacer"},null,-1)),eJ={ref:"codemirrorEl"};function tJ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button"),u=c("v-text-overflow"),p=c("v-list-item-content"),f=c("v-list-item-hint"),_=c("v-list-item"),v=c("v-list"),y=c("v-menu"),h=c("v-input"),g=c("v-item-group"),b=c("v-card-title"),$=c("v-upload"),A=c("v-card-text"),V=c("v-card-actions"),T=c("v-card"),D=c("v-dialog"),O=$e("tooltip"),M=$e("md");return m(),I("div",{ref:"markdownInterface",class:ue(["interface-input-rich-text-md",e.view[0]])},[S("div",WZ,[e.view[0]!=="preview"?(m(),I(ae,{key:0},[e.toolbar.includes("heading")?(m(),C(y,{key:0,"show-arrow":"",placement:"bottom-start",class:ue([{active:e.view[0]!=="preview"}])},{activator:s(({toggle:L})=>[x(o(r,{small:"",icon:"",onClick:L},{default:s(()=>[o(i,{name:"format_size"})]),_:2},1032,["onClick"]),[[O,e.t("wysiwyg_options.heading")]])]),default:s(()=>[o(v,null,{default:s(()=>[(m(),I(ae,null,we(6,L=>o(_,{key:L,clickable:"",onClick:j=>e.edit("heading",{level:L})},{default:s(()=>[o(p,null,{default:s(()=>[o(u,{text:e.t(`wysiwyg_options.h${L}`)},null,8,["text"])]),_:2},1024),o(f,null,{default:s(()=>[P(w(e.translateShortcut(["meta","alt"]))+" "+w(L),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["class"])):R("",!0),e.toolbar.includes("bold")?x((m(),C(r,{key:1,small:"",icon:"",onClick:t[0]||(t[0]=L=>e.edit("bold"))},{default:s(()=>[o(i,{name:"format_bold"})]),_:1},512)),[[O,e.t("wysiwyg_options.bold")+" - "+e.translateShortcut(["meta","b"])]]):R("",!0),e.toolbar.includes("italic")?x((m(),C(r,{key:2,small:"",icon:"",onClick:t[1]||(t[1]=L=>e.edit("italic"))},{default:s(()=>[o(i,{name:"format_italic"})]),_:1},512)),[[O,e.t("wysiwyg_options.italic")+" - "+e.translateShortcut(["meta","i"])]]):R("",!0),e.toolbar.includes("strikethrough")?x((m(),C(r,{key:3,small:"",icon:"",onClick:t[2]||(t[2]=L=>e.edit("strikethrough"))},{default:s(()=>[o(i,{name:"format_strikethrough"})]),_:1},512)),[[O,e.t("wysiwyg_options.strikethrough")+" - "+e.translateShortcut(["meta","alt","d"])]]):R("",!0),e.toolbar.includes("bullist")?x((m(),C(r,{key:4,small:"",icon:"",onClick:t[3]||(t[3]=L=>e.edit("listBulleted"))},{default:s(()=>[o(i,{name:"format_list_bulleted"})]),_:1},512)),[[O,e.t("wysiwyg_options.bullist")]]):R("",!0),e.toolbar.includes("numlist")?x((m(),C(r,{key:5,small:"",icon:"",onClick:t[4]||(t[4]=L=>e.edit("listNumbered"))},{default:s(()=>[o(i,{name:"format_list_numbered"})]),_:1},512)),[[O,e.t("wysiwyg_options.numlist")]]):R("",!0),e.toolbar.includes("blockquote")?x((m(),C(r,{key:6,small:"",icon:"",onClick:t[5]||(t[5]=L=>e.edit("blockquote"))},{default:s(()=>[o(i,{name:"format_quote"})]),_:1},512)),[[O,e.t("wysiwyg_options.blockquote")+" - "+e.translateShortcut(["meta","alt","q"])]]):R("",!0),e.toolbar.includes("code")?x((m(),C(r,{key:7,small:"",icon:"",onClick:t[6]||(t[6]=L=>e.edit("code"))},{default:s(()=>[o(i,{name:"code"})]),_:1},512)),[[O,e.t("wysiwyg_options.codeblock")+" - "+e.translateShortcut(["meta","alt","c"])]]):R("",!0),e.toolbar.includes("link")?x((m(),C(r,{key:8,small:"",icon:"",onClick:t[7]||(t[7]=L=>e.edit("link"))},{default:s(()=>[o(i,{name:"insert_link"})]),_:1},512)),[[O,e.t("wysiwyg_options.link")+" - "+e.translateShortcut(["meta","k"])]]):R("",!0),e.toolbar.includes("table")?(m(),C(y,{key:9,"show-arrow":"","close-on-content-click":!1},{activator:s(({toggle:L})=>[x(o(r,{small:"",icon:"",onClick:L},{default:s(()=>[o(i,{name:"table_chart"})]),_:2},1032,["onClick"]),[[O,e.t("wysiwyg_options.table")]])]),default:s(({deactivate:L})=>[S("div",HZ,[S("div",GZ,[S("p",ZZ,w(e.t("rows")),1),o(h,{modelValue:e.table.rows,"onUpdate:modelValue":t[8]||(t[8]=j=>e.table.rows=j),min:1,type:"number"},null,8,["modelValue"])]),S("div",JZ,[S("p",QZ,w(e.t("columns")),1),o(h,{modelValue:e.table.columns,"onUpdate:modelValue":t[9]||(t[9]=j=>e.table.columns=j),min:1,type:"number"},null,8,["modelValue"])]),S("div",XZ,[o(r,{"full-width":"",onClick:()=>{e.edit("table",e.table),L()}},{default:s(()=>[YZ]),_:2},1032,["onClick"])])])]),_:1})):R("",!0),e.toolbar.includes("image")?x((m(),C(r,{key:10,small:"",icon:"",onClick:t[10]||(t[10]=L=>e.imageDialogOpen=!0)},{default:s(()=>[o(i,{name:"insert_photo"})]),_:1},512)),[[O,e.t("wysiwyg_options.image")]]):R("",!0),(m(!0),I(ae,null,we(e.customSyntax,L=>x((m(),C(r,{key:L.name,small:"",icon:"",onClick:j=>e.edit("custom",L)},{default:s(()=>[o(i,{name:L.icon},null,8,["name"])]),_:2},1032,["onClick"])),[[O,L.name]])),128))],64)):R("",!0),xZ,o(g,{modelValue:e.view,"onUpdate:modelValue":t[11]||(t[11]=L=>e.view=L),class:"view",mandatory:"",rounded:""},{default:s(()=>[o(r,{"x-small":"",value:"editor",class:ue([{active:e.view[0]!=="preview"}])},{default:s(()=>[P(w(e.t("interfaces.input-rich-text-md.edit")),1)]),_:1},8,["class"]),o(r,{"x-small":"",value:"preview",class:ue([{active:e.view[0]==="preview"}])},{default:s(()=>[P(w(e.t("interfaces.input-rich-text-md.preview")),1)]),_:1},8,["class"])]),_:1},8,["modelValue"])]),S("div",eJ,null,512),e.softLength?(m(),I("span",{key:0,class:ue(["remaining",{warning:e.percRemaining<10,danger:e.percRemaining<5}])},w(e.softLength-e.count),3)):R("",!0),x(S("div",{class:"preview-box",style:We(e.view[0]==="preview"?"display:block":"display:none")},null,4),[[M,e.markdownString]]),o(D,{"model-value":e.imageDialogOpen,onEsc:t[13]||(t[13]=L=>e.imageDialogOpen=null),"onUpdate:modelValue":t[14]||(t[14]=L=>e.imageDialogOpen=null)},{default:s(()=>[o(T,null,{default:s(()=>[o(b,null,{default:s(()=>[P(w(e.t("upload_from_device")),1)]),_:1}),o(A,null,{default:s(()=>[o($,{"from-url":"","from-library":"",folder:e.folder,onInput:e.onImageUpload},null,8,["folder","onInput"])]),_:1}),o(V,null,{default:s(()=>[o(r,{secondary:"",onClick:t[12]||(t[12]=L=>e.imageDialogOpen=null)},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])],2)}var nJ=z(zZ,[["render",tJ],["__scopeId","data-v-40935134"]]),lJ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="42" y="25" width="8" height="8" rx="2" fill="var(--primary)" />
	<rect x="56" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="70" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="84" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="98" y="25" width="8" height="8" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="39" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="59" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="49" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="92" y="39" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="72" y="49" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
</svg>
`,oJ=qe({id:"input-rich-text-md",name:"$t:interfaces.input-rich-text-md.markdown",description:"$t:interfaces.input-rich-text-md.description",icon:"functions",component:nJ,types:["text"],group:"standard",preview:lJ,options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["heading","bold","italic","strikethrough","bullist","numlist","blockquote","code","link","table","image","empty"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"heading",text:"$t:wysiwyg_options.heading"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"image",text:"$t:wysiwyg_options.image"},{value:"link",text:"$t:wysiwyg_options.link"}]}}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"folder",name:"$t:interfaces.system-folder.folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.system-folder.field_hint"},schema:{default_value:void 0}},{field:"imageToken",name:"$t:interfaces.input-rich-text-md.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-md.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"editorFont",name:"$t:interfaces.input-rich-text-md.editorFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"previewFont",name:"$t:interfaces.input-rich-text-md.previewFont",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"customSyntax",name:"$t:interfaces.input-rich-text-md.customSyntax",type:"json",meta:{note:"$t:interfaces.input-rich-text-md.customSyntax_label",width:"full",interface:"list",options:{addLabel:"$t:interfaces.input-rich-text-md.customSyntax_add",template:"{{ name }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"input",width:"half",options:{placeholder:"$t:name",default:null}}},{field:"icon",type:"string",name:"$t:icon",meta:{interface:"select-icon",width:"half"}},{field:"prefix",type:"string",name:"$t:prefix",meta:{interface:"input",width:"half",options:{placeholder:"$t:prefix",default:null}}},{field:"suffix",type:"string",name:"$t:suffix",meta:{interface:"input",width:"half",options:{placeholder:"$t:suffix",default:null}}},{field:"box",type:"string",name:"$t:interfaces.input-rich-text-md.box",meta:{interface:"select-radio",width:"half",options:{choices:[{text:"$t:inline",value:"inline"},{text:"$t:block",value:"block"}]}},schema:{default_value:"inline"}}]}}}]}}),aJ=Object.freeze(Object.defineProperty({__proto__:null,default:oJ},Symbol.toStringTag,{value:"Module"}));const iJ=K({components:{Draggable:Tt},props:{value:{type:Array,default:null},fields:{type:Array,default:()=>[]},template:{type:String,default:null},addLabel:{type:String,default:()=>Ne.global.t("create_new")},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},headerPlaceholder:{type:String,default:()=>Ne.global.t("empty_item")},collection:{type:String,default:null},placeholder:{type:String,default:()=>Ne.global.t("no_items")}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),a=F(()=>l.value!==null),{value:d}=ze(e),i=F(()=>{var B,q;return((q=(B=e.fields)==null?void 0:B[0])==null?void 0:q.field)?e.template||`{{${e.fields[0].field}}}`:""}),r=F(()=>e.disabled?!1:!!(e.value===null||e.limit===null||Array.isArray(e.value)&&e.value.length<e.limit)),u=F(()=>l.value!==null?y.value:null),{displayValue:p}=li(i,u),f=F(()=>{var q,G;const B={};for(const Q of e.fields)((q=Q.schema)==null?void 0:q.default_value)!==void 0&&((G=Q.schema)==null?void 0:G.default_value)!==null&&(B[Q.field]=Q.schema.default_value);return B}),_=F(()=>{var B;return(B=e.fields)==null?void 0:B.map(q=>{var G;return Fe(fe({},q),{name:wt((G=q.name)!=null?G:q.field)})})}),v=E(!1),y=E({}),h=E(!1);return{t:n,updateValues:T,removeItem:D,addNew:O,showAddNew:r,hideDragImage:Qt,active:l,drawerOpen:a,displayValue:p,activeItem:u,closeDrawer:j,onSort:L,templateWithDefaults:i,defaults:f,fieldsWithNames:_,isNewItem:v,edits:y,confirmDiscard:h,openItem:g,saveItem:b,trackEdits:$,checkDiscard:A,discardAndLeave:V};function g(B){v.value=!1,y.value=fe({},e.value[B]),l.value=B}function b(B){v.value=!1,T(B,y.value),j()}function $(B){const q=Object.assign({},f.value,B);Object.assign(y.value,q)}function A(){l.value!==null&&!N.exports.isEqual(y.value,e.value[l.value])?h.value=!0:j()}function V(){j(),h.value=!1}function T(B,q){M(e.value.map((G,Q)=>Q===B?q:G))}function D(B){d.value?M(e.value.filter(q=>q!==B)):M(null)}function O(){v.value=!0;const B={};e.fields.forEach(q=>{var G;B[q.field]=(G=q.schema)==null?void 0:G.default_value}),e.value!==null?M([...e.value,B]):M([B]),y.value=fe({},B),l.value=(e.value||[]).length}function M(B){return!B||B.length===0?t("input",null):t("input",B)}function L(B){return B===null||B.length===0?t("input",null):t("input",B)}function j(){v.value&&M(e.value.slice(0,-1)),y.value={},l.value=null}}}),rJ=e=>(Xe("data-v-219470bd"),e=e(),Ye(),e),sJ={class:"repeater"},dJ=rJ(()=>S("div",{class:"spacer"},null,-1)),uJ={class:"type-title"},cJ={class:"drawer-item-content"};function pJ(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-icon"),u=c("render-template"),p=c("v-list-item"),f=c("draggable"),_=c("v-list"),v=c("v-button"),y=c("v-form"),h=c("v-drawer"),g=c("v-card-title"),b=c("v-card-text"),$=c("v-card-actions"),A=c("v-card"),V=c("v-dialog"),T=$e("tooltip");return m(),I("div",sJ,[!e.value||e.value.length===0?(m(),C(i,{key:0},{default:s(()=>[P(w(e.placeholder),1)]),_:1})):R("",!0),e.value&&e.value.length>0?(m(),C(_,{key:1},{default:s(()=>[o(f,{disabled:e.disabled,"force-fallback":!0,"model-value":e.value,"item-key":"id",handle:".drag-handle","onUpdate:modelValue":t[1]||(t[1]=D=>e.$emit("input",D))},{item:s(({element:D,index:O})=>[o(p,{dense:e.value.length>4,block:"",onClick:M=>e.openItem(O)},{default:s(()=>[e.disabled?R("",!0):(m(),C(r,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=De(()=>{},["stop"]))})),o(u,{fields:e.fields,item:fe(fe({},e.defaults),D),template:e.templateWithDefaults},null,8,["fields","item","template"]),dJ,e.disabled?R("",!0):(m(),C(r,{key:1,name:"close",onClick:De(M=>e.removeItem(D),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])]),_:1},8,["disabled","model-value"])]),_:1})):R("",!0),e.showAddNew?(m(),C(v,{key:2,class:"add-new",onClick:e.addNew},{default:s(()=>[P(w(e.addLabel),1)]),_:1},8,["onClick"])):R("",!0),o(h,{"model-value":e.drawerOpen,title:e.displayValue||e.headerPlaceholder,persistent:"","onUpdate:modelValue":t[4]||(t[4]=D=>e.checkDiscard()),onCancel:t[5]||(t[5]=D=>e.checkDiscard())},{title:s(()=>[S("h1",uJ,[o(u,{fields:e.fields,item:e.activeItem,template:e.templateWithDefaults},null,8,["fields","item","template"])])]),actions:s(()=>[x(o(v,{icon:"",rounded:"",onClick:t[2]||(t[2]=D=>e.saveItem(e.active))},{default:s(()=>[o(r,{name:"check"})]),_:1},512),[[T,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",cJ,[o(y,{disabled:e.disabled,fields:e.fieldsWithNames,"model-value":e.activeItem,autofocus:"","primary-key":"+","onUpdate:modelValue":t[3]||(t[3]=D=>e.trackEdits(D))},null,8,["disabled","fields","model-value"])])]),_:1},8,["model-value","title"]),o(V,{modelValue:e.confirmDiscard,"onUpdate:modelValue":t[8]||(t[8]=D=>e.confirmDiscard=D),onEsc:t[9]||(t[9]=D=>e.confirmDiscard=!1)},{default:s(()=>[o(A,null,{default:s(()=>[o(g,null,{default:s(()=>[P(w(e.t("unsaved_changes")),1)]),_:1}),o(b,null,{default:s(()=>[P(w(e.t("unsaved_changes_copy")),1)]),_:1}),o($,null,{default:s(()=>[o(v,{secondary:"",onClick:t[6]||(t[6]=D=>e.discardAndLeave())},{default:s(()=>[P(w(e.t("discard_changes")),1)]),_:1}),o(v,{onClick:t[7]||(t[7]=D=>e.confirmDiscard=!1)},{default:s(()=>[P(w(e.t("keep_editing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Ps=z(iJ,[["render",pJ],["__scopeId","data-v-219470bd"]]);const mJ=K({components:{Repeater:Ps},props:{value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=F({get(){var r,u;return(u=(r=e.value)==null?void 0:r.fields)==null?void 0:u.map(p=>p.meta)},set(r){const u=(r||[]).map(p=>({field:p.field,name:p.name||p.field,type:p.type,meta:p}));t("input",Fe(fe({},e.value||{}),{fields:u}))}}),a=[{name:n("field",1),field:"field",type:"string",meta:{interface:"input",width:"half",sort:2,options:{dbSafe:!0,font:"monospace",placeholder:n("interfaces.list.field_name_placeholder")}},schema:null},{name:n("field_width"),field:"width",type:"string",meta:{interface:"select-dropdown",width:"half",sort:3,options:{choices:[{value:"half",text:n("half_width")},{value:"full",text:n("full_width")}]}},schema:null},{name:n("type"),field:"type",type:"string",meta:{interface:"select-dropdown",width:"half",sort:4,options:{choices:It(Y3)}},schema:null},{name:n("interface_label"),field:"interface",type:"string",meta:{interface:"system-interface",width:"half",sort:5,options:{typeField:"type"}},schema:null},{name:n("note"),field:"note",type:"string",meta:{interface:"system-input-translated-string",width:"full",sort:6,options:{placeholder:n("interfaces.list.field_note_placeholder")}},schema:null},{name:n("options"),field:"options",type:"string",meta:{interface:"system-interface-options",width:"full",sort:7,options:{interfaceField:"interface"}}}],d=F({get(){var r;return(r=e.value)==null?void 0:r.template},set(r){t("input",Fe(fe({},e.value||{}),{template:r}))}}),i=F({get(){var r;return(r=e.value)==null?void 0:r.addLabel},set(r){t("input",Fe(fe({},e.value||{}),{addLabel:r}))}});return{t:n,repeaterValue:l,repeaterFields:a,template:d,addLabel:i}}}),fJ={class:"grid"},_J={class:"grid-element half"},vJ={class:"type-label"},yJ={class:"grid-element half"},hJ={class:"type-label"},gJ={class:"grid-element full"},bJ={class:"type-label"};function wJ(e,t,n,l,a,d){const i=c("v-input"),r=c("interface-system-input-translated-string"),u=c("repeater");return m(),I("div",fJ,[S("div",_J,[S("p",vJ,w(e.t("template")),1),o(i,{modelValue:e.template,"onUpdate:modelValue":t[0]||(t[0]=p=>e.template=p),class:"input",placeholder:"{{ field }}"},null,8,["modelValue"])]),S("div",yJ,[S("p",hJ,w(e.t("interfaces.list.add_label")),1),o(r,{value:e.addLabel,class:"input",placeholder:e.t("create_new"),onInput:t[1]||(t[1]=p=>e.addLabel=p)},null,8,["value","placeholder"])]),S("div",gJ,[S("p",bJ,w(e.t("interfaces.list.edit_fields")),1),o(u,{value:e.repeaterValue,template:"{{ field }} \u2014 {{ interface }}",fields:e.repeaterFields,onInput:t[2]||(t[2]=p=>e.repeaterValue=p)},null,8,["value","fields"])])])}var kJ=z(mJ,[["render",wJ],["__scopeId","data-v-73448c36"]]),$J=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,SJ=qe({id:"list",name:"$t:interfaces.list.repeater",description:"$t:interfaces.list.description",icon:"replay",component:Ps,types:["json"],group:"selection",options:kJ,preview:$J}),CJ=Object.freeze(Object.defineProperty({__proto__:null,default:SJ},Symbol.toStringTag,{value:"Module"}));const VJ=K({components:{DrawerCollection:sn,DrawerItem:Kt,Draggable:Tt},props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},primaryKey:{type:[String,Number],required:!0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=ft(),a=Oe(),d=Je(),{o2mRelation:i,anyRelation:r,allowedCollections:u,o2mRelationPrimaryKeyField:p}=Q(),{fetchValues:f,previewValues:_,loading:v,junctionRowMap:y,relatedItemValues:h}=J(),{collections:g,templates:b,primaryKeys:$}=ce(),{selectingFrom:A,stageSelection:V,deselect:T}=oe(),{currentlyEditing:D,relatedPrimaryKey:O,editsAtStart:M,stageEdits:L,cancelEdit:j,editExisting:B,createNew:q}=_e(),{onSort:G}=me();return ge(()=>e.value,f,{immediate:!0,deep:!0}),{t:n,previewValues:_,collections:g,selectingFrom:A,stageSelection:V,templates:b,o2mRelation:i,anyRelation:r,currentlyEditing:D,relatedPrimaryKey:O,editsAtStart:M,stageEdits:L,cancelEdit:j,editExisting:B,createNew:q,previewLoading:v,deselect:T,relatedItemValues:h,hideDragImage:Qt,onSort:G,allowedCollections:u};function Q(){const ee=F(()=>l.getRelationsForField(e.collection,e.field)),ne=F(()=>ee.value.find(X=>X.related_collection!==null)),te=F(()=>ee.value.find(X=>X.related_collection===null)),Z=F(()=>a.getPrimaryKeyFieldForCollection(ne.value.collection).field),se=F(()=>te.value.meta.one_allowed_collections);return{relationsForField:ee,o2mRelation:ne,anyRelation:te,allowedCollections:se,o2mRelationPrimaryKeyField:Z}}function ce(){const ee=F(()=>{const Z={},se=u.value.map(X=>d.getCollection(X)).filter(X=>X);for(const X of se)Z[X.collection]=X;return Z}),ne=F(()=>{const Z={};for(const se of Object.values(ee.value))Z[se.collection]=a.getPrimaryKeyFieldForCollection(se.collection).field;return Z}),te=F(()=>{var se;const Z={};for(const X of Object.values(ee.value)){const re=a.getPrimaryKeyFieldForCollection(X.collection);Z[X.collection]=((se=X.meta)==null?void 0:se.display_template)||`{{${re.field}}}`}return Z});return{collections:ee,primaryKeys:ne,templates:te}}function J(){const ee=E(!1),ne=E({}),te=E(),Z=F(()=>{var re,ve;if(te.value===void 0)return[];const X=N.exports.cloneDeep(e.value||[]).map((H,le)=>{const ie=N.exports.isPlainObject(H)?H[p.value]:H,de=(te.value||[]).find(ye=>ye[p.value]===ie);return N.exports.isPlainObject(H)?Fe(fe(fe({},de),H),{$index:le}):de===void 0?null:Fe(fe({},de),{$index:le})}).filter(H=>H).map(H=>{var ye;const le=H[r.value.meta.one_collection_field],ie=N.exports.isPlainObject(H[r.value.field])?H[r.value.field][$.value[le]]:H[r.value.field],de=(ye=ne.value[le])==null?void 0:ye.find(he=>he[$.value[le]]==ie);return ie&&de&&(N.exports.isPlainObject(H[r.value.field])?H[r.value.field]=fe(fe({},de),H[r.value.field]):H[r.value.field]=N.exports.cloneDeep(de)),H});return((ve=(re=i.value)==null?void 0:re.meta)==null?void 0:ve.sort_field)?[...X.filter(H=>i.value.meta.sort_field in H).sort((H,le)=>H[i.value.meta.sort_field]-le[i.value.meta.sort_field]),...X.filter(H=>!(i.value.meta.sort_field in H)).sort((H,le)=>H.$index-le.$index)]:[...X.sort((H,le)=>H.$index-le.$index)]});return{fetchValues:se,previewValues:Z,loading:ee,junctionRowMap:te,relatedItemValues:ne};async function se(X,re){var ve;if(e.value!==null&&!N.exports.isEqual(X,re)){ee.value=!0;try{const H=[],le={};for(const de of Object.values(g.value))le[de.collection]=[];for(const de of e.value||[])if(typeof de=="string"||typeof de=="number")H.push(de);else if(!(r.value.meta.one_collection_field in de))H.push(de[p.value]);else{const ye=de[r.value.meta.one_collection_field],he=$.value[ye],Se=N.exports.isPlainObject(de[r.value.field])?de[r.value.field][he]:de[r.value.field];Se&&le[ye].push(Se)}if(H.length>0){const de=await pe.get(`/items/${i.value.collection}`,{params:{filter:{[p.value]:{_in:H}},fields:[p.value,r.value.field,r.value.meta.one_collection_field,(ve=i.value.meta)==null?void 0:ve.sort_field]}});for(const ye of de.data.data){const he=ye[r.value.meta.one_collection_field];he in le&&le[he].push(ye[r.value.field])}te.value=de.data.data}else te.value=[];const ie=await Promise.all(Object.entries(le).map(([de,ye])=>{if(ye.length===0)return Promise.resolve({data:{data:[]}});const he=St(b.value[de]);return he.includes($.value[de])===!1&&he.push($.value[de]),pe.get(zt(de),{params:{filter:{[$.value[de]]:{_in:ye}},fields:he}})}));ne.value||(ne.value={});for(let de=0;de<Object.keys(le).length;de++){const ye=Object.keys(le)[de];ne.value=Fe(fe({},ne.value),{[ye]:ie[de].data.data})}}catch(H){Ie(H)}finally{ee.value=!1}}}}function oe(){const ee=E(null);return{selectingFrom:ee,stageSelection:ne,deselect:te};function ne(Z){const{field:se}=r.value,X=r.value.meta.one_collection_field,re=e.value||[],ve=Z.map(H=>({[X]:ee.value,[se]:H}));t("input",[...re,...ve])}function te(Z){const se=(e.value||[]).filter(X=>X!==Z);se.length===0?t("input",null):t("input",se)}}function _e(){const ee=E(null),ne=E(null),te=E({});return{currentlyEditing:ee,relatedPrimaryKey:ne,editsAtStart:te,stageEdits:Z,cancelEdit:se,editExisting:X,createNew:re};function Z(ve){const H=e.value||[],le=H.includes(te.value)||H.includes(ee.value);ee.value==="+"&&ne.value==="+"&&le===!1?t("input",[...H,ve]):t("input",H.map(de=>de===te.value||de==ee.value?ve:de))}function se(){ee.value=null,ne.value=null,te.value={}}function X(ve){var de,ye,he;if(typeof ve=="string"||typeof ve=="number"){const Se=(y.value||[]).find(Le=>Le[p.value]==ve),Ce=Se[r.value.meta.one_collection_field],Ae=N.exports.isPlainObject(Se[r.value.field])?Se[r.value.field][$.value[Ce]]:Se[r.value.field];te.value={[p.value]:ve,[r.value.meta.one_collection_field]:Ce,[r.value.field]:{[$.value[Ce]]:Ae}},((de=i.value.meta)==null?void 0:de.sort_field)&&(te.value[(ye=i.value.meta)==null?void 0:ye.sort_field]=Se[(he=i.value.meta)==null?void 0:he.sort_field]),ne.value=Ae||"+",ee.value=ve;return}const H=ve[p.value],le=ve[r.value.meta.one_collection_field];let ie=ve[r.value.field];N.exports.isPlainObject(ie)&&(ie=ve[r.value.field][$.value[le]]),te.value=ve,ne.value=ie||"+",ee.value=H||"+"}function re(ve){var le,ie;const H={[r.value.meta.one_collection_field]:ve,[r.value.field]:{}};if(_.value&&((ie=(le=i.value)==null?void 0:le.meta)==null?void 0:ie.sort_field)){const de=Math.max(-1,..._.value.map(ye=>ye[i.value.meta.sort_field]));H[i.value.meta.sort_field]=de+1}te.value=H,ne.value="+",ee.value="+"}}function me(){return{onSort:ee};function ee(ne){t("input",e.value.map((te,Z)=>{var X,re,ve;if(!((X=i.value.meta)==null?void 0:X.sort_field))return te;const se=ne.findIndex(H=>H.$index===Z);return N.exports.isPlainObject(te)?Fe(fe({},te),{[(re=i.value.meta)==null?void 0:re.sort_field]:se+1}):Fe(fe({},ne[se]),{[p.value]:te,[(ve=i.value.meta)==null?void 0:ve.sort_field]:se+1})}))}}}}),Os=e=>(Xe("data-v-4148ce62"),e=e(),Ye(),e),FJ={class:"m2a-builder"},AJ={key:0,class:"loader"},IJ={class:"collection"},EJ={key:1},DJ=Os(()=>S("div",{class:"spacer"},null,-1)),TJ=Os(()=>S("div",{class:"spacer"},null,-1)),PJ={key:2,class:"buttons"};function OJ(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-notice"),u=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),v=c("v-list"),y=c("v-button"),h=c("v-list-item-icon"),g=c("v-text-overflow"),b=c("v-menu"),$=c("drawer-collection"),A=c("drawer-item");return m(),I("div",FJ,[e.previewLoading&&!e.previewValues?(m(),I("div",AJ,[(m(!0),I(ae,null,we((e.value||[]).length,V=>(m(),C(i,{key:V}))),128))])):(m(),C(v,{key:1},{default:s(()=>[e.previewValues.length===0?(m(),C(r,{key:0},{default:s(()=>[P(w(e.t("no_items")),1)]),_:1})):R("",!0),o(_,{"force-fallback":!0,"model-value":e.previewValues,"item-key":"$index","set-data":e.hideDragImage,disabled:!e.o2mRelation.meta||!e.o2mRelation.meta.sort_field,"onUpdate:modelValue":e.onSort},{item:s(({element:V})=>[e.allowedCollections.includes(V[e.anyRelation.meta.one_collection_field])?(m(),C(f,{key:0,block:"",dense:e.previewValues.length>4,clickable:"",onClick:T=>e.editExisting((e.value||[])[V.$index])},{default:s(()=>[e.o2mRelation.meta&&e.o2mRelation.meta.sort_field?(m(),C(u,{key:0,class:"drag-handle",left:"",name:"drag_handle",onClick:t[0]||(t[0]=De(()=>{},["stop"]))})):R("",!0),S("span",IJ,w(e.collections[V[e.anyRelation.meta.one_collection_field]].name)+":",1),typeof V[e.anyRelation.field]=="number"||typeof V[e.anyRelation.field]=="string"?(m(),I("span",EJ,w(V[e.anyRelation.field]),1)):(m(),C(p,{key:2,collection:V[e.anyRelation.meta.one_collection_field],template:e.templates[V[e.anyRelation.meta.one_collection_field]],item:V[e.anyRelation.field]},null,8,["collection","template","item"])),DJ,e.disabled?R("",!0):(m(),C(u,{key:3,class:"clear-icon",name:"clear",onClick:De(T=>e.deselect((e.value||[])[V.$index]),["stop"])},null,8,["onClick"]))]),_:2},1032,["dense","onClick"])):(m(),C(f,{key:1,block:""},{default:s(()=>[o(u,{class:"invalid-icon",name:"warning",left:""}),S("span",null,w(e.t("invalid_item")),1),TJ,e.disabled?R("",!0):(m(),C(u,{key:0,class:"clear-icon",name:"clear",onClick:De(T=>e.deselect((e.value||[])[V.$index]),["stop"])},null,8,["onClick"]))]),_:2},1024))]),_:1},8,["model-value","set-data","disabled","onUpdate:modelValue"])]),_:1})),e.disabled?R("",!0):(m(),I("div",PJ,[e.enableCreate?(m(),C(b,{key:0,"show-arrow":""},{activator:s(({toggle:V})=>[o(y,{onClick:V},{default:s(()=>[P(w(e.t("create_new"))+" ",1),o(u,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:s(()=>[o(v,null,{default:s(()=>[(m(!0),I(ae,null,we(e.collections,V=>(m(),C(f,{key:V.collection,clickable:"",onClick:T=>e.createNew(V.collection)},{default:s(()=>[o(h,null,{default:s(()=>[o(u,{name:V.icon},null,8,["name"])]),_:2},1024),o(g,{text:V.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0),e.enableSelect?(m(),C(b,{key:1,"show-arrow":""},{activator:s(({toggle:V})=>[o(y,{class:"existing",onClick:V},{default:s(()=>[P(w(e.t("add_existing"))+" ",1),o(u,{name:"arrow_drop_down",right:""})]),_:2},1032,["onClick"])]),default:s(()=>[o(v,null,{default:s(()=>[(m(!0),I(ae,null,we(e.collections,V=>(m(),C(f,{key:V.collection,clickable:"",onClick:T=>e.selectingFrom=V.collection},{default:s(()=>[o(h,null,{default:s(()=>[o(u,{name:V.icon},null,8,["name"])]),_:2},1024),o(g,{text:V.name},null,8,["text"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):R("",!0)])),!e.disabled&&!!e.selectingFrom?(m(),C($,{key:3,multiple:"",active:!!e.selectingFrom,collection:e.selectingFrom,selection:[],onInput:e.stageSelection,"onUpdate:active":t[1]||(t[1]=V=>e.selectingFrom=null)},null,8,["active","collection","onInput"])):R("",!0),e.disabled?R("",!0):(m(),C(A,{key:4,active:!!e.currentlyEditing,collection:e.o2mRelation.collection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.o2mRelation.meta.junction_field,edits:e.editsAtStart,"circular-field":e.o2mRelation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","onInput","onUpdate:active"]))])}var LJ=z(VJ,[["render",OJ],["__scopeId","data-v-4148ce62"]]),jJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,RJ=qe({id:"list-m2a",name:"$t:list-m2a",icon:"note_add",component:LJ,relational:!0,types:["alias"],localTypes:["m2a"],group:"relational",options:[{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}}],preview:jJ}),MJ=Object.freeze(Object.defineProperty({__proto__:null,default:RJ},Symbol.toStringTag,{value:"Module"}));const UJ=K({components:{DrawerItem:Kt,DrawerCollection:sn,Draggable:Tt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=_t("values",E({})),a=F(()=>An(Rn(e.filter,ve=>ve&&typeof ve=="string"?xt(ve,l.value):ve))),{value:d,collection:i,field:r}=ze(e),{junction:u,junctionCollection:p,relation:f,relationCollection:_,relationInfo:v}=Xl(i,r),y=F(()=>{var H,le;if(e.template)return e.template;if((H=p.value.meta)==null?void 0:H.display_template)return p.value.meta.display_template;let ve=(le=_.value.meta)==null?void 0:le.display_template;if(ve){const ie=/({{.*?}})/g,de=ve.split(ie).filter(ye=>ye);for(const ye of de){if(ye.startsWith("{{")===!1)continue;const he=ye.replace(/{{/g,"").replace(/}}/g,"").trim(),Se=`{{${f.value.field}.${he}}}`;ve=ve.replace(ye,Se)}return ve}return`{{${f.value.field}.${v.value.relationPkField}}}`}),h=F(()=>dn(St(y.value),p.value.collection)),{deleteItem:g,getUpdatedItems:b,getNewItems:$,getPrimaryKeys:A,getNewSelectedItems:V}=ks(d,v,re),{tableHeaders:T,items:D,initialItems:O,loading:M}=Ss(d,h,v,V,b,$,A),{currentlyEditing:L,editItem:j,createNew:B,editsAtStart:q,stageEdits:G,cancelEdit:Q,relatedPrimaryKey:ce,editModalActive:J}=Cs(d,v,re),{stageSelection:oe,selectModalActive:_e,selectedPrimaryKeys:me}=Vs(D,O,v,re),{sort:ee,sortItems:ne,sortedItems:te}=Fs(v,h,D,re),{createAllowed:Z,selectAllowed:se,updateAllowed:X}=As(p,_);return{t:n,junction:u,relation:f,tableHeaders:T,loading:M,currentlyEditing:L,editItem:j,createNew:B,junctionCollection:p,relationCollection:_,editsAtStart:q,stageEdits:G,cancelEdit:Q,stageSelection:oe,selectModalActive:_e,deleteItem:g,selectedPrimaryKeys:me,items:D,relationInfo:v,relatedPrimaryKey:ce,get:N.exports.get,editModalActive:J,sort:ee,sortItems:ne,sortedItems:te,templateWithDefaults:y,createAllowed:Z,selectAllowed:se,updateAllowed:X,customFilter:a};function re(ve){t("input",ve)}}}),NJ=e=>(Xe("data-v-491d10c7"),e=e(),Ye(),e),BJ={key:1,class:"many-to-many"},qJ=NJ(()=>S("div",{class:"spacer"},null,-1)),zJ={key:3,class:"actions"};function KJ(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-skeleton-loader"),u=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),v=c("v-list"),y=c("v-button"),h=c("drawer-item"),g=c("drawer-collection");return!e.junction||!e.relation?(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("relationship_not_setup")),1)]),_:1})):(m(),I("div",BJ,[e.loading?(m(!0),I(ae,{key:0},we((e.value||[]).length||3,b=>(m(),C(r,{key:b,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("no_items")),1)]),_:1})):(m(),C(v,{key:2},{default:s(()=>{var b;return[o(_,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!((b=e.junction.meta)==null?void 0:b.sort_field),"onUpdate:modelValue":t[1]||(t[1]=$=>e.sortItems($))},{item:s(({element:$})=>[o(f,{dense:e.sortedItems.length>4,block:"",clickable:"",onClick:A=>e.editItem($)},{default:s(()=>{var A;return[((A=e.junction.meta)==null?void 0:A.sort_field)?(m(),C(u,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=De(()=>{},["stop"]))})):R("",!0),o(p,{collection:e.junctionCollection.collection,item:$,template:e.templateWithDefaults},null,8,["collection","item","template"]),qJ,e.disabled?R("",!0):(m(),C(u,{key:1,name:"close",onClick:De(V=>e.deleteItem($),["stop"])},null,8,["onClick"]))]}),_:2},1032,["dense","onClick"])]),_:1},8,["model-value","disabled"])]}),_:1})),e.disabled?R("",!0):(m(),I("div",zJ,[e.enableCreate&&e.createAllowed?(m(),C(y,{key:0,onClick:t[2]||(t[2]=b=>e.createNew())},{default:s(()=>[P(w(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.selectAllowed?(m(),C(y,{key:1,onClick:t[3]||(t[3]=b=>e.selectModalActive=!0)},{default:s(()=>[P(w(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(h,{key:4,active:e.editModalActive,collection:e.relationInfo.junctionCollection,"primary-key":e.currentlyEditing||"+","related-primary-key":e.relatedPrimaryKey||"+","junction-field":e.relationInfo.junctionField,edits:e.editsAtStart,"circular-field":e.junction.field,disabled:!e.updateAllowed,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","related-primary-key","junction-field","edits","circular-field","disabled","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(g,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=b=>e.selectModalActive=b),collection:e.relationCollection.collection,selection:e.selectedPrimaryKeys,filter:e.customFilter,multiple:"",onInput:e.stageSelection},null,8,["active","collection","selection","filter","onInput"]))]))}var WJ=z(UJ,[["render",KJ],["__scopeId","data-v-491d10c7"]]),HJ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,GJ=qe({id:"list-m2m",name:"$t:interfaces.list-m2m.many-to-many",description:"$t:interfaces.list-m2m.description",icon:"note_add",component:WJ,relational:!0,types:["alias"],localTypes:["m2m"],group:"relational",options:({editing:e,relations:t})=>{var l,a,d;const n=e==="+"?{interface:"presentation-notice",options:{text:"$t:interfaces.list-m2m.display_template_configure_notice"}}:{interface:"system-display-template",options:{collectionName:(l=t.o2m)==null?void 0:l.collection}};return[{field:"template",name:"$t:display_template",meta:n},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:(d=(a=t.m2o)==null?void 0:a.related_collection)!=null?d:null},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:HJ}),ZJ=Object.freeze(Object.defineProperty({__proto__:null,default:GJ},Symbol.toStringTag,{value:"Module"}));const JJ=K({components:{DrawerItem:Kt,DrawerCollection:sn,Draggable:Tt},props:{value:{type:Array,default:null},primaryKey:{type:[Number,String],required:!0},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},disabled:{type:Boolean,default:!1},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=_t("values",E({})),a=F(()=>An(Rn(e.filter,H=>H&&typeof H=="string"?xt(H,l.value):H))),d=ft(),i=Je(),r=Oe(),u=Ot(),p=He(),{relation:f,relatedCollection:_,relatedPrimaryKeyField:v}=te(),y=F(()=>{var H,le,ie;return e.template||((H=_.value.meta)==null?void 0:H.display_template)||`{{${(ie=(le=r.getPrimaryKeyFieldForCollection(f.value.collection))==null?void 0:le.field)!=null?ie:"id"}}}`}),h=F(()=>dn(St(y.value),_.value.collection)),{items:g,loading:b}=Z(),{currentlyEditing:$,editItem:A,editsAtStart:V,stageEdits:T,stageSelections:D,cancelEdit:O}=se(),{selectModalActive:M,selectedPrimaryKeys:L}=X(),{sort:j,sortItems:B,sortedItems:q}=ne(),{createAllowed:G,updateAllowed:Q}=ve(),ce=F(()=>{var H;return((H=f.value.meta)==null?void 0:H.sort_field)&&!e.disabled});return{t:n,relation:f,loading:b,currentlyEditing:$,editItem:A,relatedCollection:_,editsAtStart:V,stageEdits:T,stageSelections:D,cancelEdit:O,selectModalActive:M,deleteItem:ee,items:g,sortItems:B,selectedPrimaryKeys:L,sort:j,sortedItems:q,get:N.exports.get,getItemFromIndex:J,templateWithDefaults:y,createAllowed:G,updateAllowed:Q,customFilter:a,allowDrag:ce};function J(H){return(q.value||g.value)[H]}function oe(){var le;const H=(le=v.value)==null?void 0:le.field;return e.value===null||!H?[]:e.value.filter(ie=>typeof ie=="object"&&!(H in ie))}function _e(){var le;const H=(le=v.value)==null?void 0:le.field;return e.value===null||!H?[]:e.value.filter(ie=>typeof ie=="object"&&H in ie)}function me(){var le;const H=(le=v.value)==null?void 0:le.field;return e.value===null||!H?[]:e.value.map(ie=>{if(typeof ie=="object"){if(H in ie)return ie[H]}else return ie}).filter(ie=>ie)}function ee(H){var ye;const le=(ye=v.value)==null?void 0:ye.field;if(e.value===null||!le)return;if(!(le in H)){t("input",e.value.filter(he=>N.exports.isEqual(H,he)===!1));return}const ie=H[le],de=e.value.filter(he=>typeof he=="number"||typeof he=="string"?he!==ie:typeof he=="object"&&le in he?he[le]!==ie:!0);de.length===0?t("input",null):t("input",de)}function ne(){var de;const H=E({by:((de=f.value.meta)==null?void 0:de.sort_field)||h.value[0],desc:!1});function le(ye){var Se;if(!((Se=f.value.meta)==null?void 0:Se.sort_field))return;const he=ye.map((Ce,Ae)=>(Ce[f.value.meta.sort_field]=Ae,Ce));t("input",he)}const ie=F(()=>{var Se,Ce;if(!((Se=f.value.meta)==null?void 0:Se.sort_field)||H.value.by!==((Ce=f.value.meta)==null?void 0:Ce.sort_field))return g.value;const ye=H.value.desc,he=N.exports.sortBy(g.value,[f.value.meta.sort_field]);return ye?he.reverse():he});return{sort:H,sortItems:le,sortedItems:ie}}function te(){const H=F(()=>{var de;return(de=d.getRelationsForField(e.collection,e.field))==null?void 0:de[0]}),le=F(()=>i.getCollection(H.value.collection)),{primaryKeyField:ie}=rt(le.value.collection);return{relation:H,relatedCollection:le,relatedPrimaryKeyField:ie}}function Z(){const H=E(!1),le=E([]);return ge(()=>e.value,async(ie,de)=>{var Ce,Ae;if(N.exports.isEqual(ie,de))return;H.value=!0;const ye=(Ce=v.value)==null?void 0:Ce.field;if(!ye)return;const he=[...h.value.length>0?h.value:re()];he.includes(ye)===!1&&he.push(ye),((Ae=f.value.meta)==null?void 0:Ae.sort_field)&&he.includes(f.value.meta.sort_field)===!1&&he.push(f.value.meta.sort_field);const Se=$s(_.value.collection,he);try{const Le=_.value.collection.startsWith("directus_")?`/${_.value.collection.substring(9)}`:`/items/${_.value.collection}`,Ge=me();let lt=[];Ge&&Ge.length>0&&(lt=(await pe.get(Le,{params:{fields:Se,[`filter[${ye}][_in]`]:Ge.join(",")}})).data.data);const Me=_e(),Ve=oe();le.value=lt.map(Ee=>{const Te=Me.find(je=>je[ye]===Ee[ye]);return Te!==void 0?fe(fe({},Ee),Te):Ee}).concat(...Ve)}catch(Le){Ie(Le)}finally{H.value=!1}},{immediate:!0}),{items:le,loading:H}}function se(){const H=E(null),le=E({});return{currentlyEditing:H,editItem:ie,editsAtStart:le,stageEdits:de,stageSelections:ye,cancelEdit:he};function ie(Se,Ce){var lt;const Ae=(lt=v.value)==null?void 0:lt.field;if(!Ae||!e.value||Ce===-1)return;const Le=Ae in Se,Ge=e.value[Ce];typeof Ge=="object"&&Ae in Ge?le.value=Ge:le.value=Le?{[Ae]:Se[Ae]||{}}:Ge,H.value=Le?Se[Ae]:"+"}function de(Se){var Le;const Ce=(Le=v.value)==null?void 0:Le.field;if(!Ce)return;const Ae=(e.value||[]).map(Ge=>Ge&&typeof Ge=="object"&&Ce in Ge&&Ce in Se&&Ge[Ce]===Se[Ce]||Ge===Se[Ce]||le.value===Ge?Se:Ge);Ae.includes(Se)===!1&&Ae.push(Se),Ae.length===0?t("input",null):t("input",Ae)}function ye(Se){const Ce=[...Se,...(e.value||[]).filter(Ae=>typeof Ae=="object")];t("input",Ce)}function he(){le.value={},H.value=null}}function X(){const H=E(!1),le=F(()=>{var de;const ie=(de=v.value)==null?void 0:de.field;return g.value===null||!ie?[]:g.value.filter(ye=>ie in ye).map(ye=>ye[ie])});return{selectModalActive:H,selectedPrimaryKeys:le}}function re(){return r.getFieldsForCollection(_.value.collection).slice(0,3).map(le=>le.field)}function ve(){const H=F(()=>{var de;return((de=p.currentUser)==null?void 0:de.role.admin_access)===!0?!0:!!u.permissions.find(ye=>ye.action==="create"&&ye.collection===_.value.collection)}),le=F(()=>{var de;return((de=p.currentUser)==null?void 0:de.role.admin_access)===!0?!0:!!u.permissions.find(ye=>ye.action==="update"&&ye.collection===_.value.collection)});return{createAllowed:H,updateAllowed:le}}}}),QJ=e=>(Xe("data-v-0eed159d"),e=e(),Ye(),e),XJ={key:1,class:"one-to-many"},YJ=QJ(()=>S("div",{class:"spacer"},null,-1)),xJ={key:3,class:"actions"};function eQ(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-skeleton-loader"),u=c("v-icon"),p=c("render-template"),f=c("v-list-item"),_=c("draggable"),v=c("v-list"),y=c("v-button"),h=c("drawer-item"),g=c("drawer-collection");return e.relation?(m(),I("div",XJ,[e.loading?(m(!0),I(ae,{key:0},we((e.value||[]).length||3,b=>(m(),C(r,{key:b,type:(e.value||[]).length>4?"block-list-item-dense":"block-list-item"},null,8,["type"]))),128)):e.sortedItems.length===0?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("no_items")),1)]),_:1})):(m(),C(v,{key:2},{default:s(()=>[o(_,{"force-fallback":!0,"model-value":e.sortedItems,"item-key":"id",handle:".drag-handle",disabled:!e.allowDrag,"onUpdate:modelValue":t[1]||(t[1]=b=>e.sortItems(b))},{item:s(({element:b,index:$})=>[o(f,{dense:e.sortedItems.length>4,block:"",clickable:"",disabled:e.disabled||e.updateAllowed===!1,onClick:A=>e.editItem(b,$)},{default:s(()=>[e.allowDrag?(m(),C(u,{key:0,name:"drag_handle",class:"drag-handle",left:"",onClick:t[0]||(t[0]=De(()=>{},["stop"]))})):R("",!0),o(p,{collection:e.relation.collection,item:b,template:e.templateWithDefaults},null,8,["collection","item","template"]),YJ,!e.disabled&&e.updateAllowed?(m(),C(u,{key:1,name:"close",onClick:De(A=>e.deleteItem(b),["stop"])},null,8,["onClick"])):R("",!0)]),_:2},1032,["dense","disabled","onClick"])]),_:1},8,["model-value","disabled"])]),_:1})),e.disabled?R("",!0):(m(),I("div",xJ,[e.enableCreate&&e.createAllowed&&e.updateAllowed?(m(),C(y,{key:0,onClick:t[2]||(t[2]=b=>e.currentlyEditing="+")},{default:s(()=>[P(w(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect&&e.updateAllowed?(m(),C(y,{key:1,onClick:t[3]||(t[3]=b=>e.selectModalActive=!0)},{default:s(()=>[P(w(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(h,{key:4,active:e.currentlyEditing!==null,collection:e.relatedCollection.collection,"primary-key":e.currentlyEditing||"+",edits:e.editsAtStart,"circular-field":e.relation.field,onInput:e.stageEdits,"onUpdate:active":e.cancelEdit},null,8,["active","collection","primary-key","edits","circular-field","onInput","onUpdate:active"])),e.disabled?R("",!0):(m(),C(g,{key:5,active:e.selectModalActive,"onUpdate:active":t[4]||(t[4]=b=>e.selectModalActive=b),collection:e.relatedCollection.collection,selection:e.selectedPrimaryKeys,filter:e.customFilter,multiple:"",onInput:e.stageSelections},null,8,["active","collection","selection","filter","onInput"]))])):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("relationship_not_setup")),1)]),_:1}))}var tQ=z(JJ,[["render",eQ],["__scopeId","data-v-0eed159d"]]),nQ=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18.4443" y="9" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19.4443" y="10" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25"
		stroke-width="2" />
	<rect x="46" y="17" width="10" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="60" y="17" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 18H28V19.2691H38V18ZM28 21.7778H38V20.5087H28V21.7778Z" fill="var(--primary)" />
	<rect x="18" y="65" width="120" height="22" rx="6" fill="var(--background-page)" />
	<rect x="19" y="66" width="118" height="20" rx="5" stroke="var(--primary)" stroke-opacity="0.25" stroke-width="2" />
	<rect x="46" y="73" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path opacity="0.5" d="M38 74H28V75.2691H38V74ZM28 77.7778H38V76.5087H28V77.7778Z" fill="var(--primary)" />
	<rect x="18" y="37" width="120" height="22" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="38" width="118" height="20" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="45" width="30" height="6" rx="2" fill="var(--primary)" />
	<rect x="80" y="45" width="10" height="6" rx="2" fill="var(--primary)" />
	<path d="M38 46H28V47.2691H38V46ZM28 49.7778H38V48.5087H28V49.7778Z" fill="var(--primary)" />
	<path
		d="M127.074 52.0742H118.926V43.9258H123V42.75H118.926C118.27 42.75 117.75 43.2695 117.75 43.9258V52.0742C117.75 52.7305 118.27 53.25 118.926 53.25H127.074C127.73 53.25 128.25 52.7305 128.25 52.0742V48H127.074V52.0742ZM124.176 42.75V43.9258H126.254L120.539 49.6406L121.359 50.4609L127.074 44.7461V46.8242H128.25V42.75H124.176Z"
		fill="var(--primary)" />
</svg>
`,lQ=qe({id:"list-o2m",name:"$t:interfaces.list-o2m.one-to-many",description:"$t:interfaces.list-o2m.description",icon:"arrow_right_alt",component:tQ,types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"template",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},recommendedDisplays:["related-values"],preview:nQ}),oQ=Object.freeze(Object.defineProperty({__proto__:null,default:lQ},Symbol.toStringTag,{value:"Module"}));const aQ=K({components:{DrawerItem:Kt},props:{collection:{type:String,required:!0},template:{type:String,required:!0},item:{type:Object,required:!0},primaryKeyField:{type:String,required:!0},disabled:{type:Boolean,default:!1},parentField:{type:String,required:!0}},emits:["deselect","input"],setup(){const{t:e}=Y(),t=E(!1);return{t:e,editActive:t}}}),iQ=e=>(Xe("data-v-569bebef"),e=e(),Ye(),e),rQ={class:"preview"},sQ=iQ(()=>S("div",{class:"spacer"},null,-1)),dQ={key:0,class:"actions"};function uQ(e,t,n,l,a,d){const i=c("render-template"),r=c("v-icon"),u=c("drawer-item"),p=$e("tooltip");return m(),I("div",rQ,[o(i,{collection:e.collection,template:e.template,item:e.item},null,8,["collection","template","item"]),sQ,e.disabled?R("",!0):(m(),I("div",dQ,[x(o(r,{name:"launch",clickable:"",onClick:t[0]||(t[0]=f=>e.editActive=!0)},null,512),[[p,e.t("edit")]]),x(o(r,{name:"clear",clickable:"",onClick:t[1]||(t[1]=f=>e.$emit("deselect"))},null,512),[[p,e.t("deselect")]])])),o(u,{active:e.editActive,"onUpdate:active":t[2]||(t[2]=f=>e.editActive=f),collection:e.collection,"primary-key":e.item[e.primaryKeyField]||"+",edits:e.item,"circular-field":e.parentField,onInput:t[3]||(t[3]=f=>e.$emit("input",f))},null,8,["active","collection","primary-key","edits","circular-field"])])}var cQ=z(aQ,[["render",uQ],["__scopeId","data-v-569bebef"]]);const pQ=K({name:"NestedDraggable",components:{Draggable:Tt,ItemPreview:cQ},props:{tree:{required:!0,type:Array,default:()=>[]},root:{type:Boolean,default:!1},collection:{type:String,required:!0},template:{type:String,required:!0},primaryKeyField:{type:String,required:!0},parentField:{type:String,required:!0},childrenField:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["change","input"],setup(e,{emit:t}){const n=E(!1),l=E(!1);return{drag:n,hideDragImage:Qt,editActive:l,dragOptions:{animation:150,group:"description",disabled:!1,ghostClass:"ghost"},replaceItem:a,removeItem:d,replaceChildren:i};function a(r,u){t("input",e.tree.map((p,f)=>f===r?u:p))}function d(r){t("input",e.tree.filter((u,p)=>p!==r))}function i(r,u){t("input",e.tree.map((p,f)=>f===r?Fe(fe({},p),{[e.childrenField]:u}):p))}}}),mQ={class:"row"};function fQ(e,t,n,l,a,d){const i=c("item-preview"),r=c("nested-draggable",!0),u=c("draggable");return m(),C(u,pt(e.dragOptions,{class:["drag-area",{root:e.root,drag:e.drag}],tag:"ul",list:e.tree,group:{name:"g1"},"item-key":"id",draggable:".row","set-data":e.hideDragImage,disabled:e.disabled,"force-fallback":!0,onStart:t[1]||(t[1]=p=>e.drag=!0),onEnd:t[2]||(t[2]=p=>e.drag=!1),onChange:t[3]||(t[3]=p=>e.$emit("change",p))}),{item:s(({element:p,index:f})=>[S("li",mQ,[o(i,{item:p,template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,disabled:e.disabled,"parent-field":e.parentField,onInput:_=>e.replaceItem(f,_),onDeselect:_=>e.removeItem(f)},null,8,["item","template","collection","primary-key-field","disabled","parent-field","onInput","onDeselect"]),o(r,{tree:p[e.childrenField]||[],template:e.template,collection:e.collection,"primary-key-field":e.primaryKeyField,"parent-field":e.parentField,"children-field":e.childrenField,disabled:e.disabled,onChange:t[0]||(t[0]=_=>e.$emit("change",_)),onInput:_=>e.replaceChildren(f,_)},null,8,["tree","template","collection","primary-key-field","parent-field","children-field","disabled","onInput"])])]),_:1},16,["class","list","set-data","disabled"])}var _Q=z(pQ,[["render",fQ],["__scopeId","data-v-0de81f94"]]);const vQ=K({components:{NestedDraggable:_Q,DrawerCollection:sn,DrawerItem:Kt},props:{value:{type:Array,default:null},displayTemplate:{type:String,default:void 0},disabled:{type:Boolean,default:!1},collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[String,Number],default:void 0},enableCreate:{type:Boolean,default:!0},enableSelect:{type:Boolean,default:!0},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=_t("values",E({})),a=F(()=>An(Rn(e.filter,B=>B&&typeof B=="string"?xt(B,l.value):B))),d=ft(),i=E([]),{relation:r}=O(),{info:u,primaryKeyField:p}=rt(r.value.related_collection),{loading:f,error:_,stagedValues:v,fetchValues:y,emitValue:h}=D(),{stageSelection:g,selectDrawer:b}=L(),{addNewActive:$,addNew:A}=j(),V=F(()=>{var B,q,G;return e.displayTemplate||((q=(B=u.value)==null?void 0:B.meta)==null?void 0:q.display_template)||`{{${(G=p.value)==null?void 0:G.field}}}`});st(y),ge(()=>e.primaryKey,y,{immediate:!0});const T=E(!1);return{t:n,relation:r,openItems:i,template:V,loading:f,error:_,stagedValues:v,fetchValues:y,primaryKeyField:p,onDraggableChange:M,hideDragImage:Qt,dragging:T,emitValue:h,stageSelection:g,selectDrawer:b,addNewActive:$,addNew:A,customFilter:a};function D(){const B=E(!1),q=E(null),G=E([]);return{loading:B,error:q,stagedValues:G,fetchValues:Q,emitValue:J,getFieldsToFetch:ce};async function Q(){var oe,_e,me;if(!(!e.primaryKey||!r.value||e.primaryKey==="+")){if(((oe=e.value)==null?void 0:oe.length)>0&&e.value.every(ee=>typeof ee=="object")){G.value=e.value;return}B.value=!0;try{const ee=await pe.get(`/items/${e.collection}/${encodeURIComponent(e.primaryKey)}`,{params:{fields:ce()}});G.value=(me=(_e=ee.data.data)==null?void 0:_e[r.value.meta.one_field])!=null?me:[]}catch(ee){q.value=ee}finally{B.value=!1}}}function ce(){var ee;const oe=[...new Set([(ee=p.value)==null?void 0:ee.field,r.value.meta.one_field,...St(V.value)])],_e=[],me=`${r.value.meta.one_field}.`;for(let ne=1;ne<=5;ne++)for(const te of oe)_e.push(`${me.repeat(ne)}${te}`);return _e}function J(oe){var me;if(!oe||oe.length===0)G.value=[],t("input",null);else{if(G.value=oe,(me=r.value.meta)==null?void 0:me.sort_field)return t("input",_e(oe));t("input",oe)}function _e(ee){return(ee||[]).map((ne,te)=>Fe(fe({},ne),{[r.value.meta.sort_field]:te+1,[r.value.meta.one_field]:_e(ne[r.value.meta.one_field])}))}}}function O(){return{relation:F(()=>{var q;return(q=d.getRelationsForField(e.collection,e.field))==null?void 0:q[0]})}}function M(){h(v.value)}function L(){const B=E(!1),q=F(()=>{var J;const Q=(J=p.value)==null?void 0:J.field;if(v.value===null||!Q||!e.primaryKey)return[];return[e.primaryKey,...ce(v.value)];function ce(oe){const _e=[];if(Q)for(const me of oe){if(!me[Q])continue;_e.push(me[Q]);const ee=ce(me[r.value.meta.one_field]);_e.push(...ee)}return _e}});return{stageSelection:G,selectDrawer:B};async function G(Q){var ne,te,Z;f.value=!0;const ce=Q.filter(se=>q.value.includes(se)===!1),J=[...new Set([(ne=p.value)==null?void 0:ne.field,r.value.meta.one_field,...St(V.value)])],oe=[],_e=`${r.value.meta.one_field}.`;for(let se=1;se<=5;se++)for(const X of J)oe.push(`${_e.repeat(se)}${X}`);if(!((te=p.value)==null?void 0:te.field))return;const ee=[...(await pe.get(`/items/${e.collection}`,{params:{fields:[...J,...oe],filter:{[(Z=p.value)==null?void 0:Z.field]:{_in:ce}}}})).data.data,...v.value];ee.length===0?h(null):h(ee),f.value=!1}}function j(){return{addNewActive:E(!1),addNew:q};function q(G){h([...v.value,G])}}}}),yQ={key:1,class:"tree-view"},hQ={key:0,class:"actions"};function gQ(e,t,n,l,a,d){const i=c("v-notice"),r=c("nested-draggable"),u=c("v-button"),p=c("drawer-item"),f=c("drawer-collection");return e.relation.collection!==e.relation.related_collection?(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("interfaces.list-o2m-tree-view.recursive_only")),1)]),_:1})):(m(),I("div",yQ,[o(r,{template:e.template,collection:e.collection,tree:e.stagedValues||[],"primary-key-field":e.primaryKeyField.field,"children-field":e.relation.meta.one_field,"parent-field":e.relation.field,disabled:e.disabled,root:"",onChange:e.onDraggableChange,onInput:e.emitValue},null,8,["template","collection","tree","primary-key-field","children-field","parent-field","disabled","onChange","onInput"]),e.disabled?R("",!0):(m(),I("div",hQ,[e.enableCreate?(m(),C(u,{key:0,onClick:t[0]||(t[0]=_=>e.addNewActive=!0)},{default:s(()=>[P(w(e.t("create_new")),1)]),_:1})):R("",!0),e.enableSelect?(m(),C(u,{key:1,onClick:t[1]||(t[1]=_=>e.selectDrawer=!0)},{default:s(()=>[P(w(e.t("add_existing")),1)]),_:1})):R("",!0)])),e.disabled?R("",!0):(m(),C(p,{key:1,active:e.addNewActive,collection:e.collection,"primary-key":"+",edits:{},"circular-field":e.relation.field,onInput:e.addNew,"onUpdate:active":t[2]||(t[2]=_=>e.addNewActive=!1)},null,8,["active","collection","circular-field","onInput"])),e.disabled?R("",!0):(m(),C(f,{key:2,active:e.selectDrawer,"onUpdate:active":t[3]||(t[3]=_=>e.selectDrawer=_),collection:e.collection,selection:[],filter:e.customFilter,multiple:"",onInput:e.stageSelection},null,8,["active","collection","filter","onInput"]))]))}var bQ=z(vQ,[["render",gQ],["__scopeId","data-v-d4c8f398"]]),wQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="60.34" y="36" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="36" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="104.34" y="18" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="60.34" y="72" width="60" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.34" y="54" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="74.34" y="54" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="50.59" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="m39 20.16-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 36l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5ZM39 56.16l-.82-.82-2.68 2.652-2.68-2.652-.82.82 3.5 3.5 3.5-3.5ZM44.16 72l-.82.82 2.652 2.68-2.652 2.68.82.82 3.5-3.5-3.5-3.5Z" fill="var(--primary)"/>
</svg>
`,kQ=qe({id:"list-o2m-tree-view",name:"$t:tree_view",description:"$t:interfaces.list-o2m-tree-view.description",icon:"account_tree",types:["alias"],localTypes:["o2m"],group:"relational",relational:!0,component:bQ,options:({relations:e})=>{var n;const t=(n=e.o2m)==null?void 0:n.collection;return[{field:"displayTemplate",name:"$t:display_template",meta:{interface:"system-display-template",options:{collectionName:t},width:"full"}},{field:"enableCreate",name:"$t:creating_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_create_button"},width:"half"}},{field:"enableSelect",name:"$t:selecting_items",schema:{default_value:!0},meta:{interface:"boolean",options:{label:"$t:enable_select_button"},width:"half"}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t},conditions:[{rule:{enableSelect:{_eq:!1}},hidden:!0}]}}]},preview:wQ}),$Q=Object.freeze(Object.defineProperty({__proto__:null,default:kQ},Symbol.toStringTag,{value:"Module"}));class aa{constructor(t,n){bt(this,"active");bt(this,"element");bt(this,"groupElement");this.className=t,this.callback=n,this.element=document.createElement("button"),this.element.className=this.className,this.element.onpointerdown=n,this.active=!1}click(...t){this.callback(...t)}activate(t){this.element.classList[t?"add":"remove"]("active"),this.active=t}show(t){this.element.classList[t?"remove":"add"]("hidden")}onAdd(){return this.groupElement=document.createElement("div"),this.groupElement.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.groupElement.appendChild(this.element),this.groupElement}onRemove(){var t;this.element.remove(),(t=this.groupElement)==null||t.remove()}}class SQ{constructor(t){bt(this,"groupElement");bt(this,"boxElement");bt(this,"selectButton");bt(this,"map");bt(this,"layers");bt(this,"selecting",!1);bt(this,"shiftPressed",!1);bt(this,"startPos");bt(this,"lastPos");bt(this,"onKeyDownHandler");bt(this,"onKeyUpHandler");bt(this,"onMouseDownHandler");bt(this,"onMouseMoveHandler");bt(this,"onMouseUpHandler");var n,l,a,d;this.layers=(n=t==null?void 0:t.layers)!=null?n:[],this.boxElement=document.createElement("div"),this.boxElement.className=(l=t==null?void 0:t.boxElementClass)!=null?l:"selection-box",this.groupElement=document.createElement("div"),this.groupElement.className=(a=t==null?void 0:t.groupElementClass)!=null?a:"mapboxgl-ctrl mapboxgl-ctrl-group",this.selectButton=new aa((d=t==null?void 0:t.selectButtonClass)!=null?d:"ctrl-select",()=>{this.activate(!this.shiftPressed)}),this.groupElement.appendChild(this.selectButton.element),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onMouseUpHandler=this.onMouseUp.bind(this)}onAdd(t){return this.map=t,this.map.boxZoom.disable(),this.map.getContainer().appendChild(this.boxElement),this.map.getContainer().addEventListener("pointerdown",this.onMouseDownHandler,!0),document.addEventListener("keydown",this.onKeyDownHandler),document.addEventListener("keyup",this.onKeyUpHandler),this.groupElement}onRemove(){this.map.boxZoom.enable(),this.boxElement.remove(),this.groupElement.remove(),this.map.getContainer().removeEventListener("pointerdown",this.onMouseDownHandler),document.removeEventListener("keydown",this.onKeyDownHandler),document.removeEventListener("keyup",this.onKeyUpHandler)}active(){return this.shiftPressed||this.selecting}getMousePosition(t){const n=this.map.getContainer(),l=n.getBoundingClientRect();return new Zt.exports.Point(t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop)}onKeyDown(t){t.key=="Shift"&&this.activate(!0),t.key=="Escape"&&(this.reset(),this.activate(!1),this.map.fire("select.end",{features:[]}))}activate(t){this.shiftPressed=t,this.selectButton.activate(t),this.map.fire(`select.${t?"enable":"disable"}`)}onKeyUp(t){t.key=="Shift"&&this.activate(!1)}onMouseDown(t){!this.shiftPressed||t.button===0&&(this.selecting=!0,this.map.dragPan.disable(),this.startPos=this.getMousePosition(t),this.lastPos=this.startPos,document.addEventListener("pointermove",this.onMouseMoveHandler),document.addEventListener("pointerup",this.onMouseUpHandler),this.map.fire("select.start"))}onMouseMove(t){this.lastPos=this.getMousePosition(t);const n=Math.min(this.startPos.x,this.lastPos.x),l=Math.max(this.startPos.x,this.lastPos.x),a=Math.min(this.startPos.y,this.lastPos.y),d=Math.max(this.startPos.y,this.lastPos.y),i=`translate(${n}px, ${a}px)`,r=l-n+"px",u=d-a+"px";this.updateBoxStyle({transform:i,width:r,height:u})}onMouseUp(t){if(this.reset(),!this.active())return;const n=this.map.queryRenderedFeatures([this.startPos,this.lastPos],{layers:this.layers});this.map.fire("select.end",{features:n,alt:t.altKey})}reset(){this.selecting=!1,this.updateBoxStyle({width:"0",height:"0",transform:""}),document.removeEventListener("pointermove",this.onMouseMoveHandler),document.removeEventListener("pointerup",this.onMouseUpHandler),this.map.dragPan.enable()}updateBoxStyle(t){this.boxElement.style.transform=t.transform,this.boxElement.style.width=t.width,this.boxElement.style.height=t.height}}function ia(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.max(e[2],t[0]),Math.max(e[3],t[1])]}function Yl(e){let t=[1/0,1/0,-1/0,-1/0];return ou(e,n=>{t=ia(t,n)}),t}function Ls(e){switch(e){case"json":return"geojson";case"text":case"string":return"wkt";case"csv":return"lnglat";default:return e.startsWith("geometry")?"native":void 0}}function CQ(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>au(n);case"lnglat":return n=>n.coordinates;default:throw new Error(Ne.global.t("interfaces.map.invalid_format",{format:t}))}}function VQ(e){const{geometryFormat:t}=e;switch(t){case"native":case"geojson":return n=>n;case"wkt":return n=>iu(n);case"lnglat":return n=>({type:"Point",coordinates:[Number(n[0]),Number(n[1])]});default:throw new Error(Ne.global.t("interfaces.map.invalid_format",{format:t}))}}function js(e){const t=VQ(e);return function(n){const l=n[e.geometryField],a=l&&t(l);if(!!a)return a}}function FQ(e,t){const n=js(t),l={type:"FeatureCollection",features:[],bbox:[1/0,1/0,-1/0,-1/0]};for(let a=0;a<e.length;a++){const d=n(e[a]);if(!d)continue;const[i,r,u,p]=Yl(d);l.bbox=ia(l.bbox,[i,r]),l.bbox=ia(l.bbox,[u,p]);const f=fe({},e[a]);delete f[t.geometryField];const _={type:"Feature",properties:f,geometry:d};l.features.push(_)}return l.features.length==0&&delete l.bbox,l}function Rs(e){if(!e)return[];if(e.type=="GeometryCollection")return e.geometries.flatMap(Rs);if(e.type.startsWith("Multi")){const t=e.type.replace("Multi","");return e.coordinates.map(n=>({type:t,coordinates:n}))}return[e]}function AQ(){const e=["case",["==",["get","mode"],"static"],nt("--black"),["==",["get","active"],"true"],nt("--secondary"),nt("--primary")];return[{id:"directus-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":e,"fill-outline-color":e,"fill-opacity":.15}},{id:"directus-polygon-stroke",type:"line",filter:["all",["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e,"line-width":2}},{id:"directus-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":nt("--secondary")}},{id:"directus-line",type:"line",filter:["all",["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e,"line-width":2}},{id:"directus-polygon-and-line-vertex",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"]],paint:{"circle-radius":3,"circle-color":nt("--secondary"),"circle-opacity":["case",["==",["get","active"],"true"],1,.2],"circle-stroke-color":["case",["==",["get","active"],"true"],nt("--white"),nt("--secondary")],"circle-stroke-width":2}},{id:"directus-point-shadow",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"],["!=","mode","static"]],type:"circle",layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":nt("--black")}},{id:"directus-point",filter:["all",["==","$type","Point"],["==","meta","feature"],["!=","meta","midpoint"]],type:"circle",layout:{},paint:{"circle-radius":6,"circle-color":e,"circle-stroke-color":["case",["==",["get","mode"],"static"],nt("--black"),nt("--white")],"circle-opacity":["case",["==",["get","mode"],"static"],.2,1],"circle-stroke-width":2,"circle-stroke-opacity":1}}]}const IQ=["directus-point","directus-line","directus-polygon-fill","directus-polygon-stroke","directus-polygon-midpoint","directus-polygon-and-line-vertex"].flatMap(e=>[e+".hot",e+".cold"]),EQ=K({props:{type:{type:String,default:null},fieldData:{type:Object,default:void 0},value:{type:[Object,Array,String],default:null},loading:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},geometryType:{type:String,default:void 0},defaultView:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){var ve;const{t:n}=Y(),l=E(null);let a,d=E(!0),i;const r=E(),u=E(),p=e.geometryType||((ve=e.fieldData)==null?void 0:ve.type.split(".")[1]),f=Ls(e.type),_=Gn("mapbox_key"),v=cl(),y=Vt(),{basemap:h}=ze(y),g=F(()=>{var le;const H=(le=v.find(ie=>ie.name==h.value))!=null?le:v[0];return h.value,Wo(H)});let b,$;try{b=js({geometryFormat:f,geometryField:"value"}),$=CQ({geometryFormat:f,geometryField:"value"})}catch(H){r.value=H}const A=E([]),V=E(),T=E();function D(){T.value=V.value?a.project(V.value):null}ge(V,D);const O={attribution:new Zt.exports.AttributionControl,draw:new ro(me(p)),fitData:new aa("mapboxgl-ctrl-fitdata",_e),navigation:new Zt.exports.NavigationControl({showCompass:!1}),geolocate:new Zt.exports.GeolocateControl({showUserLocation:!1}),geocoder:void 0};_&&(O.geocoder=new Ea({accessToken:_,collapsed:!0,flyTo:{speed:1.4},marker:!1,mapboxgl:oo,placeholder:n("layouts.map.find_location")}));const M=E(!1),L=E(""),j=E({x:0,y:0});function B(){M.value=!1}const q=N.exports.debounce(H=>{var ie;const le=(ie=H.features)==null?void 0:ie[0];le&&le.properties.active==="false"&&(L.value=n("interfaces.map.click_to_select",{geometry:le.geometry.type}),M.value=!0,j.value=H.point)},200);function G(H){M.value=!1,q({point:H.point,features:H.features})}return st(()=>{const H=Q();Dt(H)}),{t:n,tooltipPosition:j,tooltipVisible:M,tooltipMessage:L,container:l,mapLoading:d,resetValue:oe,geometryParsingError:u,geometryOptionsError:r,basemaps:v,basemap:h,location:V,projection:T,selection:A};function Q(){return a=new Zt.exports.Map(fe(fe({container:l.value,style:g.value,dragRotate:!1,logoPosition:"bottom-left",attributionControl:!1},e.defaultView),_?{accessToken:_}:{})),O.geocoder&&(a.addControl(O.geocoder,"top-right"),O.geocoder.on("result",H=>{V.value=H.result.center}),O.geocoder.on("clear",()=>{V.value=null})),O.geolocate.on("geolocate",H=>{const{longitude:le,latitude:ie}=H.coords;V.value=[le,ie]}),a.addControl(O.attribution,"bottom-left"),a.addControl(O.navigation,"top-left"),a.addControl(O.geolocate,"top-left"),a.addControl(O.fitData,"top-left"),a.addControl(O.draw,"top-left"),a.on("load",async()=>{a.resize(),d.value=!1,a.on("draw.create",X),a.on("draw.delete",X),a.on("draw.update",X),a.on("draw.modechange",Z),a.on("draw.selectionchange",se),a.on("move",D);for(const H of IQ)a.on("mousedown",H,B),a.on("mousemove",H,G),a.on("mouseleave",H,G);window.addEventListener("keydown",re)}),ge(()=>e.value,ce,{immediate:!0}),ge(()=>g.value,J),ge(()=>e.disabled,J),()=>{window.removeEventListener("keydown",re),a.remove()}}function ce(H){if(H)N.exports.isEqual(H,i&&$(i))||(ne(),O.draw.changeMode("simple_select"));else if(O.draw.deleteAll(),i=null,p){const ie=`draw_${N.exports.snakeCase(p.replace("Multi",""))}`;O.draw.changeMode(ie)}e.disabled&&O.draw.changeMode("static")}function J(){a.removeControl(O.draw),a.setStyle(g.value,{diff:!1}),O.draw=new ro(me(p)),a.addControl(O.draw,"top-left"),ne()}function oe(H){u.value=void 0,H&&t("input",null)}function _e(H){if(a&&i){const le=Yl(i);a.fitBounds(le,fe({padding:80,maxZoom:8},H))}}function me(H){const le={styles:AQ(),controls:{},userProperties:!0,displayControlsDefault:!1,modes:Object.assign(ro.modes,{static:ru})};if(e.disabled)return le;if(H){const ie=N.exports.snakeCase(H.replace("Multi",""));return le.controls[ie]=!0,le.controls.trash=!0,le}else return le.controls.line_string=!0,le.controls.polygon=!0,le.controls.point=!0,le.controls.trash=!0,le}function ee(H,le){return!H||!le?!0:H.startsWith("Multi")?H.replace("Multi","")==le.replace("Multi",""):H==le}function ne(){try{O.draw.deleteAll();const H=b(e);if(!H)return;!e.disabled&&!ee(p,H.type)&&(u.value=n("interfaces.map.unexpected_geometry",{expected:p,got:H.type}));const le=Rs(H);for(const ie of le)O.draw.add(ie);if(i=te(),i.bbox=Yl(i),u.value){const ie=Yl(H);a.fitBounds(ie,{padding:0,maxZoom:8,duration:0})}else _e({duration:0})}catch(H){u.value=H}}function te(){const le=O.draw.getAll().features.map(de=>de.geometry);let ie;if(le.length==0)return null;if(!p)le.length>1?ie={type:"GeometryCollection",geometries:le}:ie=le[0];else if(p.startsWith("Multi")){const de=le.filter(({type:ye})=>`Multi${ye}`==p).map(({coordinates:ye})=>ye);ie={type:p,coordinates:de}}else ie=le[le.length-1];return ie}function Z(H){if(!e.disabled&&H.mode.startsWith("draw")&&p&&!p.startsWith("Multi"))for(const le of O.draw.getAll().features.slice(0,-1))O.draw.delete(le.id)}function se(H){A.value=H.features}function X(){i=te(),i?t("input",$(i)):(O.draw.deleteAll(),t("input",null))}function re(H){[8,46].includes(H.keyCode)&&O.draw.trash()}}}),DQ={class:"interface-map"},TQ={ref:"container"},PQ={class:"mapboxgl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-dropdown basemap-select"};function OQ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-select"),u=c("v-notice"),p=c("v-info"),f=c("v-button"),_=c("v-card-actions");return m(),I("div",DQ,[S("div",{class:ue(["map",{loading:e.mapLoading,error:e.geometryParsingError||e.geometryOptionsError,"has-selection":e.selection.length>0}])},[S("div",TQ,null,512)],2),e.location?(m(),I("div",{key:0,class:"mapboxgl-user-location-dot mapboxgl-search-location-dot",style:We(`transform: translate(${e.projection.x}px, ${e.projection.y}px) translate(-50%, -50%) rotateX(0deg) rotateZ(0deg)`)},null,4)):R("",!0),o(Ut,{name:"fade"},{default:s(()=>[e.tooltipVisible?(m(),I("div",{key:0,class:"tooltip top",style:We(`display: block; transform: translate(${e.tooltipPosition.x}px, ${e.tooltipPosition.y}px) translate(-50%, -150%) rotateX(0deg) rotateZ(0deg)`)},w(e.tooltipMessage),5)):R("",!0)]),_:1}),S("div",PQ,[o(i,{name:"map"}),o(r,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=v=>e.basemap=v),inline:"",items:e.basemaps.map(v=>({text:v.name,value:v.name}))},null,8,["modelValue","items"])]),o(Ut,{name:"fade"},{default:s(()=>[e.geometryOptionsError?(m(),C(p,{key:0,icon:"error",center:"",type:"danger",title:e.t("interfaces.map.invalid_options")},{default:s(()=>[o(u,{type:"danger",icon:!1},{default:s(()=>[P(w(e.geometryOptionsError),1)]),_:1})]),_:1},8,["title"])):e.geometryParsingError?(m(),C(p,{key:1,icon:"error",center:"",type:"warning",title:e.t("layouts.map.invalid_geometry")},{append:s(()=>[o(_,null,{default:s(()=>[o(f,{small:"",secondary:"",onClick:t[1]||(t[1]=v=>e.resetValue(!1))},{default:s(()=>[P(w(e.t("continue")),1)]),_:1}),o(f,{small:"",kind:"danger",onClick:t[2]||(t[2]=v=>e.resetValue(!0))},{default:s(()=>[P(w(e.t("reset")),1)]),_:1})]),_:1})]),default:s(()=>[o(u,{type:"warning",icon:!1},{default:s(()=>[P(w(e.geometryParsingError),1)]),_:1})]),_:1},8,["title"])):R("",!0)]),_:1})])}var LQ=z(EQ,[["render",OQ],["__scopeId","data-v-7df7cf53"]]);const jQ=K({props:{collection:{type:String,required:!0},field:{type:Object,default:null},value:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){var b,$,A,V;const{t:n}=Y(),l=F(()=>e.field.type.split(".")[1]),a=E((A=($=l.value)!=null?$:(b=e.value)==null?void 0:b.geometryType)!=null?A:"Point"),d=E((V=e.value)==null?void 0:V.defaultView);ge(()=>e.field.type,i),ge(l,r),ge([a,d],u,{immediate:!0});function i(T){T==="csv"&&(a.value="Point")}function r(T){a.value=T}function u(){t("input",{defaultView:d,geometryType:a.value})}const p=E(null);let f;const _=Gn("mapbox_key"),v=cl(),y=Vt(),{basemap:h}=ze(y),g=F(()=>{var D;const T=(D=v.find(O=>O.name==h.value))!=null?D:v[0];return Wo(T)});return st(()=>{f=new Zt.exports.Map(fe(fe({container:p.value,style:g.value},d.value||{}),_?{accessToken:_}:{})),f.on("moveend",()=>{d.value={center:f.getCenter(),zoom:f.getZoom(),bearing:f.getBearing(),pitch:f.getPitch()}})}),Dt(()=>{f.remove()}),{t:n,nativeGeometryType:l,GEOMETRY_TYPES:Ka,geometryType:a,mapContainer:p}}}),RQ={class:"form-grid"},MQ={key:0,class:"field half-left"},UQ={class:"type-label"},NQ={class:"field"},BQ={class:"type-label"},qQ={ref:"mapContainer",class:"map"};function zQ(e,t,n,l,a,d){const i=c("v-select");return m(),I("div",RQ,[!e.nativeGeometryType&&e.field.type!=="csv"?(m(),I("div",MQ,[S("div",UQ,w(e.t("interfaces.map.geometry_type")),1),o(i,{modelValue:e.geometryType,"onUpdate:modelValue":t[0]||(t[0]=r=>e.geometryType=r),placeholder:e.t("any"),"show-deselect":!0,items:e.GEOMETRY_TYPES.map(r=>({value:r,text:r}))},null,8,["modelValue","placeholder","items"])])):R("",!0),S("div",NQ,[S("div",BQ,w(e.t("interfaces.map.default_view")),1),S("div",qQ,null,512)])])}var KQ=z(jQ,[["render",zQ],["__scopeId","data-v-8fddac84"]]),WQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="24" y="19" width="107.999" height="58" rx="2" fill="var(--primary)" fill-opacity=".2" />
	<path
		d="M30.75 77h36.452l-.095-.564c-.388-2.288-2.591-3.969-5.165-3.94l-6.645.074-7.02.441a5.646 5.646 0 00-1.592.334l-3.967 1.458a5.697 5.697 0 01-3.933-.01l-.653-.244c-1.716-.641-3.684-.403-5.15.624l-1.166.816c-.411.288-.77.63-1.065 1.011zM109.568 77h-7.043a.58.58 0 01.525-.38l5.532-.348c.494-.031.925.291.986.728zM130.779 76.843c-.24.101-.503.157-.779.157h-3.483a.895.895 0 01.439-.457l1.031-.506 1.26-.786a1.29 1.29 0 011.069-.125c.81.262 1.028 1.177.463 1.717zM132 73.303V58.538l-1.671-.342a5.71 5.71 0 00-2.865.151l-9.861 3.14c-.736.235-1.351.704-1.728 1.32-.522.853-1.49 1.41-2.571 1.477l-2.387.15c-.544.035-1.016-.334-1.055-.824-.032-.417.264-.799.711-.915l.765-.2c.572-.148 1.039-.521 1.27-1.015l.03-.062c.319-.68.175-1.465-.37-2.017l-2.009-2.038c.013.01.035.006.041-.01l2.064-5.064a3.56 3.56 0 01.365-.675l1.734-2.531c1.036-1.512 2.941-2.36 4.905-2.183l.605.054c.29.026.581.03.872.011l5.838-.367a4.441 4.441 0 001.471-.348l3.383-1.454c.153-.066.308-.115.463-.15V21a2 2 0 00-2-2H91.93c.011.051.026.102.044.152l.313.868c.588 1.632-.473 3.374-2.32 3.806L76.76 26.914c-1.496.35-3.088.078-4.337-.74l-3.035-1.988c-.934-.612-1.35-1.68-1.044-2.682.298-.976-.08-1.908-.802-2.504H63.57c-.635.459-1.045 1.145-1.097 1.906l-.312 4.592c-.112 1.657-1.3 3.098-3.03 3.677-1.023.341-1.88.994-2.422 1.845l-1.687 2.644a4.782 4.782 0 01-1.073 1.18l-2.702 2.132c-1.207.952-2.838 1.345-4.412 1.062l-1.467-.263a4.265 4.265 0 00-1.958.107c-2.214.656-3.277 2.916-2.258 4.801l.099.184c.19.352.315.728.372 1.116l.438 2.988c.432 2.951-2.294 5.5-5.59 5.226l-1.062-.088c-2.656-.22-5.06 1.415-5.548 3.773l-.438 2.122c-.08.386-.104.779-.073 1.17l.563 7.246c.092 1.18 1.23 2.07 2.542 1.987l.347-.022c.885-.056 1.699.437 1.975 1.195.397 1.09 1.837 1.544 2.903.914l2.058-1.215a4.11 4.11 0 011.83-.556l.611-.038c1.465-.093 2.817-.741 3.717-1.785l.329-.38a4.38 4.38 0 001.069-2.5l.079-.952c.096-1.163.676-2.25 1.623-3.046l2.853-2.396c.382-.321.631-.75.707-1.215.178-1.093 1.277-1.869 2.5-1.764l4.925.424a5.725 5.725 0 001.588-.085l1.146-.224c1.628-.319 3.327.09 4.562 1.096l6.25 5.094c.34.278.721.514 1.132.7l2.9 1.322c1.023.466 1.845 1.226 2.334 2.159l1.866 3.555c.05.097.081.201.09.308.07.91 1.457 1.113 1.845.27l.859-1.868c.063-.137.1-.281.11-.429l.1-1.44c.03-.434.316-.821.75-1.014 1.003-.446 1.004-1.732.002-2.18l-6.436-2.868a4.858 4.858 0 01-1.612-1.152l-4.04-4.42c-.813-.89-.818-2.172-.013-3.068 1.13-1.257 3.284-1.19 4.314.135l1.77 2.276c.355.457.801.85 1.315 1.161l7.297 4.411a4.818 4.818 0 011.786 1.867l2.653 5.045c.126.24.275.47.445.686l3.26 4.167c.544.694 1.451 1.082 2.393 1.023l2.427-.153c1.666-.104 2.287-2.017.945-2.91-.569-.38-.838-1.022-.687-1.644l.347-1.431c.255-1.05 1.161-1.874 2.326-2.114 1.345-.278 2.732.28 3.396 1.368l1.479 2.42 2.643 3.51c.873 1.161 2.283 1.905 3.836 2.024l9.727.744c.266.02.532.022.798.006l4.366-.275a5.706 5.706 0 011.75.16z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M42.417 19h5.249c.006.24.053.481.142.715l.285.743.866 2.89c.096.32.147.65.154.982l.035 1.936c.013.687.538 1.28 1.28 1.444.708.157 1.223.708 1.274 1.363l.13 1.677c.12 1.522-.78 2.962-2.29 3.657-1.792.825-3.957 1.814-4.328 1.947-.194.062-.97.131-1.965.198-1.437.096-1.966-1.615-.695-2.225.846-.406.967-1.452.233-2.006l-.456-.343c-.702-.53-.833-1.457-.3-2.127l.925-1.162c.149-.187.273-.386.371-.598.355-.766 1.223-2.673 1.203-2.94l-.034-.432a4.349 4.349 0 00-.899-2.31l-.287-.375c-.684-.891-.996-1.965-.893-3.034zM76.543 19c1.102.977 2.735 1.429 4.354 1.047A4.688 4.688 0 0082.942 19h-6.4zM39.86 27.148a4.574 4.574 0 01-1.158 1.74l-1.355 1.285c-.53.503-1.28.769-2.05.726-1.852-.101-2.996-1.861-2.186-3.363l.636-1.178 2.021-2.783a1.483 1.483 0 011.11-.586c.497-.031.941-.29 1.176-.685l.324-.547c.255-.43.737-.71 1.278-.745.673-.042 1.3.306 1.56.866l.086.183c.181.39.193.83.032 1.228l-.646 1.6-.829 2.26zM64.316 57.705a.445.445 0 00-.227.414l.136 1.747c.038.489.586.81 1.098.642.438-.143.656-.584.48-.972l-.734-1.622c-.121-.268-.485-.369-.753-.209zM63.798 63.801c.37-.402 1.036-.45 1.471-.105l.632.501c.363.288.585.693.619 1.127l.1 1.297c.033.412-.156.813-.506 1.08-.9.683-2.283.158-2.365-.899l-.183-2.349a.864.864 0 01.232-.652zM78.695 73.3c.466.212 1.034.011 1.215-.43a.714.714 0 00.052-.326l-.07-.901c-.053-.678-.706-1.188-1.46-1.14l-2.827.177c-.397.025-.531.49-.198.685l2.35 1.491c.064.041.131.078.201.11l.737.334z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M88.472 36.868a1.267 1.267 0 01-1.258-1.258c0-.672.585-1.228 1.258-1.228.672 0 1.257.556 1.257 1.228 0 .702-.585 1.258-1.257 1.258zm3.742-1.111c0-2.281-1.666-3.89-3.742-3.89s-3.743 1.609-3.743 3.89c0 1.462 1.228 3.391 3.743 5.701 2.514-2.31 3.742-4.24 3.742-5.701zm-3.742-5.117c2.631 0 5 1.988 5 5.117 0 2.046-1.667 4.503-5 7.339-3.334-2.836-5-5.293-5-7.34 0-3.128 2.368-5.116 5-5.116z"
		fill="var(--primary)" />
</svg>
`,HQ=qe({id:"map",name:"$t:interfaces.map.map",description:"$t:interfaces.map.description",icon:"map",component:LQ,types:["geometry.Point","geometry.LineString","geometry.Polygon","geometry.MultiPoint","geometry.MultiLineString","geometry.MultiPolygon","geometry","json","string","text","csv"],group:"selection",options:KQ,recommendedDisplays:[],preview:WQ}),GQ=Object.freeze(Object.defineProperty({__proto__:null,default:HQ},Symbol.toStringTag,{value:"Module"}));const ZQ=K({props:{color:{type:String,default:null},icon:{type:String,default:null},title:{type:String,default:null},inlineTitle:{type:Boolean,default:!1}}});function JQ(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-divider");return m(),C(r,{class:ue({"add-margin-top":e.icon||e.title}),style:We({"--v-divider-label-color":e.color,"--v-divider-color":"var(--border-subdued)"}),large:"","inline-title":e.inlineTitle},ot({_:2},[e.icon?{name:"icon",fn:s(()=>[o(i,{name:e.icon},null,8,["name"])])}:void 0,e.title?{name:"default",fn:s(()=>[P(w(e.title),1)])}:void 0]),1032,["class","style","inline-title"])}var QQ=z(ZQ,[["render",JQ],["__scopeId","data-v-d3670a32"]]),XQ=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="18" y="41" width="6" height="6" rx="2" fill="var(--primary)"/>
  <rect x="28" y="41" width="50" height="6" rx="2" fill="var(--primary)"/>
  <rect opacity=".25" x="18" y="53" width="120" height="2" rx="1" fill="var(--primary)"/>
</svg>
`,YQ=qe({id:"presentation-divider",name:"$t:interfaces.presentation-divider.divider",description:"$t:interfaces.presentation-divider.description",icon:"remove",component:QQ,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"title",name:"$t:title",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.presentation-divider.title_placeholder"}}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"inlineTitle",name:"$t:interfaces.presentation-divider.inline_title",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.presentation-divider.inline_title_label"}},schema:{default_value:!1}}],preview:XQ}),xQ=Object.freeze(Object.defineProperty({__proto__:null,default:YQ},Symbol.toStringTag,{value:"Module"}));const eX=K({props:{disabled:{type:Boolean,default:!1},links:{type:Array,default:null}},setup(e){const t=_t("values",E({}));return{linksParsed:F(()=>e.links.map(l=>{var i;const a=N.exports.omit(l,["url"]),d=xt((i=l.url)!=null?i:"",t.value);return d.startsWith("/")?a.to=d:a.href=d,a}))}}}),tX={class:"presentation-links"},nX={key:1};function lX(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-button");return m(),I("div",tX,[(m(!0),I(ae,null,we(e.linksParsed,(u,p)=>(m(),C(r,{key:p,class:ue(["action",[u.type]]),secondary:u.type!=="primary",disabled:e.disabled,icon:!u.label,href:u.href,to:u.to},{default:s(()=>[u.icon?(m(),C(i,{key:0,left:"",name:u.icon},null,8,["name"])):R("",!0),u.label?(m(),I("span",nX,w(u.label),1)):R("",!0)]),_:2},1032,["class","secondary","disabled","icon","href","to"]))),128))])}var oX=z(eX,[["render",lX],["__scopeId","data-v-406a838a"]]),aX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="28" y="35" width="100" height="26" rx="6" fill="var(--primary)"/>
  <rect opacity=".5" x="65" y="45" width="40" height="6" rx="2" fill="#fff"/>
  <rect opacity=".5" x="51" y="45" width="10" height="6" rx="2" fill="#fff"/>
</svg>
`,iX=qe({id:"presentation-links",name:"$t:interfaces.presentation-links.presentation-links",description:"$t:interfaces.presentation-links.description",icon:"smart_button",component:oX,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:e})=>[{field:"links",name:"$t:interfaces.presentation-links.links",type:"json",meta:{interface:"list",options:{fields:[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"type",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"url",type:"string",name:"$t:url",meta:{width:"full",interface:"system-display-template",options:{collectionName:e,font:"monospace",placeholder:"https://example.com/articles/{{ id }}/{{ slug }}"}}}]}}}],preview:aX}),rX=Object.freeze(Object.defineProperty({__proto__:null,default:iX},Symbol.toStringTag,{value:"Module"}));const sX=K({props:{color:{type:String,default:"normal"},icon:{type:String,default:"info"},text:{type:String,default:"No text configured..."}}}),dX={class:"presentation-notice"};function uX(e,t,n,l,a,d){const i=c("v-notice"),r=$e("md");return m(),I("div",dX,[o(i,{icon:e.icon,type:e.color},{default:s(()=>[x(S("div",null,null,512),[[r,e.text]])]),_:1},8,["icon","type"])])}var cX=z(sX,[["render",uX],["__scopeId","data-v-c3b4635c"]]),pX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="25" width="120" height="46" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="46" y="35" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="45" width="74" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="46" y="55" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="100" y="35" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M31.426 45.074h1.148v1.176h-1.148v-1.176zm0 2.352h1.148v3.5h-1.148v-3.5zm.574-5.25A5.811 5.811 0 0026.176 48 5.811 5.811 0 0032 53.824 5.811 5.811 0 0037.824 48 5.811 5.811 0 0032 42.176zm0 10.5A4.691 4.691 0 0127.324 48 4.691 4.691 0 0132 43.324 4.691 4.691 0 0136.676 48 4.691 4.691 0 0132 52.676z"
		fill="var(--primary)" />
</svg>
`,mX=qe({id:"presentation-notice",name:"$t:interfaces.presentation-notice.notice",description:"$t:interfaces.presentation-notice.description",icon:"info",component:cX,hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:[{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"text",name:"$t:text",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.presentation-notice.text"}}}],preview:pX}),fX=Object.freeze(Object.defineProperty({__proto__:null,default:mX},Symbol.toStringTag,{value:"Module"}));const _X={key:0,class:"color-data-alphas"},vX={class:"color-data-alpha"},yX={key:1,class:"presets"},hX=K({props:{disabled:{type:Boolean,default:!1},value:{default:()=>null},placeholder:{default:void 0},presets:{default:()=>[{name:Ne.global.t("colors.purple"),color:"#6644FF"},{name:Ne.global.t("colors.blue"),color:"#3399FF"},{name:Ne.global.t("colors.green"),color:"#2ECDA7"},{name:Ne.global.t("colors.yellow"),color:"#FFC23B"},{name:Ne.global.t("colors.orange"),color:"#FFA439"},{name:Ne.global.t("colors.red"),color:"#E35169"},{name:Ne.global.t("colors.black"),color:"#18222F"},{name:Ne.global.t("colors.gray"),color:"#A2B5CD"},{name:Ne.global.t("colors.white"),color:"#FFFFFF"}]},width:null,opacity:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=Y(),a=F(()=>{var D;return n.value?((D=n.value)==null?void 0:D.startsWith("var(--"))?nt(n.value.substring(4,n.value.length-1)):n.value:null}),d=E(null);let i=n.opacity?E(["RGBA","HSLA"]):E(["RGB","HSL"]);const r=E(n.opacity?"RGBA":"RGB"),u=F(()=>v.value!==null&&a.value!==null),p=F(()=>{if(g.value===null)return!0;const D=nt("--background-page"),O=jt(D);return g.value.contrast(O)<1.1}),f=D=>(D.startsWith("--")&&(D=nt(D)),jt(D).contrast(jt(nt("--card-face-color")))<1.1),{hsl:_,rgb:v,hex:y,alpha:h,color:g}=T();function b(D,O,M){if(D==="rgb"){const L=[...v.value];L[O]=M,v.value=L}else if(D==="hsl"){const L=[..._.value];L[O]=M,_.value=L}else h.value=M}function $(D){y.value=`${D}${y.value!==null&&y.value.length===9?y.value.slice(-2):""}`}function A(){t("input",null)}function V(){var D;((D=d.value)==null?void 0:D.$el).getElementsByTagName("input")[0].click()}function T(){const D=E(null),O=()=>{if(D.value!==null){let G=Math.round(255*D.value.alpha()).toString(16).toUpperCase();return G=G.padStart(2,"0"),D.value.rgb().array().length===4?`${D.value.hex()}${G}`:D.value.hex()}return null};ge(()=>n.value,()=>{D.value=a.value!==null?jt(a.value):null},{immediate:!0});const M=F({get(){const G=D.value!==null?D.value.rgb().array():n.opacity?[0,0,0,1]:[0,0,0];return G.length===4?[...G.slice(0,-1).map(Math.round),G[3]]:G.map(Math.round)},set(G){q(jt.rgb(G).alpha(G.length===4?G[3]:1))}}),L=F({get(){const G=D.value!==null?D.value.hsl().array():n.opacity?[0,0,0,1]:[0,0,0];return G.length===4?[...G.slice(0,-1).map(Math.round),G[3]]:G.map(Math.round)},set(G){q(jt.hsl(G).alpha(G.length===4?G[3]:1))}}),j=F({get(){return O()},set(G){if(G===null||G==="")A();else{if(la(G)===!1)return;q(jt(G))}}}),B=F({get(){var G;return D.value!==null?Math.round(((G=D==null?void 0:D.value)==null?void 0:G.alpha())*100):100},set(G){if(G===null)return;const Q=D.value!==null?D.value.rgb().array():[0,0,0];q(jt(Q).alpha(G/100))}});return{rgb:M,hsl:L,hex:j,alpha:B,color:D};function q(G){D.value=G,G===null?A():t("input",O())}}return(D,O)=>{const M=c("v-input"),L=c("v-icon"),j=c("v-button"),B=c("v-select"),q=c("v-slider"),G=c("v-menu"),Q=$e("tooltip");return m(),C(G,{attached:"",disabled:e.disabled,"close-on-content-click":!1},{activator:s(({activate:ce})=>[o(M,{modelValue:W(y),"onUpdate:modelValue":O[1]||(O[1]=J=>kt(y)?y.value=J:null),disabled:e.disabled,placeholder:e.placeholder||W(l)("interfaces.select-color.placeholder"),pattern:e.opacity?/#([a-f\d]{2}){4}/i:/#([a-f\d]{2}){3}/i,class:"color-input",maxlength:e.opacity?9:7,onFocus:ce},{prepend:s(()=>[o(M,{ref:(J,oe)=>{oe.htmlColorInput=J,d.value=J},"model-value":W(y)?W(y).slice(0,7):null,type:"color",class:"html-color-select","onUpdate:modelValue":O[0]||(O[0]=J=>$(J))},null,8,["model-value"]),o(j,{class:"swatch",icon:!0,style:We({"--v-button-background-color":W(u)?W(y):"transparent",border:W(p)===!1?"none":"var(--border-width) solid var(--border-normal)"}),onClick:V},{default:s(()=>[W(u)?R("",!0):(m(),C(L,{key:0,name:"colorize"}))]),_:1},8,["style"])]),append:s(()=>[o(L,{name:W(u)?"close":"palette",clickable:W(u),onClick:A},null,8,["name","clickable"])]),_:2},1032,["modelValue","disabled","placeholder","pattern","maxlength","onFocus"])]),default:s(()=>[S("div",{class:ue(["color-data-inputs",{stacked:e.width.startsWith("half")}]),style:We({"grid-template-columns":e.opacity?e.width.startsWith("half")?"repeat(4, 1fr)":"repeat(6, 1fr)":e.width.startsWith("half")?"repeat(3, 1fr)":"repeat(5, 1fr)"})},[S("div",{class:"color-data-input color-type",style:We({"grid-column":e.opacity?e.width.startsWith("half")?"1 / span 4":"1 / span 2":e.width.startsWith("half")?"1 / span 3":"1 / span 2"})},[o(B,{modelValue:r.value,"onUpdate:modelValue":O[2]||(O[2]=ce=>r.value=ce),items:W(i)},null,8,["modelValue","items"])],4),r.value==="RGB"||r.value==="RGBA"?(m(),I(ae,{key:0},[(m(!0),I(ae,null,we(W(v).length>3?W(v).slice(0,-1):W(v),(ce,J)=>(m(),C(M,{key:J,hidden:J===3,type:"number","model-value":ce,class:"color-data-input",pattern:"\\d*",min:0,max:255,step:1,maxlength:"3","onUpdate:modelValue":oe=>b("rgb",J,oe)},null,8,["hidden","model-value","onUpdate:modelValue"]))),128)),e.opacity?(m(),C(M,{key:0,type:"number","model-value":W(h),class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":O[3]||(O[3]=ce=>b("alpha",0,ce))},null,8,["model-value"])):R("",!0)],64)):R("",!0),r.value==="HSL"||r.value==="HSLA"?(m(),I(ae,{key:1},[(m(!0),I(ae,null,we(W(_).length>3?W(_).slice(0,-1):W(_),(ce,J)=>(m(),C(M,{key:J,type:"number","model-value":ce,class:"color-data-input",pattern:"\\d*",min:0,max:J===0?360:100,step:1,maxlength:"3","onUpdate:modelValue":oe=>b("hsl",J,oe)},null,8,["model-value","max","onUpdate:modelValue"]))),128)),e.opacity?(m(),C(M,{key:0,type:"number","model-value":W(h),class:"color-data-input",pattern:"\\d*",min:0,max:100,step:1,maxlength:"3","onUpdate:modelValue":O[4]||(O[4]=ce=>b("alpha",0,ce))},null,8,["model-value"])):R("",!0)],64)):R("",!0)],6),e.opacity?(m(),I("div",_X,[S("div",vX,[o(q,{"model-value":W(h),min:0,max:100,step:1,style:We({"--v-slider-color":"none","--background-page":"none","--v-slider-fill-color":"none","--v-slider-thumb-color":"var(--foreground-normal)","--v-slider-track-background-image":"linear-gradient(to right, transparent,"+(W(y)&&W(y).length===9?W(y).slice(0,-2):W(y)?W(y):"transparent")+"), url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')"}),"onUpdate:modelValue":O[5]||(O[5]=ce=>b("alpha",0,ce))},null,8,["model-value","style"])])])):R("",!0),e.presets?(m(),I("div",yX,[(m(!0),I(ae,null,we(e.presets,ce=>x((m(),C(j,{key:ce.color,class:ue(["preset",{"low-contrast":f(ce.color)}]),rounded:"",icon:"",style:We({"--v-button-background-color":ce.color}),onClick:()=>y.value=ce.color},null,8,["class","style","onClick"])),[[Q,ce.name]])),128))])):R("",!0)]),_:1},8,["disabled"])}}});var gX=z(hX,[["__scopeId","data-v-635bf442"]]),bX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="21" width="120" height="54" rx="6" fill="var(--background-page)" />
	<rect x="19" y="22" width="118" height="52" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="21" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="22" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="31" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="33" cy="34" r="7" fill="var(--primary)" />
	<circle cx="33" cy="60" r="7" fill="var(--primary)" />
	<circle cx="51" cy="60" r="7" fill="var(--primary)" fill-opacity=".75" />
	<circle cx="69" cy="60" r="7" fill="var(--primary)" fill-opacity=".5" />
	<circle cx="87" cy="60" r="7" fill="var(--primary)" fill-opacity=".25" />
	<circle cx="105" cy="60" r="7" fill="var(--primary)" fill-opacity=".1" />
	<circle cx="123" cy="60" r="6" stroke="var(--primary)" stroke-opacity=".1" stroke-width="2" />
	<path
		d="M123 39.824A5.811 5.811 0 01117.176 34 5.811 5.811 0 01123 28.176c3.227 0 5.824 2.351 5.824 5.25 0 1.914-1.558 3.5-3.5 3.5h-1.012c-.164 0-.3.11-.3.273 0 .082.027.137.082.192.218.273.355.629.355.984 0 .793-.656 1.45-1.449 1.45zm0-10.5c-2.57 0-4.676 2.106-4.676 4.676 0 2.57 2.106 4.676 4.676 4.676a.304.304 0 00.301-.301.314.314 0 00-.082-.191 1.484 1.484 0 01-.383-.985c0-.793.656-1.449 1.476-1.449h1.012c1.285 0 2.352-1.04 2.352-2.324 0-2.27-2.106-4.102-4.676-4.102zm-4.074 4.375c0-.465.383-.875.875-.875a.9.9 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm1.75-2.324c0-.492.383-.875.875-.875a.88.88 0 01.875.875.88.88 0 01-.875.875.864.864 0 01-.875-.875zm2.898 0a.88.88 0 01.875-.875c.492 0 .875.383.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875zm1.75 2.324a.9.9 0 01.875-.875c.492 0 .875.41.875.875a.864.864 0 01-.875.875.88.88 0 01-.875-.875z"
		fill="var(--primary)" />
</svg>
`,wX=qe({id:"select-color",name:"$t:interfaces.select-color.color",description:"$t:interfaces.select-color.description",icon:"palette",component:gX,types:["string"],recommendedDisplays:["color"],group:"selection",options:[{field:"opacity",name:"$t:interfaces.select-color.opacity",type:"boolean",meta:{width:"half",interface:"boolean"},schema:{default_value:!1}},{field:"presets",name:"$t:interfaces.select-color.preset_colors",type:"json",meta:{width:"full",interface:"list",options:{addLabel:"$t:interfaces.select-color.preset_colors_add_label",template:"{{ name }} - {{ color }}",fields:[{field:"name",type:"string",name:"$t:name",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:interfaces.select-color.name_placeholder"}}},{field:"color",type:"string",name:"$t:color",meta:{interface:"select-color",width:"half"}}]}}}],preview:bX}),kX=Object.freeze(Object.defineProperty({__proto__:null,default:wX},Symbol.toStringTag,{value:"Module"}));const $X=K({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:()=>Ne.global.t("select_an_item")},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(){const{t:e}=Y();return{t:e}}});function SX(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-icon"),u=c("v-select");return e.choices?(m(),C(u,{key:1,"model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":t[0]||(t[0]=p=>e.$emit("input",p))},ot({_:2},[e.icon?{name:"prepend",fn:s(()=>[o(r,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var CX=z($X,[["render",SX]]),VX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,FX=qe({id:"select-dropdown",name:"$t:dropdown",description:"$t:interfaces.select-dropdown.description",icon:"arrow_drop_down_circle",component:CX,types:["string","integer","float","bigInteger"],group:"selection",preview:VX,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]}),AX=Object.freeze(Object.defineProperty({__proto__:null,default:FX},Symbol.toStringTag,{value:"Module"}));const IX=K({components:{DrawerItem:Kt,DrawerCollection:sn},props:{value:{type:[Number,String,Object],default:null},collection:{type:String,required:!0},field:{type:String,required:!0},template:{type:String,default:null},selectMode:{type:String,default:"auto"},disabled:{type:Boolean,default:!1},filter:{type:Object,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=_t("values",E({})),a=F(()=>An(Rn(e.filter,Z=>Z&&typeof Z=="string"?xt(Z,l.value):Z))),{collection:d}=ze(e),i=ft(),r=Je(),{relation:u,relatedCollection:p,relatedPrimaryKeyField:f}=_e(),{usesMenu:_,menuActive:v}=me(),{info:y}=rt(d),{selection:h,stageSelection:g,selectModalActive:b}=ne(),{displayTemplate:$,onPreviewClick:A,requiredFields:V}=ee(),{totalCount:T,loading:D,fetchItems:O,items:M}=oe(),{setCurrent:L,currentItem:j,loading:B,currentPrimaryKey:q}=J(),{edits:G,stageEdits:Q}=te(),ce=E(!1);return{t:n,collectionInfo:y,currentItem:j,displayTemplate:$,items:M,itemsLoading:D,loadingCurrent:B,menuActive:v,onPreviewClick:A,relatedCollection:p,relation:u,selection:h,selectModalActive:b,setCurrent:L,totalCount:T,stageSelection:g,useMenu:me,currentPrimaryKey:q,edits:G,stageEdits:Q,editModalActive:ce,relatedPrimaryKeyField:f,customFilter:a};function J(){const Z=E(null),se=E(!1);ge(()=>e.value,async H=>{var le;H!==null&&H!==((le=Z.value)==null?void 0:le[f.value.field])&&(typeof H=="string"||typeof H=="number")?ve(H):H===null?Z.value=null:!Z.value&&typeof H=="object"&&(H[f.value.field]?(await ve(H[f.value.field]),Z.value&&Object.assign(Z.value,H)):Z.value=H)},{immediate:!0});const X=F(()=>{var H,le,ie;return!Z.value||!e.value||!f.value?"+":typeof e.value=="number"||typeof e.value=="string"?e.value:typeof e.value=="object"&&f.value.field in((H=e.value)!=null?H:{})&&(ie=(le=e.value)==null?void 0:le[f.value.field])!=null?ie:"+"});return{setCurrent:re,currentItem:Z,loading:se,currentPrimaryKey:X};function re(H){!f.value||(Z.value=H,t("input",H[f.value.field]))}async function ve(H){if(!f.value||!p.value)return;se.value=!0;const le=V.value||[];le.includes(f.value.field)===!1&&le.push(f.value.field);try{const ie=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}/${H}`:`/items/${p.value.collection}/${encodeURIComponent(H)}`,de=await pe.get(ie,{params:{fields:le}});Z.value=de.data.data}catch(ie){Ie(ie)}finally{se.value=!1}}}function oe(){const Z=E(null),se=E(null),X=E(!1);return ge(p,()=>{ve(),se.value=null}),{totalCount:Z,fetchItems:re,items:se,loading:X};async function re(){if(se.value!==null||!p.value||!f.value)return;X.value=!0;const H=V.value||[];H.includes(f.value.field)===!1&&H.push(f.value.field);try{const le=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,ie=await pe.get(le,{params:{fields:H,limit:-1}});se.value=ie.data.data}catch(le){Ie(le)}finally{X.value=!1}}async function ve(){if(!p.value)return;const H=p.value.collection.startsWith("directus_")?`/${p.value.collection.substring(9)}`:`/items/${p.value.collection}`,le=await pe.get(H,{params:{limit:0,meta:"total_count"}});Z.value=le.data.meta.total_count}}function _e(){const Z=F(()=>{var ve;return(ve=i.getRelationsForField(e.collection,e.field))==null?void 0:ve[0]}),se=F(()=>{var ve;return((ve=Z.value)==null?void 0:ve.related_collection)?r.getCollection(Z.value.related_collection):null}),X=F(()=>{var ve,H;return(H=(ve=se.value)==null?void 0:ve.collection)!=null?H:null}),{primaryKeyField:re}=rt(X);return{relation:Z,relatedCollection:se,relatedPrimaryKeyField:re}}function me(){const Z=E(!1),se=F(()=>e.selectMode==="modal"?!1:e.selectMode==="dropdown"||T.value!==null&&T.value<=100);return{menuActive:Z,usesMenu:se}}function ee(){const Z=F(()=>{var re,ve,H;return e.template!==null?e.template:((ve=(re=y.value)==null?void 0:re.meta)==null?void 0:ve.display_template)||`{{ ${((H=f==null?void 0:f.value)==null?void 0:H.field)||""} }}`}),se=F(()=>!Z.value||!p.value?null:dn(St(Z.value),p.value.collection));return{onPreviewClick:X,displayTemplate:Z,requiredFields:se};function X(){if(!e.disabled)if(_.value===!0){const re=!v.value;v.value=re,re===!0&&O()}else b.value=!0}}function ne(){const Z=E(!1);return{selection:F(()=>{var re;return e.value?f.value?typeof e.value=="object"&&f.value.field in((re=e.value)!=null?re:{})?[e.value[f.value.field]]:typeof e.value=="string"||typeof e.value=="number"?[e.value]:[]:[]:[]}),stageSelection:X,selectModalActive:Z};function X(re){re.length===0?t("input",null):t("input",re[0])}}function te(){return{edits:F(()=>e.value&&typeof e.value=="object"?e.value:{}),stageEdits:se};function se(X){!f.value||(q.value&&q.value!=="+"?t("input",fe({[f.value.field]:q.value},X)):(f.value.field in X&&X[f.value.field]==="+"&&delete X[f.value.field],t("input",X)),j.value=N.exports.merge({},j.value,X))}}}}),EX={key:2,class:"many-to-one"},DX={class:"preview"};function TX(e,t,n,l,a,d){var A;const i=c("v-notice"),r=c("v-skeleton-loader"),u=c("render-template"),p=c("v-icon"),f=c("v-input"),_=c("v-list-item-content"),v=c("v-list-item"),y=c("v-list"),h=c("v-menu"),g=c("drawer-item"),b=c("drawer-collection"),$=$e("tooltip");return e.relation?e.displayTemplate?(m(),I("div",EX,[o(h,{modelValue:e.menuActive,"onUpdate:modelValue":t[3]||(t[3]=V=>e.menuActive=V),attached:"",disabled:e.disabled},{activator:s(({active:V})=>[e.loadingCurrent?(m(),C(r,{key:0,type:"input"})):(m(),C(f,{key:1,active:V,clickable:"",placeholder:e.t("select_an_item"),disabled:e.disabled,onClick:e.onPreviewClick},ot({_:2},[e.currentItem?{name:"input",fn:s(()=>[S("div",DX,[o(u,{collection:e.relatedCollection.collection,item:e.currentItem,template:e.displayTemplate},null,8,["collection","item","template"])])])}:void 0,e.disabled?void 0:{name:"append",fn:s(()=>[e.currentItem?(m(),I(ae,{key:0},[x(o(p,{name:"open_in_new",class:"edit",onClick:t[0]||(t[0]=De(T=>e.editModalActive=!0,["stop"]))},null,512),[[$,e.t("edit")]]),x(o(p,{name:"close",class:"deselect",onClick:t[1]||(t[1]=De(T=>e.$emit("input",null),["stop"]))},null,512),[[$,e.t("deselect")]])],64)):(m(),I(ae,{key:1},[x(o(p,{class:"add",name:"add",onClick:t[2]||(t[2]=De(T=>e.editModalActive=!0,["stop"]))},null,512),[[$,e.t("create_item")]]),o(p,{class:ue(["expand",{active:V}]),name:"expand_more"},null,8,["class"])],64))])}]),1032,["active","placeholder","disabled","onClick"]))]),default:s(()=>[o(y,null,{default:s(()=>[e.itemsLoading?(m(),I(ae,{key:0},we(10,V=>o(v,{key:`loader-${V}`},{default:s(()=>[o(_,null,{default:s(()=>[o(r,{type:"text"})]),_:1})]),_:2},1024)),64)):(m(!0),I(ae,{key:1},we(e.items,V=>(m(),C(v,{key:V[e.relatedPrimaryKeyField.field],active:e.value===V[e.relatedPrimaryKeyField.field],clickable:"",onClick:T=>e.setCurrent(V)},{default:s(()=>[o(_,null,{default:s(()=>[o(u,{collection:e.relatedCollection.collection,template:e.displayTemplate,item:V},null,8,["collection","template","item"])]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e.disabled?R("",!0):(m(),C(g,{key:0,active:e.editModalActive,"onUpdate:active":t[4]||(t[4]=V=>e.editModalActive=V),collection:e.relatedCollection.collection,"primary-key":e.currentPrimaryKey,edits:e.edits,"circular-field":(A=e.relation.meta)==null?void 0:A.one_field,onInput:e.stageEdits},null,8,["active","collection","primary-key","edits","circular-field","onInput"])),e.disabled?R("",!0):(m(),C(b,{key:1,active:e.selectModalActive,"onUpdate:active":t[5]||(t[5]=V=>e.selectModalActive=V),collection:e.relatedCollection.collection,selection:e.selection,filter:e.customFilter,onInput:e.stageSelection},null,8,["active","collection","selection","filter","onInput"]))])):(m(),C(i,{key:1,type:"warning"},{default:s(()=>[P(w(e.t("display_template_not_setup")),1)]),_:1})):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("relationship_not_setup")),1)]),_:1}))}var PX=z(IX,[["render",TX],["__scopeId","data-v-1b0c186d"]]),OX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="M120.966 28a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068z"
		fill="var(--primary)" />
</svg>
`,LX=qe({id:"select-dropdown-m2o",name:"$t:interfaces.select-dropdown-m2o.many-to-one",description:"$t:interfaces.select-dropdown-m2o.description",icon:"arrow_right_alt",component:PX,types:["uuid","string","text","integer","bigInteger"],relational:!0,localTypes:["m2o"],group:"relational",options:({relations:e})=>{var n;const t=(n=e.m2o)==null?void 0:n.related_collection;return[{field:"template",name:"$t:interfaces.select-dropdown-m2o.display_template",meta:{interface:"system-display-template",options:{collectionName:t}}},{field:"filter",name:"$t:filter",type:"json",meta:{interface:"system-filter",options:{collectionName:t}}}]},recommendedDisplays:["related-values"],preview:OX}),jX=Object.freeze(Object.defineProperty({__proto__:null,default:LX},Symbol.toStringTag,{value:"Module"})),Ms=[{name:"action",icons:["123","3d_rotation","abc","accessibility","accessibility_new","accessible","accessible_forward","account_balance","account_balance_wallet","account_box","account_circle","add_card","add_shopping_cart","add_task","add_to_drive","addchart","admin_panel_settings","ads_click","alarm","alarm_add","alarm_off","alarm_on","all_inbox","all_out","analytics","anchor","android","announcement","api","app_blocking","app_shortcut","arrow_circle_down","arrow_circle_left","arrow_circle_right","arrow_circle_up","arrow_right_alt","article","aspect_ratio","assessment","assignment","assignment_ind","assignment_late","assignment_return","assignment_returned","assignment_turned_in","assured_workload","autorenew","backup","backup_table","balance","batch_prediction","book","book_online","bookmark","bookmark_add","bookmark_added","bookmark_border","bookmark_remove","bookmarks","browse_gallery","bug_report","build","build_circle","cached","calendar_month","calendar_today","calendar_view_day","calendar_view_month","calendar_view_week","camera_enhance","cancel_schedule_send","card_giftcard","card_membership","card_travel","change_history","check_circle","check_circle_outline","chrome_reader_mode","circle_notifications","class","close_fullscreen","code","code_off","comment_bank","commit","commute","compare_arrows","compress","contact_page","contact_support","contactless","copyright","credit_card","credit_card_off","css","currency_exchange","dangerous","dashboard","dashboard_customize","data_exploration","data_thresholding","date_range","delete","delete_forever","delete_outline","density_large","density_medium","density_small","description","disabled_by_default","disabled_visible","display_settings","dns","done","done_all","done_outline","donut_large","donut_small","drag_indicator","dynamic_form","edit_calendar","edit_off","eject","euro_symbol","event","event_repeat","event_seat","exit_to_app","expand","explore","explore_off","extension","extension_off","face","fact_check","favorite","favorite_border","fax","feedback","file_present","filter_alt","filter_alt_off","find_in_page","find_replace","fingerprint","fit_screen","flaky","flight_land","flight_takeoff","flip_to_back","flip_to_front","flutter_dash","free_cancellation","g_translate","gavel","generating_tokens","get_app","gif","gif_box","grade","grading","group_work","help","help_center","help_outline","hide_source","highlight_alt","highlight_off","history","history_toggle_off","hls","hls_off","home","horizontal_split","hotel_class","hourglass_disabled","hourglass_empty","hourglass_full","html","http","https","important_devices","info","input","install_desktop","install_mobile","integration_instructions","invert_colors","javascript","join_full","join_inner","join_left","join_right","label","label_important","label_off","language","launch","leaderboard","lightbulb","line_style","line_weight","list","lock","lock_clock","lock_open","lock_reset","login","logout","loyalty","manage_accounts","mark_as_unread","markunread_mailbox","maximize","mediation","minimize","model_training","network_ping","new_label","next_plan","nightlight_round","no_accounts","not_accessible","not_started","note_add","offline_bolt","offline_pin","online_prediction","opacity","open_in_browser","open_in_full","open_in_new","open_in_new_off","open_with","outbound","outbox","outlet","output","pageview","paid","pan_tool","pan_tool_alt","payment","pending","pending_actions","percent","perm_camera_mic","perm_contact_calendar","perm_data_setting","perm_device_information","perm_identity","perm_media","perm_phone_msg","perm_scan_wifi","pets","php","picture_in_picture","picture_in_picture_alt","pin_end","pin_invoke","pinch","plagiarism","play_for_work","polymer","power_settings_new","pregnant_woman","preview","print","privacy_tip","private_connectivity","production_quantity_limits","published_with_changes","query_builder","question_answer","question_mark","quickreply","receipt","record_voice_over","redeem","remove_done","remove_shopping_cart","reorder","report_problem","request_page","restore","restore_from_trash","restore_page","rocket","rocket_launch","room","rounded_corner","rowing","rule","satellite_alt","saved_search","savings","schedule","schedule_send","search","search_off","segment","send_and_archive","sensors","sensors_off","settings","settings_accessibility","settings_applications","settings_backup_restore","settings_bluetooth","settings_brightness","settings_cell","settings_ethernet","settings_input_antenna","settings_input_component","settings_input_composite","settings_input_hdmi","settings_input_svideo","settings_overscan","settings_phone","settings_power","settings_remote","settings_voice","shop","shop_2","shop_two","shopping_bag","shopping_basket","shopping_cart","shopping_cart_checkout","smart_button","source","space_dashboard","speaker_notes","speaker_notes_off","spellcheck","star_rate","stars","sticky_note_2","store","subject","subtitles_off","supervised_user_circle","supervisor_account","support","swap_horiz","swap_horizontal_circle","swap_vert","swap_vertical_circle","swipe","swipe_down","swipe_down_alt","swipe_left","swipe_left_alt","swipe_right","swipe_right_alt","swipe_up","swipe_up_alt","swipe_vertical","switch_access_shortcut","switch_access_shortcut_add","sync_alt","system_update_alt","tab","tab_unselected","table_view","task_alt","terminal","text_rotate_up","text_rotate_vertical","text_rotation_angledown","text_rotation_angleup","text_rotation_down","text_rotation_none","theaters","thumb_down","thumb_down_off_alt","thumb_up","thumb_up_off_alt","thumbs_up_down","timeline","tips_and_updates","toc","today","token","toll","touch_app","tour","track_changes","translate","trending_down","trending_flat","trending_up","try","turned_in","turned_in_not","unpublished","update","update_disabled","upgrade","verified","verified_user","vertical_split","view_agenda","view_array","view_carousel","view_column","view_comfy_alt","view_compact_alt","view_cozy","view_day","view_headline","view_in_ar","view_kanban","view_list","view_module","view_quilt","view_sidebar","view_stream","view_timeline","view_week","visibility","visibility_off","voice_over_off","watch_later","webhook","wifi_protected_setup","work","work_off","work_outline","wysiwyg","youtube_searched_for","zoom_in","zoom_out"]},{name:"alert",icons:["add_alert","auto_delete","error","error_outline","notification_important","warning","warning_amber"]},{name:"av",icons:["10k","1k","1k_plus","2k","2k_plus","3k","3k_plus","4k","4k_plus","5g","5k","5k_plus","6k","6k_plus","7k","7k_plus","8k","8k_plus","9k","9k_plus","add_to_queue","airplay","album","art_track","audio_file","av_timer","branding_watermark","call_to_action","closed_caption","closed_caption_disabled","closed_caption_off","control_camera","equalizer","explicit","fast_forward","fast_rewind","featured_play_list","featured_video","fiber_dvr","fiber_manual_record","fiber_new","fiber_pin","fiber_smart_record","forward_10","forward_30","forward_5","games","hd","hearing","hearing_disabled","high_quality","interpreter_mode","library_add","library_add_check","library_books","library_music","loop","mic","mic_none","mic_off","missed_video_call","movie","music_video","new_releases","not_interested","note","pause","pause_circle","pause_circle_filled","pause_circle_outline","play_arrow","play_circle","play_circle_filled","play_circle_outline","play_disabled","playlist_add","playlist_add_check","playlist_add_check_circle","playlist_add_circle","playlist_play","playlist_remove","queue","queue_music","queue_play_next","radio","recent_actors","remove_from_queue","repeat","repeat_on","repeat_one","repeat_one_on","replay","replay_10","replay_30","replay_5","replay_circle_filled","sd","shuffle","shuffle_on","skip_next","skip_previous","slow_motion_video","snooze","sort_by_alpha","speed","stop","stop_circle","subscriptions","subtitles","surround_sound","video_call","video_file","video_label","video_library","video_settings","videocam","videocam_off","volume_down","volume_mute","volume_off","volume_up","web","web_asset","web_asset_off"]},{name:"communication",icons:["3p","add_ic_call","alternate_email","app_registration","business","call","call_end","call_made","call_merge","call_missed","call_missed_outgoing","call_received","call_split","cancel_presentation","cell_tower","cell_wifi","chat","chat_bubble","chat_bubble_outline","clear_all","co_present","comment","comments_disabled","contact_mail","contact_phone","contacts","desktop_access_disabled","dialer_sip","dialpad","document_scanner","domain_disabled","domain_verification","duo","email","forum","forward_to_inbox","hourglass_bottom","hourglass_top","hub","import_contacts","import_export","invert_colors_off","key","key_off","list_alt","live_help","location_off","location_on","mail_outline","mark_chat_read","mark_chat_unread","mark_email_read","mark_email_unread","mark_unread_chat_alt","message","mobile_screen_share","more_time","nat","no_sim","pause_presentation","person_add_disabled","person_search","phone","phone_disabled","phone_enabled","phonelink_erase","phonelink_lock","phonelink_ring","phonelink_setup","portable_wifi_off","present_to_all","print_disabled","qr_code","qr_code_2","qr_code_scanner","read_more","ring_volume","rss_feed","rtt","screen_share","send_time_extension","sentiment_satisfied_alt","sip","speaker_phone","spoke","stay_current_landscape","stay_current_portrait","stay_primary_landscape","stay_primary_portrait","stop_screen_share","swap_calls","textsms","unsubscribe","voicemail","vpn_key","vpn_key_off","wifi_calling"]},{name:"content",icons:["add","add_box","add_circle","add_circle_outline","add_link","archive","attribution","backspace","ballot","biotech","block","bolt","calculate","change_circle","clear","content_copy","content_cut","content_paste","content_paste_go","content_paste_off","content_paste_search","copy_all","create","delete_sweep","deselect","drafts","dynamic_feed","file_copy","filter_list","filter_list_off","flag","flag_circle","font_download","font_download_off","forward","gesture","how_to_reg","how_to_vote","inbox","insights","inventory","inventory_2","link","link_off","low_priority","mail","markunread","move_to_inbox","next_week","outlined_flag","policy","push_pin","redo","remove","remove_circle","remove_circle_outline","reply","reply_all","report","report_gmailerrorred","report_off","save","save_alt","save_as","select_all","send","shield","sort","square_foot","stacked_bar_chart","stream","tag","text_format","unarchive","undo","upcoming","waves","weekend","where_to_vote"]},{name:"device",icons:["1x_mobiledata","30fps","3g_mobiledata","4g_mobiledata","4g_plus_mobiledata","60fps","access_alarm","access_alarms","access_time","access_time_filled","ad_units","add_alarm","add_to_home_screen","air","airplane_ticket","airplanemode_active","airplanemode_inactive","aod","battery_alert","battery_charging_full","battery_full","battery_saver","battery_std","battery_unknown","bloodtype","bluetooth","bluetooth_connected","bluetooth_disabled","bluetooth_drive","bluetooth_searching","brightness_auto","brightness_high","brightness_low","brightness_medium","cable","cameraswitch","credit_score","dark_mode","data_saver_off","data_saver_on","data_usage","developer_mode","device_thermostat","devices","discount","do_not_disturb_on_total_silence","dvr","e_mobiledata","edgesensor_high","edgesensor_low","flashlight_off","flashlight_on","flourescent","fmd_bad","fmd_good","g_mobiledata","gpp_bad","gpp_good","gpp_maybe","gps_fixed","gps_not_fixed","gps_off","graphic_eq","grid_3x3","grid_4x4","grid_goldenratio","h_mobiledata","h_plus_mobiledata","hdr_auto","hdr_auto_select","hdr_off_select","hdr_on_select","lan","lens_blur","light_mode","location_disabled","location_searching","lte_mobiledata","lte_plus_mobiledata","media_bluetooth_off","media_bluetooth_on","medication","medication_liquid","mobile_friendly","mobile_off","mobiledata_off","mode_night","mode_standby","monitor_heart","monitor_weight","nearby_error","nearby_off","network_cell","network_wifi","nfc","nightlight","note_alt","password","pattern","phishing","pin","play_lesson","price_change","price_check","punch_clock","quiz","r_mobiledata","radar","remember_me","reset_tv","restart_alt","reviews","rsvp","screen_lock_landscape","screen_lock_portrait","screen_lock_rotation","screen_rotation","screen_search_desktop","screenshot","sd_storage","security_update","security_update_good","security_update_warning","sell","send_to_mobile","settings_suggest","settings_system_daydream","share_location","shortcut","signal_cellular_0_bar","signal_cellular_4_bar","signal_cellular_alt","signal_cellular_connected_no_internet_0_bar","signal_cellular_connected_no_internet_4_bar","signal_cellular_no_sim","signal_cellular_nodata","signal_cellular_null","signal_cellular_off","signal_wifi_0_bar","signal_wifi_4_bar","signal_wifi_4_bar_lock","signal_wifi_bad","signal_wifi_connected_no_internet_4","signal_wifi_off","signal_wifi_statusbar_4_bar","signal_wifi_statusbar_connected_no_internet_4","signal_wifi_statusbar_null","sim_card_download","splitscreen","sports_score","ssid_chart","storage","storm","summarize","system_security_update","system_security_update_good","system_security_update_warning","task","thermostat","timer_10_select","timer_3_select","tungsten","usb","usb_off","wallpaper","water","widgets","wifi_calling_3","wifi_channel","wifi_find","wifi_lock","wifi_password","wifi_tethering","wifi_tethering_error","wifi_tethering_off"]},{name:"editor",icons:["add_chart","add_comment","align_horizontal_center","align_horizontal_left","align_horizontal_right","align_vertical_bottom","align_vertical_center","align_vertical_top","area_chart","attach_file","attach_money","auto_graph","bar_chart","border_all","border_bottom","border_clear","border_color","border_horizontal","border_inner","border_left","border_outer","border_right","border_style","border_top","border_vertical","bubble_chart","candlestick_chart","checklist","checklist_rtl","data_array","data_object","drag_handle","draw","edit_note","format_align_center","format_align_justify","format_align_left","format_align_right","format_bold","format_clear","format_color_fill","format_color_reset","format_color_text","format_indent_decrease","format_indent_increase","format_italic","format_line_spacing","format_list_bulleted","format_list_numbered","format_list_numbered_rtl","format_paint","format_quote","format_shapes","format_size","format_strikethrough","format_textdirection_l_to_r","format_textdirection_r_to_l","format_underlined","functions","height","hexagon","highlight","horizontal_distribute","horizontal_rule","insert_chart","insert_chart_outlined","insert_comment","insert_drive_file","insert_emoticon","insert_invitation","insert_link","insert_page_break","insert_photo","line_axis","linear_scale","margin","merge_type","mode","mode_comment","mode_edit","mode_edit_outline","monetization_on","money_off","money_off_csred","move_down","move_up","multiline_chart","notes","numbers","padding","pentagon","pie_chart","pie_chart_outline","polyline","post_add","publish","query_stats","rectangle","scatter_plot","schema","score","short_text","show_chart","space_bar","square","stacked_line_chart","strikethrough_s","subscript","superscript","table_chart","table_rows","text_decrease","text_fields","text_increase","title","vertical_align_bottom","vertical_align_center","vertical_align_top","vertical_distribute","wrap_text"]},{name:"file",icons:["approval","attach_email","attachment","cloud","cloud_circle","cloud_done","cloud_download","cloud_off","cloud_queue","cloud_sync","cloud_upload","create_new_folder","difference","download","download_done","download_for_offline","downloading","drive_file_move","drive_file_move_rtl","drive_file_rename_outline","drive_folder_upload","file_download","file_download_done","file_download_off","file_open","file_upload","folder","folder_copy","folder_delete","folder_off","folder_open","folder_shared","folder_zip","format_overline","grid_view","newspaper","request_quote","rule_folder","snippet_folder","text_snippet","topic","upload","upload_file","workspaces"]},{name:"hardware",icons:["adf_scanner","browser_not_supported","browser_updated","cast","cast_connected","cast_for_education","computer","connected_tv","desktop_mac","desktop_windows","developer_board","developer_board_off","device_hub","device_unknown","devices_other","dock","earbuds","earbuds_battery","gamepad","headphones","headphones_battery","headset","headset_mic","headset_off","home_max","home_mini","keyboard","keyboard_alt","keyboard_arrow_down","keyboard_arrow_left","keyboard_arrow_right","keyboard_arrow_up","keyboard_backspace","keyboard_capslock","keyboard_command_key","keyboard_control_key","keyboard_double_arrow_down","keyboard_double_arrow_left","keyboard_double_arrow_right","keyboard_double_arrow_up","keyboard_hide","keyboard_option_key","keyboard_return","keyboard_tab","keyboard_voice","laptop","laptop_chromebook","laptop_mac","laptop_windows","memory","monitor","mouse","phone_android","phone_iphone","phonelink","phonelink_off","point_of_sale","power_input","router","scanner","security","sim_card","smart_display","smart_screen","smart_toy","smartphone","speaker","speaker_group","start","tablet","tablet_android","tablet_mac","toys","tv","videogame_asset","videogame_asset_off","watch","watch_off"]},{name:"home",icons:["sensor_door","sensor_window","shield_moon"]},{name:"image",icons:["10mp","11mp","12mp","13mp","14mp","15mp","16mp","17mp","18mp","19mp","20mp","21mp","22mp","23mp","24mp","2mp","30fps_select","3mp","4mp","5mp","60fps_select","6mp","7mp","8mp","9mp","add_a_photo","add_photo_alternate","add_to_photos","adjust","animation","assistant","assistant_photo","audiotrack","auto_awesome","auto_awesome_mosaic","auto_awesome_motion","auto_fix_high","auto_fix_normal","auto_fix_off","auto_stories","autofps_select","bedtime","bedtime_off","blur_circular","blur_linear","blur_off","blur_on","brightness_1","brightness_2","brightness_3","brightness_4","brightness_5","brightness_6","brightness_7","broken_image","brush","burst_mode","camera","camera_alt","camera_front","camera_rear","camera_roll","cases","center_focus_strong","center_focus_weak","circle","collections","collections_bookmark","color_lens","colorize","compare","contrast","control_point","control_point_duplicate","crop","crop_16_9","crop_3_2","crop_5_4","crop_7_5","crop_din","crop_free","crop_landscape","crop_original","crop_portrait","crop_rotate","crop_square","currency_bitcoin","currency_franc","currency_lira","currency_pound","currency_ruble","currency_rupee","currency_yen","currency_yuan","deblur","dehaze","details","dirty_lens","edit","euro","exposure","exposure_neg_1","exposure_neg_2","exposure_plus_1","exposure_plus_2","exposure_zero","face_retouching_natural","face_retouching_off","filter","filter_1","filter_2","filter_3","filter_4","filter_5","filter_6","filter_7","filter_8","filter_9","filter_9_plus","filter_b_and_w","filter_center_focus","filter_drama","filter_frames","filter_hdr","filter_none","filter_tilt_shift","filter_vintage","flare","flash_auto","flash_off","flash_on","flip","flip_camera_android","flip_camera_ios","gradient","grain","grid_off","grid_on","hdr_enhanced_select","hdr_off","hdr_on","hdr_plus","hdr_strong","hdr_weak","healing","hevc","hide_image","image","image_aspect_ratio","image_not_supported","image_search","incomplete_circle","iso","landscape","leak_add","leak_remove","lens","linked_camera","logo_dev","looks","looks_3","looks_4","looks_5","looks_6","looks_one","looks_two","loupe","mic_external_off","mic_external_on","monochrome_photos","motion_photos_auto","motion_photos_off","motion_photos_on","motion_photos_pause","motion_photos_paused","movie_creation","movie_filter","mp","music_note","music_off","nature","nature_people","navigate_before","navigate_next","palette","panorama","panorama_fish_eye","panorama_horizontal","panorama_horizontal_select","panorama_photosphere","panorama_photosphere_select","panorama_vertical","panorama_vertical_select","panorama_wide_angle","panorama_wide_angle_select","photo","photo_album","photo_camera","photo_camera_back","photo_camera_front","photo_filter","photo_library","photo_size_select_actual","photo_size_select_large","photo_size_select_small","picture_as_pdf","portrait","raw_off","raw_on","receipt_long","remove_red_eye","rotate_90_degrees_ccw","rotate_90_degrees_cw","rotate_left","rotate_right","shutter_speed","slideshow","straighten","style","switch_camera","switch_video","tag_faces","texture","thermostat_auto","timelapse","timer","timer_10","timer_3","timer_off","tonality","transform","tune","video_camera_back","video_camera_front","video_stable","view_comfy","view_compact","vignette","vrpano","wb_auto","wb_cloudy","wb_incandescent","wb_iridescent","wb_shade","wb_sunny","wb_twilight"]},{name:"maps",icons:["360","add_business","add_location","add_location_alt","add_road","agriculture","airline_stops","airlines","alt_route","atm","attractions","badge","bakery_dining","beenhere","bike_scooter","breakfast_dining","brunch_dining","bus_alert","car_rental","car_repair","castle","category","celebration","church","cleaning_services","compass_calibration","connecting_airports","delivery_dining","departure_board","design_services","diamond","dinner_dining","directions","directions_bike","directions_boat","directions_boat_filled","directions_bus","directions_bus_filled","directions_car","directions_car_filled","directions_railway","directions_railway_filled","directions_run","directions_subway","directions_subway_filled","directions_transit","directions_transit_filled","directions_walk","dry_cleaning","edit_attributes","edit_location","edit_location_alt","edit_road","egg","egg_alt","electric_bike","electric_car","electric_moped","electric_rickshaw","electric_scooter","electrical_services","emergency","ev_station","factory","fastfood","festival","flight","flight_class","forest","fork_left","fork_right","fort","hail","handyman","hardware","home_repair_service","hotel","hvac","icecream","kebab_dining","layers","layers_clear","liquor","local_activity","local_airport","local_atm","local_bar","local_cafe","local_car_wash","local_convenience_store","local_dining","local_drink","local_fire_department","local_florist","local_gas_station","local_grocery_store","local_hospital","local_hotel","local_laundry_service","local_library","local_mall","local_movies","local_offer","local_parking","local_pharmacy","local_phone","local_pizza","local_play","local_police","local_post_office","local_printshop","local_see","local_shipping","local_taxi","lunch_dining","map","maps_ugc","medical_services","menu_book","merge","miscellaneous_services","mode_of_travel","money","moped","mosque","moving","multiple_stop","museum","my_location","navigation","near_me","near_me_disabled","nightlife","no_meals","no_transfer","not_listed_location","park","pedal_bike","person_pin","person_pin_circle","pest_control","pest_control_rodent","pin_drop","place","plumbing","railway_alert","ramen_dining","ramp_left","ramp_right","rate_review","restaurant","restaurant_menu","roundabout_left","roundabout_right","route","run_circle","sailing","satellite","set_meal","signpost","snowmobile","soup_kitchen","stadium","store_mall_directory","straight","streetview","subway","synagogue","takeout_dining","taxi_alert","temple_buddhist","temple_hindu","terrain","theater_comedy","tire_repair","traffic","train","tram","transfer_within_a_station","transit_enterexit","trip_origin","turn_left","turn_right","turn_sharp_left","turn_sharp_right","turn_slight_left","turn_slight_right","two_wheeler","u_turn_left","u_turn_right","volunteer_activism","warehouse","wine_bar","wrong_location","zoom_in_map","zoom_out_map"]},{name:"navigation",icons:["app_settings_alt","apps","apps_outage","arrow_back","arrow_back_ios","arrow_back_ios_new","arrow_downward","arrow_drop_down","arrow_drop_down_circle","arrow_drop_up","arrow_forward","arrow_forward_ios","arrow_left","arrow_right","arrow_upward","assistant_direction","campaign","cancel","check","chevron_left","chevron_right","close","double_arrow","east","expand_circle_down","expand_less","expand_more","first_page","fullscreen","fullscreen_exit","home_work","last_page","legend_toggle","maps_home_work","menu","menu_open","more_horiz","more_vert","north","north_east","north_west","offline_share","payments","pivot_table_chart","refresh","south","south_east","south_west","subdirectory_arrow_left","subdirectory_arrow_right","switch_left","switch_right","unfold_less","unfold_more","waterfall_chart","west"]},{name:"notification",icons:["account_tree","adb","airline_seat_flat","airline_seat_flat_angled","airline_seat_individual_suite","airline_seat_legroom_extra","airline_seat_legroom_normal","airline_seat_legroom_reduced","airline_seat_recline_extra","airline_seat_recline_normal","bluetooth_audio","confirmation_number","directions_off","disc_full","do_disturb","do_disturb_alt","do_disturb_off","do_disturb_on","do_not_disturb","do_not_disturb_alt","do_not_disturb_off","do_not_disturb_on","drive_eta","enhanced_encryption","event_available","event_busy","event_note","folder_special","imagesearch_roller","live_tv","mms","more","network_check","network_locked","no_encryption","no_encryption_gmailerrorred","ondemand_video","personal_video","phone_bluetooth_speaker","phone_callback","phone_forwarded","phone_in_talk","phone_locked","phone_missed","phone_paused","power","power_off","priority_high","running_with_errors","sd_card","sd_card_alert","sim_card_alert","sms","sms_failed","support_agent","sync","sync_disabled","sync_lock","sync_problem","system_update","tap_and_play","time_to_leave","tv_off","vibration","voice_chat","vpn_lock","wc","wifi","wifi_off"]},{name:"places",icons:["ac_unit","airport_shuttle","all_inclusive","apartment","baby_changing_station","backpack","balcony","bathtub","beach_access","bento","bungalow","business_center","cabin","carpenter","casino","chalet","charging_station","checkroom","child_care","child_friendly","corporate_fare","cottage","countertops","crib","do_not_step","do_not_touch","dry","elevator","escalator","escalator_warning","family_restroom","fence","fire_extinguisher","fitness_center","food_bank","foundation","free_breakfast","gite","golf_course","grass","holiday_village","hot_tub","house","house_siding","houseboat","iron","kitchen","meeting_room","microwave","night_shelter","no_backpack","no_cell","no_drinks","no_flash","no_food","no_meeting_room","no_photography","no_stroller","other_houses","pool","rice_bowl","roofing","room_preferences","room_service","rv_hookup","smoke_free","smoking_rooms","soap","spa","sports_bar","stairs","storefront","stroller","tapas","tty","umbrella","vape_free","vaping_rooms","villa","wash","water_damage","wheelchair_pickup"]},{name:"search",icons:["bathroom","bed","bedroom_baby","bedroom_child","bedroom_parent","blender","camera_indoor","camera_outdoor","chair","chair_alt","coffee","coffee_maker","dining","door_back","door_front","door_sliding","doorbell","feed","flatware","garage","light","living","manage_search","podcasts","shower","table_bar","table_restaurant","window","yard"]},{name:"social",icons:["6_ft_apart","add_moderator","add_reaction","architecture","back_hand","boy","cake","catching_pokemon","clean_hands","co2","compost","connect_without_contact","construction","cookie","coronavirus","cruelty_free","deck","domain","domain_add","downhill_skiing","edit_notifications","elderly","elderly_woman","emoji_emotions","emoji_events","emoji_food_beverage","emoji_nature","emoji_objects","emoji_people","emoji_symbols","emoji_transportation","engineering","female","fireplace","fitbit","follow_the_signs","front_hand","girl","group","group_add","group_off","group_remove","groups","handshake","health_and_safety","heart_broken","hiking","history_edu","hive","ice_skating","interests","ios_share","kayaking","king_bed","kitesurfing","location_city","luggage","male","man","masks","military_tech","mood","mood_bad","nights_stay","no_luggage","nordic_walking","notification_add","notifications","notifications_active","notifications_none","notifications_off","notifications_paused","outdoor_grill","pages","paragliding","party_mode","people","people_alt","people_outline","person","person_add","person_add_alt","person_add_alt_1","person_off","person_outline","person_remove","person_remove_alt_1","personal_injury","piano","piano_off","pix","plus_one","poll","precision_manufacturing","psychology","public","public_off","real_estate_agent","recommend","recycling","reduce_capacity","remove_moderator","roller_skating","safety_divider","sanitizer","scale","school","science","scoreboard","scuba_diving","self_improvement","sentiment_dissatisfied","sentiment_neutral","sentiment_satisfied","sentiment_very_dissatisfied","sentiment_very_satisfied","share","sick","single_bed","skateboarding","sledding","snowboarding","snowshoeing","social_distance","south_america","sports","sports_baseball","sports_basketball","sports_cricket","sports_esports","sports_football","sports_golf","sports_gymnastics","sports_handball","sports_hockey","sports_kabaddi","sports_martial_arts","sports_mma","sports_motorsports","sports_rugby","sports_soccer","sports_tennis","sports_volleyball","surfing","switch_account","thumb_down_alt","thumb_up_alt","transgender","travel_explore","vaccines","water_drop","waving_hand","whatsapp","whatshot","woman","workspace_premium"]},{name:"toggle",icons:["check_box","check_box_outline_blank","indeterminate_check_box","radio_button_checked","radio_button_unchecked","star","star_border","star_border_purple500","star_half","star_outline","star_purple500","toggle_off","toggle_on"]}];const RX=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},width:{type:String,default:"half"}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(""),a=F(()=>Ms.map(i=>{if(l.value.length===0)return i;const r=i.icons.filter(u=>u.includes(l.value.toLowerCase()));return Fe(fe({},i),{icons:r,length:r.length})}));return{t:n,icons:Ms,setIcon:d,searchQuery:l,filteredIcons:a,formatTitle:wt};function d(i){l.value="",t("input",i)}}}),MX={key:0,class:"icons"};function UX(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-divider"),p=c("v-menu");return m(),C(p,{attached:"",disabled:e.disabled},{activator:s(({active:f,activate:_})=>[o(r,{modelValue:e.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=v=>e.searchQuery=v),disabled:e.disabled,placeholder:e.value?e.formatTitle(e.value):e.t("interfaces.select-icon.search_for_icon"),class:ue({"has-value":e.value}),nullable:!1,onFocus:_},ot({append:s(()=>[e.value!==null?(m(),C(i,{key:0,clickable:"",name:"close",onClick:t[0]||(t[0]=v=>e.setIcon(null))})):(m(),C(i,{key:1,clickable:"",name:"expand_more",class:ue(["open-indicator",{open:f}]),onClick:_},null,8,["class","onClick"]))]),_:2},[e.value?{name:"prepend",fn:s(()=>[o(i,{clickable:"",name:e.value,class:ue({active:e.value}),onClick:_},null,8,["name","class","onClick"])])}:void 0]),1032,["modelValue","disabled","placeholder","class","onFocus"])]),default:s(()=>[S("div",{class:ue(["content",e.width])},[(m(!0),I(ae,null,we(e.filteredIcons,(f,_)=>(m(),I(ae,{key:f.name},[f.icons.length>0?(m(),I("div",MX,[(m(!0),I(ae,null,we(f.icons,v=>(m(),C(i,{key:v,name:v,class:ue({active:v===e.value}),clickable:"",onClick:y=>e.setIcon(v)},null,8,["name","class","onClick"]))),128))])):R("",!0),f.icons.length>0&&_!==e.filteredIcons.length-1?(m(),C(u,{key:1})):R("",!0)],64))),128))],2)]),_:1},8,["disabled"])}var NX=z(RX,[["render",UX],["__scopeId","data-v-80080b9a"]]),BX=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="13" width="120" height="70" rx="6" fill="var(--background-page)" />
	<rect x="19" y="14" width="118" height="68" rx="5" stroke="var(--primary)" stroke-opacity=".25" stroke-width="2" />
	<rect x="18" y="13" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="14" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="46" y="23" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M120.966 24a.4.4 0 00-.283.683l3.034 3.034a.4.4 0 00.566 0l3.034-3.034a.4.4 0 00-.283-.683h-6.068zM33 20.176A5.811 5.811 0 0027.176 26 5.811 5.811 0 0033 31.824 5.811 5.811 0 0038.824 26 5.811 5.811 0 0033 20.176zm0 10.5A4.691 4.691 0 0128.324 26 4.691 4.691 0 0133 21.324 4.691 4.691 0 0137.676 26 4.691 4.691 0 0133 30.676zm2.05-5.25a.9.9 0 00.876-.875.881.881 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.1 0c.491 0 .874-.41.874-.875a.864.864 0 00-.875-.875.881.881 0 00-.875.875.9.9 0 00.875.875zM33 29.199a3.2 3.2 0 002.98-2.023h-5.96A3.2 3.2 0 0033 29.199z"
		fill="var(--primary)" />
	<path
		d="M33 45.176A5.811 5.811 0 0027.176 51 5.811 5.811 0 0033 56.824 5.811 5.811 0 0038.824 51 5.811 5.811 0 0033 45.176zm0 10.5A4.691 4.691 0 0128.324 51 4.691 4.691 0 0133 46.324 4.691 4.691 0 0137.676 51 4.691 4.691 0 0133 55.676zm.3-7.602h-.874v3.5l3.062 1.86.438-.739-2.625-1.558v-3.063zM48.074 49.824c-1.285 0-2.324 1.067-2.324 2.352a2.322 2.322 0 002.324 2.324c1.285 0 2.352-1.04 2.352-2.324a2.37 2.37 0 00-2.352-2.352zm0 3.5c-.629 0-1.148-.52-1.148-1.148a1.161 1.161 0 112.324 0c0 .629-.52 1.148-1.176 1.148zm4.676-.574c-.957 0-1.75.793-1.75 1.75s.793 1.75 1.75 1.75 1.75-.793 1.75-1.75-.793-1.75-1.75-1.75zm0 2.324a.56.56 0 01-.574-.574.56.56 0 01.574-.574c.328 0 .602.246.602.574 0 .328-.274.574-.602.574zm.875-9.324c-1.777 0-3.2 1.45-3.2 3.2 0 1.777 1.423 3.226 3.2 3.226 1.777 0 3.2-1.45 3.2-3.227 0-1.75-1.423-3.199-3.2-3.199zm0 5.25a2.048 2.048 0 01-2.05-2.05c0-1.122.929-2.024 2.05-2.024 1.121 0 2.05.902 2.05 2.023 0 1.149-.929 2.051-2.05 2.051zM73.676 54.008l-.684-.684h-8.668v-7h9.352v7.684zm0-8.832h-9.352c-.629 0-1.148.52-1.148 1.148v7c0 .657.52 1.176 1.148 1.176H72.5l2.324 2.324v-10.5c0-.629-.52-1.148-1.148-1.148zM87 47.5a3.218 3.218 0 013.144 2.598l.165.875.902.054c.902.055 1.613.82 1.613 1.723 0 .957-.765 1.75-1.75 1.75H83.5a2.322 2.322 0 01-2.324-2.324c0-1.203.875-2.215 2.078-2.324l.602-.055.3-.574A3.178 3.178 0 0187 47.5zm0-1.176c-1.695 0-3.144.957-3.883 2.38-1.75.163-3.117 1.667-3.117 3.472 0 1.914 1.559 3.5 3.5 3.5h7.574A2.93 2.93 0 0094 52.75c0-1.531-1.203-2.79-2.707-2.898-.41-1.996-2.16-3.528-4.293-3.528z"
		fill="var(--primary)" fill-opacity=".25" />
	<path
		d="M105 45.176A5.811 5.811 0 0099.176 51 5.811 5.811 0 00105 56.824 5.811 5.811 0 00110.824 51 5.811 5.811 0 00105 45.176zm0 10.5c-2.57 0-4.676-2.106-4.676-4.676 0-2.57 2.106-4.676 4.676-4.676 2.57 0 4.676 2.106 4.676 4.676 0 2.57-2.106 4.676-4.676 4.676zm2.051-5.25a.9.9 0 00.875-.875.88.88 0 00-.875-.875.864.864 0 00-.875.875c0 .465.383.875.875.875zm-4.102 0c.492 0 .875-.41.875-.875a.864.864 0 00-.875-.875.88.88 0 00-.875.875.9.9 0 00.875.875zM105 54.199a3.199 3.199 0 002.98-2.023h-5.96a3.199 3.199 0 002.98 2.023z"
		fill="var(--primary)" />
	<path
		d="M123.219 47.5l.027.219.192.957h3.062v3.5h-1.969l-.027-.246-.192-.93h-4.238v-3.5h3.145zm.957-1.176h-5.25v9.926h1.148v-4.074h3.281l.219 1.148h4.102V47.5h-3.281l-.219-1.176zM31.414 63.625c-.957 4.402 2.188 7.246 4.457 8.04A4.643 4.643 0 0133 72.674 4.691 4.691 0 0128.324 68a4.623 4.623 0 013.09-4.375zM33 62.175c-3.254 0-5.824 2.653-5.824 5.825A5.811 5.811 0 0033 73.824a5.838 5.838 0 005.059-2.926c-4.375-.136-7.055-4.921-4.868-8.722H33zM55.95 62.75l-.083.027-3.117 1.203-3.5-1.23-3.281 1.121a.266.266 0 00-.219.273v8.805c0 .164.137.301.3.301l.083-.027 3.117-1.204 3.5 1.231 3.281-1.121a.266.266 0 00.219-.273V63.05c0-.164-.137-.301-.3-.301zm-6.126 1.45l2.352.82v6.78l-2.352-.82V64.2zm-2.898.573l1.75-.601v6.836l-1.75.683v-6.918zm8.148 6.454l-1.75.601v-6.836l1.75-.656v6.89zM72.856 64.856c-.848 0-1.641.328-2.215.902l-4.102 3.636c-.355.383-.848.575-1.395.575A1.96 1.96 0 0163.176 68a1.96 1.96 0 011.968-1.969c.547 0 1.04.192 1.422.602l.657.574.902-.766-.738-.656a3.143 3.143 0 00-2.243-.93A3.163 3.163 0 0062 68a3.163 3.163 0 003.144 3.144c.848 0 1.641-.328 2.215-.902l4.102-3.636c.355-.383.848-.575 1.395-.575A1.96 1.96 0 0174.824 68a1.96 1.96 0 01-1.968 1.969c-.52 0-1.04-.192-1.422-.602l-.684-.574-.875.766.738.656c.602.601 1.395.93 2.243.93A3.163 3.163 0 0076 68a3.145 3.145 0 00-3.144-3.144zM87 73.824c.629 0 1.176-.52 1.176-1.148h-2.352c0 .629.547 1.148 1.176 1.148zm3.5-3.5v-2.898c0-1.805-.957-3.309-2.625-3.692v-.41A.881.881 0 0087 62.45a.881.881 0 00-.875.875v.41c-1.668.383-2.625 1.887-2.625 3.692v2.898L82.324 71.5v.574h9.352V71.5L90.5 70.324zm-1.176.602h-4.648v-3.5c0-1.45.875-2.625 2.324-2.625 1.45 0 2.324 1.176 2.324 2.625v3.5zM110.824 66.387l-4.183-.356L105 62.176l-1.641 3.855-4.183.356 3.172 2.761-.957 4.102L105 71.062l3.609 2.188-.957-4.102 3.172-2.761zM105 69.997l-2.188 1.312.575-2.489-1.942-1.695 2.571-.219.984-2.351.984 2.351 2.571.219-1.942 1.695.575 2.489L105 69.996zM128.578 70.379l-.629-4.457a2.324 2.324 0 00-2.297-1.996h-5.304a2.324 2.324 0 00-2.297 1.996l-.629 4.457a1.463 1.463 0 001.449 1.695c.41 0 .793-.136 1.066-.437l1.313-1.313h3.5l1.312 1.313c.274.3.657.437 1.039.437.93 0 1.614-.793 1.477-1.695zm-1.203.437a.348.348 0 01-.246.11.344.344 0 01-.246-.11l-1.641-1.64h-4.484l-1.641 1.64a.348.348 0 01-.246.11.348.348 0 01-.246-.11c-.027-.054-.082-.136-.055-.273l.629-4.457a1.174 1.174 0 011.149-1.012h5.304c.574 0 1.067.438 1.149 1.012l.629 4.457c.027.137-.028.219-.055.273zm-6.125-5.14h-.574v1.148H119.5v.602h1.176v1.148h.574v-1.148h1.176v-.602h-1.176v-1.148zM125.324 68c0-.328.274-.574.602-.574.3 0 .574.246.574.574a.578.578 0 01-.574.574c-.328 0-.602-.246-.602-.574zm-1.148-1.75a.56.56 0 01.574-.574.56.56 0 01.574.574.56.56 0 01-.574.574.56.56 0 01-.574-.574z"
		fill="var(--primary)" fill-opacity=".25" />
</svg>
`,qX=qe({id:"select-icon",name:"$t:interfaces.select-icon.icon",description:"$t:interfaces.select-icon.description",icon:"insert_emoticon",component:NX,types:["string"],group:"selection",options:[],recommendedDisplays:["icon"],preview:BX}),zX=Object.freeze(Object.defineProperty({__proto__:null,default:qX},Symbol.toStringTag,{value:"Module"}));const KX=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"check_box"},iconOff:{type:String,default:"check_box_outline_blank"},color:{type:String,default:"var(--primary)"},itemsShown:{type:Number,default:8}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{choices:l,value:a}=ze(e),d=E(!1),i=F(()=>e.choices.length>e.itemsShown),r=F(()=>d.value||i.value===!1?e.choices:e.choices.slice(0,e.itemsShown)),u=F(()=>e.choices.length-e.itemsShown),p=F(()=>{var h;if(l.value===null)return null;const y=l.value.reduce((g,b)=>(b.text.length>g.length&&(g=b.text),g),"").length;return((h=e.width)==null?void 0:h.startsWith("half"))?y<=10?"grid-2":"grid-1":y<=10?"grid-4":y>10&&y<=15?"grid-3":y>15&&y<=25?"grid-2":"grid-1"}),{otherValues:f,addOtherValue:_,setOtherValue:v}=ss(a,l,y=>t("input",y));return{t:n,gridClass:p,otherValues:f,addOtherValue:_,setOtherValue:v,choicesDisplayed:r,hideChoices:i,showAll:d,hiddenCount:u}}}),WX=["disabled"];function HX(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-checkbox"),u=c("v-detail"),p=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ue(["checkboxes",e.gridClass]),style:We({"--v-checkbox-color":e.color})},[(m(!0),I(ae,null,we(e.choicesDisplayed,f=>(m(),C(r,{key:f.value,block:"",value:f.value,label:f.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:modelValue":t[0]||(t[0]=_=>e.$emit("input",_))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.hideChoices&&e.showAll===!1?(m(),C(u,{key:0,class:ue(e.gridClass),label:e.t("interfaces.select-multiple-checkbox.show_more",{count:e.hiddenCount}),"onUpdate:modelValue":t[1]||(t[1]=f=>e.showAll=!0)},null,8,["class","label"])):R("",!0),e.allowOther?(m(),I(ae,{key:1},[(m(!0),I(ae,null,we(e.otherValues,f=>(m(),C(r,{key:f.key,block:"","custom-value":"",value:f.value,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value||[],"onUpdate:value":_=>e.setOtherValue(f.key,_),"onUpdate:modelValue":t[2]||(t[2]=_=>e.$emit("input",_))},null,8,["value","disabled","icon-on","icon-off","model-value","onUpdate:value"]))),128)),e.allowOther?(m(),I("button",{key:0,disabled:e.disabled,class:"add-new custom",align:"left",outlined:"",dashed:"",secondary:"",onClick:t[3]||(t[3]=f=>e.addOtherValue())},[o(p,{name:"add"}),P(" "+w(e.t("other")),1)],8,WX)):R("",!0)],64)):R("",!0)],6)):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var GX=z(KX,[["render",HX],["__scopeId","data-v-3171edc1"]]),ZX=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 33.75H34.9258C34.2695 33.75 33.75 34.2695 33.75 34.9258V43.0742C33.75 43.7305 34.2695 44.25 34.9258 44.25H43.0742C43.7305 44.25 44.25 43.7305 44.25 43.0742V34.9258C44.25 34.2695 43.7305 33.75 43.0742 33.75ZM43.0742 43.0742H34.9258V34.9258H43.0742V43.0742ZM42.5 37.25L41.6797 36.4297L37.8242 40.2578L36.3203 38.7539L35.5 39.6016L37.8242 41.9258L42.5 37.25Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M43.0742 69.75H34.9258C34.2695 69.75 33.75 70.2695 33.75 70.9258V79.0742C33.75 79.7305 34.2695 80.25 34.9258 80.25H43.0742C43.7305 80.25 44.25 79.7305 44.25 79.0742V70.9258C44.25 70.2695 43.7305 69.75 43.0742 69.75ZM43.0742 79.0742H34.9258V70.9258H43.0742V79.0742ZM42.5 73.25L41.6797 72.4297L37.8242 76.2578L36.3203 74.7539L35.5 75.6016L37.8242 77.9258L42.5 73.25Z"
		fill="var(--primary)" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 16.9258V25.0742H34.9258V16.9258H43.0742ZM43.0742 15.75H34.9258C34.2695 15.75 33.75 16.2695 33.75 16.9258V25.0742C33.75 25.7305 34.2695 26.25 34.9258 26.25H43.0742C43.7305 26.25 44.25 25.7305 44.25 25.0742V16.9258C44.25 16.2695 43.7305 15.75 43.0742 15.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M43.0742 52.9258V61.0742H34.9258V52.9258H43.0742ZM43.0742 51.75H34.9258C34.2695 51.75 33.75 52.2695 33.75 52.9258V61.0742C33.75 61.7305 34.2695 62.25 34.9258 62.25H43.0742C43.7305 62.25 44.25 61.7305 44.25 61.0742V52.9258C44.25 52.2695 43.7305 51.75 43.0742 51.75Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,JX=qe({id:"select-multiple-checkbox",name:"$t:interfaces.select-multiple-checkbox.checkboxes",icon:"check_box",component:GX,description:"$t:interfaces.select-multiple-checkbox.description",types:["json","csv"],group:"selection",preview:ZX,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-multiple-checkbox.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:enable_custom_values"}},schema:{default_value:!1}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"check_box_outline_blank"}},{field:"itemsShown",name:"$t:interfaces.select-multiple-checkbox.items_shown",type:"integer",meta:{width:"half",interface:"input"},schema:{default_value:8}}],recommendedDisplays:["labels"]}),QX=Object.freeze(Object.defineProperty({__proto__:null,default:JX},Symbol.toStringTag,{value:"Module"}));const XX=K({props:{value:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},choices:{type:Array,default:()=>[]},valueCombining:{type:String,default:"all"}},emits:["input"],setup(){const{t:e}=Y(),t=E(""),n=E(!1),l=N.exports.debounce(d=>{a.value=d},250);ge(t,l);const a=E("");return{search:t,t:e,searchDebounced:a,showSelectionOnly:n}}}),YX={class:"select-multiple-checkbox-tree"},xX={class:"search"},eY={class:"footer"},tY=P(" / ");function nY(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-checkbox-tree");return m(),I("div",YX,[S("div",xX,[o(r,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=p=>e.search=p),class:"input",type:"text",placeholder:e.t("search")},ot({prepend:s(()=>[o(i,{name:"search"})]),_:2},[e.search?{name:"append",fn:s(()=>[o(i,{name:"clear",clickable:"",onClick:t[0]||(t[0]=p=>e.search="")})])}:void 0]),1032,["modelValue","placeholder"])]),o(u,{"model-value":e.value,search:e.searchDebounced,disabled:e.disabled,choices:e.choices,"value-combining":e.valueCombining,"show-selection-only":e.showSelectionOnly,"onUpdate:modelValue":t[2]||(t[2]=p=>e.$emit("input",p))},null,8,["model-value","search","disabled","choices","value-combining","show-selection-only"]),S("div",eY,[S("span",{class:ue({active:e.showSelectionOnly===!1}),onClick:t[3]||(t[3]=p=>e.showSelectionOnly=!1)},w(e.t("interfaces.select-multiple-checkbox-tree.show_all")),3),tY,S("span",{class:ue({active:e.showSelectionOnly===!0}),onClick:t[4]||(t[4]=p=>e.showSelectionOnly=!0)},w(e.t("interfaces.select-multiple-checkbox-tree.show_selected")),3)])])}var lY=z(XX,[["render",nY],["__scopeId","data-v-4588d42a"]]),oY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="58.25" y="36" width="70" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 33.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="58.25" y="72" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M47.324 69.75h-8.148c-.657 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148Zm-.574-5.824-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324 4.676-4.676Z" fill="var(--primary)"/>
	<rect x="48.25" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="M37.324 52.926v8.148h-8.148v-8.148h8.148Zm0-1.176h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .657.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.657-.52-1.176-1.176-1.176Z" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="48.5" y="18.25" width="50" height="6" rx="2" fill="var(--primary)"/>
	<path d="M37.574 16h-8.148c-.656 0-1.176.52-1.176 1.176v8.148c0 .656.52 1.176 1.176 1.176h8.148c.657 0 1.176-.52 1.176-1.176v-8.148c0-.656-.52-1.176-1.176-1.176Zm0 9.324h-8.148v-8.148h8.148v8.148ZM37 19.5l-.82-.82-3.856 3.828-1.504-1.504-.82.848 2.324 2.324L37 19.5Z" fill="var(--primary)"/>
</svg>
`;const ra=[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}}],Us={field:"children",type:"json",name:"$t:children",meta:{width:"full",interface:"list",options:{fields:ra}}};function Ns(e=0,t=3){return e<t?[...ra,Fe(fe({},Us),{meta:Fe(fe({},Us.meta),{options:{fields:Ns(e+1)}})})]:ra}var aY=qe({id:"select-multiple-checkbox-tree",name:"$t:interfaces.select-multiple-checkbox-tree.name",icon:"account_tree",component:lY,description:"$t:interfaces.select-multiple-checkbox-tree.description",types:["json","csv"],group:"selection",options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:Ns()}}},{field:"valueCombining",type:"string",name:"$t:interfaces.select-multiple-checkbox-tree.value_combining",schema:{default_value:"all"},meta:{note:"$t:interfaces.select-multiple-checkbox-tree.value_combining_note",interface:"select-dropdown",options:{choices:[{text:"$t:all",value:"all"},{text:"$t:branch",value:"branch"},{text:"$t:leaf",value:"leaf"},{text:"$t:indeterminate",value:"indeterminate"},{text:"$t:exclusive",value:"exclusive"}]}}}],recommendedDisplays:["labels"],preview:oY}),iY=Object.freeze(Object.defineProperty({__proto__:null,default:aY},Symbol.toStringTag,{value:"Module"}));const rY=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y();return{t:n,updateValue:l};function l(a){const d=N.exports.sortBy(a,i=>{const r=e.choices.findIndex(u=>i===u.value);return r!==-1?r:a.length});t("input",d)}}});function sY(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-icon"),u=c("v-select");return e.choices?(m(),C(u,{key:1,multiple:"","model-value":e.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"close-on-content-click":!1,"onUpdate:modelValue":t[0]||(t[0]=p=>e.updateValue(p))},ot({_:2},[e.icon?{name:"prepend",fn:s(()=>[o(r,{name:e.icon},null,8,["name"])])}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var dY=z(rY,[["render",sY]]),uY=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="15" width="120" height="66" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="16" width="118" height="64" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="25" width="80" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="45.1479" width="70" height="6" rx="2" fill="var(--primary)" />
	<rect x="28" y="55.2222" width="80" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="65.2959" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<rect x="28" y="35.0737" width="90" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,cY=qe({id:"select-multiple-dropdown",name:"$t:interfaces.select-multiple-dropdown.select-multiple-dropdown",description:"$t:interfaces.select-multiple-dropdown.description",icon:"arrow_drop_down_circle",component:dY,types:["json","csv"],group:"selection",preview:uY,options:[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:"string",name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"}}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"]}),pY=Object.freeze(Object.defineProperty({__proto__:null,default:cY},Symbol.toStringTag,{value:"Module"}));const mY=K({props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:null},choices:{type:Array,default:null},allowOther:{type:Boolean,default:!1},width:{type:String,default:null},iconOn:{type:String,default:"radio_button_checked"},iconOff:{type:String,default:"radio_button_unchecked"},color:{type:String,default:"var(--primary)"}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{choices:l,value:a}=ze(e),d=F(()=>{var f;if(l.value===null)return null;const p=l.value.reduce((_,v)=>(v.text.length>_.length&&(_=v.text),_),"").length;return((f=e.width)==null?void 0:f.startsWith("half"))?p<=10?"grid-2":"grid-1":p<=10?"grid-4":p>10&&p<=15?"grid-3":p>15&&p<=25?"grid-2":"grid-1"}),{otherValue:i,usesOtherValue:r}=rs(a,l,p=>t("input",p)),u=F(()=>i.value?i.value&&r.value===!0?e.iconOn:e.iconOff:"add");return{t:n,gridClass:d,otherValue:i,usesOtherValue:r,customIcon:u}}}),fY=["placeholder","disabled"];function _Y(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-radio"),u=c("v-icon");return e.choices?(m(),I("div",{key:1,class:ue(["radio-buttons",e.gridClass]),style:We({"--v-radio-color":e.color})},[(m(!0),I(ae,null,we(e.choices,p=>(m(),C(r,{key:p.value,block:"",value:p.value,label:p.text,disabled:e.disabled,"icon-on":e.iconOn,"icon-off":e.iconOff,"model-value":e.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.$emit("input",f))},null,8,["value","label","disabled","icon-on","icon-off","model-value"]))),128)),e.allowOther?(m(),I("div",{key:0,class:ue(["custom",{active:!e.disabled&&e.usesOtherValue,"has-value":!e.disabled&&e.otherValue,disabled:e.disabled}])},[o(u,{disabled:e.disabled,name:e.customIcon,clickable:"",onClick:t[1]||(t[1]=p=>e.$emit("input",e.otherValue))},null,8,["disabled","name"]),x(S("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>e.otherValue=p),placeholder:e.t("other"),disabled:e.disabled,onFocus:t[3]||(t[3]=p=>e.$emit("input",e.otherValue))},null,40,fY),[[io,e.otherValue]])],2)):R("",!0)],6)):(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("choices_option_configured_incorrectly")),1)]),_:1}))}var vY=z(mY,[["render",_Y],["__scopeId","data-v-ce2cc032"]]),yY=`<svg width="156" height="96" viewBox="0 0 156 96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="54" y="36" width="70" height="6" rx="2" fill="var(--primary)" />
	<path
		d="M39 33.1758C35.7734 33.1758 33.1758 35.7734 33.1758 39C33.1758 42.2266 35.7734 44.8242 39 44.8242C42.2266 44.8242 44.8242 42.2266 44.8242 39C44.8242 35.7734 42.2266 33.1758 39 33.1758ZM39 43.6758C36.4297 43.6758 34.3242 41.5703 34.3242 39C34.3242 36.4297 36.4297 34.3242 39 34.3242C41.5703 34.3242 43.6758 36.4297 43.6758 39C43.6758 41.5703 41.5703 43.6758 39 43.6758ZM36.0742 39C36.0742 37.3867 37.3867 36.0742 39 36.0742C40.6133 36.0742 41.9258 37.3867 41.9258 39C41.9258 40.6133 40.6133 41.9258 39 41.9258C37.3867 41.9258 36.0742 40.6133 36.0742 39Z"
		fill="var(--primary)" />
	<rect x="54" y="72" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 69.1758C35.7734 69.1758 33.1758 71.7734 33.1758 75C33.1758 78.2266 35.7734 80.8242 39 80.8242C42.2266 80.8242 44.8242 78.2266 44.8242 75C44.8242 71.7734 42.2266 69.1758 39 69.1758ZM39 79.6758C36.4297 79.6758 34.3242 77.5703 34.3242 75C34.3242 72.4297 36.4297 70.3242 39 70.3242C41.5703 70.3242 43.6758 72.4297 43.6758 75C43.6758 77.5703 41.5703 79.6758 39 79.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="18" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 15.1758C35.7734 15.1758 33.1758 17.7734 33.1758 21C33.1758 24.2266 35.7734 26.8242 39 26.8242C42.2266 26.8242 44.8242 24.2266 44.8242 21C44.8242 17.7734 42.2266 15.1758 39 15.1758ZM39 25.6758C36.4297 25.6758 34.3242 23.5703 34.3242 21C34.3242 18.4297 36.4297 16.3242 39 16.3242C41.5703 16.3242 43.6758 18.4297 43.6758 21C43.6758 23.5703 41.5703 25.6758 39 25.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
	<rect x="54" y="54" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity="0.25" />
	<path
		d="M39 51.1758C35.7734 51.1758 33.1758 53.7734 33.1758 57C33.1758 60.2266 35.7734 62.8242 39 62.8242C42.2266 62.8242 44.8242 60.2266 44.8242 57C44.8242 53.7734 42.2266 51.1758 39 51.1758ZM39 61.6758C36.4297 61.6758 34.3242 59.5703 34.3242 57C34.3242 54.4297 36.4297 52.3242 39 52.3242C41.5703 52.3242 43.6758 54.4297 43.6758 57C43.6758 59.5703 41.5703 61.6758 39 61.6758Z"
		fill="var(--primary)" fill-opacity="0.25" />
</svg>
`,hY=qe({id:"select-radio",name:"$t:interfaces.select-radio.radio-buttons",description:"$t:interfaces.select-radio.description",icon:"radio_button_checked",component:vY,types:["string","integer","float","bigInteger"],recommendedDisplays:["badge"],group:"selection",preview:yY,options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{width:"half",interface:"system-input-translated-string"}},{field:"value",type:e.type,name:"$t:value",meta:{width:"half",interface:"input",options:{font:"monospace"}}}]}}},{field:"iconOn",name:"$t:icon_on",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_checked"}},{field:"iconOff",name:"$t:icon_off",type:"string",meta:{width:"half",interface:"select-icon"},schema:{default_value:"radio_button_unchecked"}},{field:"color",name:"$t:color",type:"string",meta:{width:"half",interface:"select-color"}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"string",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}}]}),gY=Object.freeze(Object.defineProperty({__proto__:null,default:hY},Symbol.toStringTag,{value:"Module"}));const bY=K({props:{value:{type:Number,default:null},disabled:{type:Boolean,default:!1},minValue:{type:Number,default:0},maxValue:{type:Number,default:100},stepInterval:{type:Number,default:1},alwaysShowValue:{type:Boolean,default:!1}},emits:["input"]});function wY(e,t,n,l,a,d){const i=c("v-slider");return m(),C(i,{"model-value":e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue,step:e.stepInterval,"always-show-value":e.alwaysShowValue,"show-thumb-label":"","show-ticks":"","onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","disabled","min","max","step","always-show-value"])}var kY=z(bY,[["render",wY],["__scopeId","data-v-26b36e86"]]),$Y=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect opacity=".25" x="103" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="19" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="131" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="47" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="75" y="52" width="6" height="6" rx="2" fill="var(--primary)"/>
	<rect opacity=".25" x="18" y="42" width="120" height="2" rx="1" fill="var(--primary)"/>
	<rect x="18" y="42" width="81" height="2" rx="1" fill="var(--primary)"/>
	<circle cx="106" cy="43" r="5" fill="var(--primary)"/>
</svg>
`,SY=qe({id:"slider",name:"$t:interfaces.slider.slider",description:"$t:interfaces.slider.description",icon:"linear_scale",component:kY,types:["integer","decimal","float","bigInteger"],group:"other",options:[{field:"minValue",name:"$t:interfaces.input.minimum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"maxValue",name:"$t:interfaces.input.maximum_value",type:"integer",meta:{width:"half",interface:"input"}},{field:"stepInterval",name:"$t:interfaces.input.step_interval",type:"integer",meta:{width:"half",interface:"input"}},{field:"alwaysShowValue",name:"$t:interfaces.slider.always_show_value",type:"boolean",meta:{width:"half",interface:"boolean"}}],preview:$Y}),CY=Object.freeze(Object.defineProperty({__proto__:null,default:SY},Symbol.toStringTag,{value:"Module"}));const VY=K({props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:null},placeholder:{type:String,default:null},whitespace:{type:String,default:null},capitalization:{type:String,default:null},alphabetize:{type:Boolean,default:!1},iconLeft:{type:String,default:null},iconRight:{type:String,default:"local_offer"},presets:{type:Array,default:null},allowCustom:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=F(()=>e.presets!==null?r(e.presets):[]),a=E(r(e.value||[]));ge(()=>e.value,y=>{Array.isArray(y)&&(a.value=r(y)),y===null&&(a.value=[])});const d=F(()=>{let y=r(a.value);return e.allowCustom||(y=y.filter(h=>l.value.includes(h))),y}),i=F(()=>d.value.filter(y=>!l.value.includes(y)));function r(y){return y=y.map(h=>{h=h.trim(),e.capitalization==="uppercase"&&(h=h.toUpperCase()),e.capitalization==="lowercase"&&(h=h.toLowerCase());const g=e.whitespace===null?" ":e.whitespace;return e.capitalization==="auto-format"&&(h=wt(h,new RegExp(g))),h=h.replace(/ +/g,g),h}),e.alphabetize&&(y=y.concat().sort()),y=[...new Set(y)],y}return{t:n,onInput:u,addTag:f,removeTag:_,toggleTag:p,presetVals:l,customVals:i,selectedVals:d};function u(y){y.target&&(y.key==="Enter"||y.key===",")&&(y.preventDefault(),f(y.target.value),y.target.value="")}function p(y){d.value.includes(y)?_(y):f(y)}function f(y){!y||y===""||(y=y.trim(),a.value.push(y),v())}function _(y){a.value=a.value.filter(h=>h!==y),v()}function v(){t("input",d.value)}}}),FY={class:"interface-tags"},AY={key:1,class:"tags"},IY={key:0,class:"presets tag-container"},EY={key:1,class:"custom tag-container"};function DY(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-input"),u=c("v-chip");return m(),I("div",FY,[e.allowCustom?(m(),C(r,{key:0,placeholder:e.placeholder||e.t("interfaces.tags.add_tags"),disabled:e.disabled,onKeydown:e.onInput},ot({append:s(()=>[o(i,{name:e.iconRight},null,8,["name"])]),_:2},[e.iconLeft?{name:"prepend",fn:s(()=>[o(i,{name:e.iconLeft},null,8,["name"])])}:void 0]),1032,["placeholder","disabled","onKeydown"])):R("",!0),e.presetVals.length>0||e.customVals.length>0?(m(),I("div",AY,[e.presetVals.length>0?(m(),I("span",IY,[(m(!0),I(ae,null,we(e.presetVals,p=>(m(),C(u,{key:p,class:ue(["tag",{inactive:!e.selectedVals.includes(p)}]),disabled:e.disabled,small:"",label:"",clickable:"",onClick:f=>e.toggleTag(p)},{default:s(()=>[P(w(p),1)]),_:2},1032,["class","disabled","onClick"]))),128))])):R("",!0),e.customVals.length>0&&e.allowCustom?(m(),I("span",EY,[e.presetVals.length>0?(m(),C(i,{key:0,class:"custom-tags-delimeter",name:"chevron_right"})):R("",!0),(m(!0),I(ae,null,we(e.customVals,p=>(m(),C(u,{key:p,disabled:e.disabled,class:"tag",small:"",label:"",clickable:"",onClick:f=>e.removeTag(p)},{default:s(()=>[P(w(p),1)]),_:2},1032,["disabled","onClick"]))),128))])):R("",!0)])):R("",!0)])}var TY=z(VY,[["render",DY],["__scopeId","data-v-5f85ff84"]]),PY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="23" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="24" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="33" width="30" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="18" y="57" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="66" y="57" width="40" height="6" rx="2" fill="var(--primary)"/>
	<rect x="42" y="67" width="30" height="6" rx="2" fill="var(--primary)"/>
	<rect x="52" y="57" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="110" y="57" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="76" y="67" width="10" height="6" rx="2" fill="var(--primary)"/>
	<rect x="90" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
	<rect x="18" y="67" width="20" height="6" rx="2" fill="var(--primary)"/>
</svg>
`,OY=qe({id:"tags",name:"$t:interfaces.tags.tags",description:"$t:interfaces.tags.description",icon:"local_offer",component:TY,types:["json","csv"],group:"standard",options:[{field:"presets",name:"$t:presets",type:"string",meta:{width:"full",interface:"tags"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"alphabetize",name:"$t:interfaces.tags.alphabetize",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.tags.alphabetize_label"}},schema:{default_value:!1}},{field:"allowCustom",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!0}},{field:"whitespace",name:"$t:interfaces.tags.whitespace",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.hyphen",value:"-"},{text:"$t:interfaces.tags.underscore",value:"_"},{text:"$t:interfaces.tags.remove",value:""}]}}},{field:"capitalization",name:"$t:interfaces.tags.capitalization",type:"string",meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{text:"$t:interfaces.tags.uppercase",value:"uppercase"},{text:"$t:interfaces.tags.lowercase",value:"lowercase"},{text:"$t:interfaces.tags.auto_formatter",value:"auto-format"}]}}},{field:"iconLeft",name:"$t:icon_left",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"iconRight",name:"$t:icon_right",type:"string",meta:{width:"half",interface:"select-icon"}}],recommendedDisplays:["labels"],preview:PY}),LY=Object.freeze(Object.defineProperty({__proto__:null,default:OY},Symbol.toStringTag,{value:"Module"}));const jY=K({components:{},props:{modelValue:{type:String,default:null},items:{type:Array,default:()=>[]},secondary:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e){return{displayValue:F(()=>{var l;const n=e.items.find(a=>a.value===e.modelValue);return(l=n==null?void 0:n.text)!=null?l:e.modelValue})}}}),RY=["onClick"],MY={class:"display-value"},UY={class:"append-slot"},NY={class:"start"},BY={class:"end"};function qY(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-progress-linear"),u=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=$e("tooltip");return m(),C(f,{attached:"",class:ue(["language-select",{secondary:e.secondary}])},{activator:s(({toggle:v,active:y})=>[S("button",{class:"toggle",onClick:v},[o(i,{class:"translate",name:"translate"}),S("span",MY,w(e.displayValue),1),o(i,{name:"expand_more",class:ue({active:y})},null,8,["class"]),S("span",UY,[be(e.$slots,"append",{},void 0,!0)])],8,RY)]),default:s(()=>[o(p,null,{default:s(()=>[(m(!0),I(ae,null,we(e.items,(v,y)=>(m(),C(u,{key:y,onClick:h=>e.$emit("update:modelValue",v.value)},{default:s(()=>[S("div",NY,[S("div",{class:ue(["dot",{show:v.edited}])},null,2),P(" "+w(v.text),1)]),S("div",BY,[x(o(r,{value:v.progress,rounded:"",colorful:""},null,8,["value"]),[[_,`${Math.round(v.current/v.max*100)}%`]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:3},8,["class"])}var zY=z(jY,[["render",qY],["__scopeId","data-v-3f27fd1a"]]);const KY=K({components:{LanguageSelect:zY},props:{collection:{type:String,required:!0},field:{type:String,required:!0},primaryKey:{type:[Number,String],required:!0},languageField:{type:String,default:null},value:{type:Array,default:null},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const{collection:n,field:l}=ze(e),{t:a}=Y(),d=Oe(),i=He(),{width:r}=Es(),u=E(!1),p=E(),f=E(),{info:_}=rt(n);ge(u,_e=>{const me=V.value;_e&&f.value===p.value&&(f.value=me[0].value===p.value?me[1].value:me[0].value)});const{junction:v,junctionCollection:y,junctionPrimaryKeyField:h,relation:g,relationCollection:b,relationPrimaryKeyField:$}=Xl(n,l),A=F(()=>g.value?g.value.field:null),{languageOptions:V,loading:T}=J(),{items:D,firstItem:O,loading:M,updateValue:L,secondItem:j,firstItemInitial:B,secondItemInitial:q}=oe(),G=F(()=>y.value===null?[]:d.getFieldsForCollection(y.value.collection)),Q=F(()=>r.value>960&&V.value.length>1),ce=F(()=>Q.value&&u.value);return{collectionInfo:_,splitView:u,firstLang:p,secondLang:f,t:a,languageOptions:V,fields:G,translationsRelation:v,translationsCollection:y,translationsPrimaryKeyField:h,languagesRelation:g,languagesCollection:b,languagesPrimaryKeyField:$,translationsLanguageField:A,items:D,firstItem:O,secondItem:j,updateValue:L,firstItemInitial:B,secondItemInitial:q,splitViewAvailable:Q,splitViewEnabled:ce,languagesLoading:T,valuesLoading:M};function J(){const _e=E([]),me=E(!1),ee=E(null);return ge(b,te,{immediate:!0}),{languageOptions:F(()=>{const Z=A.value;if(Z===null)return[];const se=G.value.filter(re=>{var ve;return re.type!=="alias"&&((ve=re.meta)==null?void 0:ve.hidden)===!1&&re.meta.readonly===!1}),X=se.length;return _e.value.map(re=>{var ye,he,Se;if($.value===null)return re;const ve=re[$.value.field],H=(ye=D.value.find(Ce=>Ce[Z]===ve))!=null?ye:{},le=(he=e.value)==null?void 0:he.find(Ce=>typeof Ce=="object"&&Ce[Z]===ve),ie=fe(fe({},H),le!=null?le:{}),de=se.filter(Ce=>Ce.field in ie&&Jt(ie[Ce.field])).length;return{text:re[(Se=e.languageField)!=null?Se:$.value.field],value:ve,edited:le!==void 0,progress:Math.round(de/X*100),max:X,current:de}})}),loading:me,error:ee};async function te(){var se,X,re,ve,H,le,ie;if(!b.value||!$.value)return;const Z=new Set;e.languageField!==null&&Z.add(e.languageField),Z.add($.value.field),me.value=!0;try{const de=await pe.get(`/items/${b.value.collection}`,{params:{fields:Array.from(Z),limit:-1,sort:(se=e.languageField)!=null?se:$.value.field}});if(_e.value=de.data.data,!p.value){const ye=(re=(X=de.data.data)==null?void 0:X.find(he=>he[$.value.field]===i.currentUser.language))==null?void 0:re[$.value.field];p.value=ye||((H=(ve=de.data.data)==null?void 0:ve[0])==null?void 0:H[$.value.field])}f.value||(f.value=(ie=(le=de.data.data)==null?void 0:le[1])==null?void 0:ie[$.value.field])}catch(de){Ie(de)}finally{me.value=!1}}}function oe(){const _e=E([]),me=E(!1),ee=E(null),ne=E(!1),te=F(()=>H(p)),Z=F(()=>H(f)),se=F(()=>ve(p)),X=F(()=>ve(f));ge(()=>e.value,(de,ye)=>{(de===null||de.length===0)&&(_e.value=[]),!(!de&&ye)&&((de==null?void 0:de.some(he=>typeof he=="object"))||(de==null?void 0:de.some(he=>typeof he=="object"))&&N.exports.isEqual(de,ye)||ne.value||le())},{immediate:!0});const re=F(()=>{var he,Se;const de=(he=h.value)==null?void 0:he.field;if(!de)return[];const ye=[..._e.value.map(Ce=>Ce[de])];return(Se=e.value)==null||Se.forEach(Ce=>{if(typeof Ce=="object")if(de in Ce){const Ae=ye.findIndex(Le=>Le===Ce[de]);ye[Ae]=Ce}else ye.push(Ce)}),ye});return{items:_e,firstItem:te,updateValue:ie,secondItem:Z,firstItemInitial:se,secondItemInitial:X,loading:me,error:ee};function ve(de){var Se;const ye=W(de),he=A.value;return he===null?{}:(Se=_e.value.find(Ce=>Ce[he]===ye))!=null?Se:{}}function H(de){var Se,Ce;const ye=W(de),he=A.value;return he===null?{}:(Ce=(Se=e.value)==null?void 0:Se.find(Ae=>typeof Ae=="object"&&Ae[he]===ye))!=null?Ce:{}}async function le(){var de;if(!(!((de=v.value)==null?void 0:de.field)||e.primaryKey==="+")){me.value=!0;try{const ye=await pe.get(`/items/${y.value.collection}`,{params:{fields:"*",limit:-1,filter:{[v.value.field]:{_eq:e.primaryKey}}}});_e.value=ye.data.data}catch(ye){ee.value=ye,Ie(ye)}finally{me.value=!1}}}function ie(de,ye){var Ge,lt;const he=(Ge=h.value)==null?void 0:Ge.field,Se=A.value,Ce=ve(ye),Ae=N.exports.assign({},Ce,de);if(!he||!Se)return;ne.value=!1;let Le=N.exports.cloneDeep((lt=re.value)!=null?lt:[]);if(he in Ae){const Me=_e.value.find(Ve=>Ve[Se]===ye);Le=Le.map(Ve=>typeof Ve=="number"||typeof Ve=="string"?Ae[he]===Ve?Ae:Ve:Ae[he]===Ve[he]?N.exports.isEqual(Me,fe(fe({},Me),Ae))?(ne.value=!0,Ae[he]):Ae:Ve)}else{const Me=Le.findIndex(Ve=>typeof Ve=="object"&&Ve[Se]===ye);Me!==-1?Object.keys(Ae).length===1&&Se in Ae?(ne.value=!0,Le.splice(Me,1)):Le[Me]=Ae:Le.push(Fe(fe({},Ae),{[Se]:ye}))}t("input",Le)}}}});function WY(e,t,n,l,a,d){var _,v,y,h,g,b;const i=c("v-icon"),r=c("language-select"),u=c("v-form"),p=c("v-divider"),f=$e("tooltip");return m(),I("div",{class:ue(["translations",{split:e.splitViewEnabled}])},[S("div",{class:ue(["primary",e.splitViewEnabled?"half":"full"])},[o(r,{modelValue:e.firstLang,"onUpdate:modelValue":t[1]||(t[1]=$=>e.firstLang=$),items:e.languageOptions},{append:s(()=>[e.splitViewAvailable&&!e.splitViewEnabled?x((m(),C(i,{key:0,name:"flip",clickable:"",onClick:t[0]||(t[0]=De($=>e.splitView=!0,["stop"]))},null,512)),[[f,e.t("interfaces.translations.toggle_split_view")]]):R("",!0)]),_:1},8,["modelValue","items"]),o(u,{"primary-key":((_=e.translationsPrimaryKeyField)==null?void 0:_.field)?(v=e.firstItemInitial)==null?void 0:v[e.translationsPrimaryKeyField.field]:null,disabled:e.disabled,loading:e.valuesLoading,fields:e.fields,"model-value":e.firstItem,"initial-values":e.firstItemInitial,badge:(y=e.languageOptions.find($=>$.value===e.firstLang))==null?void 0:y.text,autofocus:e.autofocus,"onUpdate:modelValue":t[2]||(t[2]=$=>e.updateValue($,e.firstLang))},null,8,["primary-key","disabled","loading","fields","model-value","initial-values","badge","autofocus"]),o(p)],2),e.splitViewEnabled?(m(),I("div",{key:0,class:ue(["secondary",e.splitViewEnabled?"half":"full"])},[o(r,{modelValue:e.secondLang,"onUpdate:modelValue":t[4]||(t[4]=$=>e.secondLang=$),items:e.languageOptions,secondary:""},{append:s(()=>[x(o(i,{name:"close",clickable:"",onClick:t[3]||(t[3]=De($=>e.splitView=!e.splitView,["stop"]))},null,512),[[f,e.t("interfaces.translations.toggle_split_view")]])]),_:1},8,["modelValue","items"]),o(u,{"primary-key":((h=e.translationsPrimaryKeyField)==null?void 0:h.field)?(g=e.secondItemInitial)==null?void 0:g[e.translationsPrimaryKeyField.field]:null,disabled:e.disabled,loading:e.valuesLoading,"initial-values":e.secondItemInitial,fields:e.fields,badge:(b=e.languageOptions.find($=>$.value===e.secondLang))==null?void 0:b.text,"model-value":e.secondItem,"onUpdate:modelValue":t[5]||(t[5]=$=>e.updateValue($,e.secondLang))},null,8,["primary-key","disabled","loading","initial-values","fields","badge","model-value"]),o(p)],2)):R("",!0)],2)}var HY=z(KY,[["render",WY],["__scopeId","data-v-65f42c36"]]),GY=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="18" width="120" height="26" rx="6" fill="var(--background-page)" class="glow"/>
	<rect x="19" y="19" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="28" width="50" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="82" y="28" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect opacity=".25" x="19" y="53" width="118" height="24" rx="5" fill="var(--background-page)" stroke="var(--primary)" stroke-width="2"/>
	<rect x="28" y="62" width="20" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<rect x="52" y="62" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25"/>
	<path d="m124.52 32.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V27.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.804.465-1.203Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
	<path opacity=".25" d="m124.52 66.777-1.504-1.449.027-.027a9.996 9.996 0 0 0 2.16-3.801h1.723v-1.176h-4.102v-1.148h-1.148v1.148h-4.102V61.5h6.535c-.41 1.121-1.011 2.188-1.859 3.117a9.14 9.14 0 0 1-1.34-1.941h-1.176a10.89 10.89 0 0 0 1.75 2.652l-2.98 2.926.82.82 2.926-2.898 1.805 1.805.465-1.204Zm3.281-2.953h-1.176l-2.625 7h1.176l.656-1.75h2.762l.656 1.75h1.176l-2.625-7Zm-1.531 4.102.929-2.543.957 2.543h-1.886Z" fill="var(--primary)"/>
</svg>
`,ZY=qe({id:"translations",name:"$t:translations",icon:"translate",types:["alias"],localTypes:["translations"],group:"relational",relational:!0,component:HY,options:({relations:e})=>{var a;const t=Oe(),n=(a=e.m2o)==null?void 0:a.related_collection;let l=[];return n&&(l=t.getFieldsForCollection(n).map(d=>({text:d.name,value:d.field}))),[{field:"languageField",type:"string",name:"$t:interfaces.translations.language_field",meta:{interface:"select-dropdown",options:{placeholder:"$t:primary_key",choices:l}}}]},preview:GY}),JY=Object.freeze(Object.defineProperty({__proto__:null,default:ZY},Symbol.toStringTag,{value:"Module"}));const QY=K({props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=Je(),l=F(()=>[...n.collections.filter(d=>d.collection.startsWith("directus_")===!1),...e.includeSystem?n.crudSafeSystemCollections:[]]);return{items:F(()=>l.value.map(d=>({text:d.name,value:d.collection}))),t}}});function XY(e,t,n,l,a,d){const i=c("v-select");return m(),C(i,{"model-value":e.value,disabled:e.disabled,items:e.items,placeholder:e.t("select_a_collection"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","disabled","items","placeholder"])}var YY=z(QY,[["render",XY]]),xY=qe({id:"system-collection",name:"$t:interfaces.system-collection.collection",description:"$t:interfaces.system-collection.description",icon:"featured_play_list",component:YY,types:["string"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collection.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["collection"]}),ex=Object.freeze(Object.defineProperty({__proto__:null,default:xY},Symbol.toStringTag,{value:"Module"}));const tx=K({props:{value:{type:Array,default:null},disabled:{type:Boolean,default:!1},includeSystem:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=Je(),l=F(()=>e.includeSystem?n.collections:n.collections.filter(d=>d.collection.startsWith("directus_")===!1)),a=F(()=>l.value.map(d=>({text:d.name,value:d.collection})));return{t,items:a}}});function nx(e,t,n,l,a,d){const i=c("v-notice"),r=c("interface-select-multiple-checkbox");return e.items.length===0?(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("no_collections")),1)]),_:1})):(m(),C(r,{key:1,choices:e.items,value:e.value,disabled:e.disabled,onInput:t[0]||(t[0]=u=>e.$emit("input",u))},null,8,["choices","value","disabled"]))}var lx=z(tx,[["render",nx]]),ox=qe({id:"system-collections",name:"$t:interfaces.system-collections.collections",description:"$t:interfaces.system-collections.description",icon:"featured_play_list",component:lx,types:["json","csv"],options:[{field:"includeSystem",name:"$t:system",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.system-collections.include_system_collections"}},schema:{default_value:!1}}],system:!0,recommendedDisplays:["labels"]}),ax=Object.freeze(Object.defineProperty({__proto__:null,default:ox},Symbol.toStringTag,{value:"Module"}));const ix=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},collectionField:{type:String,default:null},collectionName:{type:String,default:null}},emits:["input"],setup(e){const{t}=Y(),n=Je(),l=_t("values",E({})),a=F(()=>{if(!e.collectionField)return e.collectionName?e.collectionName:null;const d=l.value[e.collectionField];return!!n.collections.find(r=>r.collection===d)===!1?null:d});return{t,collection:a}}}),rx={class:"system-display-template"};function sx(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-field-template");return m(),I("div",rx,[e.collection===null?(m(),C(i,{key:0,type:"info"},{default:s(()=>[P(w(e.t("interfaces.system-display-template.select_a_collection")),1)]),_:1})):(m(),C(r,{key:1,collection:e.collection,"model-value":e.value,disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=u=>e.$emit("input",u))},null,8,["collection","model-value","disabled"]))])}var dx=z(ix,[["render",sx]]),ux=qe({id:"system-display-template",name:"$t:interfaces.system-display-template.display-template",description:"$t:interfaces.system-display-template.description",icon:"arrow_drop_down_circle",component:dx,types:["string"],system:!0,options:[{field:"collectionField",name:"$t:interfaces.system-display-template.collection_field",type:"string",meta:{width:"full",interface:"input"},schema:{default_value:null}}]}),cx=Object.freeze(Object.defineProperty({__proto__:null,default:ux},Symbol.toStringTag,{value:"Module"}));const px=K({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},typeAllowList:{type:Array,default:()=>[]},value:{type:String,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1},allowPrimaryKey:{type:Boolean,default:!1},allowForeignKeys:{type:Boolean,default:!0}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=Oe(),a=_t("values",E({})),d=F(()=>a.value[e.collectionField]||e.collection),i=F(()=>!e.collectionField&&!e.collection?[]:l.getFieldsForCollection(d.value));ge(d,(u,p)=>{p!==null&&u!==p&&t("input",null)});const r=F(()=>i.value.map(u=>{var f,_;let p=!1;return e.allowPrimaryKey===!1&&((f=u==null?void 0:u.schema)==null?void 0:f.is_primary_key)===!0&&(p=!0),e.allowForeignKeys===!1&&((_=u==null?void 0:u.schema)==null?void 0:_.foreign_key_table)&&(p=!0),e.typeAllowList.length>0&&e.typeAllowList.includes(u.type)===!1&&(p=!0),{text:u.name,value:u.field,disabled:p}}));return{t:n,selectItems:r,values:a,fields:i}}});function mx(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-select");return!e.collectionField&&!e.collection?(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("collection_field_not_setup")),1)]),_:1})):e.selectItems.length===0?(m(),C(i,{key:1,type:"warning"},{default:s(()=>[P(w(e.t("select_a_collection")),1)]),_:1})):(m(),C(r,{key:2,"show-deselect":e.allowNone,"model-value":e.value,disabled:e.disabled,items:e.selectItems,placeholder:e.placeholder||e.t("select_a_field"),"onUpdate:modelValue":t[0]||(t[0]=u=>e.$emit("input",u))},null,8,["show-deselect","model-value","disabled","items","placeholder"]))}var fx=z(px,[["render",mx]]),_x=qe({id:"system-field",name:"$t:field",icon:"box",component:fx,types:["string"],options:[],system:!0}),vx=Object.freeze(Object.defineProperty({__proto__:null,default:_x},Symbol.toStringTag,{value:"Module"}));const yx=K({props:{collectionField:{type:String,default:null},collection:{type:String,default:null},value:{type:Array,default:null},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},allowNone:{type:Boolean,default:!1}},emits:["input"],setup(e){const{t}=Y(),n=_t("values",E({})),l=F(()=>n.value[e.collectionField]||e.collection),{treeList:a,loadFieldRelations:d}=xo(l);return{t,values:n,treeList:a,chosenCollection:l,loadFieldRelations:d}}}),hx={key:2,class:"system-field-tree"};function gx(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-checkbox-tree");return!e.collectionField&&!e.collection?(m(),C(i,{key:0,type:"warning"},{default:s(()=>[P(w(e.t("collection_field_not_setup")),1)]),_:1})):e.chosenCollection?(m(),I("div",hx,[o(r,{"model-value":e.value,disabled:e.disabled,choices:e.treeList,"item-text":"name","item-value":"key","value-combining":"exclusive","onUpdate:modelValue":t[0]||(t[0]=u=>e.$emit("input",u)),onGroupToggle:t[1]||(t[1]=u=>e.loadFieldRelations(u.value))},null,8,["model-value","disabled","choices"])])):(m(),C(i,{key:1,type:"warning"},{default:s(()=>[P(w(e.t("select_a_collection")),1)]),_:1}))}var bx=z(yx,[["render",gx],["__scopeId","data-v-1bd9310a"]]),wx=qe({id:"system-field-tree",name:"$t:field",icon:"box",component:bx,types:["string"],options:[],system:!0}),kx=Object.freeze(Object.defineProperty({__proto__:null,default:wx},Symbol.toStringTag,{value:"Module"}));const $x=e=>(Xe("data-v-7c641313"),e=e(),Ye(),e),Sx={class:"name"},Cx=$x(()=>S("div",{class:"spacer"},null,-1)),Vx=["onClick"],Fx=K({props:{collectionName:null,value:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,l=Oe(),a=F({get(){var u,p;return(p=(u=n.value)==null?void 0:u.map(f=>fe({key:f},l.getField(n.collectionName,f))))!=null?p:[]},set(u){const p=u.map(f=>f.key);t("input",p)}}),{t:d}=Y();function i(u){var p;t("input",[...(p=n.value)!=null?p:[],u])}function r(u){var f;const p=(f=n.value)==null?void 0:f.filter(_=>_!==u);(!p||p.length===0)&&t("input",null),t("input",p)}return(u,p)=>{const f=c("v-icon"),_=c("v-list-item"),v=c("v-list"),y=c("v-field-list"),h=c("v-menu");return m(),I(ae,null,[o(v,null,{default:s(()=>[o(W(Tt),{modelValue:W(a),"onUpdate:modelValue":p[0]||(p[0]=g=>kt(a)?a.value=g:null),"force-fallback":!0,"item-key":"key",handle:".drag-handle"},{item:s(({element:g})=>[o(_,{block:""},{default:s(()=>[o(f,{name:"drag_handle",class:"drag-handle",left:""}),S("div",Sx,w(g.name),1),Cx,o(f,{name:"close",clickable:"",onClick:b=>r(g.key)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),o(h,{placement:"bottom-start","show-arrow":""},{activator:s(({toggle:g})=>[S("button",{class:"toggle",onClick:g},[P(w(W(d)("add_field"))+" ",1),o(f,{name:"expand_more"})],8,Vx)]),default:s(()=>[o(y,{"disabled-fields":e.value,collection:e.collectionName,onSelectField:i},null,8,["disabled-fields","collection"])]),_:1})],64)}}});var Ax=z(Fx,[["__scopeId","data-v-7c641313"]]),Ix=qe({id:"system-fields",name:"$t:interfaces.fields.name",icon:"search",component:Ax,types:["csv","json"],options:[],system:!0}),Ex=Object.freeze(Object.defineProperty({__proto__:null,default:Ix},Symbol.toStringTag,{value:"Module"}));const Dx=K({props:{is:{type:String,required:!0},type:{type:String,required:!0},value:{type:[String,Number,Object,Boolean,Array],default:null},focus:{type:Boolean,default:!0},choices:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=E(),{t:l}=Y(),a=E(),d=F(()=>e.value===null||e.value===void 0?null:typeof e.value=="string"&&e.value.length>25?e.value.substring(0,22)+"...":e.value),i=F(()=>{var p;return(((p=e.value)==null?void 0:p.toString().length)||2)+1+"ch"}),r=F(()=>{switch(e.type){case"integer":case"bigInteger":return"[+-]?[0-9]+";case"decimal":case"float":return"[+-]?[0-9]+\\.?[0-9]*";case"uuid":return"[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}";default:return""}});return st(()=>{var p;e.focus&&((p=n.value)==null||p.focus())}),{displayValue:d,width:i,t:l,emitValue:u,inputEl:n,inputPattern:r,dateTimeMenu:a};function u(p){if(p==="")return t("input",null);if(typeof p=="string"&&["$NOW","$CURRENT_USER","$CURRENT_ROLE"].some(f=>p.startsWith(f))||typeof p!="string"||new RegExp(r.value).test(p))return t("input",p)}}}),Tx=["pattern","value"],Px=["pattern","value"],Ox={class:"date-input"},Lx=["onClick"];function jx(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-select"),u=c("v-date-picker"),p=c("v-menu");return e.type==="boolean"?(m(),C(i,{key:0,name:e.value===null?"indeterminate_check_box":e.value?"check_box":"check_box_outline_blank",clickable:"",class:"preview",small:"",onClick:t[0]||(t[0]=f=>e.$emit("input",!e.value))},null,8,["name"])):e.is==="interface-input"?(m(),I("input",{key:1,ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:We({width:e.width}),placeholder:"--",onInput:t[1]||(t[1]=f=>e.emitValue(f.target.value))},null,44,Tx)):e.is==="select"?(m(),C(r,{key:2,inline:"",items:e.choices,"model-value":e.value,placeholder:e.t("select"),"allow-other":"","onUpdate:modelValue":t[2]||(t[2]=f=>e.emitValue(f))},null,8,["items","model-value","placeholder"])):e.is==="interface-datetime"?(m(),I(ae,{key:3},[S("input",{ref:"inputEl",type:"text",pattern:e.inputPattern,value:e.value,style:We({width:e.width}),placeholder:"--",onInput:t[3]||(t[3]=f=>e.emitValue(f.target.value))},null,44,Px),o(p,{ref:"dateTimeMenu","close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start",seamless:"","full-height":""},{activator:s(({toggle:f})=>[o(i,{class:"preview",name:"event",small:"",onClick:f},null,8,["onClick"])]),default:s(()=>{var f;return[S("div",Ox,[o(u,{type:e.type,"model-value":e.value,"onUpdate:modelValue":e.emitValue,onClose:(f=e.dateTimeMenu)==null?void 0:f.deactivate},null,8,["type","model-value","onUpdate:modelValue","onClose"])])]}),_:1},512)],64)):(m(),C(p,{key:4,"close-on-content-click":!1,"show-arrow":!0,placement:"bottom-start"},{activator:s(({toggle:f})=>[e.type.startsWith("geometry")||e.type==="json"?(m(),C(i,{key:0,class:"preview",name:e.type==="json"?"integration_instructions":"map",small:"",onClick:f},null,8,["name","onClick"])):(m(),I("div",{key:1,class:"preview",onClick:f},w(e.displayValue),9,Lx))]),default:s(()=>[S("div",{class:ue(["input",e.type])},[(m(),C(Be(e.is),{class:"input-component",small:"",type:e.type,value:e.value,onInput:t[4]||(t[4]=f=>e.emitValue(f))},null,8,["type","value"]))],2)]),_:1}))}var Rx=z(Dx,[["render",jx],["__scopeId","data-v-bc1d7dfe"]]);function xl(e){return e?Object.keys(e)[0]:""}function Ln(e){const t=xl(e);if(t.startsWith("_")||!N.exports.isPlainObject(e[t]))return"";const n=Ln(e[t]);return n!==""?`${t}.${n}`:t}function gl(e){return xl(N.exports.get(e,Ln(e)))}function sa(e,t,n){return l(e.split("."));function l(a){const d=a.shift();return d!==void 0?{[d]:l(a)}:{[t]:n}}}const Mx=K({components:{InputComponent:Rx},props:{field:{type:Object,required:!0},collection:{type:String,required:!0}},emits:["update:field"],setup(e,{emit:t}){const n=Oe(),{t:l}=Y(),a=F(()=>n.getField(e.collection,Ln(e.field))),d=F(()=>{var f,_,v,y;return((v=(_=(f=a.value)==null?void 0:f.meta)==null?void 0:_.options)==null?void 0:v.choices)?"select":"interface-"+{bigInteger:"input",binary:"input",boolean:"boolean",date:"datetime",dateTime:"datetime",decimal:"input",float:"input",integer:"input",json:"input-code",string:"input",text:"input-multiline",time:"datetime",timestamp:"datetime",uuid:"input",csv:"input",hash:"input-hash",geometry:"map"}[((y=a.value)==null?void 0:y.type)||"string"]}),i=F({get(){const p=Ln(e.field),f=gl(e.field),_=N.exports.get(e.field,`${p}.${f}`);return["_in","_nin"].includes(gl(e.field))?[..._.filter(v=>v!==null&&v!==""),null]:_},set(p){const f=Ln(e.field),_=gl(e.field);let v;["_in","_nin"].includes(_)?v=p.filter(y=>y!==null&&y!==""):v=p,t("update:field",sa(f,_,v))}}),r=F(()=>{var p,f,_,v;return It((v=(_=(f=(p=a.value)==null?void 0:p.meta)==null?void 0:f.options)==null?void 0:_.choices)!=null?v:[])});return{t:l,choices:r,fieldInfo:a,interfaceType:d,value:i,setValueAt:u,getComparator:gl};function u(p,f){let _=Array.isArray(i.value)?N.exports.clone(i.value):new Array(p+1);_[p]=f,i.value=_}}}),Ux={class:"and"};function Nx(e,t,n,l,a,d){var r,u,p,f,_,v,y,h;const i=c("input-component");return["_eq","_neq","_lt","_gt","_lte","_gte"].includes(e.getComparator(e.field))?(m(),C(i,{key:0,is:e.interfaceType,choices:e.choices,type:(u=(r=e.fieldInfo)==null?void 0:r.type)!=null?u:"unknown",value:e.value,onInput:t[0]||(t[0]=g=>e.value=g)},null,8,["is","choices","type","value"])):["_contains","_ncontains","_starts_with","_nstarts_with","_ends_with","_nends_with","_regex"].includes(e.getComparator(e.field))?(m(),C(i,{key:1,is:"interface-input",choices:e.choices,type:(f=(p=e.fieldInfo)==null?void 0:p.type)!=null?f:"unknown",value:e.value,onInput:t[1]||(t[1]=g=>e.value=g)},null,8,["choices","type","value"])):["_in","_nin"].includes(e.getComparator(e.field))?(m(),I("div",{key:2,class:ue(["list",{moveComma:e.interfaceType==="interface-input"}])},[(m(!0),I(ae,null,we(e.value,(g,b)=>{var $,A;return m(),I("div",{key:b,class:"value"},[o(i,{is:e.interfaceType,type:(A=($=e.fieldInfo)==null?void 0:$.type)!=null?A:"unknown",value:g,focus:!1,choices:e.choices,onInput:V=>e.setValueAt(b,V)},null,8,["is","type","value","choices","onInput"])])}),128))],2)):["_between","_nbetween"].includes(e.getComparator(e.field))?(m(),I(ae,{key:3},[o(i,{is:e.interfaceType,choices:e.choices,type:(v=(_=e.fieldInfo)==null?void 0:_.type)!=null?v:"unknown",value:e.value[0],onInput:t[2]||(t[2]=g=>e.setValueAt(0,g))},null,8,["is","choices","type","value"]),S("div",Ux,w(e.t("interfaces.filter.and")),1),o(i,{is:e.interfaceType,choices:e.choices,type:(h=(y=e.fieldInfo)==null?void 0:y.type)!=null?h:"unknown",value:e.value[1],onInput:t[3]||(t[3]=g=>e.setValueAt(1,g))},null,8,["is","choices","type","value"])],64)):R("",!0)}var Bx=z(Mx,[["render",Nx],["__scopeId","data-v-65360287"]]);const qx={class:"row"},zx={key:0,block:"",class:"node field"},Kx=["onClick"],Wx={class:"delete"},Hx={key:1,class:"node logic"},Gx=["onClick"],Zx={class:"text"},Jx={class:"delete"},Qx=K({props:{filter:null,collection:null,field:{default:void 0},depth:{default:1},inline:{type:Boolean,default:!1},includeValidation:{type:Boolean,default:!1}},emits:["remove-node","update:filter","change"],setup(e,{emit:t}){const n=e,{collection:l}=ze(n),a=Ke(n,"filter",t),d=Oe(),{t:i}=Y(),r=F({get(){return n.filter.map((g,b)=>{const $=xl(g),A=$.startsWith("_")===!1;return A?{id:b,isField:A,name:$,field:Ln(g),comparator:gl(g),node:g}:{id:b,name:$,isField:A,node:g}})},set(g){t("update:filter",g.map(b=>b.node))}});function u(g){const $=Ln(g).split(".");return $.map((V,T)=>{var q;const D=V.includes("(")&&V.includes(")");let O=V,M;if(D){const{field:G,fn:Q}=Zl(V);M=Q,O=G}const L=$.slice(0,T),j=d.getField(n.collection,[...L,O].join(".")),B=(q=j==null?void 0:j.name)!=null?q:O;return D?i(`functions.${M}`)+` (${B})`:B}).join(" -> ")}function p(g){return n.filter.findIndex(b=>b===g)}function f(g){const b=r.value[g];r.value[g].isField||("_and"in b.node?a.value=a.value.map(($,A)=>A===g?{_or:b.node._and}:$):a.value=a.value.map(($,A)=>A===g?{_and:b.node._or}:$))}function _(g,b){const $=r.value[g];if($.isField===!1)return;const A=$.field+"."+$.comparator;let V=N.exports.get($.node,A);switch(b){case"_in":case"_nin":T(Tl(V)||[]);break;case"_between":case"_nbetween":T((Tl(V)||[]).slice(0,2));break;case"_null":case"_nnull":case"_empty":case"_nempty":T(!0);break;case"_intersects":case"_nintersects":case"_intersects_bbox":case"_nintersects_bbox":["_intersects","_nintersects","_intersects_bbox","_nintersects_bbox"].includes($.comparator)?T(V):T(null);break;default:T(Array.isArray(V)?V[0]:V);break}function T(D){$.isField!==!1&&(a.value=a.value.map((O,M)=>M===g?sa($.field,b,D):O))}}function v(g,b){const $=r.value[g],A=d.getField(n.collection,$.name),V=d.getField(n.collection,b);if($.isField===!1)return;const T=$.field+"."+$.comparator;let D=N.exports.get($.node,T),O=$.comparator;(A==null?void 0:A.type)!==(V==null?void 0:V.type)&&(D=null,O=h(b)[0].value),a.value=a.value.map((M,L)=>L===g?sa(b,O,D):M)}function y(g,b){a.value=a.value.map(($,A)=>A===g?b:$)}function h(g){let b;if(g.includes("(")&&g.includes(")")){const $=g.split("(")[0];b=za($)}else{const $=d.getField(n.collection,g);b=($==null?void 0:$.type)||"unknown"}return qa(b,{includeValidation:!0}).map($=>({text:i(`operators.${$}`),value:`_${$}`}))}return(g,b)=>{const $=c("v-icon"),A=c("v-field-list"),V=c("v-menu"),T=c("v-select"),D=c("nodes",!0),O=$e("tooltip");return m(),C(W(Tt),{tag:"ul",draggable:".row",handle:".drag-handle",class:"group",list:W(a),group:{name:"g1"},"item-key":p,"swap-threshold":.3,"force-fallback":!0,onChange:b[1]||(b[1]=M=>g.$emit("change"))},{item:s(({element:M,index:L})=>[S("li",qx,[W(r)[L].isField?(m(),I("div",zx,[S("div",{class:ue(["header",{inline:e.inline}])},[o($,{name:"drag_indicator",class:"drag-handle",small:""}),o(V,{placement:"bottom-start","show-arrow":""},{activator:s(({toggle:j})=>[S("button",{class:"name",onClick:j},[S("span",null,w(u(M)),1)],8,Kx)]),default:s(()=>[o(A,{collection:W(l),field:e.field,"include-functions":"",onSelectField:j=>v(L,j)},null,8,["collection","field","onSelectField"])]),_:2},1024),o(T,{inline:"",class:"comparator",placement:"bottom-start","model-value":W(r)[L].comparator,items:h(W(r)[L].field),"onUpdate:modelValue":j=>_(L,j)},null,8,["model-value","items","onUpdate:modelValue"]),o(Bx,{field:M,collection:W(l),"onUpdate:field":j=>y(L,j)},null,8,["field","collection","onUpdate:field"]),S("span",Wx,[x(o($,{name:"close",small:"",clickable:"",onClick:j=>g.$emit("remove-node",[L])},null,8,["onClick"]),[[O,W(i)("delete_label")]])])],2)])):(m(),I("div",Hx,[S("div",{class:ue(["header",{inline:e.inline}])},[o($,{name:"drag_indicator",class:"drag-handle",small:""}),S("div",{class:ue(["logic-type",{or:W(r)[L].name==="_or"}])},[S("span",{class:"key",onClick:j=>f(L)},w(W(r)[L].name==="_and"?W(i)("interfaces.filter.logic_type_and"):W(i)("interfaces.filter.logic_type_or")),9,Gx),S("span",Zx,w(`\u2014 ${W(r)[L].name==="_and"?W(i)("interfaces.filter.all"):W(i)("interfaces.filter.any")} ${W(i)("interfaces.filter.of_the_following")}`),1)],2),S("span",Jx,[x(o($,{name:"close",small:"",clickable:"",onClick:j=>g.$emit("remove-node",[L])},null,8,["onClick"]),[[O,W(i)("delete_label")]])])],2),o(D,{filter:M[W(r)[L].name],collection:W(l),depth:e.depth+1,inline:e.inline,onChange:b[0]||(b[0]=j=>g.$emit("change")),onRemoveNode:j=>g.$emit("remove-node",[`${L}.${W(r)[L].name}`,...j]),"onUpdate:filter":j=>y(L,{[W(r)[L].name]:j})},null,8,["filter","collection","depth","inline","onRemoveNode","onUpdate:filter"])]))])]),_:1},8,["list","swap-threshold"])}}});var Xx=z(Qx,[["__scopeId","data-v-14952321"]]);const Yx={key:0,class:"no-rules"},xx={key:0,class:"buttons"},eee={key:1,class:"buttons"},tee=["onClick"],nee=K({props:{value:{default:void 0},disabled:{type:Boolean,default:!1},collectionName:{default:void 0},collectionField:{default:void 0},fieldName:{default:void 0},inline:{type:Boolean,default:!1},includeValidation:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:t}){const n=e,{t:l}=Y(),a=_t("values",E({})),d=F(()=>{var _;return n.collectionName?n.collectionName:(_=a.value[n.collectionField])!=null?_:null}),i=Oe(),r=F({get(){return!n.value||N.exports.isEmpty(n.value)?[]:xl(n.value)==="_and"?N.exports.cloneDeep(n.value._and):N.exports.cloneDeep([n.value])},set(_){_.length===0?t("input",null):t("input",{_and:_})}});function u(){r.value.length===0?t("input",null):t("input",{_and:r.value})}function p(_){if(_==="$group")r.value=r.value.concat({_and:[]});else{let v;if(_.includes("(")&&_.includes(")")){const g=_.split("(")[0];v=za(g)}else{const g=i.getField(d.value,_);v=(g==null?void 0:g.type)||"unknown"}const y=qa(v)[0],h=N.exports.set({},_,{["_"+y]:null});r.value=r.value.concat(h)}}function f(_){const v=_.pop();if(_.length===0){r.value=r.value.filter((h,g)=>g!==Number(v));return}let y=N.exports.get(r.value,_.join("."));y=y.filter((h,g)=>g!==Number(v)),r.value=N.exports.set(r.value,_.join("."),y)}return(_,v)=>{const y=c("v-notice"),h=c("v-list"),g=c("v-icon"),b=c("v-text-overflow"),$=c("v-list-item-content"),A=c("v-list-item"),V=c("v-divider"),T=c("v-field-list"),D=c("v-menu");return!e.collectionField&&!W(d)?(m(),C(y,{key:0,type:"warning"},{default:s(()=>[P(w(W(l)("collection_field_not_setup")),1)]),_:1})):W(d)?(m(),I("div",{key:2,class:ue(["system-filter",{inline:e.inline,empty:W(r).length===0,field:e.fieldName!==void 0}])},[o(h,{mandatory:!0},{default:s(()=>[W(r).length===0?(m(),I("div",Yx,w(W(l)("interfaces.filter.no_rules")),1)):(m(),C(Xx,{key:1,filter:W(r),"onUpdate:filter":v[0]||(v[0]=O=>kt(r)?r.value=O:null),collection:W(d),field:e.fieldName,depth:1,"include-validation":e.includeValidation,onRemoveNode:v[1]||(v[1]=O=>f(O)),onChange:u},null,8,["filter","collection","field","include-validation"]))]),_:1}),e.fieldName?(m(),I("div",xx,[S("button",{onClick:v[2]||(v[2]=O=>p(e.fieldName))},w(W(l)("interfaces.filter.add_filter")),1),S("button",{onClick:v[3]||(v[3]=O=>p("$group"))},w(W(l)("interfaces.filter.add_group")),1)])):(m(),I("div",eee,[o(D,{placement:"bottom-start","show-arrow":""},{activator:s(({toggle:O,active:M})=>[S("button",{class:ue(["add-filter",{active:M}]),onClick:O},[e.inline?(m(),C(g,{key:0,name:"add",class:"add",small:""})):R("",!0),S("span",null,w(W(l)("interfaces.filter.add_filter")),1),o(g,{name:"expand_more",class:"expand_more"})],10,tee)]),default:s(()=>[o(T,{collection:W(d),"include-functions":"",onSelectField:v[5]||(v[5]=O=>p(O))},{prepend:s(()=>[o(A,{clickable:"",onClick:v[4]||(v[4]=O=>p("$group"))},{default:s(()=>[o($,null,{default:s(()=>[o(b,{text:W(l)("interfaces.filter.add_group")},null,8,["text"])]),_:1})]),_:1}),o(V)]),_:1},8,["collection"])]),_:1})]))],2)):(m(),C(y,{key:1,type:"warning"},{default:s(()=>[P(w(W(l)("select_a_collection")),1)]),_:1}))}}});var lee=z(nee,[["__scopeId","data-v-33e49ea0"]]),oee=qe({id:"system-filter",name:"$t:interfaces.filter.name",icon:"search",component:lee,types:["json"],options:[],system:!0}),aee=Object.freeze(Object.defineProperty({__proto__:null,default:oee},Symbol.toStringTag,{value:"Module"}));const iee=K({name:"FolderListItem",props:{folder:{type:Object,required:!0},currentFolder:{type:String,default:null},disabled:{type:Boolean,default:!1},disabledFolders:{type:Array,default:()=>[]}},emits:["click"]});function ree(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-icon"),u=c("v-list-item-content"),p=c("v-list-item"),f=c("folder-list-item",!0),_=c("v-list-group");return!e.folder.children||e.folder.children.length===0?(m(),C(p,{key:0,active:e.currentFolder===e.folder.id,disabled:e.disabled,clickable:"",onClick:t[0]||(t[0]=v=>e.$emit("click",e.folder.id))},{default:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(u,null,{default:s(()=>[P(w(e.folder.name),1)]),_:1})]),_:1},8,["active","disabled"])):(m(),C(_,{key:1,clickable:"",active:e.currentFolder===e.folder.id,disabled:e.disabled,onClick:t[2]||(t[2]=v=>e.$emit("click",e.folder.id))},{activator:s(()=>[o(r,null,{default:s(()=>[o(i,{name:e.currentFolder===e.folder.id?"folder_open":"folder"},null,8,["name"])]),_:1}),o(u,null,{default:s(()=>[P(w(e.folder.name),1)]),_:1})]),default:s(()=>[(m(!0),I(ae,null,we(e.folder.children,v=>(m(),C(f,{key:v.id,folder:v,"current-folder":e.currentFolder,disabled:e.disabledFolders.includes(v.id),"disabled-folders":e.disabledFolders,onClick:t[1]||(t[1]=y=>e.$emit("click",y))},null,8,["folder","current-folder","disabled","disabled-folders"]))),128))]),_:1},8,["active","disabled"]))}var see=z(iee,[["render",ree]]);const dee=K({components:{FolderListItem:see},props:{value:{type:String,default:void 0},disabledFolders:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{nestedFolders:l,folders:a,loading:d}=il(),i=F(()=>{if(!e.value||!a.value)return n("interfaces.system-folder.root_name");const f=a.value.find(_=>_.id===e.value);return f?u(f,a.value).map(_=>_.name).join(" / "):e.value});return{emitValue:r,loading:d,folderPath:i,nestedFolders:l,onFolderSelect:p,t:n};function r(f){return t("input",f)}function u(f,_){const v=new Map(_.map(h=>[h.id,h])),y=h=>(v.has(h.parent)?y(v.get(h.parent)):[]).concat(h);return y(f)}function p(f){e.disabled||t("input",f)}}});function uee(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-icon"),u=c("v-input"),p=c("v-list-item-icon"),f=c("v-list-item-content"),_=c("v-list-item"),v=c("v-divider"),y=c("folder-list-item"),h=c("v-list"),g=c("v-menu");return e.loading?(m(),C(i,{key:0})):(m(),C(g,{key:1,class:"v-select",attached:!0,"show-arrow":!1,disabled:e.disabled,"close-on-content-click":!0},{activator:s(({toggle:b,active:$})=>[o(u,{readonly:"",active:$,"model-value":e.folderPath,placeholder:e.placeholder,disabled:e.disabled,onClick:b},{prepend:s(()=>[o(r,{name:e.value?"folder_open":"folder_special"},null,8,["name"])]),append:s(()=>[o(r,{name:"expand_more",class:ue({active:$})},null,8,["class"])]),_:2},1032,["active","model-value","placeholder","disabled","onClick"])]),default:s(()=>[o(h,null,{default:s(()=>[o(_,{clickable:"",active:!e.value,onClick:t[0]||(t[0]=b=>e.emitValue(null))},{default:s(()=>[o(p,null,{default:s(()=>[o(r,{name:"folder_special"})]),_:1}),o(f,null,{default:s(()=>[P(w(e.t("interfaces.system-folder.root_name")),1)]),_:1})]),_:1},8,["active"]),e.nestedFolders&&e.nestedFolders.length>0?(m(),C(v,{key:0})):R("",!0),(m(!0),I(ae,null,we(e.nestedFolders,b=>(m(),C(y,{key:b.id,clickbable:"",folder:b,"current-folder":e.value,disabled:e.disabledFolders.includes(b.id),"disabled-folders":e.disabledFolders,onClick:e.emitValue},null,8,["folder","current-folder","disabled","disabled-folders","onClick"]))),128))]),_:1})]),_:1},8,["disabled"]))}var cee=z(dee,[["render",uee],["__scopeId","data-v-243bccaf"]]),pee=qe({id:"system-folder",name:"$t:interfaces.system-folder.folder",description:"$t:interfaces.system-folder.description",icon:"folder",component:cee,types:["uuid"],options:[],system:!0,recommendedDisplays:["raw"]}),mee=Object.freeze(Object.defineProperty({__proto__:null,default:pee},Symbol.toStringTag,{value:"Module"}));const fee={class:"input-translated-string"},_ee=["disabled"],vee={key:0,class:"search"},yee=K({props:{value:{default:()=>null},disabled:{type:Boolean,default:!1},placeholder:{default:()=>null}},emits:["input"],setup(e,{emit:t}){const n=e,l="$t:",{t:a}=Y(),d=E(),i=E(!1),r=E(null),{translationStrings:u}=nl(),p=E(!1),f=E(null),_=F(()=>{var T;const V=(T=u.value)!=null?T:[];return r.value?V.filter(D=>{var O;return(O=D.key)==null?void 0:O.includes(r.value)}):V}),v=F({get(){return n.value},set(V){n.value!==V&&t("input",V)}});ge(()=>n.value,V=>b(V),{immediate:!0});const y=F(()=>v.value?h(v.value):null);function h(V){return V.substring(l.length)}function g(V){b(`${l}${V}`),d.value.deactivate(),r.value=null}function b(V){i.value=!1,V&&V.startsWith(l)&&_.value.find(T=>{var D;return(D=T.key)==null?void 0:D.includes(h(V))})&&(i.value=!0),v.value=V}function $(){d.value.deactivate(),p.value=!0}function A(V){V||(f.value=null,p.value=V)}return(V,T)=>{const D=c("v-icon"),O=c("v-input"),M=c("v-list-item-icon"),L=c("v-highlight"),j=c("v-list-item-content"),B=c("v-list-item"),q=c("v-list"),G=c("v-menu");return m(),I("div",fee,[o(G,{ref:(Q,ce)=>{ce.menuEl=Q,d.value=Q},disabled:e.disabled,"close-on-content-click":!1,attached:""},{activator:s(({toggle:Q,active:ce})=>[o(O,{class:"translation-input","model-value":W(v),placeholder:e.placeholder,disabled:e.disabled,active:ce,"onUpdate:modelValue":T[1]||(T[1]=J=>v.value=J)},ot({append:s(()=>[o(D,{name:"translate",class:ue(["translate-icon",{active:ce}]),clickable:"",disabled:e.disabled,onClick:Q},null,8,["class","disabled","onClick"])]),_:2},[i.value?{name:"input",fn:s(()=>[S("button",{disabled:e.disabled,onClick:T[0]||(T[0]=De(J=>b(null),["stop"]))},w(e.value&&h(e.value)),9,_ee)])}:void 0]),1032,["model-value","placeholder","disabled","active"])]),default:s(()=>[r.value!==null||W(_).length>=25?(m(),I("div",vee,[o(O,{class:"search-input",type:"text","model-value":r.value,autofocus:"",placeholder:W(a)("interfaces.input-translated-string.search_placeholder"),"onUpdate:modelValue":T[2]||(T[2]=Q=>r.value=Q)},{append:s(()=>[o(D,{name:"search",class:"search-icon"})]),_:1},8,["model-value","placeholder"])])):R("",!0),o(q,null,{default:s(()=>[(m(!0),I(ae,null,we(W(_),Q=>(m(),C(B,{key:Q.key,class:ue(["translation-key",{selected:W(v)&&Q.key===W(y)}]),clickable:"",onClick:ce=>g(Q.key)},{default:s(()=>[o(M,null,{default:s(()=>[o(D,{name:"translate"})]),_:1}),o(j,null,{default:s(()=>[o(L,{text:Q.key,query:r.value},null,8,["text","query"])]),_:2},1024),o(M,{class:"info"},{default:s(()=>[o(Nr,{translations:Q.translations,"hide-display-text":""},null,8,["translations"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),o(B,{class:"new-translation-string",clickable:"",onClick:$},{default:s(()=>[o(M,null,{default:s(()=>[o(D,{name:"add"})]),_:1}),o(j,null,{default:s(()=>[P(w(W(a)("interfaces.input-translated-string.new_translation_string")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled"]),o(Ur,{"model-value":p.value,"translation-string":f.value,"onUpdate:modelValue":A,onSavedKey:T[3]||(T[3]=Q=>b(`${l}${Q}`))},null,8,["model-value","translation-string"])])}}});var hee=z(yee,[["__scopeId","data-v-3aa4e5d0"]]),gee=`<svg width="156" height="96" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="18" y="17.037" width="120" height="62" rx="6" fill="var(--background-page)" />
	<rect x="19" y="18.037" width="118" height="60" rx="5" stroke="var(--primary)" stroke-opacity=".25"
		stroke-width="2" />
	<rect x="28" y="51" width="40" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="28" y="63" width="60" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<rect x="18" y="17" width="120" height="26" rx="6" fill="var(--background-page)" class="glow" />
	<rect x="19" y="18" width="118" height="24" rx="5" stroke="var(--primary)" stroke-width="2" />
	<rect x="28" y="27" width="70" height="6" rx="2" fill="var(--primary)" fill-opacity=".25" />
	<path d="m124.52 31.78-1.5-1.45.02-.03a10 10 0 0 0 2.16-3.8h1.73v-1.18h-4.1v-1.14h-1.15v1.14h-4.1v1.18h6.53a9.34 9.34 0 0 1-1.86 3.12 9.14 9.14 0 0 1-1.34-1.94h-1.18a10.89 10.89 0 0 0 1.75 2.65l-2.98 2.92.82.82 2.93-2.9 1.8 1.81.47-1.2zm3.28-2.96h-1.17l-2.63 7h1.18l.65-1.75h2.76l.66 1.75h1.18l-2.63-7zm-1.53 4.1.93-2.54.96 2.55h-1.89z" fill="var(--primary)"/>
</svg>
`,bee=qe({id:"system-input-translated-string",name:"$t:interfaces.input-translated-string.input-translated-string",description:"$t:interfaces.input-translated-string.description",icon:"translate",component:hee,system:!0,types:["string","text"],group:"standard",preview:gee,options:[{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"input",options:{placeholder:"$t:enter_a_placeholder"}}}]}),wee=Object.freeze(Object.defineProperty({__proto__:null,default:bee},Symbol.toStringTag,{value:"Module"}));const kee=K({props:{value:{type:String,default:null},typeField:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),{interfaces:l}=kn(),a=_t("values",E({})),d=F(()=>{if(!(e.typeField===null||!a.value[e.typeField]))return a.value[e.typeField]});ge(()=>a.value[e.typeField],()=>{t("input",null)});const i=F(()=>l.value.filter(r=>r.relational!==!0&&r.system!==!0).filter(r=>d.value===void 0||r.types.includes(d.value)).map(r=>({text:r.name,value:r.id})));return{t:n,items:i,selectedType:d,values:a}}});function $ee(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-select");return e.selectedType===void 0?(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("select_field_type")),1)]),_:1})):(m(),C(r,{key:1,items:e.items,"model-value":e.value,placeholder:e.t("interfaces.system-interface.placeholder"),"onUpdate:modelValue":t[0]||(t[0]=u=>e.$emit("input",u))},null,8,["items","model-value","placeholder"]))}var See=z(kee,[["render",$ee]]),Cee=qe({id:"system-interface",name:"$t:interfaces.system-interface.interface",description:"$t:interfaces.system-interface.description",icon:"box",component:See,types:["string"],system:!0,options:[]}),Vee=Object.freeze(Object.defineProperty({__proto__:null,default:Cee},Symbol.toStringTag,{value:"Module"}));const Fee=K({props:{value:{type:Object,default:null},interfaceField:{type:String,default:null},interface:{type:String,default:null},collection:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=F({get(){return e.value},set(u){t("input",u)}}),a=_t("values",E({})),d=F(()=>{if(e.interface)return Pt(e.interface);if(!!a.value[e.interfaceField])return Pt(a.value[e.interfaceField])}),i=F(()=>d.value?d.value.options&&"render"in d.value.options:!1),r=F(()=>{if(!d.value)return[];if(!d.value.options)return[];if(i.value===!0)return[];let u;return typeof d.value.options=="function"?u=d.value.options({field:{type:"unknown"},editing:"+",collection:e.collection,relations:{o2m:void 0,m2o:void 0,m2a:void 0},collections:{related:void 0,junction:void 0},fields:{corresponding:void 0,junctionCurrent:void 0,junctionRelated:void 0,sort:void 0},items:{},localType:"standard",autoGenerateJunctionRelation:!1,saving:!1}):u=d.value.options,Array.isArray(u)?u:[...u.standard,...u.advanced]});return{t:n,selectedInterface:d,values:a,usesCustomComponent:i,optionsFields:r,options:l}}}),Aee={key:2,class:"inset"};function Iee(e,t,n,l,a,d){const i=c("v-notice"),r=c("v-form");return e.selectedInterface?e.usesCustomComponent===!1&&e.optionsFields.length===0?(m(),C(i,{key:1},{default:s(()=>[P(w(e.t("no_options_available")),1)]),_:1})):(m(),I("div",Aee,[e.usesCustomComponent===!1?(m(),C(r,{key:0,modelValue:e.options,"onUpdate:modelValue":t[0]||(t[0]=u=>e.options=u),class:"extension-options",fields:e.optionsFields,"primary-key":"+"},null,8,["modelValue","fields"])):(m(),C(Be(`interface-options-${e.selectedInterface.id}`),{key:1,value:e.value,collection:e.collection,onInput:t[1]||(t[1]=u=>e.$emit("input",u))},null,8,["value","collection"]))])):(m(),C(i,{key:0},{default:s(()=>[P(w(e.t("select_interface")),1)]),_:1}))}var Eee=z(Fee,[["render",Iee],["__scopeId","data-v-001458ae"]]),Dee=qe({id:"system-interface-options",name:"$t:interfaces.system-interface-options.interface-options",description:"$t:interfaces.system-interface-options.description",icon:"box",component:Eee,types:["string"],options:[],system:!0}),Tee=Object.freeze(Object.defineProperty({__proto__:null,default:Dee},Symbol.toStringTag,{value:"Module"}));const Pee=K({props:{disabled:{type:Boolean,default:!1},value:{type:String,default:null},includeProjectDefault:{type:Boolean,default:!0}},emits:["input"],setup(e){const{t}=Y(),n=Object.entries(Na).map(([l,a])=>({text:a,value:l}));return e.includeProjectDefault&&n.splice(0,0,{text:t("fields.directus_settings.default_language"),value:null}),{t,languages:n}}});function Oee(e,t,n,l,a,d){const i=c("v-select");return m(),C(i,{"model-value":e.value,items:e.languages,disabled:e.disabled,placeholder:e.t("language_placeholder"),"onUpdate:modelValue":t[0]||(t[0]=r=>e.$emit("input",r))},null,8,["model-value","items","disabled","placeholder"])}var Lee=z(Pee,[["render",Oee]]),jee=qe({id:"system-language",name:"$t:language",icon:"translate",component:Lee,system:!0,types:["string"],options:[]}),Ree=Object.freeze(Object.defineProperty({__proto__:null,default:jee},Symbol.toStringTag,{value:"Module"}));const Mee=K({props:{value:{type:String,default:null},primaryKey:{type:String,default:null}},setup(e){const{t}=Y(),n=He(),l=E(!!e.value),a=E(!1),d=E(!1),i=E(!1),r=E(!1),u=$t(),p=E(),f=E(""),_=E(),v=E("");st(()=>{v.value=""}),ge(()=>e.value,()=>{l.value=!!e.value},{immediate:!0});const y=F(()=>{var V;return((V=n.currentUser)==null?void 0:V.id)===e.primaryKey});return{t,tfaEnabled:l,tfaGenerated:a,generateTFA:g,cancelAndClose:b,enableTFA:$,toggle:h,password:v,enableActive:d,disableActive:i,loading:r,canvasID:u,secret:p,disableTFA:A,otp:f,error:_,isCurrentUser:y};function h(){l.value===!1?d.value=!0:i.value=!0}async function g(){if(r.value!==!0){r.value=!0;try{const V=await pe.post("/users/me/tfa/generate",{password:v.value}),T=V.data.data.otpauth_url;p.value=V.data.data.secret,await su.toCanvas(document.getElementById(u),T),a.value=!0,_.value=null}catch(V){_.value=V}finally{r.value=!1}}}function b(){a.value=!1,d.value=!1,v.value="",f.value="",p.value=""}async function $(){if(r.value!==!0){r.value=!0;try{await pe.post("/users/me/tfa/enable",{otp:f.value,secret:p.value}),l.value=!0,a.value=!1,d.value=!1,v.value="",f.value="",p.value="",_.value=null}catch(V){_.value=V}finally{r.value=!1}}}async function A(){r.value=!0;try{await pe.post("/users/me/tfa/disable",{otp:f.value}),l.value=!1,i.value=!1,f.value=""}catch(V){_.value=V}finally{r.value=!1}}}}),Uee=e=>(Xe("data-v-855b3ebc"),e=e(),Ye(),e),Nee=Uee(()=>S("div",{class:"spacer"},null,-1)),Bee=["id"],qee={class:"secret selectable"};function zee(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-checkbox"),u=c("v-card-title"),p=c("v-input"),f=c("v-error"),_=c("v-card-text"),v=c("v-button"),y=c("v-card-actions"),h=c("v-progress-circular"),g=c("v-card"),b=c("v-dialog");return m(),I("div",null,[o(r,{block:"","model-value":e.tfaEnabled,disabled:!e.isCurrentUser,onClick:e.toggle},{append:s(()=>[o(i,{name:"launch",class:ue(["checkbox-icon",{enabled:e.tfaEnabled}])},null,8,["class"])]),default:s(()=>[P(w(e.tfaEnabled?e.t("enabled"):e.t("disabled"))+" ",1),Nee]),_:1},8,["model-value","disabled","onClick"]),o(b,{modelValue:e.enableActive,"onUpdate:modelValue":t[4]||(t[4]=$=>e.enableActive=$),persistent:"",onEsc:e.cancelAndClose},{default:s(()=>[o(g,null,{default:s(()=>[e.tfaEnabled===!1&&e.tfaGenerated===!1&&e.loading===!1?(m(),I("form",{key:0,onSubmit:t[1]||(t[1]=De((...$)=>e.generateTFA&&e.generateTFA(...$),["prevent"]))},[o(u,null,{default:s(()=>[P(w(e.t("enter_password_to_enable_tfa")),1)]),_:1}),o(_,null,{default:s(()=>[o(p,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=$=>e.password=$),nullable:!1,type:"password",placeholder:e.t("password")},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:s(()=>[o(v,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(v,{type:"submit",loading:e.loading},{default:s(()=>[P(w(e.t("next")),1)]),_:1},8,["loading"])]),_:1})],32)):e.loading===!0?(m(),C(h,{key:1,class:"loader",indeterminate:""})):R("",!0),x(S("div",null,[S("form",{onSubmit:t[3]||(t[3]=De((...$)=>e.enableTFA&&e.enableTFA(...$),["prevent"]))},[o(u,null,{default:s(()=>[P(w(e.t("tfa_scan_code")),1)]),_:1}),o(_,null,{default:s(()=>[S("canvas",{id:e.canvasID,class:"qr"},null,8,Bee),S("output",qee,w(e.secret),1),o(p,{modelValue:e.otp,"onUpdate:modelValue":t[2]||(t[2]=$=>e.otp=$),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:s(()=>[o(v,{type:"button",secondary:"",onClick:e.cancelAndClose},{default:s(()=>[P(w(e.t("cancel")),1)]),_:1},8,["onClick"]),o(v,{type:"submit",disabled:e.otp.length!==6,onClick:e.enableTFA},{default:s(()=>[P(w(e.t("done")),1)]),_:1},8,["disabled","onClick"])]),_:1})],32)],512),[[Mt,e.tfaEnabled===!1&&e.tfaGenerated===!0&&e.loading===!1]])]),_:1})]),_:1},8,["modelValue","onEsc"]),o(b,{modelValue:e.disableActive,"onUpdate:modelValue":t[7]||(t[7]=$=>e.disableActive=$),onEsc:t[8]||(t[8]=$=>e.disableActive=!1)},{default:s(()=>[o(g,null,{default:s(()=>[S("form",{onSubmit:t[6]||(t[6]=De((...$)=>e.disableTFA&&e.disableTFA(...$),["prevent"]))},[o(u,null,{default:s(()=>[P(w(e.t("enter_otp_to_disable_tfa")),1)]),_:1}),o(_,null,{default:s(()=>[o(p,{modelValue:e.otp,"onUpdate:modelValue":t[5]||(t[5]=$=>e.otp=$),type:"text",placeholder:e.t("otp"),nullable:!1},null,8,["modelValue","placeholder"]),e.error?(m(),C(f,{key:0,error:e.error},null,8,["error"])):R("",!0)]),_:1}),o(y,null,{default:s(()=>[o(v,{type:"submit",kind:"warning",loading:e.loading,disabled:e.otp.length!==6},{default:s(()=>[P(w(e.t("disable_tfa")),1)]),_:1},8,["loading","disabled"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])])}var Kee=z(Mee,[["render",zee],["__scopeId","data-v-855b3ebc"]]),Wee=qe({id:"system-mfa-setup",name:"mfa-setup",icon:"box",component:Kee,types:["text"],options:[],system:!0}),Hee=Object.freeze(Object.defineProperty({__proto__:null,default:Wee},Symbol.toStringTag,{value:"Module"}));const Gee=[{field:"name",name:"$t:name",meta:{required:!0,interface:"input",width:"half-left",options:{placeholder:"$t:enter_a_name"}}},{field:"icon",name:"$t:icon",meta:{required:!0,interface:"select-icon",width:"half-right"}},{field:"url",name:"$t:url",meta:{required:!0,interface:"input",options:{placeholder:"https://example.com"}}}],Zee=K({name:"SystemModules",components:{Draggable:Tt},props:{value:{type:Array,default:()=>Fn}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(),a=E(),d=E(),{modules:i}=El(),r=F(()=>i.value.filter(g=>g.hidden!==!0).map(g=>({type:"module",id:g.id,enabled:!1}))),u=F({get(){var b,$;const g=((b=e.value)!=null?b:Fn).filter(A=>A.type==="module").map(A=>A.id);return p([...($=e.value)!=null?$:Fn,...r.value.filter(A=>g.includes(A.id)===!1)])},set(g){t("input",f(g))}});return{t:n,editing:l,valuesWithData:u,hideDragImage:Qt,updateItem:_,edit:v,linkFields:Gee,save:y,values:a,remove:h,initialValues:d};function p(g){return g.filter(b=>b.type==="link"?!0:!!i.value.find($=>$.id===b.id)).map(b=>{if(b.type==="link")return Fe(fe({},b),{to:b.url,icon:b.icon,name:b.name});const $=i.value.find(A=>A.id===b.id);return Fe(fe({},b),{to:`/${$.id}`,name:$.name,icon:$.icon})})}function f(g){return g.map(b=>{if(b.type==="link"){const{type:D,id:O,name:M,url:L,icon:j,enabled:B,locked:q}=b;return{type:D,id:O,name:M,url:L,icon:j,enabled:B,locked:q}}const{type:$,id:A,enabled:V,locked:T}=b;return{type:$,id:A,enabled:V,locked:T}})}function _(g,b){u.value=u.value.map($=>$===g?N.exports.assign({},g,b):$)}function v(g){var $;l.value=g;let b;g!=="+"?b=(($=e.value)!=null?$:Fn).find(A=>A.id===g):b={id:$t(),type:"link",enabled:!0,url:"",name:"",icon:""},a.value=b,d.value=b}function y(){var g,b;l.value==="+"?t("input",[...(g=e.value)!=null?g:Fn,a.value]):t("input",((b=e.value)!=null?b:Fn).map($=>$.id===l.value?a.value:$)),a.value=null,l.value=null}function h(g){var b;t("input",((b=e.value)!=null?b:Fn).filter($=>$.id!==g))}}}),Jee=e=>(Xe("data-v-006bc8b7"),e=e(),Ye(),e),Qee={class:"system-modules"},Xee={class:"info"},Yee={class:"name"},xee={class:"to"},ete=Jee(()=>S("div",{class:"spacer"},null,-1)),tte={class:"drawer-content"};function nte(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item"),u=c("draggable"),p=c("v-list"),f=c("v-button"),_=c("v-form"),v=c("v-drawer"),y=$e("tooltip");return m(),I("div",Qee,[o(p,{class:"list"},{default:s(()=>[o(u,{modelValue:e.valuesWithData,"onUpdate:modelValue":t[0]||(t[0]=h=>e.valuesWithData=h),"force-fallback":!0,"set-data":e.hideDragImage,"item-key":"id",handle:".drag-handle",animation:150},{item:s(({element:h})=>[o(r,{block:"",class:ue({enabled:h.enabled}),clickable:h.type==="link",onClick:g=>h.type==="link"?e.edit(h.id):void 0},{default:s(()=>[o(i,{class:"drag-handle",name:"drag_handle"}),o(i,{class:"icon",name:h.icon},null,8,["name"]),S("div",Xee,[S("div",Yee,w(h.name),1),S("div",xee,w(h.to),1)]),ete,h.locked===!0?(m(),C(i,{key:0,name:"lock"})):h.type==="link"?(m(),C(i,{key:1,name:"clear",onClick:De(g=>e.remove(h.id),["stop"])},null,8,["onClick"])):(m(),C(i,{key:2,name:h.enabled?"check_box":"check_box_outline_blank",clickable:"",onClick:De(g=>e.updateItem(h,{enabled:!h.enabled}),["stop"])},null,8,["name","onClick"]))]),_:2},1032,["class","clickable","onClick"])]),_:1},8,["modelValue","set-data"])]),_:1}),o(f,{onClick:t[1]||(t[1]=h=>e.edit("+"))},{default:s(()=>[P(w(e.t("add_link")),1)]),_:1}),o(v,{title:e.t("custom_link"),"model-value":!!e.editing,icon:"link","onUpdate:modelValue":t[3]||(t[3]=h=>e.editing=null),onCancel:t[4]||(t[4]=h=>e.editing=null)},{actions:s(()=>[x(o(f,{icon:"",rounded:"",onClick:e.save},{default:s(()=>[o(i,{name:"check"})]),_:1},8,["onClick"]),[[y,e.t("save"),void 0,{bottom:!0}]])]),default:s(()=>[S("div",tte,[o(_,{modelValue:e.values,"onUpdate:modelValue":t[2]||(t[2]=h=>e.values=h),"initial-values":e.initialValues,fields:e.linkFields},null,8,["modelValue","initial-values","fields"])])]),_:1},8,["title","model-value"])])}var lte=z(Zee,[["render",nte],["__scopeId","data-v-006bc8b7"]]),ote=qe({id:"system-modules",name:"$t:module_bar",icon:"arrow_drop_down_circle",component:lte,types:["json"],options:[],system:!0}),ate=Object.freeze(Object.defineProperty({__proto__:null,default:ote},Symbol.toStringTag,{value:"Module"}));const ite=K({components:{DrawerCollection:sn},props:{value:{type:String,default:null}},emits:["input"],setup(e,{emit:t}){const{t:n}=Y(),l=E(null),a=E(null),d=E(!1),i=F(()=>e.value!==null&&(e.value.startsWith("role_")||e.value.startsWith("user_")));return ge(()=>e.value,f),f(),{options:F(()=>{let _=[{text:n("global")+": "+n("all_users"),value:"all"},{text:n("user")+": "+n("select"),value:"directus_users"},{text:n("role")+": "+n("select"),value:"directus_roles"}];if(i.value){const[v,y]=e.value.split("_");_=[{text:n(v)+": "+(a.value||y),value:e.value},{divider:!0},..._]}return _}),collection:l,onSelect:u,onSelectItem:p,loading:d};function u(_){if(_==="all")return l.value=null,t("input","all");l.value=_}function p(_){if(l.value==="directus_users")return t("input","user_"+_[0]);if(l.value==="directus_roles")return t("input","role_"+_[0])}async function f(){if(!i.value){a.value=null;return}d.value=!0;const[_,v]=e.value.split("_");if(_==="role"){const y=await pe.get("/roles/"+v,{params:{fields:["id","name"]}});a.value=y.data.data.name}else if(_==="user"){const y=await pe.get("/users/"+v,{params:{fields:["id","first_name","last_name","email"]}});a.value=Et(y.data.data)}d.value=!1}}});function rte(e,t,n,l,a,d){const i=c("v-skeleton-loader"),r=c("v-select"),u=c("drawer-collection");return m(),I("div",null,[e.loading?(m(),C(i,{key:0})):(m(),C(r,{key:1,"model-value":e.value,items:e.options,"onUpdate:modelValue":e.onSelect},null,8,["model-value","items","onUpdate:modelValue"])),e.collection!==null?(m(),C(u,{key:2,active:e.collection!==null,collection:e.collection,"onUpdate:active":t[0]||(t[0]=p=>e.collection=null),onInput:e.onSelectItem},null,8,["active","collection","onInput"])):R("",!0)])}var ste=z(ite,[["render",rte]]),dte=qe({id:"system-scope",name:"$t:scope",icon:"arrow_drop_down_circle",component:ste,types:["string"],options:[],system:!0}),ute=Object.freeze(Object.defineProperty({__proto__:null,default:dte},Symbol.toStringTag,{value:"Module"}));const{interfacesRaw:Bs}=kn();async function cte(e){const n=Object.values({"./boolean/index.ts":BH,"./datetime/index.ts":GH,"./file/index.ts":nG,"./file-image/index.ts":bG,"./files/index.ts":EG,"./group-accordion/index.ts":BG,"./group-detail/index.ts":ZG,"./group-raw/index.ts":tZ,"./input/index.ts":rZ,"./input-autocomplete-api/index.ts":fZ,"./input-code/index.ts":$Z,"./input-hash/index.ts":IZ,"./input-multiline/index.ts":LZ,"./input-rich-text-html/index.ts":UZ,"./input-rich-text-md/index.ts":aJ,"./list/index.ts":CJ,"./list-m2a/index.ts":MJ,"./list-m2m/index.ts":ZJ,"./list-o2m/index.ts":oQ,"./list-o2m-tree-view/index.ts":$Q,"./map/index.ts":GQ,"./presentation-divider/index.ts":xQ,"./presentation-links/index.ts":rX,"./presentation-notice/index.ts":fX,"./select-color/index.ts":kX,"./select-dropdown/index.ts":AX,"./select-dropdown-m2o/index.ts":jX,"./select-icon/index.ts":zX,"./select-multiple-checkbox/index.ts":QX,"./select-multiple-checkbox-tree/index.ts":iY,"./select-multiple-dropdown/index.ts":pY,"./select-radio/index.ts":gY,"./slider/index.ts":CY,"./tags/index.ts":LY,"./translations/index.ts":JY,"./_system/system-collection/index.ts":ex,"./_system/system-collections/index.ts":ax,"./_system/system-display-template/index.ts":cx,"./_system/system-field/index.ts":vx,"./_system/system-field-tree/index.ts":kx,"./_system/system-fields/index.ts":Ex,"./_system/system-filter/index.ts":aee,"./_system/system-folder/index.ts":mee,"./_system/system-input-translated-string/index.ts":wee,"./_system/system-interface/index.ts":Vee,"./_system/system-interface-options/index.ts":Tee,"./_system/system-language/index.ts":Ree,"./_system/system-mfa-setup/index.ts":Hee,"./_system/system-modules/index.ts":ate,"./_system/system-scope/index.ts":ute}).map(l=>l.default);try{const l=await U(()=>import(`${Ze()}extensions/interfaces/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom interfaces"),console.warn(l)}Bs.value=n,Bs.value.forEach(l=>{e.component(`interface-${l.id}`,l.component),typeof l.options!="function"&&Array.isArray(l.options)===!1&&l.options!==null&&e.component(`interface-options-${l.id}`,l.options)})}function pte(e){switch(e){case"af":return U(()=>import("./af.b15e3fdc.js").then(function(t){return t.a}),[]);case"ar-dz":return U(()=>import("./ar-dz.5481d0db.js").then(function(t){return t.a}),[]);case"ar-kw":return U(()=>import("./ar-kw.77cb7412.js").then(function(t){return t.a}),[]);case"ar-ly":return U(()=>import("./ar-ly.d2852686.js").then(function(t){return t.a}),[]);case"ar-ma":return U(()=>import("./ar-ma.6b2052c4.js").then(function(t){return t.a}),[]);case"ar-sa":return U(()=>import("./ar-sa.0ce4896b.js").then(function(t){return t.a}),[]);case"ar-tn":return U(()=>import("./ar-tn.0075ee1e.js").then(function(t){return t.a}),[]);case"ar":return U(()=>import("./ar.01c8813a.js").then(function(t){return t.a}),[]);case"az":return U(()=>import("./az.839e5437.js").then(function(t){return t.a}),[]);case"bg":return U(()=>import("./bg.71bbc37d.js").then(function(t){return t.b}),[]);case"bn":return U(()=>import("./bn.28eb3677.js").then(function(t){return t.b}),[]);case"bs":return U(()=>import("./bs.b0570362.js").then(function(t){return t.b}),[]);case"ca":return U(()=>import("./ca.d17b0b48.js").then(function(t){return t.c}),[]);case"cs":return U(()=>import("./cs.23d06f43.js").then(function(t){return t.c}),[]);case"cy":return U(()=>import("./cy.3b5a8132.js").then(function(t){return t.c}),[]);case"da":return U(()=>import("./da.18bc0ec4.js").then(function(t){return t.d}),[]);case"de-at":return U(()=>import("./de-at.a1f7dd1d.js").then(function(t){return t.d}),[]);case"de":return U(()=>import("./de.a8c4aad1.js").then(function(t){return t.d}),[]);case"el":return U(()=>import("./el.fd48dbad.js").then(function(t){return t.e}),[]);case"en-au":return U(()=>import("./en-au.1268cbf1.js").then(function(t){return t.e}),[]);case"en-gb":return U(()=>import("./en-gb.0165e0db.js").then(function(t){return t.e}),[]);case"en-nz":return U(()=>import("./en-nz.01361cd3.js").then(function(t){return t.e}),[]);case"eo":return U(()=>import("./eo.7ba085ab.js").then(function(t){return t.e}),[]);case"es-us":return U(()=>import("./es-us.8d0a5dcc.js").then(function(t){return t.e}),[]);case"es":return U(()=>import("./es.33209895.js").then(function(t){return t.e}),[]);case"et":return U(()=>import("./et.d879b698.js").then(function(t){return t.e}),[]);case"eu":return U(()=>import("./eu.bfb2c22e.js").then(function(t){return t.e}),[]);case"fa":return U(()=>import("./fa.d9f705ee.js").then(function(t){return t.f}),[]);case"fi":return U(()=>import("./fi.5a2e9662.js").then(function(t){return t.f}),[]);case"fr-ca":return U(()=>import("./fr-ca.cd8c81b9.js").then(function(t){return t.f}),[]);case"fr-ch":return U(()=>import("./fr-ch.d9522a23.js").then(function(t){return t.f}),[]);case"fr":return U(()=>import("./fr.56b3c7ac.js").then(function(t){return t.f}),[]);case"gl":return U(()=>import("./gl.addde635.js").then(function(t){return t.g}),[]);case"he":return U(()=>import("./he.343cc1d8.js").then(function(t){return t.h}),[]);case"hi":return U(()=>import("./hi.b7726273.js").then(function(t){return t.h}),[]);case"hr":return U(()=>import("./hr.2709fc3c.js").then(function(t){return t.h}),[]);case"hu":return U(()=>import("./hu.ec48b74d.js").then(function(t){return t.h}),[]);case"hy-am":return U(()=>import("./hy-am.30c58054.js").then(function(t){return t.h}),[]);case"id":return U(()=>import("./id.08bda718.js").then(function(t){return t.i}),[]);case"is":return U(()=>import("./is.b36ebc71.js").then(function(t){return t.i}),[]);case"it":return U(()=>import("./it.3cadf6ad.js").then(function(t){return t.i}),[]);case"ja":return U(()=>import("./ja.df6f4b08.js").then(function(t){return t.j}),[]);case"ka":return U(()=>import("./ka.805bf11c.js").then(function(t){return t.k}),[]);case"kk":return U(()=>import("./kk.a6e57d44.js").then(function(t){return t.k}),[]);case"ko":return U(()=>import("./ko.08fe68a9.js").then(function(t){return t.k}),[]);case"lb":return U(()=>import("./lb.e01f5df5.js").then(function(t){return t.l}),[]);case"lt":return U(()=>import("./lt.0d291ae5.js").then(function(t){return t.l}),[]);case"lv":return U(()=>import("./lv.00399f94.js").then(function(t){return t.l}),[]);case"mk":return U(()=>import("./mk.5d734698.js").then(function(t){return t.m}),[]);case"ms":return U(()=>import("./ms.d459f765.js").then(function(t){return t.m}),[]);case"nb":return U(()=>import("./nb.a3febc82.js").then(function(t){return t.n}),[]);case"ne":return U(()=>import("./ne.afdfe3bf.js").then(function(t){return t.n}),[]);case"nl":return U(()=>import("./nl.12cdd5b8.js").then(function(t){return t.n}),[]);case"nn":return U(()=>import("./nn.535723b4.js").then(function(t){return t.n}),[]);case"pl":return U(()=>import("./pl.86440e6e.js").then(function(t){return t.p}),[]);case"pt-br":return U(()=>import("./pt-br.cc4b694f.js").then(function(t){return t.p}),[]);case"pt":return U(()=>import("./pt.73886c02.js").then(function(t){return t.p}),[]);case"ro":return U(()=>import("./ro.c45ba3d9.js").then(function(t){return t.r}),[]);case"ru":return U(()=>import("./ru.638f4fa4.js").then(function(t){return t.r}),[]);case"sk":return U(()=>import("./sk.883343ad.js").then(function(t){return t.s}),[]);case"sl":return U(()=>import("./sl.9c1d7271.js").then(function(t){return t.s}),[]);case"sq":return U(()=>import("./sq.94f802c2.js").then(function(t){return t.s}),[]);case"sr-cyrl":return U(()=>import("./sr-cyrl.cf2bde33.js").then(function(t){return t.s}),[]);case"sr":return U(()=>import("./sr.ae9ed7f6.js").then(function(t){return t.s}),[]);case"sv":return U(()=>import("./sv.4d9818be.js").then(function(t){return t.s}),[]);case"ta-in":return U(()=>import("./ta-in.58b9457c.js").then(function(t){return t.t}),[]);case"th":return U(()=>import("./th.2e10ae87.js").then(function(t){return t.t}),[]);case"tr":return U(()=>import("./tr.56778c02.js").then(function(t){return t.t}),[]);case"ug":return U(()=>import("./ug.6363a215.js").then(function(t){return t.u}),[]);case"uk":return U(()=>import("./uk.5a9060bd.js").then(function(t){return t.u}),[]);case"uz":return U(()=>import("./uz.687d7fbd.js").then(function(t){return t.u}),[]);case"vi":return U(()=>import("./vi.2bf54ce7.js").then(function(t){return t.v}),[]);case"zh-cn":return U(()=>import("./zh-cn.aac76920.js").then(function(t){return t.z}),[]);case"zh-tw":return U(()=>import("./zh-tw.d89266cf.js").then(function(t){return t.z}),[]);default:return Promise.resolve()}}async function mte(e){const t=[e,e.split("-")[0],"en-US"];let n;for(const l of t)try{const a=await pte(l);n=a.default.default||a.default;break}catch{continue}return n}const fte=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,default:null}}}),_te={key:0,class:"item-count"};function vte(e,t,n,l,a,d){return m(),C(Ut,{name:"fade"},{default:s(()=>[e.itemCount?(m(),I("span",_te,w(e.showingCount),1)):R("",!0)]),_:1})}var yte=z(fte,[["render",vte],["__scopeId","data-v-ceefb89c"]]);const hte=K({inheritAttrs:!1,props:{createCalendar:{type:Function,required:!0},destroyCalendar:{type:Function,required:!0}},emits:["update:selection"],setup(e){const t=E();return st(()=>{e.createCalendar(t.value)}),Dt(()=>{e.destroyCalendar()}),{calendarElement:t}}}),gte={class:"calendar-layout"},bte={ref:"calendarElement"};function wte(e,t,n,l,a,d){return m(),I("div",gte,[S("div",bte,null,512)])}var kte=z(hte,[["render",wte],["__scopeId","data-v-028014b2"]]);const $te=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},template:{type:String,default:null},dateFields:{type:Array,required:!0},startDateField:{type:String,default:null},endDateField:{type:String,default:null}},emits:["update:template","update:startDateField","update:endDateField"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"template",t),a=Ke(e,"startDateField",t),d=Ke(e,"endDateField",t);return{t:n,templateWritable:l,startDateFieldWritable:a,endDateFieldWritable:d}}}),Ste={class:"field"},Cte={class:"type-label"},Vte={class:"field"},Fte={class:"type-label"},Ate={class:"field"},Ite={class:"type-label"};function Ete(e,t,n,l,a,d){const i=c("v-field-template"),r=c("v-select");return m(),I(ae,null,[S("div",Ste,[S("div",Cte,w(e.t("display_template")),1),o(i,{modelValue:e.templateWritable,"onUpdate:modelValue":t[0]||(t[0]=u=>e.templateWritable=u),collection:e.collection},null,8,["modelValue","collection"])]),S("div",Vte,[S("div",Fte,w(e.t("layouts.calendar.start_date_field")),1),o(r,{modelValue:e.startDateFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=u=>e.startDateFieldWritable=u),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])]),S("div",Ate,[S("div",Ite,w(e.t("layouts.calendar.end_date_field")),1),o(r,{modelValue:e.endDateFieldWritable,"onUpdate:modelValue":t[2]||(t[2]=u=>e.endDateFieldWritable=u),"show-deselect":"",items:e.dateFields,"item-text":"name","item-value":"field"},null,8,["modelValue","items"])])],64)}var Dte=z($te,[["render",Ete]]),Tte=Fl({id:"calendar",name:"$t:layouts.calendar.calendar",icon:"event",component:kte,slots:{options:Dte,sidebar:()=>{},actions:yte},setup(e,{emit:t}){const{t:n,locale:l}=Y(),a=E(),d=Vt(),i=Ke(e,"selection",t),r=Ke(e,"layoutOptions",t),{collection:u,filter:p,search:f}=ze(e),{primaryKeyField:_,fields:v}=rt(u),y=F(()=>v.value.filter(Z=>["timestamp","dateTime","date"].includes(Z.type))),h=F(()=>{if(!a.value||!A.value)return;const Z=xn(a.value.view.activeStart),se=xn(a.value.view.activeEnd),X={[A.value]:{_between:[Z,se]}};if(!T.value)return X;const re={[T.value]:{_between:[Z,se]}},ve={[A.value]:{_lte:Z}},H={[T.value]:{_gte:se}};return{_or:[X,re,{_and:[ve,H]}]}}),g=F(()=>h.value?p.value?{_and:[p.value,h.value]}:null:p.value),b=vt(r,"template",void 0),$=vt(r,"viewInfo",void 0),A=vt(r,"startDateField",void 0),V=F(()=>v.value.find(Z=>Z.field===A.value)),T=vt(r,"endDateField",void 0),D=F(()=>v.value.find(Z=>Z.field===T.value)),{items:O,loading:M,error:L,totalPages:j,itemCount:B,totalCount:q,changeManualSort:G,getItems:Q}=Al(u,{sort:F(()=>{var Z;return[((Z=_.value)==null?void 0:Z.field)||""]}),page:E(1),limit:E(-1),fields:F(()=>{if(!_.value)return[];const Z=[_.value.field];return b.value&&Z.push(...St(b.value)),A.value&&Z.push(A.value),T.value&&Z.push(T.value),Z}),filter:g,search:f},!1),ce=F(()=>O.value.map(Z=>ne(Z)).filter(Z=>Z)||[]),J=F(()=>{var se,X,re,ve,H,le;const Z={editable:!0,eventStartEditable:!0,eventResizableFromStart:!0,eventDurationEditable:!0,dayMaxEventRows:!0,height:"100%",nextDayThreshold:"01:00:00",plugins:[du,uu,cu,pu],initialView:(X=(se=$.value)==null?void 0:se.type)!=null?X:"dayGridMonth",headerToolbar:{left:"prevYear,prev,next,nextYear today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay,listWeek"},events:ce.value,initialDate:(ve=(re=$.value)==null?void 0:re.startDateStr)!=null?ve:xn(new Date),eventClick(ie){var de;if(!!u.value)if(e.selectMode||((de=i.value)==null?void 0:de.length)>0){const ye=O.value.find(he=>he[_.value.field]==ie.event.id);if(ye){const he=ye[_.value.field];i.value.includes(he)?i.value=i.value.filter(Se=>Se!==he):i.value=[...i.value,he],_e()}}else{const ye=ie.event.id,he=u.value.startsWith("directus")?u.value.substring(9):`content/${u.value}`;Wt.push(`/${he}/${ye}`)}},async eventChange(ie){if(!u.value||!A.value||!V.value)return;const de={[A.value]:te(ie.event.startStr,V.value.type)};T.value&&D.value&&ie.event.endStr&&(de[T.value]=te(ie.event.endStr,D.value.type));const ye=u.value.startsWith("directus")?u.value.substring(9):`/items/${u.value}`;try{await pe.patch(`${ye}/${ie.event.id}`,de)}catch(he){Ie(he)}}};return(((H=V.value)==null?void 0:H.type)==="dateTime"||((le=V.value)==null?void 0:le.type)==="timestamp")&&(Z.headerToolbar=Fe(fe({},Z.headerToolbar),{right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"})),Z});ge(()=>d.sidebarOpen,()=>setTimeout(()=>{var Z;return(Z=a.value)==null?void 0:Z.updateSize()},300)),ge(J,()=>_e(),{deep:!0,immediate:!0}),ge([a,l],async()=>{if(a.value){const Z=await mte(l.value);a.value.setOption("locale",Z)}},{immediate:!0});const oe=F(()=>B.value?n("item_count",B.value):null);return{items:O,loading:M,error:L,totalPages:j,itemCount:B,totalCount:q,changeManualSort:G,getItems:Q,filterWithCalendarView:g,template:b,dateFields:y,startDateField:A,endDateField:T,showingCount:oe,createCalendar:me,destroyCalendar:ee};function _e(){a.value&&(a.value.pauseRendering(),a.value.resetOptions(J.value),a.value.resumeRendering(),a.value.render())}function me(Z){a.value=new mu(Z,J.value),a.value.on("datesSet",se=>{$.value={type:se.view.type,startDateStr:xn(se.view.currentStart)}}),a.value.render()}function ee(){var Z;(Z=a.value)==null||Z.destroy()}function ne(Z){if(!A.value||!_.value)return null;let se;const X=D.value&&D.value.type==="date";if(T.value)if(X){const ve=bn(Z[T.value],"yyyy-MM-dd",new Date);ve.setDate(ve.getDate()+1),se=cn(ve,"yyyy-MM-dd")}else se=Z[T.value];const re=Z[_.value.field];return{id:re,title:oS(b.value||`{{ ${_.value.field} }}`,Z)||void 0,start:Z[A.value],end:se,allDay:X,className:i.value.includes(re)?"selected":void 0}}function te(Z,se){return se==="dateTime"?Z.substring(0,19):Z}}}),Pte=Object.freeze(Object.defineProperty({__proto__:null,default:Tte},Symbol.toStringTag,{value:"Module"}));const Ote=K({props:{icon:{type:String,default:"box"},file:{type:Object,default:null},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},item:{type:Object,default:null},modelValue:{type:Array,default:()=>[]},selectMode:{type:Boolean,default:!1},to:{type:String,default:""},readonly:{type:Boolean,default:!1},itemKey:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=at(),l=E(!1),a=F(()=>!e.file||!e.file.type||!l.value&&e.file.type.startsWith("image")?null:Bn(e.file.type,!0)),d=F(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg"))return null;let f="system-medium-cover";e.crop===!1&&(f="system-medium-contain");const _=Ze()+`assets/${e.file.id}?key=${f}&modified=${e.file.modified_on}`;return dt(_)}),i=F(()=>{if(!e.file||!e.file.type||e.file.type.startsWith("image")===!1||e.file.type.includes("svg")===!1)return null;const f=Ze()+`assets/${e.file.id}?modified=${e.file.modified_on}`;return dt(f)}),r=F(()=>e.item&&e.modelValue.includes(e.item[e.itemKey])?"check_circle":"radio_button_unchecked");return{imageSource:d,svgSource:i,type:a,selectionIcon:r,toggleSelection:u,handleClick:p,imgError:l};function u(){if(!e.item)return null;e.modelValue.includes(e.item[e.itemKey])?t("update:modelValue",e.modelValue.filter(f=>f!==e.item[e.itemKey])):t("update:modelValue",[...e.modelValue,e.item[e.itemKey]])}function p(){e.selectMode===!0?u():n.push(e.to)}}}),Lte=e=>(Xe("data-v-0ad8168c"),e=e(),Ye(),e),jte={class:"header"},Rte=Lte(()=>S("div",{class:"selection-fade"},null,-1)),Mte={key:0,class:"type type-title"},Ute=["src"],Nte=["src"],Bte={key:0,class:"title"},qte={key:1,class:"subtitle"};function zte(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-skeleton-loader");return m(),I("div",{class:ue(["card",{loading:e.loading,readonly:e.readonly,selected:e.item&&e.modelValue.includes(e.item[e.itemKey]),"select-mode":e.selectMode}]),onClick:t[2]||(t[2]=(...u)=>e.handleClick&&e.handleClick(...u))},[o(i,{class:"selector",name:e.selectionIcon,onClick:De(e.toggleSelection,["stop"])},null,8,["name","onClick"]),S("div",jte,[Rte,e.loading?(m(),C(r,{key:0})):(m(),I(ae,{key:1},[e.type||e.imgError?(m(),I("p",Mte,w(e.type),1)):(m(),I(ae,{key:1},[e.imageSource?(m(),I("img",{key:0,class:"image",loading:"lazy",src:e.imageSource,alt:"",role:"presentation",onError:t[0]||(t[0]=u=>e.imgError=!0)},null,40,Ute)):e.svgSource?(m(),I("img",{key:1,class:"svg",src:e.svgSource,alt:"",role:"presentation",onError:t[1]||(t[1]=u=>e.imgError=!0)},null,40,Nte)):(m(),C(i,{key:2,large:"",name:e.icon},null,8,["name"]))],64))],64))]),e.loading?(m(),C(r,{key:0,type:"text"})):(m(),I(ae,{key:1},[e.$slots.title?(m(),I("div",Bte,[be(e.$slots,"title",{},void 0,!0)])):R("",!0),e.$slots.subtitle?(m(),I("div",qte,[be(e.$slots,"subtitle",{},void 0,!0)])):R("",!0)],64))],2)}var Kte=z(Ote,[["render",zte],["__scopeId","data-v-0ad8168c"]]);const Wte=K({props:{fields:{type:Array,required:!0},size:{type:Number,required:!0},sort:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selection:{type:Array,default:()=>[]}},emits:["select-all","update:size","update:sort","update:selection"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"size",t),a=Ke(e,"sort",t),d=Ke(e,"selection",t),i=F(()=>e.sort[0].startsWith("-")),r=F(()=>e.sort[0].startsWith("-")?e.sort[0].substring(1):e.sort[0]),u=F(()=>e.fields.find(v=>v.field===r.value)),p=F(()=>e.fields.filter(v=>v.field.startsWith("$")===!1).map(v=>({field:v.field,name:v.name,disabled:["json","o2m","m2o","m2a","file","files","alias","presentation"].includes(v.type)})));return{t:n,toggleSize:f,descending:i,toggleDescending:_,sortField:u,sizeSync:l,sortSync:a,selectionSync:d,sortKey:r,fieldsWithoutFake:p};function f(){e.size>=2&&e.size<5?l.value++:l.value=2}function _(){i.value===!0?a.value=[a.value[0].substring(1)]:a.value=["-"+a.value]}}}),Hte={class:"cards-header"},Gte={class:"start"},Zte={class:"label"},Jte={class:"label"},Qte={class:"end"},Xte=["onClick"];function Yte(e,t,n,l,a,d){const i=c("v-icon"),r=c("v-list-item-content"),u=c("v-list-item"),p=c("v-list"),f=c("v-menu"),_=$e("tooltip");return m(),I("div",Hte,[S("div",Gte,[e.selectionSync.length>0?(m(),I("div",{key:0,class:"selected",onClick:t[0]||(t[0]=v=>e.selectionSync=[])},[o(i,{name:"cancel",outline:""}),S("span",Zte,w(e.t("n_items_selected",e.selectionSync.length)),1)])):(m(),I("button",{key:1,class:"select-all",onClick:t[1]||(t[1]=v=>e.showSelect==="multiple"?e.$emit("select-all"):void 0)},[o(i,{name:"check_circle",outline:""}),S("span",Jte,w(e.t(e.showSelect==="multiple"?"select_all":"select_an_item")),1)]))]),S("div",Qte,[x(o(i,{class:"size-selector",name:`grid_${7-e.size}`,clickable:"",onClick:e.toggleSize},null,8,["name","onClick"]),[[_,e.t("card_size"),void 0,{top:!0}]]),o(f,{"show-arrow":"",placement:"bottom"},{activator:s(({toggle:v})=>[x(S("div",{class:"sort-selector",onClick:v},[P(w(e.sortField&&e.sortField.name),1)],8,Xte),[[_,e.t("sort_field"),void 0,{top:!0}]])]),default:s(()=>[o(p,null,{default:s(()=>[(m(!0),I(ae,null,we(e.fieldsWithoutFake,v=>(m(),C(u,{key:v.field,disabled:v.disabled,active:v.field===e.sortKey,clickable:"",onClick:y=>e.sortSync=[v.field]},{default:s(()=>[o(r,null,{default:s(()=>[P(w(v.name),1)]),_:2},1024)]),_:2},1032,["disabled","active","onClick"]))),128))]),_:1})]),_:1}),x(o(i,{class:ue(["sort-direction",{descending:e.descending}]),name:"sort",clickable:"",onClick:e.toggleDescending},null,8,["class","onClick"]),[[_,e.t("sort_direction"),void 0,{top:!0}]])])])}var xte=z(Wte,[["render",Yte],["__scopeId","data-v-e1acf4b8"]]);const ene=K({components:{Card:Kte,CardsHeader:xte},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,required:!0},showSelect:{type:String,default:"multiple"},selectMode:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,required:!0},error:{type:Object,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},itemCount:{type:Number,default:null},fieldsInCollection:{type:Array,required:!0},limit:{type:Number,required:!0},size:{type:Number,required:!0},primaryKeyField:{type:Object,default:null},icon:{type:String,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},getLinkForItem:{type:Function,required:!0},imageFit:{type:String,required:!0},sort:{type:Array,required:!0},info:{type:Object,default:null},isSingleRow:{type:Boolean,required:!0},width:{type:Number,required:!0},selectAll:{type:Function,required:!0},resetPresetAndRefresh:{type:Function,required:!0},filter:{type:Object,default:null},search:{type:String,default:null}},emits:["update:selection","update:limit","update:size","update:sort","update:width"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"selection",t),a=Ke(e,"limit",t),d=Ke(e,"size",t),i=Ke(e,"sort",t),r=_t("main-element"),u=E(),{width:p}=Sn(u);return ge(()=>e.page,()=>{var f;return(f=r.value)==null?void 0:f.scrollTo({top:0,behavior:"smooth"})}),ge(p,()=>{t("update:width",p.value)}),{t:n,selectionWritable:l,limitWritable:a,sizeWritable:d,sortWritable:i,layoutElement:u}}}),tne={class:"footer"},nne={class:"pagination"},lne={key:0,class:"per-page"};function one(e,t,n,l,a,d){const i=c("cards-header"),r=c("render-template"),u=c("card"),p=c("v-pagination"),f=c("v-select"),_=c("v-error"),v=c("v-button"),y=c("v-info");return m(),I("div",{ref:"layoutElement",class:"layout-cards",style:We({"--size":e.size*40+"px"})},[e.loading||e.itemCount>0?(m(),I(ae,{key:0},[o(i,{size:e.sizeWritable,"onUpdate:size":t[0]||(t[0]=h=>e.sizeWritable=h),selection:e.selectionWritable,"onUpdate:selection":t[1]||(t[1]=h=>e.selectionWritable=h),sort:e.sortWritable,"onUpdate:sort":t[2]||(t[2]=h=>e.sortWritable=h),fields:e.fieldsInCollection,"show-select":e.showSelect,onSelectAll:e.selectAll},null,8,["size","selection","sort","fields","show-select","onSelectAll"]),S("div",{class:ue(["grid",{"single-row":e.isSingleRow}])},[(m(!0),I(ae,null,we(e.items,h=>(m(),C(u,{key:h[e.primaryKeyField.field],modelValue:e.selectionWritable,"onUpdate:modelValue":t[3]||(t[3]=g=>e.selectionWritable=g),"item-key":e.primaryKeyField.field,crop:e.imageFit==="crop",icon:e.icon,file:e.imageSource?h[e.imageSource]:null,item:h,"select-mode":e.selectMode||e.selection&&e.selection.length>0,to:e.getLinkForItem(h),readonly:e.readonly},ot({_:2},[e.title?{name:"title",fn:s(()=>[o(r,{collection:e.collection,item:h,template:e.title},null,8,["collection","item","template"])])}:void 0,e.subtitle?{name:"subtitle",fn:s(()=>[o(r,{collection:e.collection,item:h,template:e.subtitle},null,8,["collection","item","template"])])}:void 0]),1032,["modelValue","item-key","crop","icon","file","item","select-mode","to","readonly"]))),128))],2),S("div",tne,[S("div",nne,[e.totalPages>1?(m(),C(p,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",lne,[S("span",null,w(e.t("per_page")),1),o(f,{"model-value":`${e.limit}`,items:["25","50","100","250","500","1000"],inline:"","onUpdate:modelValue":t[4]||(t[4]=h=>e.limitWritable=+h)},null,8,["model-value"])])):R("",!0)])],64)):e.error?(m(),C(y,{key:1,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:s(()=>[o(_,{error:e.error},null,8,["error"]),o(v,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:s(()=>[P(w(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filter||e.search)?be(e.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?be(e.$slots,"no-items",{key:3},void 0,!0):R("",!0)],4)}var ane=z(ene,[["render",one],["__scopeId","data-v-49bc126c"]]);const ine=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},icon:{type:String,required:!0},fileFields:{type:Array,required:!0},imageSource:{type:String,default:null},title:{type:String,default:null},subtitle:{type:String,default:null},imageFit:{type:String,required:!0}},emits:["update:icon","update:imageSource","update:title","update:subtitle","update:imageFit"],setup(e,{emit:t}){const{t:n}=Y(),l=Ke(e,"icon",t),a=Ke(e,"imageSource",t),d=Ke(e,"title",t),i=Ke(e,"subtitle",t),r=Ke(e,"imageFit",t);return{t:n,iconWritable:l,imageSourceWritable:a,titleWritable:d,subtitleWritable:i,imageFitWritable:r}}}),rne={class:"field"},sne={class:"type-label"},dne={class:"field"},une={class:"type-label"},cne={class:"field"},pne={class:"type-label"},mne={class:"nested-options"},fne={class:"field"},_ne={class:"type-label"},vne={class:"field"},yne={class:"type-label"};function hne(e,t,n,l,a,d){const i=c("v-select"),r=c("v-field-template"),u=c("interface-select-icon"),p=c("v-detail");return m(),I(ae,null,[S("div",rne,[S("div",sne,w(e.t("layouts.cards.image_source")),1),o(i,{modelValue:e.imageSourceWritable,"onUpdate:modelValue":t[0]||(t[0]=f=>e.imageSourceWritable=f),"show-deselect":"","item-value":"field","item-text":"name",items:e.fileFields},null,8,["modelValue","items"])]),S("div",dne,[S("div",une,w(e.t("layouts.cards.title")),1),o(r,{modelValue:e.titleWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.titleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),S("div",cne,[S("div",pne,w(e.t("layouts.cards.subtitle")),1),o(r,{modelValue:e.subtitleWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.subtitleWritable=f),collection:e.collection},null,8,["modelValue","collection"])]),o(p,{class:"field"},{title:s(()=>[P(w(e.t("layout_setup")),1)]),default:s(()=>[S("div",mne,[S("div",fne,[S("div",_ne,w(e.t("layouts.cards.image_fit")),1),o(i,{modelValue:e.imageFitWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.imageFitWritable=f),disabled:e.imageSource===null,items:[{text:e.t("layouts.cards.crop"),value:"crop"},{text:e.t("layouts.cards.contain"),value:"contain"}]},null,8,["modelValue","disabled","items"])]),S("div",vne,[S("div",yne,w(e.t("fallback_icon")),1),o(u,{value:e.icon,onInput:t[4]||(t[4]=f=>e.iconWritable=f)},null,8,["value"])])])]),_:1})],64)}var gne=z(ine,[["render",hne],["__scopeId","data-v-1167aeea"]]);const bne=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),wne={key:0,class:"item-count"};function kne(e,t,n,l,a,d){return m(),C(Ut,{name:"fade"},{default:s(()=>[e.itemCount?(m(),I("span",wne,w(e.showingCount),1)):R("",!0)]),_:1})}var $ne=z(bne,[["render",kne],["__scopeId","data-v-4039d1ee"]]),Sne=Fl({id:"cards",name:"$t:layouts.cards.cards",icon:"grid_4",component:ane,slots:{options:gne,sidebar:()=>{},actions:$ne},setup(e,{emit:t}){const{t:n,n:l}=Y(),a=ft(),d=Ke(e,"selection",t),i=Ke(e,"layoutOptions",t),r=Ke(e,"layoutQuery",t),{collection:u,filter:p,search:f,filterUser:_}=ze(e),{info:v,primaryKeyField:y,fields:h}=rt(u),g=F(()=>h.value.filter(H=>H.field==="$thumbnail"?!0:!!a.relations.find(ie=>ie.collection===e.collection&&ie.field===H.field&&ie.related_collection==="directus_files"))),{size:b,icon:$,imageSource:A,title:V,subtitle:T,imageFit:D}=se(),{sort:O,limit:M,page:L,fields:j}=X(),{items:B,loading:q,error:G,totalPages:Q,itemCount:ce,totalCount:J,getItems:oe}=Al(u,{sort:O,limit:M,page:L,fields:j,filter:p,search:f}),_e=F(()=>(ce.value||0)<(J.value||0)&&_.value?ce.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+L.value-1)*M.value+1),end:l(Math.min(L.value*M.value,ce.value||0)),count:l(ce.value||0)}):ce.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+L.value-1)*M.value+1),end:l(Math.min(L.value*M.value,ce.value||0)),count:l(ce.value||0)})),me=E(0),ee=F(()=>B.value.length*(b.value*40)+(B.value.length-1)*24<=me.value);return{items:B,loading:q,error:G,totalPages:Q,page:L,toPage:Z,itemCount:ce,totalCount:J,fieldsInCollection:h,limit:M,size:b,primaryKeyField:y,icon:$,fileFields:g,imageSource:A,title:V,subtitle:T,getLinkForItem:re,imageFit:D,sort:O,info:v,showingCount:_e,isSingleRow:ee,width:me,refresh:te,selectAll:ve,resetPresetAndRefresh:ne,filter:p,search:f};async function ne(){var H;await((H=e==null?void 0:e.resetPreset)==null?void 0:H.call(e)),te()}function te(){oe()}function Z(H){L.value=H}function se(){var Ce,Ae;const H=Se("size",4),le=Se("icon","box"),ie=Se("title",null),de=Se("subtitle",null),ye=Se("imageSource",(Ae=(Ce=g.value[0])==null?void 0:Ce.field)!=null?Ae:null),he=Se("imageFit","crop");return{size:H,icon:le,imageSource:ye,title:ie,subtitle:de,imageFit:he};function Se(Le,Ge){return F({get(){var lt,Me;return((lt=i.value)==null?void 0:lt[Le])!==void 0?(Me=i.value)==null?void 0:Me[Le]:Ge},set(lt){i.value=Fe(fe({},i.value),{[Le]:lt})}})}}function X(){const H=vt(r,"page",1),le=vt(r,"limit",25),ie=F(()=>{var he;return y.value?[(he=y.value)==null?void 0:he.field]:[]}),de=vt(r,"sort",ie),ye=F(()=>{if(!y.value||!e.collection)return[];const he=[y.value.field];A.value&&(he.push(`${A.value}.modified_on`),he.push(`${A.value}.type`),he.push(`${A.value}.filename_disk`),he.push(`${A.value}.storage`),he.push(`${A.value}.id`)),e.collection==="directus_files"&&A.value==="$thumbnail"&&(he.push("modified_on"),he.push("type"));const Se=[];return V.value&&Se.push(...St(V.value)),T.value&&Se.push(...St(T.value)),[...he,...dn(Se,e.collection)]});return{sort:de,limit:le,page:H,fields:ye}}function re(H){if(!!y.value)return`/content/${e.collection}/${encodeURIComponent(H[y.value.field])}`}function ve(){if(!y.value)return;const H=y.value;d.value=N.exports.clone(B.value).map(le=>le[H.field])}}}),Cne=Object.freeze(Object.defineProperty({__proto__:null,default:Sne},Symbol.toStringTag,{value:"Module"}));const Vne=K({components:{},props:{data:{type:Object,required:!0},source:{type:Object,required:!0},layers:{type:Array,default:()=>[]},camera:{type:Object,default:()=>({})},bounds:{type:Array,default:void 0},featureId:{type:String,default:void 0},selection:{type:Array,default:()=>[]},showSelect:{type:String,default:"multiple"}},emits:["moveend","featureclick","featureselect","fitdata","updateitempopup"],setup(e,{emit:t}){const{t:n}=Y(),l=Vt();let a;const d=E(),i=E(),r=E(),u=E(),p=[],{sidebarOpen:f,basemap:_}=ze(l),v=Gn("mapbox_key"),y=cl(),h=F(()=>{var ee;const me=(ee=y.find(ne=>ne.name===_.value))!=null?ee:y[0];return Wo(me)}),g=new Zt.exports.AttributionControl,b=new Zt.exports.NavigationControl({showCompass:!1}),$=new Zt.exports.GeolocateControl,A=new aa("mapboxgl-ctrl-fitdata",()=>{t("fitdata")}),V=new SQ({boxElementClass:"map-selection-box",selectButtonClass:"mapboxgl-ctrl-select",layers:["__directus_polygons","__directus_points","__directus_lines"]});let T;if(v){const me=document.createElement("div");me.className="mapboxgl-user-location-dot mapboxgl-search-location-dot",T=new Ea({accessToken:v,collapsed:!0,marker:{element:me},flyTo:{speed:1.4},mapboxgl:oo,placeholder:n("layouts.map.find_location")})}return st(()=>{D()}),Dt(()=>{a.remove()}),{container:u,hoveredFeature:d,hoveredCluster:i,selectMode:r};function D(){a=new Zt.exports.Map(fe(fe({container:"map-container",style:h.value,dragRotate:!1,attributionControl:!1},e.camera),v?{accessToken:v}:{})),T&&a.addControl(T,"top-right"),a.addControl(g,"bottom-left"),a.addControl(b,"top-left"),a.addControl($,"top-left"),a.addControl(A,"top-left"),a.addControl(V,"top-left"),a.on("load",()=>{ge(()=>h.value,M),ge(()=>e.bounds,O);const me=["__directus_polygons","__directus_points","__directus_lines"];for(const ee of me)a.on("click",ee,Q),a.on("mousemove",ee,ce),a.on("mouseleave",ee,ce);a.on("move",J),a.on("click","__directus_clusters",oe),a.on("mousemove","__directus_clusters",_e),a.on("mouseleave","__directus_clusters",_e),a.on("select.enable",()=>r.value=!0),a.on("select.disable",()=>r.value=!1),a.on("select.end",ee=>{var te;const ne=(te=ee.features)==null?void 0:te.map(Z=>Z.id);t("featureselect",{ids:ne,replace:!ee.alt})}),a.on("moveend",ee=>{!ee.originalEvent||t("moveend",{center:a.getCenter(),zoom:a.getZoom(),bearing:a.getBearing(),pitch:a.getPitch(),bbox:a.getBounds().toArray().flat()})}),L()}),ge(()=>f.value,me=>{me||setTimeout(()=>a.resize(),300)}),setTimeout(()=>a.resize(),300)}function O(){const me=e.data.bbox;a&&me&&a.fitBounds(me,{padding:100,speed:1.3,maxZoom:14})}function M(me){p.forEach(ee=>ee()),p.length=0,a.setStyle(me,{diff:!1}),a.once("styledata",L)}function L(){p.push(ge(()=>e.source,B,{immediate:!0}),ge(()=>e.selection,G,{immediate:!0}),ge(()=>e.layers,q),ge(()=>e.data,j))}function j(me){a.getSource("__directus").setData(me),G(e.selection,void 0)}function B(me){var ne,te;const ee=new Set((ne=a.getStyle().layers)==null?void 0:ne.map(({id:Z})=>Z));for(const Z of e.layers)ee.has(Z.id)&&a.removeLayer(Z.id);e.featureId?me.promoteId=e.featureId:me.generateId=!0,((te=a.getStyle().sources)==null?void 0:te.__directus)&&a.removeSource("__directus"),a.addSource("__directus",Fe(fe({},me),{data:e.data})),a.once("sourcedata",()=>{setTimeout(()=>e.layers.forEach(Z=>a.addLayer(Z)))})}function q(me,ee){var te;const ne=new Set((te=a.getStyle().layers)==null?void 0:te.map(({id:Z})=>Z));ee==null||ee.forEach(Z=>{ne.has(Z.id)&&a.removeLayer(Z.id)}),me==null||me.forEach(Z=>{a.addLayer(Z)})}function G(me,ee){ee==null||ee.forEach(ne=>{a.setFeatureState({id:ne,source:"__directus"},{selected:!1}),a.removeFeatureState({id:ne,source:"__directus"})}),me==null||me.forEach(ne=>{a.setFeatureState({id:ne,source:"__directus"},{selected:!0})})}function Q(me){var te;const ee=(te=me.features)==null?void 0:te[0],ne=e.showSelect==="multiple"?!1:!me.originalEvent.altKey;ee&&e.featureId&&(V.active()?t("featureselect",{ids:[ee.id],replace:ne}):t("featureclick",{id:ee.id,replace:ne}))}function ce(me){var Z;const ee=a.queryRenderedFeatures(me.point,{layers:["__directus_polygons","__directus_points","__directus_lines"]})[0],ne=(Z=d.value)==null?void 0:Z.id,te=ne!==(ee==null?void 0:ee.id);if(ne&&te&&a.setFeatureState({id:ne,source:"__directus"},{hovered:!1}),ee&&ee.properties){if(ee.geometry.type==="Point"){const{x:se,y:X}=a.project(ee.geometry.coordinates),re=a.getContainer().getBoundingClientRect();t("updateitempopup",{position:{x:re.x+se,y:re.y+X}})}else{const{clientX:se,clientY:X}=me.originalEvent;t("updateitempopup",{position:{x:se,y:X}})}te&&(a.setFeatureState({id:ee.id,source:"__directus"},{hovered:!0}),d.value=ee,t("updateitempopup",{item:ee.id}))}else te&&(d.value=ee,t("updateitempopup",{item:null}))}function J(me){if(d.value&&me.originalEvent){const{x:ee,y:ne}=me.originalEvent;t("updateitempopup",{position:{x:ee,y:ne}})}}function oe(me){var Z,se;const ee=a.queryRenderedFeatures(me.point,{layers:["__directus_clusters"]}),ne=(se=(Z=ee[0])==null?void 0:Z.properties)==null?void 0:se.cluster_id;a.getSource("__directus").getClusterExpansionZoom(ne,(X,re)=>{X||a.flyTo({center:ee[0].geometry.coordinates,zoom:re,speed:1.3})})}function _e(me){me.type=="mousemove"?i.value=!0:i.value=!1}}});function Fne(e,t,n,l,a,d){return m(),I("div",{id:"map-container",ref:"container",class:ue({select:e.selectMode,hover:e.hoveredFeature||e.hoveredCluster})},null,2)}var Ane=z(Vne,[["render",Fne],["__scopeId","data-v-79e17d14"]]);const Ine=K({components:{MapComponent:Ane},inheritAttrs:!1,props:{collection:{type:String,required:!0},selection:{type:Array,default:()=>[]},loading:{type:Boolean,required:!0},error:{type:Object,default:null},geojsonError:{type:String,default:null},geometryOptions:{type:Object,default:void 0},geojson:{type:Object,required:!0},featureId:{type:String,default:null},geojsonBounds:{type:Object,default:void 0},directusSource:{type:Object,required:!0},directusLayers:{type:Array,required:!0},handleClick:{type:Function,required:!0},handleSelect:{type:Function,required:!0},cameraOptions:{type:Object,default:void 0},resetPresetAndRefresh:{type:Function,required:!0},geojsonLoading:{type:Boolean,required:!0},itemCount:{type:Number,default:null},totalPages:{type:Number,required:!0},page:{type:Number,required:!0},toPage:{type:Function,required:!0},limit:{type:Number,required:!0},autoLocationFilter:{type:Boolean,default:void 0},fitDataBounds:{type:Function,required:!0},template:{type:String,default:()=>{}},itemPopup:{type:Object,default:()=>{}},updateItemPopup:{type:Function,required:!0}},emits:["update:cameraOptions","update:limit"],setup(e,{emit:t}){const{t:n,n:l}=Y(),a=Ke(e,"cameraOptions",t),d=Ke(e,"limit",t);return{t:n,n:l,cameraOptionsWritable:a,limitWritable:d}}}),Ene={class:"layout-map"},Dne={key:0,class:"footer"},Tne={key:0,class:"pagination"},Pne={class:"mapboxgl-ctrl-dropdown"};function One(e,t,n,l,a,d){const i=c("map-component"),r=c("render-template"),u=c("v-error"),p=c("v-button"),f=c("v-info"),_=c("v-progress-circular"),v=c("v-pagination"),y=c("v-select");return m(),I("div",Ene,[o(i,{ref:"map",class:ue(["mapboxgl-map",{loading:e.loading,error:e.error||e.geojsonError||!e.geometryOptions}]),data:e.geojson,"feature-id":e.featureId,selection:e.selection,camera:e.cameraOptions,bounds:e.geojsonBounds,source:e.directusSource,layers:e.directusLayers,onFeatureclick:e.handleClick,onFeatureselect:e.handleSelect,onMoveend:t[0]||(t[0]=h=>e.cameraOptionsWritable=h),onFitdata:e.fitDataBounds,onUpdateitempopup:e.updateItemPopup},null,8,["class","data","feature-id","selection","camera","bounds","source","layers","onFeatureclick","onFeatureselect","onFitdata","onUpdateitempopup"]),o(Ut,{name:"fade"},{default:s(()=>[e.itemPopup.item?(m(),I("div",{key:0,class:"popup",style:We({top:e.itemPopup.position.y+"px",left:e.itemPopup.position.x+"px"})},[o(r,{template:e.template,item:e.itemPopup.item,collection:e.collection},null,8,["template","item","collection"])],4)):R("",!0)]),_:1}),o(Ut,{name:"fade"},{default:s(()=>[e.error?(m(),C(f,{key:0,type:"danger",title:e.t("unexpected_error"),icon:"error",center:""},{append:s(()=>[o(u,{error:e.error},null,8,["error"]),o(p,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:s(()=>[P(w(e.t("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(e.t("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.geojsonError?(m(),C(f,{key:1,type:"warning",icon:"wrong_location",center:"",title:e.t("layouts.map.invalid_geometry")},{default:s(()=>[P(w(e.geojsonError),1)]),_:1},8,["title"])):e.loading||e.geojsonLoading?(m(),C(_,{key:2,indeterminate:"","x-large":"",class:"center"})):R("",!0)]),_:1}),e.loading||e.itemCount>0?(m(),I("div",Dne,[e.totalPages>1?(m(),I("div",Tne,[o(v,{length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])])):R("",!0),S("div",Pne,[S("span",null,w(e.t("limit")),1),o(y,{"model-value":e.limit,items:[{text:e.n(100),value:100},{text:e.n(1e3),value:1e3},{text:e.n(1e4),value:1e4},{text:e.n(1e5),value:1e5}],inline:"","onUpdate:modelValue":t[1]||(t[1]=h=>e.limitWritable=+h)},null,8,["model-value","items"])])])):R("",!0)])}var Lne=z(Ine,[["render",One],["__scopeId","data-v-36f76c2e"]]);const jne=K({inheritAttrs:!1,props:{collection:{type:String,required:!0},geometryFields:{type:Array,required:!0},geometryField:{type:String,default:void 0},geometryOptions:{type:Object,default:void 0},clusterData:{type:Boolean,default:void 0},displayTemplate:{type:String,default:void 0}},emits:["update:geometryField","update:autoLocationFilter","update:clusterData"],setup(e,{emit:t}){const{t:n}=Y(),l=Vt(),a=Ke(e,"geometryField",t),d=Ke(e,"clusterData",t),i=Ke(e,"displayTemplate",t),r=cl(),{basemap:u}=ze(l);return{t:n,geometryFieldWritable:a,clusterDataWritable:d,displayTemplateWritable:i,basemaps:r,basemap:u}}}),Rne={class:"field"},Mne={class:"type-label"},Une={key:0,class:"field"},Nne={key:1,class:"field"},Bne={class:"type-label"},qne={class:"field"},zne={class:"type-label"},Kne={class:"field"};function Wne(e,t,n,l,a,d){const i=c("v-select"),r=c("v-input"),u=c("v-field-template"),p=c("v-checkbox");return m(),I(ae,null,[S("div",Rne,[S("div",Mne,w(e.t("layouts.map.basemap")),1),o(i,{modelValue:e.basemap,"onUpdate:modelValue":t[0]||(t[0]=f=>e.basemap=f),items:e.basemaps.map(f=>({text:f.name,value:f.name}))},null,8,["modelValue","items"])]),e.geometryFields.length==0?(m(),I("div",Une,[o(r,{type:"text",disabled:"",prefix:e.t("layouts.map.no_compatible_fields")},null,8,["prefix"])])):(m(),I("div",Nne,[S("div",Bne,w(e.t("layouts.map.field")),1),o(i,{modelValue:e.geometryFieldWritable,"onUpdate:modelValue":t[1]||(t[1]=f=>e.geometryFieldWritable=f),items:e.geometryFields.map(({name:f,field:_})=>({text:f,value:_}))},null,8,["modelValue","items"])])),S("div",qne,[S("div",zne,w(e.t("display_template")),1),o(u,{modelValue:e.displayTemplateWritable,"onUpdate:modelValue":t[2]||(t[2]=f=>e.displayTemplateWritable=f),collection:e.collection,placeholder:e.t("layouts.map.default_template")},null,8,["modelValue","collection","placeholder"])]),S("div",Kne,[o(p,{modelValue:e.clusterDataWritable,"onUpdate:modelValue":t[3]||(t[3]=f=>e.clusterDataWritable=f),label:e.t("layouts.map.cluster"),disabled:e.geometryOptions&&e.geometryOptions.geometryType!=="Point"},null,8,["modelValue","label","disabled"])])],64)}var Hne=z(jne,[["render",Wne]]);const Gne=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),Zne={key:0,class:"item-count"};function Jne(e,t,n,l,a,d){return m(),C(Ut,{name:"fade"},{default:s(()=>[e.itemCount?(m(),I("span",Zne,w(e.showingCount),1)):R("",!0)]),_:1})}var Qne=z(Gne,[["render",Jne],["__scopeId","data-v-08898882"]]);function Xne(){return[{id:"__directus_polygons_outline",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],nt("--secondary"),["boolean",["feature-state","hovered"],!1],nt("--secondary"),nt("--primary")],"line-width":2},layout:{"line-join":"round"}},{id:"__directus_polygons",type:"fill",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Polygon"]],paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],nt("--secondary"),["boolean",["feature-state","hovered"],!1],nt("--secondary"),nt("--primary")],"fill-opacity":.15}},{id:"__directus_lines",type:"line",source:"__directus",filter:["all",["!has","point_count"],["==","$type","LineString"]],paint:{"line-color":["case",["boolean",["feature-state","selected"],!1],nt("--secondary"),["boolean",["feature-state","hovered"],!1],nt("--secondary"),nt("--primary")],"line-width":2}},{id:"__directus_points_shadow",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":10,"circle-blur":1,"circle-opacity":.9,"circle-color":nt("--black")}},{id:"__directus_points",type:"circle",source:"__directus",filter:["all",["!has","point_count"],["==","$type","Point"]],layout:{},paint:{"circle-radius":6,"circle-color":["case",["boolean",["feature-state","selected"],!1],nt("--secondary"),["boolean",["feature-state","hovered"],!1],nt("--secondary"),nt("--primary")],"circle-stroke-color":nt("--white"),"circle-stroke-width":2}},{id:"__directus_clusters",type:"circle",source:"__directus",filter:["has","point_count"],paint:{"circle-radius":["step",["get","point_count"],20,100,30,750,40],"circle-color":["step",["get","point_count"],"#7fe3ca",100,"#fde2a7",750,"#f0a7b3"],"circle-opacity":.7}},{id:"__directus_cluster_count",type:"symbol",source:"__directus",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":["step",["get","point_count"],15,100,17,750,19]},paint:{"text-opacity":.85}}]}var Yne=Fl({id:"map",name:"$t:layouts.map.map",icon:"map",smallHeader:!0,component:Lne,slots:{options:Hne,sidebar:()=>{},actions:Qne},setup(e,{emit:t}){const{t:n,n:l}=Y(),a=at(),d=Ke(e,"selection",t),i=Ke(e,"layoutOptions",t),r=Ke(e,"layoutQuery",t),{collection:u,filter:p,filterUser:f,search:_}=ze(e),{info:v,primaryKeyField:y,fields:h}=rt(u),g=vt(r,"page",1),b=vt(r,"limit",1e3),$=F(()=>{var ke;return y.value?[(ke=y.value)==null?void 0:ke.field]:[]}),A=vt(r,"sort",$),V=E(),T=F(()=>V.value?p.value?{_and:[p.value,V.value]}:V.value:p.value),D=vt(i,"displayTemplate",void 0),O=vt(i,"cameraOptions",void 0),M=vt(i,"clusterData",!1),L=vt(i,"geometryField",void 0),j=F(()=>h.value.find(ke=>ke.field==L.value)),B=F(()=>h.value.filter(({type:ke,meta:Ue})=>ke.startsWith("geometry")||(Ue==null?void 0:Ue.interface)=="map"));ge(B,ke=>{!L.value&&ke.length>0&&(L.value=ke[0].field)},{immediate:!0});const q=F(()=>{var tt,ut,yt;const ke=j.value;if(!ke)return;const Ue=ke.field,Re=Ls(ke.type),xe=(yt=ke.type.split(".")[1])!=null?yt:(ut=(tt=ke.meta)==null?void 0:tt.options)==null?void 0:ut.geometryType;if(!!Re)return{geometryField:Ue,geometryFormat:Re,geometryType:xe}}),G=F(()=>{var ke;return((ke=q.value)==null?void 0:ke.geometryFormat)==="native"}),Q=F(()=>{var ke,Ue,Re;return D.value||((Ue=(ke=v.value)==null?void 0:ke.meta)==null?void 0:Ue.display_template)||`{{ ${(Re=y.value)==null?void 0:Re.field} }}`}),ce=F(()=>{var ke;return[L.value,...St(Q.value)].concat((ke=y.value)==null?void 0:ke.field).filter(Ue=>!!Ue)});function J(){if(!G.value||!O.value||!L.value)return;const ke=O.value.bbox,Ue=[[ke[0],ke[1]],[ke[2],ke[1]],[ke[2],ke[3]],[ke[0],ke[3]],[ke[0],ke[1]]];return{[L.value]:{_intersects_bbox:{type:"Polygon",coordinates:[Ue]}}}}const oe=E(!1);function _e(){var ke;if(oe.value=!0,G.value){V.value=void 0;return}((ke=re.value)==null?void 0:ke.features.length)&&(ve.value=N.exports.cloneDeep(re.value.bbox))}ge(O,()=>{oe.value=!1,V.value=J()});const{items:me,loading:ee,error:ne,totalPages:te,itemCount:Z,totalCount:se,getItems:X}=Al(u,{sort:A,limit:b,page:g,search:_,filter:T,fields:ce}),re=E({type:"FeatureCollection",features:[]}),ve=E(),H=E(null),le=E(!1);ge([_,u,b,A],ie),ge(me,de),ge(L,()=>oe.value=!0);function ie(){oe.value=!0,le.value=!1}function de(){if(q.value)try{re.value={type:"FeatureCollection",features:[]},le.value=!0,H.value=null,re.value=FQ(me.value,q.value),le.value=!1,(!O.value||oe.value)&&(ve.value=re.value.bbox)}catch(ke){le.value=!1,H.value=ke,re.value={type:"FeatureCollection",features:[]}}else re.value={type:"FeatureCollection",features:[]}}const ye=E({type:"geojson",data:{type:"FeatureCollection",features:[]}});ge(M,he,{immediate:!0});function he(){ye.value=N.exports.merge({},ye.value,{cluster:M.value})}function Se(ke){d.value=Array.from(new Set(ke))}function Ce(ke){d.value=Array.from(new Set(d.value.concat(ke)))}function Ae({ids:ke,replace:Ue}){Ue?Se(ke):Ce(ke)}function Le({id:ke,replace:Ue}){e.selectMode?Ae({ids:[ke],replace:Ue}):a.push(`/content/${u.value}/${ke}`)}const Ge=F(()=>{var ke,Ue;return e.readonly?null:(Ue=(ke=y.value)==null?void 0:ke.field)!=null?Ue:null}),lt=F(()=>(Z.value||0)<(se.value||0)&&f.value?Z.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+g.value-1)*b.value+1),end:l(Math.min(g.value*b.value,Z.value||0)),count:l(Z.value||0)}):Z.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+g.value-1)*b.value+1),end:l(Math.min(g.value*b.value,Z.value||0)),count:l(Z.value||0)})),Me=E({item:null});function Ve(ke){var Ue,Re;if("item"in ke){const xe=(Ue=y.value)==null?void 0:Ue.field;ke.item=xe&&(Re=me.value.find(tt=>tt[xe]===ke.item))!=null?Re:null}Me.value=N.exports.merge({},Me.value,ke)}return{collection:u,geojson:re,directusSource:ye,directusLayers:Xne(),featureId:Ge,geojsonBounds:ve,geojsonLoading:le,geojsonError:H,geometryOptions:q,handleClick:Le,handleSelect:Ae,geometryField:L,displayTemplate:D,isGeometryFieldNative:G,cameraOptions:O,clusterData:M,items:me,loading:ee,error:ne,totalPages:te,page:g,toPage:je,itemCount:Z,fieldsInCollection:h,limit:b,filter:p,primaryKeyField:y,sort:A,info:v,showingCount:lt,refresh:Te,resetPresetAndRefresh:Ee,geometryFields:B,fitDataBounds:_e,template:Q,itemPopup:Me,updateItemPopup:Ve};async function Ee(){var ke;await((ke=e==null?void 0:e.resetPreset)==null?void 0:ke.call(e)),Te()}function Te(){X()}function je(ke){g.value=ke}}}),xne=Object.freeze(Object.defineProperty({__proto__:null,default:Yne},Symbol.toStringTag,{value:"Module"}));function qs(e,t,n){const[l,...a]=t.split("."),d=Array.isArray(e)?e.map(i=>i[l]):e==null?void 0:e[l];return a.length>0?qs(d,a.join("."),n):d!=null?d:n}const ele={class:"layout-tabular"},tle={class:"footer"},nle={class:"pagination"},lle={key:0,class:"per-page"},ole={inheritAttrs:!1};function ale(e,{emit:t}){const n=e,{t:l}=Y(),a=Ke(n,"selection",t),d=Ke(n,"tableHeaders",t),i=Ke(n,"limit",t),r=_t("main-element"),u=E();ge(()=>n.page,()=>{var v;return(v=r==null?void 0:r.value)==null?void 0:v.scrollTo({top:0,behavior:"smooth"})}),it("meta+a",()=>{n.selectAll()},u);const p=Ke(n,"fields",t);function f(v){p.value=[...p.value,v]}function _(v){p.value=p.value.filter(y=>y!==v)}return(v,y)=>{var ce;const h=c("render-display"),g=c("v-icon"),b=c("v-list-item-icon"),$=c("v-list-item-content"),A=c("v-list-item"),V=c("v-divider"),T=c("v-list"),D=c("v-field-list"),O=c("v-menu"),M=c("v-pagination"),L=c("v-select"),j=c("v-table"),B=c("v-error"),q=c("v-button"),G=c("v-info"),Q=$e("tooltip");return m(),I("div",ele,[e.loading||e.itemCount&&e.itemCount>0?(m(),C(j,{key:0,ref:(J,oe)=>{oe.table=J,u.value=J},modelValue:W(a),"onUpdate:modelValue":y[1]||(y[1]=J=>kt(a)?a.value=J:null),headers:W(d),"onUpdate:headers":y[2]||(y[2]=J=>kt(d)?d.value=J:null),class:"table","fixed-header":"","show-select":e.showSelect?e.showSelect:e.selection!==void 0,"show-resize":"","must-sort":"",sort:e.tableSort,items:e.items,loading:e.loading,"row-height":e.tableRowHeight,"server-sort":e.itemCount===e.limit||e.totalPages>1,"item-key":(ce=e.primaryKeyField)==null?void 0:ce.field,"show-manual-sort":e.sortField!==null,"manual-sort-key":e.sortField,"allow-header-reorder":"","selection-use-keys":"","onClick:row":e.onRowClick,"onUpdate:sort":e.onSortChange,onManualSort:e.changeManualSort},ot({"header-context-menu":s(({header:J})=>[o(T,null,{default:s(()=>{var oe,_e,me,ee;return[o(A,{disabled:!J.sortable,active:((oe=e.tableSort)==null?void 0:oe.by)===J.value&&((_e=e.tableSort)==null?void 0:_e.desc)===!1,clickable:"",onClick:ne=>{var te;return(te=e.onSortChange)==null?void 0:te.call(e,{by:J.value,desc:!1})}},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"sort",class:"flip"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("sort_asc")),1)]),_:1})]),_:2},1032,["disabled","active","onClick"]),o(A,{active:((me=e.tableSort)==null?void 0:me.by)===J.value&&((ee=e.tableSort)==null?void 0:ee.desc)===!0,disabled:!J.sortable,clickable:"",onClick:ne=>{var te;return(te=e.onSortChange)==null?void 0:te.call(e,{by:J.value,desc:!0})}},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"sort"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("sort_desc")),1)]),_:1})]),_:2},1032,["active","disabled","onClick"]),o(V),o(A,{active:J.align==="left",clickable:"",onClick:ne=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,J.value,"left")}},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"format_align_left"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("left_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),o(A,{active:J.align==="center",clickable:"",onClick:ne=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,J.value,"center")}},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"format_align_center"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("center_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),o(A,{active:J.align==="right",clickable:"",onClick:ne=>{var te;return(te=e.onAlignChange)==null?void 0:te.call(e,J.value,"right")}},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"format_align_right"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("right_align")),1)]),_:1})]),_:2},1032,["active","onClick"]),o(V),o(A,{active:J.align==="right",clickable:"",onClick:ne=>_(J.value)},{default:s(()=>[o(b,null,{default:s(()=>[o(g,{name:"remove"})]),_:1}),o($,null,{default:s(()=>[P(w(W(l)("hide_field")),1)]),_:1})]),_:2},1032,["active","onClick"])]}),_:2},1024)]),"header-append":s(()=>[o(O,{placement:"bottom-end","show-arrow":"","close-on-content-click":!1},{activator:s(({toggle:J,active:oe})=>[x(o(g,{class:ue(["add-field",{active:oe}]),name:"add",clickable:"",onClick:J},null,8,["class","onClick"]),[[Q,W(l)("add_field")]])]),default:s(()=>[o(D,{collection:e.collection,"disabled-fields":e.fields,onSelectField:f},null,8,["collection","disabled-fields"])]),_:1})]),footer:s(()=>[S("div",tle,[S("div",nle,[e.totalPages>1?(m(),C(M,{key:0,length:e.totalPages,"total-visible":7,"show-first-last":"","model-value":e.page,"onUpdate:modelValue":e.toPage},null,8,["length","model-value","onUpdate:modelValue"])):R("",!0)]),e.loading===!1&&e.items.length>=25?(m(),I("div",lle,[S("span",null,w(W(l)("per_page")),1),o(L,{"model-value":`${e.limit}`,items:["25","50","100","250","500"," 1000"],inline:"","onUpdate:modelValue":y[0]||(y[0]=J=>i.value=+J)},null,8,["model-value"])])):R("",!0)])]),_:2},[we(e.tableHeaders,J=>({name:`item.${J.value}`,fn:s(({item:oe})=>[o(h,{value:W(qs)(oe,J.value),display:J.field.display,options:J.field.displayOptions,interface:J.field.interface,"interface-options":J.field.interfaceOptions,type:J.field.type,collection:J.field.collection,field:J.value},null,8,["value","display","options","interface","interface-options","type","collection","field"])])}))]),1032,["modelValue","headers","show-select","sort","items","loading","row-height","server-sort","item-key","show-manual-sort","manual-sort-key","onClick:row","onUpdate:sort","onManualSort"])):e.error?(m(),C(G,{key:1,type:"danger",title:W(l)("unexpected_error"),icon:"error",center:""},{append:s(()=>[o(B,{error:e.error},null,8,["error"]),o(q,{small:"",class:"reset-preset",onClick:e.resetPresetAndRefresh},{default:s(()=>[P(w(W(l)("reset_page_preferences")),1)]),_:1},8,["onClick"])]),default:s(()=>[P(w(W(l)("unexpected_error_copy"))+" ",1)]),_:1},8,["title"])):e.itemCount===0&&(e.filterUser||e.search)?be(v.$slots,"no-results",{key:2},void 0,!0):e.itemCount===0?be(v.$slots,"no-items",{key:3},void 0,!0):R("",!0)])}}const ile=K(Fe(fe({},ole),{props:{collection:null,selection:{default:()=>[]},readonly:{type:Boolean},tableHeaders:null,showSelect:{default:"none"},items:null,loading:{type:Boolean},error:{default:null},totalPages:null,tableSort:{default:void 0},onRowClick:null,tableRowHeight:null,page:null,toPage:null,itemCount:{default:void 0},fields:null,limit:null,primaryKeyField:{default:void 0},info:{default:void 0},sortField:{default:void 0},changeManualSort:null,resetPresetAndRefresh:null,selectAll:null,filterUser:{default:void 0},search:{default:void 0},onSortChange:{type:Function,default:()=>{}},onAlignChange:{type:Function,default:()=>{}}},emits:["update:selection","update:tableHeaders","update:limit","update:fields"],setup:ale}));var rle=z(ile,[["__scopeId","data-v-757d3890"]]);const sle={class:"field"},dle={class:"type-label"},ule={inheritAttrs:!1};function cle(e,{emit:t}){const n=e,{t:l}=Y(),a=Ke(n,"tableSpacing",t);return(d,i)=>{const r=c("v-select");return m(),I("div",sle,[S("div",dle,w(W(l)("layouts.tabular.spacing")),1),o(r,{modelValue:W(a),"onUpdate:modelValue":i[0]||(i[0]=u=>kt(a)?a.value=u:null),items:[{text:W(l)("layouts.tabular.compact"),value:"compact"},{text:W(l)("layouts.tabular.cozy"),value:"cozy"},{text:W(l)("layouts.tabular.comfortable"),value:"comfortable"}]},null,8,["modelValue","items"])])}}const ple=K(Fe(fe({},ule),{props:{fields:null,activeFields:null,tableSpacing:null},emits:["update:tableSpacing","update:activeFields","update:fields"],setup:cle}));var mle=z(ple,[["__scopeId","data-v-7553a5af"]]);const fle=K({inheritAttrs:!1,props:{itemCount:{type:Number,default:null},showingCount:{type:String,required:!0}}}),_le={key:0,class:"item-count"};function vle(e,t,n,l,a,d){return m(),C(Ut,{name:"fade"},{default:s(()=>[e.itemCount?(m(),I("span",_le,w(e.showingCount),1)):R("",!0)]),_:1})}var yle=z(fle,[["render",vle],["__scopeId","data-v-34941803"]]),hle=Fl({id:"tabular",name:"$t:layouts.tabular.tabular",icon:"reorder",component:rle,slots:{options:mle,sidebar:()=>{},actions:yle},setup(e,{emit:t}){const{t:n,n:l}=Y(),a=at(),d=Oe(),i=Ke(e,"selection",t),r=Ke(e,"layoutOptions",t),u=Ke(e,"layoutQuery",t),{collection:p,filter:f,filterUser:_,search:v}=ze(e),{info:y,primaryKeyField:h,fields:g,sortField:b}=rt(p),{sort:$,limit:A,page:V,fields:T,fieldsWithRelational:D}=H(),{items:O,loading:M,error:L,totalPages:j,itemCount:B,totalCount:q,changeManualSort:G,getItems:Q}=Al(p,{sort:$,limit:A,page:V,fields:D,filter:f,search:v}),{tableSort:ce,tableHeaders:J,tableRowHeight:oe,onRowClick:_e,onSortChange:me,onAlignChange:ee,activeFields:ne,tableSpacing:te}=le(),Z=F(()=>(B.value||0)<(q.value||0)&&_.value?B.value===1?n("one_filtered_item"):n("start_end_of_count_filtered_items",{start:l((+V.value-1)*A.value+1),end:l(Math.min(V.value*A.value,B.value||0)),count:l(B.value||0)}):B.value===1?n("one_item"):n("start_end_of_count_items",{start:l((+V.value-1)*A.value+1),end:l(Math.min(V.value*A.value,B.value||0)),count:l(B.value||0)}));return{tableHeaders:J,items:O,loading:M,error:L,totalPages:j,tableSort:ce,onRowClick:_e,onSortChange:me,onAlignChange:ee,tableRowHeight:oe,page:V,toPage:re,itemCount:B,totalCount:q,fieldsInCollection:g,fields:T,limit:A,activeFields:ne,tableSpacing:te,primaryKeyField:h,info:y,showingCount:Z,sortField:b,changeManualSort:G,hideDragImage:Qt,refresh:X,resetPresetAndRefresh:se,selectAll:ve,filter:f,search:v};async function se(){var ie;await((ie=e==null?void 0:e.resetPreset)==null?void 0:ie.call(e)),X()}function X(){Q()}function re(ie){V.value=ie}function ve(){if(!h.value)return;const ie=h.value;i.value=N.exports.clone(O.value).map(de=>de[ie.field])}function H(){const ie=vt(u,"page",1),de=vt(u,"limit",25),ye=F(()=>{var Le;return h.value?[(Le=h.value)==null?void 0:Le.field]:[]}),he=vt(u,"sort",ye),Se=F(()=>g.value.filter(Le=>{var Ge;return!((Ge=Le.meta)==null?void 0:Ge.hidden)}).slice(0,4).map(({field:Le})=>Le).sort()),Ce=vt(u,"fields",Se),Ae=F(()=>e.collection?dn(Ce.value,e.collection):[]);return{sort:he,limit:de,page:ie,fields:Ce,fieldsWithRelational:Ae}}function le(){const ie=F(()=>{var Ve,Ee;return((Ve=$.value)==null?void 0:Ve[0])?((Ee=$.value)==null?void 0:Ee[0].startsWith("-"))?{by:$.value[0].substring(1),desc:!0}:{by:$.value[0],desc:!1}:null}),de=E({});ge(()=>r.value,()=>{de.value={}});const ye=N.exports.debounce(()=>{r.value=Object.assign({},r.value,{widths:de.value})},350),he=F({get(){return p.value?T.value.map(Ve=>Fe(fe({},d.getField(p.value,Ve)),{key:Ve})).filter(Ve=>{var Ee,Te;return Ve&&((Te=(Ee=Ve.meta)==null?void 0:Ee.special)==null?void 0:Te.includes("no-data"))!==!0}):[]},set(Ve){T.value=Ve.map(Ee=>Ee.field)}}),Se=F({get(){return he.value.map(Ve=>{var je,ke,Ue,Re,xe,tt,ut,yt;let Ee=null;const Te=Ve.key.split(".");return Te.length>1&&(Ee=Te.map((hn,gn)=>{var da;const Ks=Te.slice(0,gn),eo=d.getField(p.value,[...Ks,hn].join("."));return(da=eo==null?void 0:eo.name)!=null?da:hn}).join(" -> ")),{text:Ve.name,value:Ve.key,description:Ee,width:de.value[Ve.key]||((ke=(je=r.value)==null?void 0:je.widths)==null?void 0:ke[Ve.key])||null,align:((Re=(Ue=r.value)==null?void 0:Ue.align)==null?void 0:Re[Ve.key])||"left",field:{display:((xe=Ve.meta)==null?void 0:xe.display)||as(Ve.type),displayOptions:(tt=Ve.meta)==null?void 0:tt.display_options,interface:(ut=Ve.meta)==null?void 0:ut.interface,interfaceOptions:(yt=Ve.meta)==null?void 0:yt.options,type:Ve.type,field:Ve.field,collection:Ve.collection},sortable:["json","o2m","m2o","m2m","m2a","file","files","alias","presentation","translations"].includes(Ve.type)===!1&&Ve.key.includes(".")===!1}})},set(Ve){const Ee={};Ve.forEach(Te=>{Te.width&&(Ee[Te.value]=Te.width)}),de.value=Ee,ye(),T.value=Ve.map(Te=>Te.value)}}),Ce=vt(r,"spacing","cozy"),Ae=F(()=>{switch(Ce.value){case"compact":return 32;case"cozy":default:return 48;case"comfortable":return 64}});return{tableSort:ie,tableHeaders:Se,tableSpacing:Ce,tableRowHeight:Ae,onRowClick:Le,onSortChange:Ge,onAlignChange:lt,activeFields:he,getFieldDisplay:Me};function Le({item:Ve,event:Ee}){var je,ke;if(e.readonly===!0||!h.value)return;const Te=Ve[h.value.field];if(e.selectMode||((je=i.value)==null?void 0:je.length)>0)((ke=i.value)==null?void 0:ke.includes(Te))===!1?i.value=i.value.concat(Te):i.value=i.value.filter(Ue=>Ue!==Te);else{const Ue=a.resolve(`/content/${p.value}/${encodeURIComponent(Te)}`);Ee.ctrlKey||Ee.metaKey?window.open(Ue.href,"_blank"):a.push(Ue)}}function Ge(Ve){let Ee=Ve.by;if(!Ve.by){$.value=[];return}Ve.desc===!0&&(Ee="-"+Ee),$.value=[Ee]}function lt(Ve,Ee){var Te,je;r.value=Object.assign({},r.value,{align:Fe(fe({},(je=(Te=r.value)==null?void 0:Te.align)!=null?je:{}),{[Ve]:Ee})})}function Me(Ve){var Te;const Ee=g.value.find(je=>je.field===Ve);return((Te=Ee==null?void 0:Ee.meta)==null?void 0:Te.display)?{display:Ee.meta.display,options:Ee.meta.display_options}:null}}}}),gle=Object.freeze(Object.defineProperty({__proto__:null,default:hle},Symbol.toStringTag,{value:"Module"}));const{layoutsRaw:zs}=$n();async function ble(e){const n=Object.values({"./calendar/index.ts":Pte,"./cards/index.ts":Cne,"./map/index.ts":xne,"./tabular/index.ts":gle}).map(l=>l.default);try{const l=await U(()=>import(`${Ze()}extensions/layouts/index.js`),[]);n.push(...l.default)}catch(l){console.warn("Couldn't load custom layouts"),console.warn(l)}zs.value=n,zs.value.forEach(l=>{e.component(`layout-${l.id}`,l.component),e.component(`layout-options-${l.id}`,l.slots.options),e.component(`layout-sidebar-${l.id}`,l.slots.sidebar),e.component(`layout-actions-${l.id}`,l.slots.actions)})}var wle="assets/logo-light.7a327cdd.svg";const kle=e=>(Xe("data-v-05ead6ad"),e=e(),Ye(),e),$le={class:"title-box"},Sle=["src","alt"],Cle=kle(()=>S("img",{src:wle,alt:"Directus",class:"directus-logo"},null,-1)),Vle=[Cle],Fle={class:"title"},Ale={class:"type-title"},Ile={class:"subtitle"},Ele={class:"content"},Dle={class:"notice"},Tle={key:0,viewBox:"0 0 1152 1152",preserveAspectRatio:"none",fill:"none",class:"fallback"},Ple=["fill"],Ole=["fill"],Lle=["fill"],jle=["fill"],Rle=["fill"],Mle=["fill"],Ule=["src","alt"],Nle={class:"note-container"},Ble={key:0,class:"note"},qle=K({props:{wide:{type:Boolean,default:!1}},setup(e){const{t}=Y(),n=rn(),{info:l}=ht(n),a=F(()=>{var b,$;const f=(($=(b=l.value)==null?void 0:b.project)==null?void 0:$.project_color)||"var(--primary)",_=f.startsWith("var(--")?nt(f.substring(4,f.length-1)):f,v=jt(_),y=v.hsl(),h=jt({h:y.color[0]+69.1,s:y.color[1]+0,l:y.color[2]+16.7}),g=[];for(let A=1;A<6;A++){const V=jt(v).mix(h,A/10);g.push(V.hex().toString())}return{primary:v.hex().toString(),secondary:h.hex().toString(),shades:g}}),d=F(()=>{var f,_;return!!((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.project_color)}),i=F(()=>{var f,_;return!!((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.public_background)}),r=F(()=>{var _;return i.value?{background:`url(${Ze()+`assets/${(_=l.value.project)==null?void 0:_.public_background}`})`,backgroundSize:"cover",backgroundPosition:"center center"}:null}),u=F(()=>{var f,_,v;return((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.public_foreground)?Ze()+`assets/${(v=l.value.project)==null?void 0:v.public_foreground}`:null}),p=F(()=>{var f,_,v;return((_=(f=l.value)==null?void 0:f.project)==null?void 0:_.project_logo)?Ze()+`assets/${(v=l.value.project)==null?void 0:v.project_logo}`:null});return(f,_)=>{var y,h,g,b,$,A,V,T,D,O,M,L,j,B;const v=$e("md");return m(),I("div",{class:ue(["public-view",{branded:W(d)}])},[S("div",{class:ue(["container",{wide:e.wide}])},[S("div",$le,[((h=(y=W(l))==null?void 0:y.project)==null?void 0:h.project_logo)?(m(),I("div",{key:0,class:"logo",style:We({backgroundColor:(g=W(l))==null?void 0:g.project.project_color})},[S("img",{src:W(p),alt:((b=W(l))==null?void 0:b.project.project_name)||"Logo"},null,8,Sle)],4)):(m(),I("div",{key:1,class:"logo",style:We({backgroundColor:(A=($=W(l))==null?void 0:$.project)==null?void 0:A.project_color})},Vle,4)),S("div",Fle,[S("h1",Ale,w((T=(V=W(l))==null?void 0:V.project)==null?void 0:T.project_name),1),S("p",Ile,w((M=(O=(D=W(l))==null?void 0:D.project)==null?void 0:O.project_descriptor)!=null?M:W(t)("application")),1)])]),S("div",Ele,[be(f.$slots,"default")]),S("div",Dle,[be(f.$slots,"notice")])],2),S("div",{class:"art",style:We(W(r))},[W(i)?R("",!0):(m(),I("svg",Tle,[S("rect",{width:"1152",height:"1152",fill:W(a).primary},null,8,Ple),S("path",{d:"M1152 409.138C1148.61 406.92 1146.7 405.765 1146.7 405.765L6.87761e-07 958.424L-7.3277e-07 1152L506.681 1152C558.985 1126.93 614.88 1101.25 672.113 1074.95C839.401 998.085 1018.12 915.967 1152 828.591L1152 409.138Z",fill:W(a).shades[0]},null,8,Ole),S("path",{d:"M1152 159.866C1130.19 146.319 1114.45 138.98 1114.45 138.98L-6.09246e-07 759.421L-3.66364e-07 1152L88.7501 1152C131.867 1108.8 194.289 1054.33 281.936 993.927C371.847 931.97 507.23 864.306 651.138 792.382C828.097 703.939 1017.95 609.052 1152 510.407L1152 159.866Z",fill:W(a).shades[1]},null,8,Lle),S("path",{d:"M772.894 -0.000472457L-4.49523e-07 457.782L-5.22658e-07 953.071C22.142 919.082 94.6279 821.1 262.854 696.786C351.427 631.334 485.624 558.338 628.272 480.744C816.642 378.28 1019.75 267.8 1152 156.087L1152 -0.000477328L772.894 -0.000472457Z",fill:W(a).shades[2]},null,8,jle),S("path",{d:"M286.365 -0.000483108L-1.73191e-07 176.373L2.43255e-06 662.21C33.488 615.87 106.028 529.959 243.326 424.909C331.205 357.671 464.771 281.956 606.749 201.473C720.914 136.756 840.519 68.9554 946.182 -0.000479285L286.365 -0.000483108Z",fill:W(a).shades[3]},null,8,Rle),S("path",{d:"M0.00195277 363.139C37.1564 313.499 107.096 233.66 228.181 137.623C281.94 94.9838 353.09 48.7594 432.872 9.43526e-06L0.00195595 0L0.00195277 363.139Z",fill:W(a).shades[4]},null,8,Mle)])),o(Ut,{name:"scale"},{default:s(()=>{var q,G;return[W(u)?(m(),I("img",{key:0,class:"foreground",src:W(u),alt:(G=(q=W(l))==null?void 0:q.project)==null?void 0:G.project_name},null,8,Ule)):R("",!0)]}),_:1}),S("div",Nle,[((j=(L=W(l))==null?void 0:L.project)==null?void 0:j.public_note)?x((m(),I("div",Ble,null,512)),[[v,(B=W(l))==null?void 0:B.project.public_note]]):R("",!0)])],4)],2)}}});var zle=z(qle,[["__scopeId","data-v-05ead6ad"]]),Kle="assets/logo.eba1b355.svg";const Wle=K({name:"SharedView",props:{title:{type:String,default:null},inline:{type:Boolean,default:!1}},setup(){const e=rn(),{info:t}=ht(e),{t:n}=Y(),l=F(()=>{var a,d,i;return((d=(a=e.info)==null?void 0:a.project)==null?void 0:d.project_logo)?Ze()+`assets/${(i=e.info.project)==null?void 0:i.project_logo}`:null});return{serverInfo:t,t:n,logoURL:l}}}),Hle=e=>(Xe("data-v-6d8a8b35"),e=e(),Ye(),e),Gle={class:"inline-container"},Zle={class:"container"},Jle={class:"title-box"},Qle=["src","alt"],Xle=Hle(()=>S("img",{src:Kle,alt:"Directus",class:"directus-logo"},null,-1)),Yle=[Xle],xle={class:"title"},eoe={class:"subtitle"},toe={class:"type-title"},noe={class:"container"},loe={class:"content"};function ooe(e,t,n,l,a,d){var i,r,u,p,f;return m(),I("div",{class:ue(["shared",{inline:e.inline}])},[S("div",Gle,[S("header",null,[S("div",Zle,[S("div",Jle,[((i=e.serverInfo)==null?void 0:i.project.project_logo)?(m(),I("div",{key:0,class:"logo",style:We({backgroundColor:(r=e.serverInfo)==null?void 0:r.project.project_color})},[S("img",{src:e.logoURL,alt:((u=e.serverInfo)==null?void 0:u.project.project_name)||"Logo"},null,8,Qle)],4)):(m(),I("div",{key:1,class:"logo",style:We({backgroundColor:(p=e.serverInfo)==null?void 0:p.project.project_color})},Yle,4)),S("div",xle,[S("p",eoe,w((f=e.serverInfo)==null?void 0:f.project.project_name),1),be(e.$slots,"title",{},()=>{var _;return[S("h1",toe,w((_=e.title)!=null?_:e.t("share_access_page")),1)]},!0)])])])]),S("div",noe,[S("div",loe,[be(e.$slots,"default",{},void 0,!0)])])])],2)}var aoe=z(Wle,[["render",ooe],["__scopeId","data-v-6d8a8b35"]]);const ioe=Ia(()=>U(()=>import("./index.df92cd9e.js"),["assets/index.df92cd9e.js","assets/index.31e06860.css","assets/vendor.ef99adf3.js","assets/vendor.9387af12.css","assets/use-sync.7a0e9d8b.js"]));function roe(e){e.component("PublicView",zle),e.component("PrivateView",ioe),e.component("SharedView",aoe)}soe();async function soe(){console.log(Q3),console.info(`Hey! Interested in helping build this open-source data management platform?
If so, join our growing team of contributors at: https://directus.chat`),console.info("%c\u{1F430} Starting Directus...","color:Green"),console.time("\u{1F553} Application Loaded");const e=fu(NL);e.use(Wt),e.use(Ne),e.use(_u()),uK(e),Xz(e),roe(e),await Promise.all([cte(e),NK(e),LH(e),ble(e),_L()]),e.mount("#app"),console.timeEnd("\u{1F553} Application Loaded"),console.group("%c\u2728 Project Information","color:DodgerBlue"),console.info("%cEnvironment: production","color:DodgerBlue"),console.groupEnd(),window.addEventListener("dragover",t=>t.preventDefault(),!1),window.addEventListener("drop",t=>t.preventDefault(),!1)}export{Jj as H,Fn as M,z as _,Gl as a,dt as b,Vt as c,_l as d,He as e,El as f,Ze as g,Ar as h,Je as i,pe as j,Xo as k,aW as l,rn as m,Es as n,Sn as o,Kn as p,ai as q,nS as r,Ne as s,It as t,vl as u,DL as v,a3 as w,_o as x,qZ as y};
